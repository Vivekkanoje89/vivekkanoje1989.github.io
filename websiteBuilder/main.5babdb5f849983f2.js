var EN=Object.defineProperty,SN=Object.defineProperties,DN=Object.getOwnPropertyDescriptors,W_=Object.getOwnPropertySymbols,kN=Object.prototype.hasOwnProperty,TN=Object.prototype.propertyIsEnumerable,q_=(Ii,nt,ve)=>nt in Ii?EN(Ii,nt,{enumerable:!0,configurable:!0,writable:!0,value:ve}):Ii[nt]=ve,Tn=(Ii,nt)=>{for(var ve in nt||(nt={}))kN.call(nt,ve)&&q_(Ii,ve,nt[ve]);if(W_)for(var ve of W_(nt))TN.call(nt,ve)&&q_(Ii,ve,nt[ve]);return Ii},So=(Ii,nt)=>SN(Ii,DN(nt));(self.webpackChunkwebsiteBuilder=self.webpackChunkwebsiteBuilder||[]).push([[179],{388:function(Ii,nt,ve){var h;"undefined"!=typeof self&&self,Ii.exports=(h=ve(668),function(ce){function he(se){if(de[se])return de[se].exports;var re=de[se]={i:se,l:!1,exports:{}};return ce[se].call(re.exports,re,re.exports,he),re.l=!0,re.exports}var de={};return he.m=ce,he.c=de,he.d=function(se,re,Q){he.o(se,re)||Object.defineProperty(se,re,{configurable:!1,enumerable:!0,get:Q})},he.n=function(se){var re=se&&se.__esModule?function(){return se.default}:function(){return se};return he.d(re,"a",re),re},he.o=function(se,re){return Object.prototype.hasOwnProperty.call(se,re)},he.p="",he(he.s=4)}([function(ce,he){ce.exports=h},function(ce,he,de){(function(se){function re(U,T){this._id=U,this._clearFn=T}var Q=Function.prototype.apply;he.setTimeout=function(){return new re(Q.call(setTimeout,window,arguments),clearTimeout)},he.setInterval=function(){return new re(Q.call(setInterval,window,arguments),clearInterval)},he.clearTimeout=he.clearInterval=function(U){U&&U.close()},re.prototype.unref=re.prototype.ref=function(){},re.prototype.close=function(){this._clearFn.call(window,this._id)},he.enroll=function(U,T){clearTimeout(U._idleTimeoutId),U._idleTimeout=T},he.unenroll=function(U){clearTimeout(U._idleTimeoutId),U._idleTimeout=-1},he._unrefActive=he.active=function(U){clearTimeout(U._idleTimeoutId);var T=U._idleTimeout;T>=0&&(U._idleTimeoutId=setTimeout(function(){U._onTimeout&&U._onTimeout()},T))},de(10),he.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==se&&se.setImmediate||this&&this.setImmediate,he.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==se&&se.clearImmediate||this&&this.clearImmediate}).call(he,de(2))},function(ce,he){var de;de=function(){return this}();try{de=de||Function("return this")()||(0,eval)("this")}catch(se){"object"==typeof window&&(de=window)}ce.exports=de},function(ce,he,de){"use strict";Object.defineProperty(he,"__esModule",{value:!0}),he.cmdImport="gjs-open-import-webpage",he.cmdDeviceDesktop="set-device-desktop",he.cmdDeviceTablet="set-device-tablet",he.cmdDeviceMobile="set-device-mobile",he.cmdClear="canvas-clear"},function(ce,he,de){"use strict";function se(te){return te&&te.__esModule?te:{default:te}}Object.defineProperty(he,"__esModule",{value:!0});var Q=se(de(0)),T=se(de(5)),S=se(de(6)),D=se(de(7)),P=se(de(8)),N=se(de(9)),M=se(de(12)),z=se(de(13)),F=se(de(14)),k=se(de(16)),p=se(de(17)),C=se(de(18)),K=se(de(19));he.default=Q.default.plugins.add("gjs-preset-webpage",function(te){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ye={blocks:["link-block","quote","text-basic"],modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure to clean the canvas?",showStylesOnChange:1,textGeneral:"General",textLayout:"Layout",textTypography:"Typography",textDecorations:"Decorations",textExtra:"Extra",customStyleManager:[],blocksBasicOpts:{},navbarOpts:{},countdownOpts:{},formsOpts:{},exportOpts:{},aviaryOpts:0,filestackOpts:0};for(var Re in ye)Re in ue||(ue[Re]=ye[Re]);var Pe=ue.blocksBasicOpts,Me=ue.navbarOpts,Le=ue.countdownOpts,_e=ue.formsOpts,ie=ue.exportOpts,ne=ue.aviaryOpts,ge=ue.filestackOpts;Pe&&(0,T.default)(te,Pe),Me&&(0,S.default)(te,Me),Le&&(0,D.default)(te,Le),_e&&(0,P.default)(te,_e),ie&&(0,N.default)(te,ie),ne&&(0,M.default)(te,ne),ge&&(0,z.default)(te,ge),(0,p.default)(te,ue),(0,k.default)(te,ue),(0,F.default)(te,ue),(0,C.default)(te,ue),(0,K.default)(te,ue)})},function(ce,he,de){var re;re=function(se){return function(re){function Q(T){if(U[T])return U[T].exports;var v=U[T]={i:T,l:!1,exports:{}};return re[T].call(v.exports,v,v.exports,Q),v.l=!0,v.exports}var U={};return Q.m=re,Q.c=U,Q.d=function(T,v,S){Q.o(T,v)||Object.defineProperty(T,v,{configurable:!1,enumerable:!0,get:S})},Q.n=function(T){var v=T&&T.__esModule?function(){return T.default}:function(){return T};return Q.d(v,"a",v),v},Q.o=function(T,v){return Object.prototype.hasOwnProperty.call(T,v)},Q.p="",Q(Q.s=0)}([function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var E,T=Object.assign||function(E){for(var D=1;D<arguments.length;D++){var x=arguments[D];for(var P in x)Object.prototype.hasOwnProperty.call(x,P)&&(E[P]=x[P])}return E},S=(E=U(1))&&E.__esModule?E:{default:E};Q.default=S.default.plugins.add("gjs-blocks-basic",function(E){var x=T({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:0,stylePrefix:"",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map"},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});U(2).default(E,x)})},function(re,Q){re.exports=se},function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var T=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(v[D]=E[D])}return v};Q.default=function(v){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=v.BlockManager,x=E.blocks,P=E.stylePrefix,L=E.flexGrid,N=E.addBasicStyle,R=P+"row",M=P+"cell",A=L?"\n    ."+R+" {\n      display: flex;\n      justify-content: flex-start;\n      align-items: stretch;\n      flex-wrap: nowrap;\n      padding: 10px;\n    }\n    @media (max-width: 768px) {\n      ."+R+" {\n        flex-wrap: wrap;\n      }\n    }":"\n    ."+R+" {\n      display: table;\n      padding: 10px;\n      width: 100%;\n    }\n    @media (max-width: 768px) {\n      ."+P+"cell, ."+P+"cell30, ."+P+"cell70 {\n        width: 100%;\n        display: block;\n      }\n    }",z=L?"\n    ."+M+" {\n      min-height: 75px;\n      flex-grow: 1;\n      flex-basis: 100%;\n    }":"\n    ."+M+" {\n      width: 8%;\n      display: table-cell;\n      height: 75px;\n    }",H="\n  ."+P+"cell30 {\n    width: 30%;\n  }",F="\n  ."+P+"cell70 {\n    width: 70%;\n  }",W={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:1},k=T({},W,{cr:1,bc:0,currentUnit:1,minDim:1,step:.2});L&&(k.keyWidth="flex-basis");var I={class:R,"data-gjs-droppable":"."+M,"data-gjs-resizable":W,"data-gjs-name":"Row"},p={class:M,"data-gjs-draggable":"."+R,"data-gjs-resizable":k,"data-gjs-name":"Cell"};L&&(p["data-gjs-unstylable"]=["width"],p["data-gjs-stylable-require"]=["flex-basis"]);var y=["."+R,"."+M];v.on("selector:add",function($e){return y.indexOf($e.getFullName())>=0&&$e.set("private",1)});var C=function($e){var ue=[];for(var ye in $e){var Re=$e[ye],Pe=Re instanceof Array||Re instanceof Object;Re=Pe?JSON.stringify(Re):Re,ue.push(ye+"="+(Pe?"'"+Re+"'":'"'+Re+'"'))}return ue.length?" "+ue.join(" "):""},B=function($e){return x.indexOf($e)>=0},K=C(I),te=C(p);B("column1")&&D.add("column1",{label:E.labelColumn1,category:E.category,attributes:{class:"gjs-fonts gjs-f-b1"},content:"<div "+K+">\n        <div "+te+"></div>\n      </div>\n      "+(N?"<style>\n          "+A+"\n          "+z+"\n        </style>":"")}),B("column2")&&D.add("column2",{label:E.labelColumn2,attributes:{class:"gjs-fonts gjs-f-b2"},category:E.category,content:"<div "+K+">\n        <div "+te+"></div>\n        <div "+te+"></div>\n      </div>\n      "+(N?"<style>\n          "+A+"\n          "+z+"\n        </style>":"")}),B("column3")&&D.add("column3",{label:E.labelColumn3,category:E.category,attributes:{class:"gjs-fonts gjs-f-b3"},content:"<div "+K+">\n        <div "+te+"></div>\n        <div "+te+"></div>\n        <div "+te+"></div>\n      </div>\n      "+(N?"<style>\n          "+A+"\n          "+z+"\n        </style>":"")}),B("column3-7")&&D.add("column3-7",{label:E.labelColumn37,category:E.category,attributes:{class:"gjs-fonts gjs-f-b37"},content:"<div "+K+">\n        <div "+te+' style="'+(L?"flex-basis":"width")+': 30%;"></div>\n        <div '+te+' style="'+(L?"flex-basis":"width")+': 70%;"></div>\n      </div>\n      '+(N?"<style>\n          "+A+"\n          "+z+"\n          "+H+"\n          "+F+"\n        </style>":"")}),B("text")&&D.add("text",{label:E.labelText,category:E.category,attributes:{class:"gjs-fonts gjs-f-text"},content:{type:"text",content:"Insert your text here",style:{padding:"10px"},activeOnRender:1}}),B("link")&&D.add("link",{label:E.labelLink,category:E.category,attributes:{class:"fa fa-link"},content:{type:"link",content:"Link",style:{color:"#d983a6"}}}),B("image")&&D.add("image",{label:E.labelImage,category:E.category,attributes:{class:"gjs-fonts gjs-f-image"},content:{style:{color:"black"},type:"image",activeOnRender:1}}),B("video")&&D.add("video",{label:E.labelVideo,category:E.category,attributes:{class:"fa fa-youtube-play"},content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}}),B("map")&&D.add("map",{label:E.labelMap,category:E.category,attributes:{class:"fa fa-map-o"},content:{type:"map",style:{height:"350px"}}})}}])},ce.exports=re(de(0))},function(ce,he,de){var re;re=function(se){return function(re){function Q(T){if(U[T])return U[T].exports;var v=U[T]={i:T,l:!1,exports:{}};return re[T].call(v.exports,v,v.exports,Q),v.l=!0,v.exports}var U={};return Q.m=re,Q.c=U,Q.d=function(T,v,S){Q.o(T,v)||Object.defineProperty(T,v,{configurable:!1,enumerable:!0,get:S})},Q.n=function(T){var v=T&&T.__esModule?function(){return T.default}:function(){return T};return Q.d(v,"a",v),v},Q.o=function(T,v){return Object.prototype.hasOwnProperty.call(T,v)},Q.p="",Q(Q.s=1)}([function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.hNavbarRef="h-navbar",Q.navbarRef="navbar",Q.navbarItemsRef="navbar-items",Q.menuRef="navbar-menu"},function(re,Q,U){"use strict";function T(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(Q,"__esModule",{value:!0});var S=T(U(2)),D=T(U(3)),P=T(U(4)),L=U(0);Q.default=S.default.plugins.add("gjs-navbar",function(N){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A={blocks:[L.hNavbarRef],defaultStyle:1,navbarClsPfx:"navbar",labelNavbar:"Navbar",labelNavbarContainer:"Navbar Container",labelMenu:"Navbar Menu",labelMenuLink:"Menu link",labelBurger:"Burger",labelBurgerLine:"Burger Line",labelNavbarBlock:"Navbar",labelNavbarCategory:"Extra",labelHome:"Home",labelAbout:"About",labelContact:"Contact"};for(var z in A)z in M||(M[z]=A[z]);(0,D.default)(N,M),(0,P.default)(N,M)})},function(re,Q){re.exports=se},function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var T=U(0);Q.default=function(v){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=v.BlockManager,x=E.navbarClsPfx||"navbar",P=E.defaultStyle?"\n  <style>\n    ."+x+"-items-c {\n      display: inline-block;\n      float: right;\n    }\n\n    ."+x+" {\n      background-color: #222;\n      color: #ddd;\n      min-height: 50px;\n      width: 100%;\n    }\n\n    ."+x+"-container {\n      max-width: 950px;\n      margin: 0 auto;\n      width: 95%;\n    }\n\n    ."+x+'-container::after {\n      content: "";\n      clear: both;\n      display: block;\n    }\n\n    .'+x+"-brand {\n      vertical-align: top;\n      display: inline-block;\n      padding: 5px;\n      min-height: 50px;\n      min-width: 50px;\n      color: inherit;\n      text-decoration: none;\n    }\n\n    ."+x+"-menu {\n      padding: 10px 0;\n      display: block;\n      float: right;\n      margin: 0;\n    }\n\n    ."+x+"-menu-link {\n      margin: 0;\n      color: inherit;\n      text-decoration: none;\n      display: inline-block;\n      padding: 10px 15px;\n    }\n\n    ."+x+"-burger {\n      margin: 10px 0;\n      width: 45px;\n      padding: 5px 10px;\n      display: none;\n      float: right;\n      cursor: pointer;\n    }\n\n    ."+x+"-burger-line {\n      padding: 1px;\n      background-color: white;\n      margin: 5px 0;\n    }\n\n    @media (max-width: 768px) {\n      ."+x+"-burger {\n        display: block;\n      }\n\n      ."+x+"-items-c {\n        display: none;\n        width: 100%;\n      }\n\n      ."+x+"-menu {\n        width: 100%;\n      }\n\n      ."+x+"-menu-link {\n        display: block;\n      }\n    }\n  </style>\n  ":"";E.blocks.indexOf(T.hNavbarRef)>=0&&D.add(T.hNavbarRef,{label:'\n        <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n          <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n          <rect class="gjs-block-svg-path" x="15" y="10" width="5" height="1"></rect>\n          <rect class="gjs-block-svg-path" x="15" y="13" width="5" height="1"></rect>\n          <rect class="gjs-block-svg-path" x="15" y="11.5" width="5" height="1"></rect>\n        </svg>\n        <div class="gjs-block-label">'+E.labelNavbarBlock+"</div>",category:E.labelNavbarCategory,content:'\n        <div class="'+x+'" data-gjs-droppable="false" data-gjs-custom-name="'+E.labelNavbar+'" data-gjs="'+T.navbarRef+'">\n          <div class="'+x+'-container" data-gjs-droppable="false" data-gjs-draggable="false"\n            data-gjs-removable="false" data-gjs-copyable="false" data-gjs-highlightable="false"\n            data-gjs-custom-name="'+E.labelNavbarContainer+'">\n\n            <a href="/" class="'+x+'-brand" data-gjs-droppable="true"></a>\n\n            <div class="'+x+'-burger" data-gjs-type="burger-menu">\n              <div class="'+x+'-burger-line" data-gjs-custom-name="'+E.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n              <div class="'+x+'-burger-line" data-gjs-custom-name="'+E.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n              <div class="'+x+'-burger-line" data-gjs-custom-name="'+E.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n            </div>\n\n            <div class="'+x+'-items-c" data-gjs="'+T.navbarItemsRef+'">\n              <nav class="'+x+'-menu" data-gjs="'+T.menuRef+'" data-gjs-custom-name="'+E.labelMenu+'">\n                <a href="#" class="'+x+'-menu-link" data-gjs-custom-name="'+E.labelMenuLink+'" data-gjs-draggable="[data-gjs='+T.menuRef+']">'+E.labelHome+'</a>\n                <a href="#" class="'+x+'-menu-link" data-gjs-custom-name="'+E.labelMenuLink+'" data-gjs-draggable="[data-gjs='+T.menuRef+']">'+E.labelAbout+'</a>\n                <a href="#" class="'+x+'-menu-link" data-gjs-custom-name="'+E.labelMenuLink+'" data-gjs-draggable="[data-gjs='+T.menuRef+']">'+E.labelContact+"</a>\n              </nav>\n            </div>\n\n          </div>\n        </div>\n        "+P+"\n      "})}},function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var T=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(v[D]=E[D])}return v};Q.default=function(v){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=v.DomComponents,x=D.getType("default"),P=x.model;D.addType("burger-menu",{model:P.extend({defaults:T({},P.prototype.defaults,{"custom-name":E.labelBurger,draggable:!1,droppable:!1,copyable:!1,removable:!1,script:function(){var L,N=0,R=function(){var H,F=document.createElement("void"),W={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(H in W)if(void 0!==F.style[H])return W[H]}(),A=function(H){N=1;var F=function(H){var F=window.getComputedStyle(H),W=F.display,k=parseInt(F["max-height"]);if("none"!==W&&"0"!==k)return H.offsetHeight;H.style.height="auto",H.style.display="block",H.style.position="absolute",H.style.visibility="hidden";var I=H.offsetHeight;return H.style.height="",H.style.display="",H.style.position="",H.style.visibility="",I}(H),W=H.style;W.display="block",W.transition="max-height 0.25s ease-in-out",W.overflowY="hidden",""==W["max-height"]&&(W["max-height"]=0),0==parseInt(W["max-height"])?(W["max-height"]="0",setTimeout(function(){W["max-height"]=F+"px"},10)):W["max-height"]="0"};"gjs-collapse"in this||this.addEventListener("click",function(H){if(H.preventDefault(),!N){var W=this.closest("[data-gjs=navbar]").querySelector("[data-gjs=navbar-items]");A(W),L||(W.addEventListener(R,function(){N=0;var k=W.style;0==parseInt(k["max-height"])&&(k.display="",k["max-height"]="")}),L=1)}}),this["gjs-collapse"]=1}})},{isComponent:function(L){if(L.getAttribute&&"burger-menu"==L.getAttribute("data-gjs-type"))return{type:"burger-menu"}}}),view:x.view})}}])},ce.exports=re(de(0))},function(ce,he,de){var re;re=function(se){return function(re){function Q(T){if(U[T])return U[T].exports;var v=U[T]={i:T,l:!1,exports:{}};return re[T].call(v.exports,v,v.exports,Q),v.l=!0,v.exports}var U={};return Q.m=re,Q.c=U,Q.d=function(T,v,S){Q.o(T,v)||Object.defineProperty(T,v,{configurable:!1,enumerable:!0,get:S})},Q.n=function(T){var v=T&&T.__esModule?function(){return T.default}:function(){return T};return Q.d(v,"a",v),v},Q.o=function(T,v){return Object.prototype.hasOwnProperty.call(T,v)},Q.p="",Q(Q.s=1)}([function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.countdownRef="countdown"},function(re,Q,U){"use strict";function T(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(Q,"__esModule",{value:!0});var S=T(U(2)),D=T(U(3)),P=T(U(4)),L=U(0);Q.default=S.default.plugins.add("gjs-component-countdown",function(N){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A={blocks:[L.countdownRef],defaultStyle:!0,startTime:"",endText:"EXPIRED",dateInputType:"date",countdownClsPfx:"countdown",labelCountdown:"Countdown",labelCountdownCategory:"Extra",labelDays:"days",labelHours:"hours",labelMinutes:"minutes",labelSeconds:"seconds"};for(var z in A)z in M||(M[z]=A[z]);(0,D.default)(N,M),(0,P.default)(N,M)})},function(re,Q){re.exports=se},function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var T=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(v[D]=E[D])}return v};Q.default=function(v){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=v.DomComponents,x=D.getType("default"),L=(D.getType("text"),x.model),N=x.view,R=E.countdownClsPfx;D.addType("countdown",{model:L.extend({defaults:T({},L.prototype.defaults,{startfrom:E.startTime,endText:E.endText,droppable:!1,traits:[{label:"Start",name:"startfrom",changeProp:1,type:E.dateInputType},{label:"End text",name:"endText",changeProp:1}],script:function(){var M=new Date("{[ startfrom ]}").getTime(),A=this.querySelector("[data-js=countdown]"),z=this.querySelector("[data-js=countdown-endtext]"),H=this.querySelector("[data-js=countdown-day]"),F=this.querySelector("[data-js=countdown-hour]"),W=this.querySelector("[data-js=countdown-minute]"),k=this.querySelector("[data-js=countdown-second]"),I=this.gjs_countdown_interval;I&&I&&clearInterval(I);var p=function(B,K,te,$e){H.innerHTML=B<10?"0"+B:B,F.innerHTML=K<10?"0"+K:K,W.innerHTML=te<10?"0"+te:te,k.innerHTML=$e<10?"0"+$e:$e},y=function(){var B=(new Date).getTime(),K=M-B,te=Math.floor(K/864e5),$e=Math.floor(K%864e5/36e5),ue=Math.floor(K%36e4/6e4),ye=Math.floor(K%6e4/1e3);p(te,$e,ue,ye),K<0&&(clearInterval(C),z.innerHTML="{[ endText ]}",A.style.display="none",z.style.display="")};if(M){var C=setInterval(y,1e3);this.gjs_countdown_interval=C,z.style.display="none",A.style.display="",y()}else p(0,0,0,0)}})},{isComponent:function(M){if(M.getAttribute&&"countdown"==M.getAttribute("data-gjs-type"))return{type:"countdown"}}}),view:N.extend({init:function(){this.listenTo(this.model,"change:startfrom change:endText",this.updateScript);var M=this.model.get("components");M.length||(M.reset(),M.add('\n            <span data-js="countdown" class="'+R+'-cont">\n              <div class="'+R+'-block">\n                <div data-js="countdown-day" class="'+R+'-digit"></div>\n                <div class="'+R+'-label">'+E.labelDays+'</div>\n              </div>\n              <div class="'+R+'-block">\n                <div data-js="countdown-hour" class="'+R+'-digit"></div>\n                <div class="'+R+'-label">'+E.labelHours+'</div>\n              </div>\n              <div class="'+R+'-block">\n                <div data-js="countdown-minute" class="'+R+'-digit"></div>\n                <div class="'+R+'-label">'+E.labelMinutes+'</div>\n              </div>\n              <div class="'+R+'-block">\n                <div data-js="countdown-second" class="'+R+'-digit"></div>\n                <div class="'+R+'-label">'+E.labelSeconds+'</div>\n              </div>\n            </span>\n            <span data-js="countdown-endtext" class="'+R+'-endtext"></span>\n          '))}})})}},function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=function(v){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=v.BlockManager,x=E.countdownClsPfx,P=E.defaultStyle?"<style>\n    ."+x+" {\n      text-align: center;\n      font-family: Helvetica, serif;\n    }\n\n    ."+x+"-block {\n      display: inline-block;\n      margin: 0 10px;\n      padding: 10px;\n    }\n\n    ."+x+"-digit {\n      font-size: 5rem;\n    }\n\n    ."+x+"-endtext {\n      font-size: 5rem;\n    }\n\n    ."+x+"-cont,\n    ."+x+"-block {\n      display: inline-block;\n    }\n  </style>":"";E.blocks.indexOf(T.countdownRef)>=0&&D.add(T.countdownRef,{label:E.labelCountdown,category:E.labelCountdownCategory,attributes:{class:"fa fa-clock-o"},content:'\n        <div class="'+x+'" data-gjs-type="countdown"></div>\n        '+P+"\n      "})};var T=U(0)}])},ce.exports=re(de(0))},function(ce,he,de){var re;re=function(se){return function(re){function Q(T){if(U[T])return U[T].exports;var v=U[T]={i:T,l:!1,exports:{}};return re[T].call(v.exports,v,v.exports,Q),v.l=!0,v.exports}var U={};return Q.m=re,Q.c=U,Q.d=function(T,v,S){Q.o(T,v)||Object.defineProperty(T,v,{configurable:!1,enumerable:!0,get:S})},Q.n=function(T){var v=T&&T.__esModule?function(){return T.default}:function(){return T};return Q.d(v,"a",v),v},Q.o=function(T,v){return Object.prototype.hasOwnProperty.call(T,v)},Q.p="",Q(Q.s=0)}([function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var S,v=(S=U(1))&&S.__esModule?S:{default:S};Q.default=v.default.plugins.add("gjs-plugin-forms",function(S,E){var D=E||{},P=(S.getConfig(),{blocks:["form","input","textarea","select","button","label","checkbox","radio"],labelTraitMethod:"Method",labelTraitAction:"Action",labelTraitState:"State",labelTraitId:"ID",labelTraitFor:"For",labelInputName:"Input",labelTextareaName:"Textarea",labelSelectName:"Select",labelCheckboxName:"Checkbox",labelRadioName:"Radio",labelButtonName:"Button",labelTraitName:"Name",labelTraitPlaceholder:"Placeholder",labelTraitValue:"Value",labelTraitRequired:"Required",labelTraitType:"Type",labelTraitOptions:"Options",labelTraitChecked:"Checked",labelTypeText:"Text",labelTypeEmail:"Email",labelTypePassword:"Password",labelTypeNumber:"Number",labelTypeSubmit:"Submit",labelTypeReset:"Reset",labelTypeButton:"Button",labelNameLabel:"Label",labelForm:"Form",labelSelectOption:"- Select option -",labelOption:"Option",labelStateNormal:"Normal",labelStateSuccess:"Success",labelStateError:"Error"});for(var L in P)L in D||(D[L]=P[L]);U(2).default(S,D),U(3).default(S,D),U(4).default(S,D)})},function(re,Q){re.exports=se},function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var T=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(v[D]=E[D])}return v};Q.default=function(v){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=v.DomComponents,x=D.getType("default"),P=D.getType("text"),L=x.model,N=x.view,R=P.model,M=P.view,A={name:"id",label:E.labelTraitId},z={name:"for",label:E.labelTraitFor},H={name:"name",label:E.labelTraitName},F={name:"placeholder",label:E.labelTraitPlaceholder},W={name:"value",label:E.labelTraitValue},k={type:"checkbox",name:"required",label:E.labelTraitRequired},I={label:E.labelTraitChecked,type:"checkbox",name:"checked",changeProp:1};D.addType("form",{model:L.extend({defaults:T({},L.prototype.defaults,{droppable:":not(form)",draggable:":not(form)",traits:[{type:"select",label:E.labelTraitMethod,name:"method",options:[{value:"post",name:"POST"},{value:"get",name:"GET"}]},{label:E.labelTraitAction,name:"action"}]}),init:function(){this.listenTo(this,"change:formState",this.updateFormState)},updateFormState:function(){switch(this.get("formState")){case"success":this.showState("success");break;case"error":this.showState("error");break;default:this.showState("normal")}},showState:function(B){var K,te,$e=B||"normal";"success"==$e?(K="none",te="block"):"error"==$e?(K="block",te="none"):(K="none",te="none");var ue=this.getStateModel("success"),ye=this.getStateModel("error"),Re=ue.getStyle(),Pe=ye.getStyle();Re.display=te,Pe.display=K,ue.setStyle(Re),ye.setStyle(Pe)},getStateModel:function(B){for(var K,te=B||"success",$e=this.get("components"),ue=0;ue<$e.length;ue++){var ye=$e.models[ue];if(ye.get("form-state-type")==te){K=ye;break}}if(!K){var Re=formMsgSuccess;"error"==te&&(Re=formMsgError),K=$e.add({"form-state-type":te,type:"text",removable:!1,copyable:!1,draggable:!1,attributes:{"data-form-state":te},content:Re})}return K}},{isComponent:function(B){if("FORM"==B.tagName)return{type:"form"}}}),view:N.extend({events:{submit:function(B){B.preventDefault()}}})}),D.addType("input",{model:L.extend({defaults:T({},L.prototype.defaults,{"custom-name":E.labelInputName,tagName:"input",draggable:"form, form *",droppable:!1,traits:[H,F,{label:E.labelTraitType,type:"select",name:"type",options:[{value:"text",name:E.labelTypeText},{value:"email",name:E.labelTypeEmail},{value:"password",name:E.labelTypePassword},{value:"number",name:E.labelTypeNumber}]},k]})},{isComponent:function(B){if("INPUT"==B.tagName)return{type:"input"}}}),view:N});var p=D.getType("input"),y=p.model;D.addType("textarea",{model:p.model.extend({defaults:T({},y.prototype.defaults,{"custom-name":E.labelTextareaName,tagName:"textarea",traits:[H,F,k]})},{isComponent:function(B){if("TEXTAREA"==B.tagName)return{type:"textarea"}}}),view:N}),D.addType("select",{model:L.extend({defaults:T({},y.prototype.defaults,{"custom-name":E.labelSelectName,tagName:"select",traits:[H,{label:E.labelTraitOptions,type:"select-options"},k]})},{isComponent:function(B){if("SELECT"==B.tagName)return{type:"select"}}}),view:x.view.extend({events:{mousedown:"handleClick"},handleClick:function(B){B.preventDefault()}})}),D.addType("checkbox",{model:L.extend({defaults:T({},y.prototype.defaults,{"custom-name":E.labelCheckboxName,copyable:!1,attributes:{type:"checkbox"},traits:[A,H,W,k,I]}),init:function(){this.listenTo(this,"change:checked",this.handleChecked)},handleChecked:function(){var B=this.get("checked"),K=this.get("attributes"),te=this.view;B?K.checked="checked":delete K.checked,te&&(te.el.checked=B),this.set("attributes",T({},K))}},{isComponent:function(B){if("INPUT"==B.tagName&&"checkbox"==B.type)return{type:"checkbox"}}}),view:N.extend({events:{click:"handleClick"},handleClick:function(B){B.preventDefault()}})});var C=D.getType("checkbox");D.addType("radio",{model:C.model.extend({defaults:T({},C.model.prototype.defaults,{"custom-name":E.labelRadioName,attributes:{type:"radio"}})},{isComponent:function(B){if("INPUT"==B.tagName&&"radio"==B.type)return{type:"radio"}}}),view:C.view}),D.addType("button",{model:L.extend({defaults:T({},y.prototype.defaults,{"custom-name":E.labelButtonName,tagName:"button",traits:[{type:"content",label:"Text"},{label:E.labelTraitType,type:"select",name:"type",options:[{value:"submit",name:E.labelTypeSubmit},{value:"reset",name:E.labelTypeReset},{value:"button",name:E.labelTypeButton}]}]})},{isComponent:function(B){if("BUTTON"==B.tagName)return{type:"button"}}}),view:N.extend({events:{click:"handleClick"},init:function(){this.listenTo(this.model,"change:content",this.updateContent)},updateContent:function(){this.el.innerHTML=this.model.get("content")},handleClick:function(B){B.preventDefault()}})}),D.addType("label",{model:R.extend({defaults:T({},R.prototype.defaults,{"custom-name":E.labelNameLabel,tagName:"label",traits:[z]})},{isComponent:function(B){if("LABEL"==B.tagName)return{type:"label"}}}),view:M})}},function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=function(T){var v=T.TraitManager,S=v.getType("text");v.addType("content",{events:{keyup:"onChange"},onValueChange:function(){var E=this.model;E.target.set("content",E.get("value"))},getInputEl:function(){return this.inputEl||(this.inputEl=S.prototype.getInputEl.bind(this)(),this.inputEl.value=this.target.get("content")),this.inputEl}}),v.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var D=this.model.get("value").trim().split("\n"),x=[],P=0;P<D.length;P++){var N=D[P].split("::"),R={tagName:"option",attributes:{}};N[1]?(R.content=N[1],R.attributes.value=N[0]):(R.content=N[0],R.attributes.value=N[0]),x.push(R)}this.target.get("components").reset(x),this.target.view.render()},getInputEl:function(){if(!this.$input){for(var D=this.target,x=(this.model.get("name"),""),P=D.get("components"),L=0;L<P.length;L++){var N=P.models[L];x+=(N.get("attributes").value||"")+"::"+N.get("content")+"\n"}this.$input=document.createElement("textarea"),this.$input.value=x}return this.$input}})}},function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=function(T){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=T.BlockManager;S.blocks.indexOf("form")>=0&&E.add("form",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,5.5 C22,5.2 21.5,5 20.75,5 L3.25,5 C2.5,5 2,5.2 2,5.5 L2,8.5 C2,8.8 2.5,9 3.25,9 L20.75,9 C21.5,9 22,8.8 22,8.5 L22,5.5 Z M21,8 L3,8 L3,6 L21,6 L21,8 Z" fill-rule="nonzero"></path>\n        <path class="gjs-block-svg-path" d="M22,10.5 C22,10.2 21.5,10 20.75,10 L3.25,10 C2.5,10 2,10.2 2,10.5 L2,13.5 C2,13.8 2.5,14 3.25,14 L20.75,14 C21.5,14 22,13.8 22,13.5 L22,10.5 Z M21,13 L3,13 L3,11 L21,11 L21,13 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="2" y="15" width="10" height="3" rx="0.5"></rect>\n      </svg>\n      <div class="gjs-block-label">'+S.labelForm+"</div>",category:"Forms",content:'\n        <form class="form">\n          <div class="form-group">\n            <label class="label">Name</label>\n            <input placeholder="Type here your name" class="input"/>\n          </div>\n          <div class="form-group">\n            <label class="label">Email</label>\n            <input type="email" placeholder="Type here your email" class="input"/>\n          </div>\n          <div class="form-group">\n            <label class="label">Gender</label>\n            <input type="checkbox" class="checkbox" value="M">\n            <label class="checkbox-label">M</label>\n            <input type="checkbox" class="checkbox" value="F">\n            <label class="checkbox-label">F</label>\n          </div>\n          <div class="form-group">\n            <label class="label">Message</label>\n            <textarea class="textarea"></textarea>\n          </div>\n          <div class="form-group">\n            <button type="submit" class="button">Send</button>\n          </div>\n        </form>\n      '}),S.blocks.indexOf("input")>=0&&E.add("input",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z"></path>\n        <polygon class="gjs-block-svg-path" points="4 10 5 10 5 14 4 14"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+S.labelInputName+"</div>",category:"Forms",content:'<input class="input"/>'}),S.blocks.indexOf("textarea")>=0&&E.add("textarea",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,7.5 C22,6.6 21.5,6 20.75,6 L3.25,6 C2.5,6 2,6.6 2,7.5 L2,16.5 C2,17.4 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.4 22,16.5 L22,7.5 Z M21,17 L3,17 L3,7 L21,7 L21,17 Z"></path>\n        <polygon class="gjs-block-svg-path" points="4 8 5 8 5 12 4 12"></polygon>\n        <polygon class="gjs-block-svg-path" points="19 7 20 7 20 17 19 17"></polygon>\n        <polygon class="gjs-block-svg-path" points="20 8 21 8 21 9 20 9"></polygon>\n        <polygon class="gjs-block-svg-path" points="20 15 21 15 21 16 20 16"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+S.labelTextareaName+"</div>",category:"Forms",content:'<textarea class="textarea"></textarea>'}),S.blocks.indexOf("select")>=0&&E.add("select",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n        <polygon class="gjs-block-svg-path" transform="translate(18.500000, 12.000000) scale(1, -1) translate(-18.500000, -12.000000) " points="18.5 11 20 13 17 13"></polygon>\n        <rect class="gjs-block-svg-path" x="4" y="11.5" width="11" height="1"></rect>\n      </svg>\n      <div class="gjs-block-label">'+S.labelSelectName+"</div>",category:"Forms",content:'<select class="select">\n        '+(S.labelSelectOption?'<option value="">'+S.labelSelectOption+"</option>":"")+'\n        <option value="1">'+S.labelOption+" 1</option>\n        </select>"}),S.blocks.indexOf("button")>=0&&E.add("button",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="4" y="11.5" width="16" height="1"></rect>\n      </svg>\n      <div class="gjs-block-label">'+S.labelButtonName+"</div>",category:"Forms",content:'<button class="button">Send</button>'}),S.blocks.indexOf("label")>=0&&E.add("label",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,11.875 C22,11.35 21.5,11 20.75,11 L3.25,11 C2.5,11 2,11.35 2,11.875 L2,17.125 C2,17.65 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.65 22,17.125 L22,11.875 Z M21,17 L3,17 L3,12 L21,12 L21,17 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="2" y="5" width="14" height="5" rx="0.5"></rect>\n        <polygon class="gjs-block-svg-path" fill-rule="nonzero" points="4 13 5 13 5 16 4 16"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+S.labelNameLabel+"</div>",category:"Forms",content:'<label class="label">Label</label>'}),S.blocks.indexOf("checkbox")>=0&&E.add("checkbox",{label:S.labelCheckboxName,attributes:{class:"fa fa-check-square"},category:"Forms",content:'<input type="checkbox" class="checkbox"/>'}),S.blocks.indexOf("radio")>=0&&E.add("radio",{label:S.labelRadioName,attributes:{class:"fa fa-dot-circle-o"},category:"Forms",content:'<input type="radio" class="radio"/>'})}}])},ce.exports=re(de(0))},function(ce,he,de){(function(se,re){var U;U=function(Q){return function(U){function T(S){if(v[S])return v[S].exports;var E=v[S]={i:S,l:!1,exports:{}};return U[S].call(E.exports,E,E.exports,T),E.l=!0,E.exports}var v={};return T.m=U,T.c=v,T.d=function(S,E,D){T.o(S,E)||Object.defineProperty(S,E,{configurable:!1,enumerable:!0,get:D})},T.n=function(S){var E=S&&S.__esModule?function(){return S.default}:function(){return S};return T.d(E,"a",E),E},T.o=function(S,E){return Object.prototype.hasOwnProperty.call(S,E)},T.p="",T(T.s=50)}([function(U,T,v){"use strict";function E(F){return F}function D(F,W){for(var k=0;k<F.length;++k)W[k]=255&F.charCodeAt(k);return W}function x(F){var W=65536,k=T.getTypeOf(F),I=!0;if("uint8array"===k?I=z.applyCanBeUsed.uint8array:"nodebuffer"===k&&(I=z.applyCanBeUsed.nodebuffer),I)for(;W>1;)try{return z.stringifyByChunk(F,k,W)}catch(p){W=Math.floor(W/2)}return z.stringifyByChar(F)}function P(F,W){for(var k=0;k<F.length;k++)W[k]=F[k];return W}var L=v(3),N=v(29),R=v(14),M=v(66),A=v(9);T.newBlob=function(F,W){T.checkSupport("blob");try{return new Blob([F],{type:W})}catch(p){try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(F),I.getBlob(W)}catch(y){throw new Error("Bug : can't construct the Blob.")}}};var z={stringifyByChunk:function(F,W,k){var I=[],p=0,y=F.length;if(y<=k)return String.fromCharCode.apply(null,F);for(;p<y;)I.push(String.fromCharCode.apply(null,"array"===W||"nodebuffer"===W?F.slice(p,Math.min(p+k,y)):F.subarray(p,Math.min(p+k,y)))),p+=k;return I.join("")},stringifyByChar:function(F){for(var W="",k=0;k<F.length;k++)W+=String.fromCharCode(F[k]);return W},applyCanBeUsed:{uint8array:function(){try{return L.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(F){return!1}}(),nodebuffer:function(){try{return L.nodebuffer&&1===String.fromCharCode.apply(null,R.allocBuffer(1)).length}catch(F){return!1}}()}};T.applyFromCharCode=x;var H={};H.string={string:E,array:function(F){return D(F,new Array(F.length))},arraybuffer:function(F){return H.string.uint8array(F).buffer},uint8array:function(F){return D(F,new Uint8Array(F.length))},nodebuffer:function(F){return D(F,R.allocBuffer(F.length))}},H.array={string:x,array:E,arraybuffer:function(F){return new Uint8Array(F).buffer},uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return R.newBufferFrom(F)}},H.arraybuffer={string:function(F){return x(new Uint8Array(F))},array:function(F){return P(new Uint8Array(F),new Array(F.byteLength))},arraybuffer:E,uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return R.newBufferFrom(new Uint8Array(F))}},H.uint8array={string:x,array:function(F){return P(F,new Array(F.length))},arraybuffer:function(F){return F.buffer},uint8array:E,nodebuffer:function(F){return R.newBufferFrom(F)}},H.nodebuffer={string:x,array:function(F){return P(F,new Array(F.length))},arraybuffer:function(F){return H.nodebuffer.uint8array(F).buffer},uint8array:function(F){return P(F,new Uint8Array(F.length))},nodebuffer:E},T.transformTo=function(F,W){if(W||(W=""),!F)return W;T.checkSupport(F);var k=T.getTypeOf(W);return H[k][F](W)},T.getTypeOf=function(F){return"string"==typeof F?"string":"[object Array]"===Object.prototype.toString.call(F)?"array":L.nodebuffer&&R.isBuffer(F)?"nodebuffer":L.uint8array&&F instanceof Uint8Array?"uint8array":L.arraybuffer&&F instanceof ArrayBuffer?"arraybuffer":void 0},T.checkSupport=function(F){if(!L[F.toLowerCase()])throw new Error(F+" is not supported by this platform")},T.MAX_VALUE_16BITS=65535,T.MAX_VALUE_32BITS=-1,T.pretty=function(F){var W,k,I="";for(k=0;k<(F||"").length;k++)I+="\\x"+((W=F.charCodeAt(k))<16?"0":"")+W.toString(16).toUpperCase();return I},T.delay=function(F,W,k){M(function(){F.apply(k||null,W||[])})},T.inherits=function(F,W){var k=function(){};k.prototype=W.prototype,F.prototype=new k},T.extend=function(){var F,W,k={};for(F=0;F<arguments.length;F++)for(W in arguments[F])arguments[F].hasOwnProperty(W)&&void 0===k[W]&&(k[W]=arguments[F][W]);return k},T.prepareContent=function(F,W,k,I,p){return A.Promise.resolve(W).then(function(y){return L.blob&&(y instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(y)))&&"undefined"!=typeof FileReader?new A.Promise(function(C,B){var K=new FileReader;K.onload=function(te){C(te.target.result)},K.onerror=function(te){B(te.target.error)},K.readAsArrayBuffer(y)}):y}).then(function(y){var C=T.getTypeOf(y);return C?("arraybuffer"===C?y=T.transformTo("uint8array",y):"string"===C&&(p?y=N.decode(y):k&&!0!==I&&(y=function(F){return D(F,L.uint8array?new Uint8Array(F.length):new Array(F.length))}(y))),y):A.Promise.reject(new Error("Can't read the data of '"+F+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(U,T,v){"use strict";function S(E){this.name=E||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}S.prototype={push:function(E){this.emit("data",E)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(E){this.emit("error",E)}return!0},error:function(E){return!this.isFinished&&(this.isPaused?this.generatedError=E:(this.isFinished=!0,this.emit("error",E),this.previous&&this.previous.error(E),this.cleanUp()),!0)},on:function(E,D){return this._listeners[E].push(D),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(E,D){if(this._listeners[E])for(var x=0;x<this._listeners[E].length;x++)this._listeners[E][x].call(this,D)},pipe:function(E){return E.registerPrevious(this)},registerPrevious:function(E){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=E.streamInfo,this.mergeStreamInfo(),this.previous=E;var D=this;return E.on("data",function(x){D.processChunk(x)}),E.on("end",function(){D.end()}),E.on("error",function(x){D.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var E=!1;return this.generatedError&&(this.error(this.generatedError),E=!0),this.previous&&this.previous.resume(),!E},flush:function(){},processChunk:function(E){this.push(E)},withStreamInfo:function(E,D){return this.extraStreamInfo[E]=D,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var E in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(E)&&(this.streamInfo[E]=this.extraStreamInfo[E])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var E="Worker "+this.name;return this.previous?this.previous+" -> "+E:E}},U.exports=S},function(U,T,v){"use strict";(function(S){function E(){return x.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(ae,be){if(E()<be)throw new RangeError("Invalid typed array length");return x.TYPED_ARRAY_SUPPORT?(ae=new Uint8Array(be)).__proto__=x.prototype:(null===ae&&(ae=new x(be)),ae.length=be),ae}function x(ae,be,Ve){if(!(x.TYPED_ARRAY_SUPPORT||this instanceof x))return new x(ae,be,Ve);if("number"==typeof ae){if("string"==typeof be)throw new Error("If encoding is specified then the first argument must be a string");return R(this,ae)}return P(this,ae,be,Ve)}function P(ae,be,Ve,ot){if("number"==typeof be)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&be instanceof ArrayBuffer?function(ae,be,Ve,ot){if(Ve<0||be.byteLength<Ve)throw new RangeError("'offset' is out of bounds");if(be.byteLength<Ve+(ot||0))throw new RangeError("'length' is out of bounds");return be=void 0===Ve&&void 0===ot?new Uint8Array(be):void 0===ot?new Uint8Array(be,Ve):new Uint8Array(be,Ve,ot),x.TYPED_ARRAY_SUPPORT?(ae=be).__proto__=x.prototype:ae=A(ae,be),ae}(ae,be,Ve,ot):"string"==typeof be?function(ae,be,Ve){if("string"==typeof Ve&&""!==Ve||(Ve="utf8"),!x.isEncoding(Ve))throw new TypeError('"encoding" must be a valid string encoding');var ot=0|k(be,Ve),et=(ae=D(ae,ot)).write(be,Ve);return et!==ot&&(ae=ae.slice(0,et)),ae}(ae,be,Ve):function(ae,be){if(x.isBuffer(be)){var Ve=0|F(be.length);return 0===(ae=D(ae,Ve)).length||be.copy(ae,0,0,Ve),ae}if(be){if("undefined"!=typeof ArrayBuffer&&be.buffer instanceof ArrayBuffer||"length"in be)return"number"!=typeof be.length||function(ae){return ae!=ae}(be.length)?D(ae,0):A(ae,be);if("Buffer"===be.type&&pt(be.data))return A(ae,be.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ae,be)}function L(ae){if("number"!=typeof ae)throw new TypeError('"size" argument must be a number');if(ae<0)throw new RangeError('"size" argument must not be negative')}function R(ae,be){if(L(be),ae=D(ae,be<0?0:0|F(be)),!x.TYPED_ARRAY_SUPPORT)for(var Ve=0;Ve<be;++Ve)ae[Ve]=0;return ae}function A(ae,be){var Ve=be.length<0?0:0|F(be.length);ae=D(ae,Ve);for(var ot=0;ot<Ve;ot+=1)ae[ot]=255&be[ot];return ae}function F(ae){if(ae>=E())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E().toString(16)+" bytes");return 0|ae}function k(ae,be){if(x.isBuffer(ae))return ae.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(ae)||ae instanceof ArrayBuffer))return ae.byteLength;"string"!=typeof ae&&(ae=""+ae);var Ve=ae.length;if(0===Ve)return 0;for(var ot=!1;;)switch(be){case"ascii":case"latin1":case"binary":return Ve;case"utf8":case"utf-8":case void 0:return Ee(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ve;case"hex":return Ve>>>1;case"base64":return Ce(ae).length;default:if(ot)return Ee(ae).length;be=(""+be).toLowerCase(),ot=!0}}function I(ae,be,Ve){var ot=!1;if((void 0===be||be<0)&&(be=0),be>this.length||((void 0===Ve||Ve>this.length)&&(Ve=this.length),Ve<=0)||(Ve>>>=0)<=(be>>>=0))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return ie(this,be,Ve);case"utf8":case"utf-8":return Pe(this,be,Ve);case"ascii":return Le(this,be,Ve);case"latin1":case"binary":return _e(this,be,Ve);case"base64":return Re(this,be,Ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,be,Ve);default:if(ot)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),ot=!0}}function p(ae,be,Ve){var ot=ae[be];ae[be]=ae[Ve],ae[Ve]=ot}function y(ae,be,Ve,ot,et){if(0===ae.length)return-1;if("string"==typeof Ve?(ot=Ve,Ve=0):Ve>2147483647?Ve=2147483647:Ve<-2147483648&&(Ve=-2147483648),Ve=+Ve,isNaN(Ve)&&(Ve=et?0:ae.length-1),Ve<0&&(Ve=ae.length+Ve),Ve>=ae.length){if(et)return-1;Ve=ae.length-1}else if(Ve<0){if(!et)return-1;Ve=0}if("string"==typeof be&&(be=x.from(be,ot)),x.isBuffer(be))return 0===be.length?-1:C(ae,be,Ve,ot,et);if("number"==typeof be)return be&=255,x.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?et?Uint8Array.prototype.indexOf.call(ae,be,Ve):Uint8Array.prototype.lastIndexOf.call(ae,be,Ve):C(ae,[be],Ve,ot,et);throw new TypeError("val must be string, number or Buffer")}function C(ae,be,Ve,ot,et){function Z(Et,It){return 1===ke?Et[It]:Et.readUInt16BE(It*ke)}var st,ke=1,Be=ae.length,Je=be.length;if(void 0!==ot&&("ucs2"===(ot=String(ot).toLowerCase())||"ucs-2"===ot||"utf16le"===ot||"utf-16le"===ot)){if(ae.length<2||be.length<2)return-1;ke=2,Be/=2,Je/=2,Ve/=2}if(et){var mt=-1;for(st=Ve;st<Be;st++)if(Z(ae,st)===Z(be,-1===mt?0:st-mt)){if(-1===mt&&(mt=st),st-mt+1===Je)return mt*ke}else-1!==mt&&(st-=st-mt),mt=-1}else for(Ve+Je>Be&&(Ve=Be-Je),st=Ve;st>=0;st--){for(var De=!0,dt=0;dt<Je;dt++)if(Z(ae,st+dt)!==Z(be,dt)){De=!1;break}if(De)return st}return-1}function B(ae,be,Ve,ot){Ve=Number(Ve)||0;var et=ae.length-Ve;ot?(ot=Number(ot))>et&&(ot=et):ot=et;var Z=be.length;if(Z%2!=0)throw new TypeError("Invalid hex string");ot>Z/2&&(ot=Z/2);for(var ke=0;ke<ot;++ke){var Be=parseInt(be.substr(2*ke,2),16);if(isNaN(Be))return ke;ae[Ve+ke]=Be}return ke}function K(ae,be,Ve,ot){return Fe(Ee(be,ae.length-Ve),ae,Ve,ot)}function te(ae,be,Ve,ot){return Fe(function(ae){for(var be=[],Ve=0;Ve<ae.length;++Ve)be.push(255&ae.charCodeAt(Ve));return be}(be),ae,Ve,ot)}function $e(ae,be,Ve,ot){return te(ae,be,Ve,ot)}function ue(ae,be,Ve,ot){return Fe(Ce(be),ae,Ve,ot)}function ye(ae,be,Ve,ot){return Fe(function(ae,be){for(var Ve,ot,Z=[],ke=0;ke<ae.length&&!((be-=2)<0);++ke)ot=(Ve=ae.charCodeAt(ke))>>8,Z.push(Ve%256),Z.push(ot);return Z}(be,ae.length-Ve),ae,Ve,ot)}function Re(ae,be,Ve){return it.fromByteArray(0===be&&Ve===ae.length?ae:ae.slice(be,Ve))}function Pe(ae,be,Ve){Ve=Math.min(ae.length,Ve);for(var ot=[],et=be;et<Ve;){var Je,st,mt,De,Z=ae[et],ke=null,Be=Z>239?4:Z>223?3:Z>191?2:1;if(et+Be<=Ve)switch(Be){case 1:Z<128&&(ke=Z);break;case 2:128==(192&(Je=ae[et+1]))&&(De=(31&Z)<<6|63&Je)>127&&(ke=De);break;case 3:st=ae[et+2],128==(192&(Je=ae[et+1]))&&128==(192&st)&&(De=(15&Z)<<12|(63&Je)<<6|63&st)>2047&&(De<55296||De>57343)&&(ke=De);break;case 4:st=ae[et+2],mt=ae[et+3],128==(192&(Je=ae[et+1]))&&128==(192&st)&&128==(192&mt)&&(De=(15&Z)<<18|(63&Je)<<12|(63&st)<<6|63&mt)>65535&&De<1114112&&(ke=De)}null===ke?(ke=65533,Be=1):ke>65535&&(ot.push((ke-=65536)>>>10&1023|55296),ke=56320|1023&ke),ot.push(ke),et+=Be}return function(ae){var be=ae.length;if(be<=kt)return String.fromCharCode.apply(String,ae);for(var Ve="",ot=0;ot<be;)Ve+=String.fromCharCode.apply(String,ae.slice(ot,ot+=kt));return Ve}(ot)}function Le(ae,be,Ve){var ot="";Ve=Math.min(ae.length,Ve);for(var et=be;et<Ve;++et)ot+=String.fromCharCode(127&ae[et]);return ot}function _e(ae,be,Ve){var ot="";Ve=Math.min(ae.length,Ve);for(var et=be;et<Ve;++et)ot+=String.fromCharCode(ae[et]);return ot}function ie(ae,be,Ve){var ot=ae.length;(!be||be<0)&&(be=0),(!Ve||Ve<0||Ve>ot)&&(Ve=ot);for(var et="",Z=be;Z<Ve;++Z)et+=X(ae[Z]);return et}function ne(ae,be,Ve){for(var ot=ae.slice(be,Ve),et="",Z=0;Z<ot.length;Z+=2)et+=String.fromCharCode(ot[Z]+256*ot[Z+1]);return et}function ge(ae,be,Ve){if(ae%1!=0||ae<0)throw new RangeError("offset is not uint");if(ae+be>Ve)throw new RangeError("Trying to access beyond buffer length")}function me(ae,be,Ve,ot,et,Z){if(!x.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(be>et||be<Z)throw new RangeError('"value" argument is out of bounds');if(Ve+ot>ae.length)throw new RangeError("Index out of range")}function _(ae,be,Ve,ot){be<0&&(be=65535+be+1);for(var et=0,Z=Math.min(ae.length-Ve,2);et<Z;++et)ae[Ve+et]=(be&255<<8*(ot?et:1-et))>>>8*(ot?et:1-et)}function b(ae,be,Ve,ot){be<0&&(be=4294967295+be+1);for(var et=0,Z=Math.min(ae.length-Ve,4);et<Z;++et)ae[Ve+et]=be>>>8*(ot?et:3-et)&255}function G(ae,be,Ve,ot,et,Z){if(Ve+ot>ae.length)throw new RangeError("Index out of range");if(Ve<0)throw new RangeError("Index out of range")}function c(ae,be,Ve,ot,et){return et||G(ae,0,Ve,4),xt.write(ae,be,Ve,ot,23,4),Ve+4}function O(ae,be,Ve,ot,et){return et||G(ae,0,Ve,8),xt.write(ae,be,Ve,ot,52,8),Ve+8}function X(ae){return ae<16?"0"+ae.toString(16):ae.toString(16)}function Ee(ae,be){be=be||1/0;for(var Ve,ot=ae.length,et=null,Z=[],ke=0;ke<ot;++ke){if((Ve=ae.charCodeAt(ke))>55295&&Ve<57344){if(!et){if(Ve>56319){(be-=3)>-1&&Z.push(239,191,189);continue}if(ke+1===ot){(be-=3)>-1&&Z.push(239,191,189);continue}et=Ve;continue}if(Ve<56320){(be-=3)>-1&&Z.push(239,191,189),et=Ve;continue}Ve=65536+(et-55296<<10|Ve-56320)}else et&&(be-=3)>-1&&Z.push(239,191,189);if(et=null,Ve<128){if((be-=1)<0)break;Z.push(Ve)}else if(Ve<2048){if((be-=2)<0)break;Z.push(Ve>>6|192,63&Ve|128)}else if(Ve<65536){if((be-=3)<0)break;Z.push(Ve>>12|224,Ve>>6&63|128,63&Ve|128)}else{if(!(Ve<1114112))throw new Error("Invalid code point");if((be-=4)<0)break;Z.push(Ve>>18|240,Ve>>12&63|128,Ve>>6&63|128,63&Ve|128)}}return Z}function Ce(ae){return it.toByteArray(function(ae){if((ae=function(ae){return ae.trim?ae.trim():ae.replace(/^\s+|\s+$/g,"")}(ae).replace(Nt,"")).length<2)return"";for(;ae.length%4!=0;)ae+="=";return ae}(ae))}function Fe(ae,be,Ve,ot){for(var et=0;et<ot&&!(et+Ve>=be.length||et>=ae.length);++et)be[et+Ve]=ae[et];return et}var it=v(54),xt=v(55),pt=v(24);T.Buffer=x,T.SlowBuffer=function(ae){return+ae!=ae&&(ae=0),x.alloc(+ae)},T.INSPECT_MAX_BYTES=50,x.TYPED_ARRAY_SUPPORT=void 0!==S.TYPED_ARRAY_SUPPORT?S.TYPED_ARRAY_SUPPORT:function(){try{var ae=new Uint8Array(1);return ae.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===ae.foo()&&"function"==typeof ae.subarray&&0===ae.subarray(1,1).byteLength}catch(be){return!1}}(),T.kMaxLength=E(),x.poolSize=8192,x._augment=function(ae){return ae.__proto__=x.prototype,ae},x.from=function(ae,be,Ve){return P(null,ae,be,Ve)},x.TYPED_ARRAY_SUPPORT&&(x.prototype.__proto__=Uint8Array.prototype,x.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&x[Symbol.species]===x&&Object.defineProperty(x,Symbol.species,{value:null,configurable:!0})),x.alloc=function(ae,be,Ve){return function(ae,be,Ve,ot){return L(be),be<=0?D(ae,be):void 0!==Ve?"string"==typeof ot?D(ae,be).fill(Ve,ot):D(ae,be).fill(Ve):D(ae,be)}(null,ae,be,Ve)},x.allocUnsafe=function(ae){return R(null,ae)},x.allocUnsafeSlow=function(ae){return R(null,ae)},x.isBuffer=function(ae){return!(null==ae||!ae._isBuffer)},x.compare=function(ae,be){if(!x.isBuffer(ae)||!x.isBuffer(be))throw new TypeError("Arguments must be Buffers");if(ae===be)return 0;for(var Ve=ae.length,ot=be.length,et=0,Z=Math.min(Ve,ot);et<Z;++et)if(ae[et]!==be[et]){Ve=ae[et],ot=be[et];break}return Ve<ot?-1:ot<Ve?1:0},x.isEncoding=function(ae){switch(String(ae).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(ae,be){if(!pt(ae))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ae.length)return x.alloc(0);var Ve;if(void 0===be)for(be=0,Ve=0;Ve<ae.length;++Ve)be+=ae[Ve].length;var ot=x.allocUnsafe(be),et=0;for(Ve=0;Ve<ae.length;++Ve){var Z=ae[Ve];if(!x.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(ot,et),et+=Z.length}return ot},x.byteLength=k,x.prototype._isBuffer=!0,x.prototype.swap16=function(){var ae=this.length;if(ae%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var be=0;be<ae;be+=2)p(this,be,be+1);return this},x.prototype.swap32=function(){var ae=this.length;if(ae%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var be=0;be<ae;be+=4)p(this,be,be+3),p(this,be+1,be+2);return this},x.prototype.swap64=function(){var ae=this.length;if(ae%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var be=0;be<ae;be+=8)p(this,be,be+7),p(this,be+1,be+6),p(this,be+2,be+5),p(this,be+3,be+4);return this},x.prototype.toString=function(){var ae=0|this.length;return 0===ae?"":0===arguments.length?Pe(this,0,ae):I.apply(this,arguments)},x.prototype.equals=function(ae){if(!x.isBuffer(ae))throw new TypeError("Argument must be a Buffer");return this===ae||0===x.compare(this,ae)},x.prototype.inspect=function(){var ae="",be=T.INSPECT_MAX_BYTES;return this.length>0&&(ae=this.toString("hex",0,be).match(/.{2}/g).join(" "),this.length>be&&(ae+=" ... ")),"<Buffer "+ae+">"},x.prototype.compare=function(ae,be,Ve,ot,et){if(!x.isBuffer(ae))throw new TypeError("Argument must be a Buffer");if(void 0===be&&(be=0),void 0===Ve&&(Ve=ae?ae.length:0),void 0===ot&&(ot=0),void 0===et&&(et=this.length),be<0||Ve>ae.length||ot<0||et>this.length)throw new RangeError("out of range index");if(ot>=et&&be>=Ve)return 0;if(ot>=et)return-1;if(be>=Ve)return 1;if(this===ae)return 0;for(var Z=(et>>>=0)-(ot>>>=0),ke=(Ve>>>=0)-(be>>>=0),Be=Math.min(Z,ke),Je=this.slice(ot,et),st=ae.slice(be,Ve),mt=0;mt<Be;++mt)if(Je[mt]!==st[mt]){Z=Je[mt],ke=st[mt];break}return Z<ke?-1:ke<Z?1:0},x.prototype.includes=function(ae,be,Ve){return-1!==this.indexOf(ae,be,Ve)},x.prototype.indexOf=function(ae,be,Ve){return y(this,ae,be,Ve,!0)},x.prototype.lastIndexOf=function(ae,be,Ve){return y(this,ae,be,Ve,!1)},x.prototype.write=function(ae,be,Ve,ot){if(void 0===be)ot="utf8",Ve=this.length,be=0;else if(void 0===Ve&&"string"==typeof be)ot=be,Ve=this.length,be=0;else{if(!isFinite(be))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");be|=0,isFinite(Ve)?(Ve|=0,void 0===ot&&(ot="utf8")):(ot=Ve,Ve=void 0)}var et=this.length-be;if((void 0===Ve||Ve>et)&&(Ve=et),ae.length>0&&(Ve<0||be<0)||be>this.length)throw new RangeError("Attempt to write outside buffer bounds");ot||(ot="utf8");for(var Z=!1;;)switch(ot){case"hex":return B(this,ae,be,Ve);case"utf8":case"utf-8":return K(this,ae,be,Ve);case"ascii":return te(this,ae,be,Ve);case"latin1":case"binary":return $e(this,ae,be,Ve);case"base64":return ue(this,ae,be,Ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,ae,be,Ve);default:if(Z)throw new TypeError("Unknown encoding: "+ot);ot=(""+ot).toLowerCase(),Z=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var kt=4096;x.prototype.slice=function(ae,be){var ot,Ve=this.length;if((ae=~~ae)<0?(ae+=Ve)<0&&(ae=0):ae>Ve&&(ae=Ve),(be=void 0===be?Ve:~~be)<0?(be+=Ve)<0&&(be=0):be>Ve&&(be=Ve),be<ae&&(be=ae),x.TYPED_ARRAY_SUPPORT)(ot=this.subarray(ae,be)).__proto__=x.prototype;else{var et=be-ae;ot=new x(et,void 0);for(var Z=0;Z<et;++Z)ot[Z]=this[Z+ae]}return ot},x.prototype.readUIntLE=function(ae,be,Ve){ae|=0,be|=0,Ve||ge(ae,be,this.length);for(var ot=this[ae],et=1,Z=0;++Z<be&&(et*=256);)ot+=this[ae+Z]*et;return ot},x.prototype.readUIntBE=function(ae,be,Ve){ae|=0,be|=0,Ve||ge(ae,be,this.length);for(var ot=this[ae+--be],et=1;be>0&&(et*=256);)ot+=this[ae+--be]*et;return ot},x.prototype.readUInt8=function(ae,be){return be||ge(ae,1,this.length),this[ae]},x.prototype.readUInt16LE=function(ae,be){return be||ge(ae,2,this.length),this[ae]|this[ae+1]<<8},x.prototype.readUInt16BE=function(ae,be){return be||ge(ae,2,this.length),this[ae]<<8|this[ae+1]},x.prototype.readUInt32LE=function(ae,be){return be||ge(ae,4,this.length),(this[ae]|this[ae+1]<<8|this[ae+2]<<16)+16777216*this[ae+3]},x.prototype.readUInt32BE=function(ae,be){return be||ge(ae,4,this.length),16777216*this[ae]+(this[ae+1]<<16|this[ae+2]<<8|this[ae+3])},x.prototype.readIntLE=function(ae,be,Ve){ae|=0,be|=0,Ve||ge(ae,be,this.length);for(var ot=this[ae],et=1,Z=0;++Z<be&&(et*=256);)ot+=this[ae+Z]*et;return ot>=(et*=128)&&(ot-=Math.pow(2,8*be)),ot},x.prototype.readIntBE=function(ae,be,Ve){ae|=0,be|=0,Ve||ge(ae,be,this.length);for(var ot=be,et=1,Z=this[ae+--ot];ot>0&&(et*=256);)Z+=this[ae+--ot]*et;return Z>=(et*=128)&&(Z-=Math.pow(2,8*be)),Z},x.prototype.readInt8=function(ae,be){return be||ge(ae,1,this.length),128&this[ae]?-1*(255-this[ae]+1):this[ae]},x.prototype.readInt16LE=function(ae,be){be||ge(ae,2,this.length);var Ve=this[ae]|this[ae+1]<<8;return 32768&Ve?4294901760|Ve:Ve},x.prototype.readInt16BE=function(ae,be){be||ge(ae,2,this.length);var Ve=this[ae+1]|this[ae]<<8;return 32768&Ve?4294901760|Ve:Ve},x.prototype.readInt32LE=function(ae,be){return be||ge(ae,4,this.length),this[ae]|this[ae+1]<<8|this[ae+2]<<16|this[ae+3]<<24},x.prototype.readInt32BE=function(ae,be){return be||ge(ae,4,this.length),this[ae]<<24|this[ae+1]<<16|this[ae+2]<<8|this[ae+3]},x.prototype.readFloatLE=function(ae,be){return be||ge(ae,4,this.length),xt.read(this,ae,!0,23,4)},x.prototype.readFloatBE=function(ae,be){return be||ge(ae,4,this.length),xt.read(this,ae,!1,23,4)},x.prototype.readDoubleLE=function(ae,be){return be||ge(ae,8,this.length),xt.read(this,ae,!0,52,8)},x.prototype.readDoubleBE=function(ae,be){return be||ge(ae,8,this.length),xt.read(this,ae,!1,52,8)},x.prototype.writeUIntLE=function(ae,be,Ve,ot){ae=+ae,be|=0,Ve|=0,ot||me(this,ae,be,Ve,Math.pow(2,8*Ve)-1,0);var et=1,Z=0;for(this[be]=255&ae;++Z<Ve&&(et*=256);)this[be+Z]=ae/et&255;return be+Ve},x.prototype.writeUIntBE=function(ae,be,Ve,ot){ae=+ae,be|=0,Ve|=0,ot||me(this,ae,be,Ve,Math.pow(2,8*Ve)-1,0);var et=Ve-1,Z=1;for(this[be+et]=255&ae;--et>=0&&(Z*=256);)this[be+et]=ae/Z&255;return be+Ve},x.prototype.writeUInt8=function(ae,be,Ve){return ae=+ae,be|=0,Ve||me(this,ae,be,1,255,0),x.TYPED_ARRAY_SUPPORT||(ae=Math.floor(ae)),this[be]=255&ae,be+1},x.prototype.writeUInt16LE=function(ae,be,Ve){return ae=+ae,be|=0,Ve||me(this,ae,be,2,65535,0),x.TYPED_ARRAY_SUPPORT?(this[be]=255&ae,this[be+1]=ae>>>8):_(this,ae,be,!0),be+2},x.prototype.writeUInt16BE=function(ae,be,Ve){return ae=+ae,be|=0,Ve||me(this,ae,be,2,65535,0),x.TYPED_ARRAY_SUPPORT?(this[be]=ae>>>8,this[be+1]=255&ae):_(this,ae,be,!1),be+2},x.prototype.writeUInt32LE=function(ae,be,Ve){return ae=+ae,be|=0,Ve||me(this,ae,be,4,4294967295,0),x.TYPED_ARRAY_SUPPORT?(this[be+3]=ae>>>24,this[be+2]=ae>>>16,this[be+1]=ae>>>8,this[be]=255&ae):b(this,ae,be,!0),be+4},x.prototype.writeUInt32BE=function(ae,be,Ve){return ae=+ae,be|=0,Ve||me(this,ae,be,4,4294967295,0),x.TYPED_ARRAY_SUPPORT?(this[be]=ae>>>24,this[be+1]=ae>>>16,this[be+2]=ae>>>8,this[be+3]=255&ae):b(this,ae,be,!1),be+4},x.prototype.writeIntLE=function(ae,be,Ve,ot){if(ae=+ae,be|=0,!ot){var et=Math.pow(2,8*Ve-1);me(this,ae,be,Ve,et-1,-et)}var Z=0,ke=1,Be=0;for(this[be]=255&ae;++Z<Ve&&(ke*=256);)ae<0&&0===Be&&0!==this[be+Z-1]&&(Be=1),this[be+Z]=(ae/ke>>0)-Be&255;return be+Ve},x.prototype.writeIntBE=function(ae,be,Ve,ot){if(ae=+ae,be|=0,!ot){var et=Math.pow(2,8*Ve-1);me(this,ae,be,Ve,et-1,-et)}var Z=Ve-1,ke=1,Be=0;for(this[be+Z]=255&ae;--Z>=0&&(ke*=256);)ae<0&&0===Be&&0!==this[be+Z+1]&&(Be=1),this[be+Z]=(ae/ke>>0)-Be&255;return be+Ve},x.prototype.writeInt8=function(ae,be,Ve){return ae=+ae,be|=0,Ve||me(this,ae,be,1,127,-128),x.TYPED_ARRAY_SUPPORT||(ae=Math.floor(ae)),ae<0&&(ae=255+ae+1),this[be]=255&ae,be+1},x.prototype.writeInt16LE=function(ae,be,Ve){return ae=+ae,be|=0,Ve||me(this,ae,be,2,32767,-32768),x.TYPED_ARRAY_SUPPORT?(this[be]=255&ae,this[be+1]=ae>>>8):_(this,ae,be,!0),be+2},x.prototype.writeInt16BE=function(ae,be,Ve){return ae=+ae,be|=0,Ve||me(this,ae,be,2,32767,-32768),x.TYPED_ARRAY_SUPPORT?(this[be]=ae>>>8,this[be+1]=255&ae):_(this,ae,be,!1),be+2},x.prototype.writeInt32LE=function(ae,be,Ve){return ae=+ae,be|=0,Ve||me(this,ae,be,4,2147483647,-2147483648),x.TYPED_ARRAY_SUPPORT?(this[be]=255&ae,this[be+1]=ae>>>8,this[be+2]=ae>>>16,this[be+3]=ae>>>24):b(this,ae,be,!0),be+4},x.prototype.writeInt32BE=function(ae,be,Ve){return ae=+ae,be|=0,Ve||me(this,ae,be,4,2147483647,-2147483648),ae<0&&(ae=4294967295+ae+1),x.TYPED_ARRAY_SUPPORT?(this[be]=ae>>>24,this[be+1]=ae>>>16,this[be+2]=ae>>>8,this[be+3]=255&ae):b(this,ae,be,!1),be+4},x.prototype.writeFloatLE=function(ae,be,Ve){return c(this,ae,be,!0,Ve)},x.prototype.writeFloatBE=function(ae,be,Ve){return c(this,ae,be,!1,Ve)},x.prototype.writeDoubleLE=function(ae,be,Ve){return O(this,ae,be,!0,Ve)},x.prototype.writeDoubleBE=function(ae,be,Ve){return O(this,ae,be,!1,Ve)},x.prototype.copy=function(ae,be,Ve,ot){if(Ve||(Ve=0),ot||0===ot||(ot=this.length),be>=ae.length&&(be=ae.length),be||(be=0),ot>0&&ot<Ve&&(ot=Ve),ot===Ve||0===ae.length||0===this.length)return 0;if(be<0)throw new RangeError("targetStart out of bounds");if(Ve<0||Ve>=this.length)throw new RangeError("sourceStart out of bounds");if(ot<0)throw new RangeError("sourceEnd out of bounds");ot>this.length&&(ot=this.length),ae.length-be<ot-Ve&&(ot=ae.length-be+Ve);var et,Z=ot-Ve;if(this===ae&&Ve<be&&be<ot)for(et=Z-1;et>=0;--et)ae[et+be]=this[et+Ve];else if(Z<1e3||!x.TYPED_ARRAY_SUPPORT)for(et=0;et<Z;++et)ae[et+be]=this[et+Ve];else Uint8Array.prototype.set.call(ae,this.subarray(Ve,Ve+Z),be);return Z},x.prototype.fill=function(ae,be,Ve,ot){if("string"==typeof ae){if("string"==typeof be?(ot=be,be=0,Ve=this.length):"string"==typeof Ve&&(ot=Ve,Ve=this.length),1===ae.length){var et=ae.charCodeAt(0);et<256&&(ae=et)}if(void 0!==ot&&"string"!=typeof ot)throw new TypeError("encoding must be a string");if("string"==typeof ot&&!x.isEncoding(ot))throw new TypeError("Unknown encoding: "+ot)}else"number"==typeof ae&&(ae&=255);if(be<0||this.length<be||this.length<Ve)throw new RangeError("Out of range index");if(Ve<=be)return this;var Z;if(be>>>=0,Ve=void 0===Ve?this.length:Ve>>>0,ae||(ae=0),"number"==typeof ae)for(Z=be;Z<Ve;++Z)this[Z]=ae;else{var ke=x.isBuffer(ae)?ae:Ee(new x(ae,ot).toString()),Be=ke.length;for(Z=0;Z<Ve-be;++Z)this[Z+be]=ke[Z%Be]}return this};var Nt=/[^+\/0-9A-Za-z-_]/g}).call(T,v(10))},function(U,T,v){"use strict";(function(S){if(T.base64=!0,T.array=!0,T.string=!0,T.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,T.nodebuffer=void 0!==S,T.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)T.blob=!1;else{var E=new ArrayBuffer(0);try{T.blob=0===new Blob([E],{type:"application/zip"}).size}catch(P){try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);x.append(E),T.blob=0===x.getBlob("application/zip").size}catch(L){T.blob=!1}}}try{T.nodestream=!!v(25).Readable}catch(P){T.nodestream=!1}}).call(T,v(2).Buffer)},function(U,T,v){"use strict";function S(P,L){return Object.prototype.hasOwnProperty.call(P,L)}var E="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;T.assign=function(P){for(var L=Array.prototype.slice.call(arguments,1);L.length;){var N=L.shift();if(N){if("object"!=typeof N)throw new TypeError(N+"must be non-object");for(var R in N)S(N,R)&&(P[R]=N[R])}}return P},T.shrinkBuf=function(P,L){return P.length===L?P:P.subarray?P.subarray(0,L):(P.length=L,P)};var D={arraySet:function(P,L,N,R,M){if(L.subarray&&P.subarray)P.set(L.subarray(N,N+R),M);else for(var A=0;A<R;A++)P[M+A]=L[N+A]},flattenChunks:function(P){var L,N,R,M,A,z;for(R=0,L=0,N=P.length;L<N;L++)R+=P[L].length;for(z=new Uint8Array(R),M=0,L=0,N=P.length;L<N;L++)z.set(A=P[L],M),M+=A.length;return z}},x={arraySet:function(P,L,N,R,M){for(var A=0;A<R;A++)P[M+A]=L[N+A]},flattenChunks:function(P){return[].concat.apply([],P)}};T.setTyped=function(P){P?(T.Buf8=Uint8Array,T.Buf16=Uint16Array,T.Buf32=Int32Array,T.assign(T,D)):(T.Buf8=Array,T.Buf16=Array,T.Buf32=Array,T.assign(T,x))},T.setTyped(E)},function(U,T,v){"use strict";function S(H){if(!(this instanceof S))return new S(H);N.call(this,H),R.call(this,H),H&&!1===H.readable&&(this.readable=!1),H&&!1===H.writable&&(this.writable=!1),this.allowHalfOpen=!0,H&&!1===H.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",E)}function E(){this.allowHalfOpen||this._writableState.ended||P(D,this)}function D(H){H.end()}var x=Object.keys||function(H){var F=[];for(var W in H)F.push(W);return F};U.exports=S;var P=v(16),L=v(8);L.inherits=v(7);var N=v(26),R=v(17);L.inherits(S,N);for(var M=x(R.prototype),A=0;A<M.length;A++){var z=M[A];S.prototype[z]||(S.prototype[z]=R.prototype[z])}},function(U,T,v){"use strict";function S(){L.call(this,"utf-8 decode"),this.leftOver=null}function E(){L.call(this,"utf-8 encode")}for(var D=v(0),x=v(3),P=v(14),L=v(1),N=new Array(256),R=0;R<256;R++)N[R]=R>=252?6:R>=248?5:R>=240?4:R>=224?3:R>=192?2:1;N[254]=N[254]=1;T.utf8encode=function(H){return x.nodebuffer?P.newBufferFrom(H,"utf-8"):function(H){var F,W,k,I,p,y=H.length,C=0;for(I=0;I<y;I++)55296==(64512&(W=H.charCodeAt(I)))&&I+1<y&&56320==(64512&(k=H.charCodeAt(I+1)))&&(W=65536+(W-55296<<10)+(k-56320),I++),C+=W<128?1:W<2048?2:W<65536?3:4;for(F=x.uint8array?new Uint8Array(C):new Array(C),p=0,I=0;p<C;I++)55296==(64512&(W=H.charCodeAt(I)))&&I+1<y&&56320==(64512&(k=H.charCodeAt(I+1)))&&(W=65536+(W-55296<<10)+(k-56320),I++),W<128?F[p++]=W:W<2048?(F[p++]=192|W>>>6,F[p++]=128|63&W):W<65536?(F[p++]=224|W>>>12,F[p++]=128|W>>>6&63,F[p++]=128|63&W):(F[p++]=240|W>>>18,F[p++]=128|W>>>12&63,F[p++]=128|W>>>6&63,F[p++]=128|63&W);return F}(H)},T.utf8decode=function(H){return x.nodebuffer?D.transformTo("nodebuffer",H).toString("utf-8"):function(H){var F,W,k,I,p=H.length,y=new Array(2*p);for(W=0,F=0;F<p;)if((k=H[F++])<128)y[W++]=k;else if((I=N[k])>4)y[W++]=65533,F+=I-1;else{for(k&=2===I?31:3===I?15:7;I>1&&F<p;)k=k<<6|63&H[F++],I--;I>1?y[W++]=65533:k<65536?y[W++]=k:(y[W++]=55296|(k-=65536)>>10&1023,y[W++]=56320|1023&k)}return y.length!==W&&(y.subarray?y=y.subarray(0,W):y.length=W),D.applyFromCharCode(y)}(H=D.transformTo(x.uint8array?"uint8array":"array",H))},D.inherits(S,L),S.prototype.processChunk=function(H){var F=D.transformTo(x.uint8array?"uint8array":"array",H.data);if(this.leftOver&&this.leftOver.length){if(x.uint8array){var W=F;(F=new Uint8Array(W.length+this.leftOver.length)).set(this.leftOver,0),F.set(W,this.leftOver.length)}else F=this.leftOver.concat(F);this.leftOver=null}var k=function(H,F){var W;for((F=F||H.length)>H.length&&(F=H.length),W=F-1;W>=0&&128==(192&H[W]);)W--;return W<0||0===W?F:W+N[H[W]]>F?W:F}(F),I=F;k!==F.length&&(x.uint8array?(I=F.subarray(0,k),this.leftOver=F.subarray(k,F.length)):(I=F.slice(0,k),this.leftOver=F.slice(k,F.length))),this.push({data:T.utf8decode(I),meta:H.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:T.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},T.Utf8DecodeWorker=S,D.inherits(E,L),E.prototype.processChunk=function(H){this.push({data:T.utf8encode(H.data),meta:H.meta})},T.Utf8EncodeWorker=E},function(U,T){U.exports="function"==typeof Object.create?function(v,S){v.super_=S,v.prototype=Object.create(S.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}})}:function(v,S){v.super_=S;var E=function(){};E.prototype=S.prototype,v.prototype=new E,v.prototype.constructor=v}},function(U,T,v){(function(S){function I(p){return Object.prototype.toString.call(p)}T.isArray=function(p){return Array.isArray?Array.isArray(p):"[object Array]"===I(p)},T.isBoolean=function(p){return"boolean"==typeof p},T.isNull=function(p){return null===p},T.isNullOrUndefined=function(p){return null==p},T.isNumber=function(p){return"number"==typeof p},T.isString=function(p){return"string"==typeof p},T.isSymbol=function(p){return"symbol"==typeof p},T.isUndefined=function(p){return void 0===p},T.isRegExp=function(p){return"[object RegExp]"===I(p)},T.isObject=function(p){return"object"==typeof p&&null!==p},T.isDate=function(p){return"[object Date]"===I(p)},T.isError=function(p){return"[object Error]"===I(p)||p instanceof Error},T.isFunction=function(p){return"function"==typeof p},T.isPrimitive=function(p){return null===p||"boolean"==typeof p||"number"==typeof p||"string"==typeof p||"symbol"==typeof p||void 0===p},T.isBuffer=S.isBuffer}).call(T,v(2).Buffer)},function(U,T,v){"use strict";var S;S="undefined"!=typeof Promise?Promise:v(80),U.exports={Promise:S}},function(U,T){var v;v=function(){return this}();try{v=v||Function("return this")()||(0,eval)("this")}catch(S){"object"==typeof window&&(v=window)}U.exports=v},function(U,T,v){function S(){E.call(this)}U.exports=S;var E=v(12).EventEmitter;v(7)(S,E),S.Readable=v(56),S.Writable=v(62),S.Duplex=v(63),S.Transform=v(64),S.PassThrough=v(65),S.Stream=S,S.prototype.pipe=function(D,x){function P(F){D.writable&&!1===D.write(F)&&z.pause&&z.pause()}function L(){z.readable&&z.resume&&z.resume()}function N(){H||(H=!0,D.end())}function R(){H||(H=!0,"function"==typeof D.destroy&&D.destroy())}function M(F){if(A(),0===E.listenerCount(this,"error"))throw F}function A(){z.removeListener("data",P),D.removeListener("drain",L),z.removeListener("end",N),z.removeListener("close",R),z.removeListener("error",M),D.removeListener("error",M),z.removeListener("end",A),z.removeListener("close",A),D.removeListener("close",A)}var z=this;z.on("data",P),D.on("drain",L),D._isStdio||x&&!1===x.end||(z.on("end",N),z.on("close",R));var H=!1;return z.on("error",M),D.on("error",M),z.on("end",A),z.on("close",A),D.on("close",A),D.emit("pipe",z),D}},function(U,T){function v(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function S(P){return"function"==typeof P}function D(P){return"object"==typeof P&&null!==P}function x(P){return void 0===P}U.exports=v,v.EventEmitter=v,v.prototype._events=void 0,v.prototype._maxListeners=void 0,v.defaultMaxListeners=10,v.prototype.setMaxListeners=function(P){if(!function(P){return"number"==typeof P}(P)||P<0||isNaN(P))throw TypeError("n must be a positive number");return this._maxListeners=P,this},v.prototype.emit=function(P){var L,N,R,M,A,z;if(this._events||(this._events={}),"error"===P&&(!this._events.error||D(this._events.error)&&!this._events.error.length)){if((L=arguments[1])instanceof Error)throw L;var H=new Error('Uncaught, unspecified "error" event. ('+L+")");throw H.context=L,H}if(x(N=this._events[P]))return!1;if(S(N))switch(arguments.length){case 1:N.call(this);break;case 2:N.call(this,arguments[1]);break;case 3:N.call(this,arguments[1],arguments[2]);break;default:M=Array.prototype.slice.call(arguments,1),N.apply(this,M)}else if(D(N))for(M=Array.prototype.slice.call(arguments,1),R=(z=N.slice()).length,A=0;A<R;A++)z[A].apply(this,M);return!0},v.prototype.on=v.prototype.addListener=function(P,L){var N;if(!S(L))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",P,S(L.listener)?L.listener:L),this._events[P]?D(this._events[P])?this._events[P].push(L):this._events[P]=[this._events[P],L]:this._events[P]=L,D(this._events[P])&&!this._events[P].warned&&(N=x(this._maxListeners)?v.defaultMaxListeners:this._maxListeners)&&N>0&&this._events[P].length>N&&(this._events[P].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[P].length),"function"==typeof console.trace&&console.trace()),this},v.prototype.once=function(P,L){function N(){this.removeListener(P,N),R||(R=!0,L.apply(this,arguments))}if(!S(L))throw TypeError("listener must be a function");var R=!1;return N.listener=L,this.on(P,N),this},v.prototype.removeListener=function(P,L){var N,R,M,A;if(!S(L))throw TypeError("listener must be a function");if(!this._events||!this._events[P])return this;if(M=(N=this._events[P]).length,R=-1,N===L||S(N.listener)&&N.listener===L)delete this._events[P],this._events.removeListener&&this.emit("removeListener",P,L);else if(D(N)){for(A=M;A-- >0;)if(N[A]===L||N[A].listener&&N[A].listener===L){R=A;break}if(R<0)return this;1===N.length?(N.length=0,delete this._events[P]):N.splice(R,1),this._events.removeListener&&this.emit("removeListener",P,L)}return this},v.prototype.removeAllListeners=function(P){var L,N;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[P]&&delete this._events[P],this;if(0===arguments.length){for(L in this._events)"removeListener"!==L&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events={},this}if(S(N=this._events[P]))this.removeListener(P,N);else if(N)for(;N.length;)this.removeListener(P,N[N.length-1]);return delete this._events[P],this},v.prototype.listeners=function(P){return this._events&&this._events[P]?S(this._events[P])?[this._events[P]]:this._events[P].slice():[]},v.prototype.listenerCount=function(P){if(this._events){var L=this._events[P];if(S(L))return 1;if(L)return L.length}return 0},v.listenerCount=function(P,L){return P.listenerCount(L)}},function(U,T){function v(){throw new Error("setTimeout has not been defined")}function S(){throw new Error("clearTimeout has not been defined")}function E(k){if(R===setTimeout)return setTimeout(k,0);if((R===v||!R)&&setTimeout)return R=setTimeout,setTimeout(k,0);try{return R(k,0)}catch(I){try{return R.call(null,k,0)}catch(p){return R.call(this,k,0)}}}function x(){F&&z&&(F=!1,z.length?H=z.concat(H):W=-1,H.length&&P())}function P(){if(!F){var k=E(x);F=!0;for(var I=H.length;I;){for(z=H,H=[];++W<I;)z&&z[W].run();W=-1,I=H.length}z=null,F=!1,function(k){if(M===clearTimeout)return clearTimeout(k);if((M===S||!M)&&clearTimeout)return M=clearTimeout,clearTimeout(k);try{M(k)}catch(I){try{return M.call(null,k)}catch(p){return M.call(this,k)}}}(k)}}function L(k,I){this.fun=k,this.array=I}function N(){}var R,M,A=U.exports={};!function(){try{R="function"==typeof setTimeout?setTimeout:v}catch(k){R=v}try{M="function"==typeof clearTimeout?clearTimeout:S}catch(k){M=S}}();var z,H=[],F=!1,W=-1;A.nextTick=function(k){var I=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)I[p-1]=arguments[p];H.push(new L(k,I)),1!==H.length||F||E(P)},L.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={},A.on=N,A.addListener=N,A.once=N,A.off=N,A.removeListener=N,A.removeAllListeners=N,A.emit=N,A.prependListener=N,A.prependOnceListener=N,A.listeners=function(k){return[]},A.binding=function(k){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(k){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},function(U,T,v){"use strict";(function(S){U.exports={isNode:void 0!==S,newBufferFrom:function(E,D){return new S(E,D)},allocBuffer:function(E){return S.alloc?S.alloc(E):new S(E)},isBuffer:function(E){return S.isBuffer(E)},isStream:function(E){return E&&"function"==typeof E.on&&"function"==typeof E.pause&&"function"==typeof E.resume}}}).call(T,v(2).Buffer)},function(U,T){var v=U.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=v)},function(U,T,v){"use strict";(function(S){U.exports=!S.version||0===S.version.indexOf("v0.")||0===S.version.indexOf("v1.")&&0!==S.version.indexOf("v1.8.")?function(D,x,P,L){if("function"!=typeof D)throw new TypeError('"callback" argument must be a function');var N,R,M=arguments.length;switch(M){case 0:case 1:return S.nextTick(D);case 2:return S.nextTick(function(){D.call(null,x)});case 3:return S.nextTick(function(){D.call(null,x,P)});case 4:return S.nextTick(function(){D.call(null,x,P,L)});default:for(N=new Array(M-1),R=0;R<N.length;)N[R++]=arguments[R];return S.nextTick(function(){D.apply(null,N)})}}:S.nextTick}).call(T,v(13))},function(U,T,v){"use strict";(function(S,E){function D(){}function x(_e,ie,ne){this.chunk=_e,this.encoding=ie,this.callback=ne,this.next=null}function P(_e,ie){Le=Le||v(5),this.objectMode=!!(_e=_e||{}).objectMode,ie instanceof Le&&(this.objectMode=this.objectMode||!!_e.writableObjectMode);var ne=_e.highWaterMark;this.highWaterMark=ne||0===ne?ne:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.decodeStrings=!(!1===_e.decodeStrings),this.defaultEncoding=_e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_){!function(_e,ie){var ne=_e._writableState,ge=ne.sync,me=ne.writecb;if(function(_e){_e.writing=!1,_e.writecb=null,_e.length-=_e.writelen,_e.writelen=0}(ne),ie)!function(_e,ie,ne,ge,me){--ie.pendingcb,ne?$e(me,ge):me(ge),_e._writableState.errorEmitted=!0,_e.emit("error",ge)}(_e,ne,ge,ie,me);else{var _=y(ne);_||ne.corked||ne.bufferProcessing||!ne.bufferedRequest||p(_e,ne),ge?ue(k,_e,ne,_,me):k(_e,ne,_,me)}}(ie,_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new te(this),this.corkedRequestsFree.next=new te(this)}function L(_e){if(Le=Le||v(5),!(this instanceof L||this instanceof Le))return new L(_e);this._writableState=new P(_e,this),this.writable=!0,_e&&("function"==typeof _e.write&&(this._write=_e.write),"function"==typeof _e.writev&&(this._writev=_e.writev)),Pe.call(this)}function A(_e,ie,ne,ge,me){ne=function(_e,ie,ne){return _e.objectMode||!1===_e.decodeStrings||"string"!=typeof ie||(ie=new ye(ie,ne)),ie}(ie,ne,ge),ye.isBuffer(ne)&&(ge="buffer");var _=ie.objectMode?1:ne.length;ie.length+=_;var b=ie.length<ie.highWaterMark;if(b||(ie.needDrain=!0),ie.writing||ie.corked){var G=ie.lastBufferedRequest;ie.lastBufferedRequest=new x(ne,ge,me),G?G.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else z(_e,ie,!1,_,ne,ge,me);return b}function z(_e,ie,ne,ge,me,_,b){ie.writelen=ge,ie.writecb=b,ie.writing=!0,ie.sync=!0,ne?_e._writev(me,ie.onwrite):_e._write(me,_,ie.onwrite),ie.sync=!1}function k(_e,ie,ne,ge){ne||function(_e,ie){0===ie.length&&ie.needDrain&&(ie.needDrain=!1,_e.emit("drain"))}(_e,ie),ie.pendingcb--,ge(),B(_e,ie)}function p(_e,ie){ie.bufferProcessing=!0;var ne=ie.bufferedRequest;if(_e._writev&&ne&&ne.next){var me=new Array(ie.bufferedRequestCount),_=ie.corkedRequestsFree;_.entry=ne;for(var b=0;ne;)me[b]=ne,ne=ne.next,b+=1;z(_e,ie,!0,ie.length,me,"",_.finish),ie.pendingcb++,ie.lastBufferedRequest=null,ie.corkedRequestsFree=_.next,_.next=null}else{for(;ne;){var G=ne.chunk;if(z(_e,ie,!1,ie.objectMode?1:G.length,G,ne.encoding,ne.callback),ne=ne.next,ie.writing)break}null===ne&&(ie.lastBufferedRequest=null)}ie.bufferedRequestCount=0,ie.bufferedRequest=ne,ie.bufferProcessing=!1}function y(_e){return _e.ending&&0===_e.length&&null===_e.bufferedRequest&&!_e.finished&&!_e.writing}function C(_e,ie){ie.prefinished||(ie.prefinished=!0,_e.emit("prefinish"))}function B(_e,ie){var ne=y(ie);return ne&&(0===ie.pendingcb?(C(_e,ie),ie.finished=!0,_e.emit("finish")):C(_e,ie)),ne}function te(_e){var ie=this;this.next=null,this.entry=null,this.finish=function(ne){var ge=ie.entry;for(ie.entry=null;ge;){var me=ge.callback;_e.pendingcb--,me(ne),ge=ge.next}_e.corkedRequestsFree?_e.corkedRequestsFree.next=ie:_e.corkedRequestsFree=ie}}U.exports=L;var $e=v(16),ue=!S.browser&&["v0.10","v0.9."].indexOf(S.version.slice(0,5))>-1?E:$e,ye=v(2).Buffer;L.WritableState=P;var Re=v(8);Re.inherits=v(7);var Pe,Le,Me={deprecate:v(60)};!function(){try{Pe=v(11)}catch(_e){}finally{Pe||(Pe=v(12).EventEmitter)}}(),ye=v(2).Buffer,Re.inherits(L,Pe),P.prototype.getBuffer=function(){for(var _e=this.bufferedRequest,ie=[];_e;)ie.push(_e),_e=_e.next;return ie},function(){try{Object.defineProperty(P.prototype,"buffer",{get:Me.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_e){}}(),L.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},L.prototype.write=function(_e,ie,ne){var ge=this._writableState,me=!1;return"function"==typeof ie&&(ne=ie,ie=null),ye.isBuffer(_e)?ie="buffer":ie||(ie=ge.defaultEncoding),"function"!=typeof ne&&(ne=D),ge.ended?function(_e,ie){var ne=new Error("write after end");_e.emit("error",ne),$e(ie,ne)}(this,ne):function(_e,ie,ne,ge){var me=!0;if(!ye.isBuffer(ne)&&"string"!=typeof ne&&null!=ne&&!ie.objectMode){var _=new TypeError("Invalid non-string/buffer chunk");_e.emit("error",_),$e(ge,_),me=!1}return me}(this,ge,_e,ne)&&(ge.pendingcb++,me=A(this,ge,_e,ie,ne)),me},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var _e=this._writableState;_e.corked&&(_e.corked--,_e.writing||_e.corked||_e.finished||_e.bufferProcessing||!_e.bufferedRequest||p(this,_e))},L.prototype.setDefaultEncoding=function(_e){if("string"==typeof _e&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_e);this._writableState.defaultEncoding=_e},L.prototype._write=function(_e,ie,ne){ne(new Error("not implemented"))},L.prototype._writev=null,L.prototype.end=function(_e,ie,ne){var ge=this._writableState;"function"==typeof _e?(ne=_e,_e=null,ie=null):"function"==typeof ie&&(ne=ie,ie=null),null!=_e&&this.write(_e,ie),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||ge.finished||function(_e,ie,ne){ie.ending=!0,B(_e,ie),ne&&(ie.finished?$e(ne):_e.once("finish",ne)),ie.ended=!0,_e.writable=!1}(this,ge,ne)}}).call(T,v(13),v(58).setImmediate)},function(U,T,v){"use strict";function S(N){this.afterTransform=function(R,M){return function(N,R,M){var A=N._transformState;A.transforming=!1;var z=A.writecb;if(!z)return N.emit("error",new Error("no writecb in Transform class"));A.writechunk=null,A.writecb=null,null!=M&&N.push(M),z(R);var H=N._readableState;H.reading=!1,(H.needReadable||H.length<H.highWaterMark)&&N._read(H.highWaterMark)}(N,R,M)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function D(N){if(!(this instanceof D))return new D(N);P.call(this,N),this._transformState=new S(this);var R=this;this._readableState.needReadable=!0,this._readableState.sync=!1,N&&("function"==typeof N.transform&&(this._transform=N.transform),"function"==typeof N.flush&&(this._flush=N.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(M){x(R,M)}):x(R)})}function x(N,R){if(R)return N.emit("error",R);var A=N._transformState;if(N._writableState.length)throw new Error("calling transform done when ws.length != 0");if(A.transforming)throw new Error("calling transform done when still transforming");return N.push(null)}U.exports=D;var P=v(5),L=v(8);L.inherits=v(7),L.inherits(D,P),D.prototype.push=function(N,R){return this._transformState.needTransform=!1,P.prototype.push.call(this,N,R)},D.prototype._transform=function(N,R,M){throw new Error("not implemented")},D.prototype._write=function(N,R,M){var A=this._transformState;if(A.writecb=M,A.writechunk=N,A.writeencoding=R,!A.transforming){var z=this._readableState;(A.needTransform||z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}},D.prototype._read=function(N){var R=this._transformState;null!==R.writechunk&&R.writecb&&!R.transforming?(R.transforming=!0,this._transform(R.writechunk,R.writeencoding,R.afterTransform)):R.needTransform=!0}},function(U,T){U.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},function(U,T,v){U.exports=!v(32)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(U,T,v){"use strict";function S(L,N,R,M,A){this.compressedSize=L,this.uncompressedSize=N,this.crc32=R,this.compression=M,this.compressedContent=A}var E=v(9),D=v(36),x=v(37),P=v(38);x=v(37),S.prototype={getContentWorker:function(){var L=new D(E.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),N=this;return L.on("end",function(){if(this.streamInfo.data_length!==N.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),L},getCompressedWorker:function(){return new D(E.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},S.createWorkerFrom=function(L,N,R){return L.pipe(new P).pipe(new x("uncompressedSize")).pipe(N.compressWorker(R)).pipe(new x("compressedSize")).withStreamInfo("compression",N)},U.exports=S},function(U,T,v){"use strict";var D=v(0),x=function(){for(var P,L=[],N=0;N<256;N++){P=N;for(var R=0;R<8;R++)P=1&P?3988292384^P>>>1:P>>>1;L[N]=P}return L}();U.exports=function(P,L){return void 0!==P&&P.length?"string"!==D.getTypeOf(P)?function(P,L,N,R){var M=x,A=R+N;P^=-1;for(var z=R;z<A;z++)P=P>>>8^M[255&(P^L[z])];return-1^P}(0|L,P,P.length,0):function(P,L,N,R){var M=x,A=R+N;P^=-1;for(var z=R;z<A;z++)P=P>>>8^M[255&(P^L.charCodeAt(z))];return-1^P}(0|L,P,P.length,0):0}},function(U,T,v){"use strict";U.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(U,T){var v={}.toString;U.exports=Array.isArray||function(S){return"[object Array]"==v.call(S)}},function(U,T,v){U.exports=v(11)},function(U,T,v){"use strict";(function(S){function E(_,b){ge=ge||v(5),this.objectMode=!!(_=_||{}).objectMode,b instanceof ge&&(this.objectMode=this.objectMode||!!_.readableObjectMode);var G=_.highWaterMark;this.highWaterMark=G||0===G?G:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=_.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_.encoding&&(ne||(ne=v(27).StringDecoder),this.decoder=new ne(_.encoding),this.encoding=_.encoding)}function D(_){if(ge=ge||v(5),!(this instanceof D))return new D(_);this._readableState=new E(_,this),this.readable=!0,_&&"function"==typeof _.read&&(this._read=_.read),Pe.call(this)}function x(_,b,G,c,O){var m=function(_,b){var G=null;return Re.isBuffer(b)||"string"==typeof b||null==b||_.objectMode||(G=new TypeError("Invalid non-string/buffer chunk")),G}(b,G);if(m)_.emit("error",m);else if(null===G)b.reading=!1,function(_,b){if(!b.ended){if(b.decoder){var G=b.decoder.end();G&&G.length&&(b.buffer.push(G),b.length+=b.objectMode?1:G.length)}b.ended=!0,A(_)}}(_,b);else if(b.objectMode||G&&G.length>0)if(b.ended&&!O){var V=new Error("stream.push() after EOF");_.emit("error",V)}else if(b.endEmitted&&O)V=new Error("stream.unshift() after end event"),_.emit("error",V);else{var X;!b.decoder||O||c||(G=b.decoder.write(G),X=!b.objectMode&&0===G.length),O||(b.reading=!1),X||(b.flowing&&0===b.length&&!b.sync?(_.emit("data",G),_.read(0)):(b.length+=b.objectMode?1:G.length,O?b.buffer.unshift(G):b.buffer.push(G),b.needReadable&&A(_))),function(_,b){b.readingMore||(b.readingMore=!0,ue(F,_,b))}(_,b)}else O||(b.reading=!1);return function(_){return!_.ended&&(_.needReadable||_.length<_.highWaterMark||0===_.length)}(b)}function N(_,b){return 0===b.length&&b.ended?0:b.objectMode?0===_?0:1:null===_||isNaN(_)?b.flowing&&b.buffer.length?b.buffer[0].length:b.length:_<=0?0:(_>b.highWaterMark&&(b.highWaterMark=function(_){return _>=me?_=me:(_--,_|=_>>>1,_|=_>>>2,_|=_>>>4,_|=_>>>8,_|=_>>>16,_++),_}(_)),_>b.length?b.ended?b.length:(b.needReadable=!0,0):_)}function A(_){var b=_._readableState;b.needReadable=!1,b.emittedReadable||(ie("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?ue(z,_):z(_))}function z(_){ie("emit readable"),_.emit("readable"),y(_)}function F(_,b){for(var G=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(ie("maybeReadMore read 0"),_.read(0),G!==b.length);)G=b.length;b.readingMore=!1}function k(_){ie("readable nexttick read 0"),_.read(0)}function p(_,b){b.reading||(ie("resume read 0"),_.read(0)),b.resumeScheduled=!1,_.emit("resume"),y(_),b.flowing&&!b.reading&&_.read(0)}function y(_){var b=_._readableState;if(ie("flow",b.flowing),b.flowing)do{var G=_.read()}while(null!==G&&b.flowing)}function C(_,b){var G,c=b.buffer,O=b.length,m=!!b.decoder;if(0===c.length)return null;if(0===O)G=null;else if(b.objectMode)G=c.shift();else if(!_||_>=O)G=m?c.join(""):1===c.length?c[0]:Re.concat(c,O),c.length=0;else if(_<c[0].length)G=(X=c[0]).slice(0,_),c[0]=X.slice(_);else if(_===c[0].length)G=c.shift();else{G=m?"":new Re(_);for(var Ee=0,He=0,Oe=c.length;He<Oe&&Ee<_;He++){var X=c[0],Ce=Math.min(_-Ee,X.length);m?G+=X.slice(0,Ce):X.copy(G,Ee,0,Ce),Ce<X.length?c[0]=X.slice(Ce):c.shift(),Ee+=Ce}}return G}function B(_){var b=_._readableState;if(b.length>0)throw new Error("endReadable called on non-empty stream");b.endEmitted||(b.ended=!0,ue(K,b,_))}function K(_,b){_.endEmitted||0!==_.length||(_.endEmitted=!0,b.readable=!1,b.emit("end"))}U.exports=D;var ue=v(16),ye=v(24),Re=v(2).Buffer;D.ReadableState=E;var Pe,Me=(v(12),function(_,b){return _.listeners(b).length});!function(){try{Pe=v(11)}catch(_){}finally{Pe||(Pe=v(12).EventEmitter)}}(),Re=v(2).Buffer;var Le=v(8);Le.inherits=v(7);var ne,ge,_e=v(57),ie=void 0;ie=_e&&_e.debuglog?_e.debuglog("stream"):function(){},Le.inherits(D,Pe),D.prototype.push=function(_,b){var G=this._readableState;return G.objectMode||"string"!=typeof _||(b=b||G.defaultEncoding)!==G.encoding&&(_=new Re(_,b),b=""),x(this,G,_,b,!1)},D.prototype.unshift=function(_){return x(this,this._readableState,_,"",!0)},D.prototype.isPaused=function(){return!1===this._readableState.flowing},D.prototype.setEncoding=function(_){return ne||(ne=v(27).StringDecoder),this._readableState.decoder=new ne(_),this._readableState.encoding=_,this};var me=8388608;D.prototype.read=function(_){ie("read",_);var b=this._readableState,G=_;if(("number"!=typeof _||_>0)&&(b.emittedReadable=!1),0===_&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return ie("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?B(this):A(this),null;if(0===(_=N(_,b))&&b.ended)return 0===b.length&&B(this),null;var O,c=b.needReadable;return ie("need readable",c),(0===b.length||b.length-_<b.highWaterMark)&&ie("length less than watermark",c=!0),(b.ended||b.reading)&&ie("reading or ended",c=!1),c&&(ie("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1),c&&!b.reading&&(_=N(G,b)),null===(O=_>0?C(_,b):null)&&(b.needReadable=!0,_=0),b.length-=_,0!==b.length||b.ended||(b.needReadable=!0),G!==_&&b.ended&&0===b.length&&B(this),null!==O&&this.emit("data",O),O},D.prototype._read=function(_){this.emit("error",new Error("not implemented"))},D.prototype.pipe=function(_,b){function G(pt){ie("onunpipe"),pt===Oe&&O()}function c(){ie("onend"),_.end()}function O(){ie("cleanup"),_.removeListener("close",X),_.removeListener("finish",Ee),_.removeListener("drain",it),_.removeListener("error",V),_.removeListener("unpipe",G),Oe.removeListener("end",c),Oe.removeListener("end",O),Oe.removeListener("data",m),xt=!0,!Ce.awaitDrain||_._writableState&&!_._writableState.needDrain||it()}function m(pt){ie("ondata"),!1===_.write(pt)&&(1!==Ce.pipesCount||Ce.pipes[0]!==_||1!==Oe.listenerCount("data")||xt||(ie("false write response, pause",Oe._readableState.awaitDrain),Oe._readableState.awaitDrain++),Oe.pause())}function V(pt){ie("onerror",pt),He(),_.removeListener("error",V),0===Me(_,"error")&&_.emit("error",pt)}function X(){_.removeListener("finish",Ee),He()}function Ee(){ie("onfinish"),_.removeListener("close",X),He()}function He(){ie("unpipe"),Oe.unpipe(_)}var Oe=this,Ce=this._readableState;switch(Ce.pipesCount){case 0:Ce.pipes=_;break;case 1:Ce.pipes=[Ce.pipes,_];break;default:Ce.pipes.push(_)}Ce.pipesCount+=1,ie("pipe count=%d opts=%j",Ce.pipesCount,b);var Ue=b&&!1===b.end||_===S.stdout||_===S.stderr?O:c;Ce.endEmitted?ue(Ue):Oe.once("end",Ue),_.on("unpipe",G);var it=function(_){return function(){var b=_._readableState;ie("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&Me(_,"data")&&(b.flowing=!0,y(_))}}(Oe);_.on("drain",it);var xt=!1;return Oe.on("data",m),_._events&&_._events.error?ye(_._events.error)?_._events.error.unshift(V):_._events.error=[V,_._events.error]:_.on("error",V),_.once("close",X),_.once("finish",Ee),_.emit("pipe",Oe),Ce.flowing||(ie("pipe resume"),Oe.resume()),_},D.prototype.unpipe=function(_){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return _&&_!==b.pipes||(_||(_=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,_&&_.emit("unpipe",this)),this;if(!_){var G=b.pipes,c=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var O=0;O<c;O++)G[O].emit("unpipe",this);return this}var m=function(_,b){for(var G=0,c=_.length;G<c;G++)if(_[G]===b)return G;return-1}(b.pipes,_);return-1===m||(b.pipes.splice(m,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),_.emit("unpipe",this)),this},D.prototype.addListener=D.prototype.on=function(_,b){var G=Pe.prototype.on.call(this,_,b);if("data"===_&&!1!==this._readableState.flowing&&this.resume(),"readable"===_&&!this._readableState.endEmitted){var c=this._readableState;c.readableListening||(c.readableListening=!0,c.emittedReadable=!1,c.needReadable=!0,c.reading?c.length&&A(this):ue(k,this))}return G},D.prototype.resume=function(){var _=this._readableState;return _.flowing||(ie("resume"),_.flowing=!0,function(_,b){b.resumeScheduled||(b.resumeScheduled=!0,ue(p,_,b))}(this,_)),this},D.prototype.pause=function(){return ie("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ie("pause"),this._readableState.flowing=!1,this.emit("pause")),this},D.prototype.wrap=function(_){var b=this._readableState,G=!1,c=this;for(var O in _.on("end",function(){if(ie("wrapped end"),b.decoder&&!b.ended){var m=b.decoder.end();m&&m.length&&c.push(m)}c.push(null)}),_.on("data",function(m){ie("wrapped data"),b.decoder&&(m=b.decoder.write(m)),(!b.objectMode||null!=m)&&(b.objectMode||m&&m.length)&&(c.push(m)||(G=!0,_.pause()))}),_)void 0===this[O]&&"function"==typeof _[O]&&(this[O]=function(m){return function(){return _[m].apply(_,arguments)}}(O));return function(_,b){for(var G=0,c=_.length;G<c;G++)b(_[G],G)}(["error","close","destroy","pause","resume"],function(m){_.on(m,c.emit.bind(c,m))}),c._read=function(m){ie("wrapped _read",m),G&&(G=!1,_.resume())},c},D._fromList=C}).call(T,v(13))},function(U,T,v){"use strict";function D(y){var C;switch(this.encoding=function(y){var C=function(y){if(!y)return"utf8";for(var C;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(C)return;y=(""+y).toLowerCase(),C=!0}}(y);if("string"!=typeof C&&(I.isEncoding===p||!p(y)))throw new Error("Unknown encoding: "+y);return C||y}(y),this.encoding){case"utf16le":this.text=A,this.end=z,C=4;break;case"utf8":this.fillLast=N,C=4;break;case"base64":this.text=H,this.end=F,C=3;break;default:return this.write=W,void(this.end=k)}this.lastNeed=0,this.lastTotal=0,this.lastChar=I.allocUnsafe(C)}function x(y){return y<=127?0:y>>5==6?2:y>>4==14?3:y>>3==30?4:-1}function N(y){var C=this.lastTotal-this.lastNeed,B=function(y,C,B){if(128!=(192&C[0]))return y.lastNeed=0,"\ufffd".repeat(B);if(y.lastNeed>1&&C.length>1){if(128!=(192&C[1]))return y.lastNeed=1,"\ufffd".repeat(B+1);if(y.lastNeed>2&&C.length>2&&128!=(192&C[2]))return y.lastNeed=2,"\ufffd".repeat(B+2)}}(this,y,C);return void 0!==B?B:this.lastNeed<=y.length?(y.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(y.copy(this.lastChar,C,0,y.length),void(this.lastNeed-=y.length))}function A(y,C){if((y.length-C)%2==0){var B=y.toString("utf16le",C);if(B){var K=B.charCodeAt(B.length-1);if(K>=55296&&K<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",C,y.length-1)}function z(y){var C=y&&y.length?this.write(y):"";return this.lastNeed?C+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):C}function H(y,C){var B=(y.length-C)%3;return 0===B?y.toString("base64",C):(this.lastNeed=3-B,this.lastTotal=3,1===B?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",C,y.length-B))}function F(y){var C=y&&y.length?this.write(y):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function W(y){return y.toString(this.encoding)}function k(y){return y&&y.length?this.write(y):""}var I=v(61).Buffer,p=I.isEncoding||function(y){switch((y=""+y)&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};T.StringDecoder=D,D.prototype.write=function(y){if(0===y.length)return"";var C,B;if(this.lastNeed){if(void 0===(C=this.fillLast(y)))return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<y.length?C?C+this.text(y,B):this.text(y,B):C||""},D.prototype.end=function(y){var C=y&&y.length?this.write(y):"";return this.lastNeed?C+"\ufffd".repeat(this.lastTotal-this.lastNeed):C},D.prototype.text=function(y,C){var B=function(y,C,B){var K=C.length-1;if(K<B)return 0;var te=x(C[K]);return te>=0?(te>0&&(y.lastNeed=te-1),te):--K<B?0:(te=x(C[K]))>=0?(te>0&&(y.lastNeed=te-2),te):--K<B?0:(te=x(C[K]))>=0?(te>0&&(2===te?te=0:y.lastNeed=te-3),te):0}(this,y,C);if(!this.lastNeed)return y.toString("utf8",C);this.lastTotal=B;var K=y.length-(B-this.lastNeed);return y.copy(this.lastChar,0,K),y.toString("utf8",C,K)},D.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length}},function(U,T,v){"use strict";function S(x){if(!(this instanceof S))return new S(x);E.call(this,x)}U.exports=S;var E=v(18),D=v(8);D.inherits=v(7),D.inherits(S,E),S.prototype._transform=function(x,P,L){L(null,x)}},function(U,T,v){"use strict";var S=v(0),E=v(3),D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";T.encode=function(x){for(var P,L,N,M,A,z,H=[],F=0,W=x.length,k=W,I="string"!==S.getTypeOf(x);F<x.length;)k=W-F,I?(P=x[F++],L=F<W?x[F++]:0,N=F<W?x[F++]:0):(P=x.charCodeAt(F++),L=F<W?x.charCodeAt(F++):0,N=F<W?x.charCodeAt(F++):0),M=(3&P)<<4|L>>4,A=k>1?(15&L)<<2|N>>6:64,z=k>2?63&N:64,H.push(D.charAt(P>>2)+D.charAt(M)+D.charAt(A)+D.charAt(z));return H.join("")},T.decode=function(x){var L,N,R,M,A,z,H=0,F=0;if("data:"===x.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var k,W=3*(x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(x.charAt(x.length-1)===D.charAt(64)&&W--,x.charAt(x.length-2)===D.charAt(64)&&W--,W%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=E.uint8array?new Uint8Array(0|W):new Array(0|W);H<x.length;)R=D.indexOf(x.charAt(H++)),L=(15&(M=D.indexOf(x.charAt(H++))))<<4|(A=D.indexOf(x.charAt(H++)))>>2,N=(3&A)<<6|(z=D.indexOf(x.charAt(H++))),k[F++]=R<<2|M>>4,64!==A&&(k[F++]=L),64!==z&&(k[F++]=N);return k}},function(U,T){var v=U.exports={version:"2.3.0"};"number"==typeof __e&&(__e=v)},function(U,T,v){var S=v(69);U.exports=function(E,D,x){if(S(E),void 0===D)return E;switch(x){case 1:return function(P){return E.call(D,P)};case 2:return function(P,L){return E.call(D,P,L)};case 3:return function(P,L,N){return E.call(D,P,L,N)}}return function(){return E.apply(D,arguments)}}},function(U,T){U.exports=function(v){try{return!!v()}catch(S){return!0}}},function(U,T,v){var S=v(19),E=v(15).document,D=S(E)&&S(E.createElement);U.exports=function(x){return D?E.createElement(x):{}}},function(U,T,v){"use strict";(function(S){function x(F,W){return new z.Promise(function(k,I){var p=[],y=F._internalType,C=F._outputType,B=F._mimeType;F.on("data",function(K,te){p.push(K),W&&W(te)}).on("error",function(K){p=[],I(K)}).on("end",function(){try{var K=function(F,W,k){switch(F){case"blob":return L.newBlob(L.transformTo("arraybuffer",W),k);case"base64":return M.encode(W);default:return L.transformTo(F,W)}}(C,function(F,W){var k,I=0,p=null,y=0;for(k=0;k<W.length;k++)y+=W[k].length;switch(F){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(p=new Uint8Array(y),k=0;k<W.length;k++)p.set(W[k],I),I+=W[k].length;return p;case"nodebuffer":return S.concat(W);default:throw new Error("concat : unsupported type '"+F+"'")}}(y,p),B);k(K)}catch(te){I(te)}p=[]}).resume()})}function P(F,W,k){var I=W;switch(W){case"blob":case"arraybuffer":I="uint8array";break;case"base64":I="string"}try{this._internalType=I,this._outputType=W,this._mimeType=k,L.checkSupport(I),this._worker=F.pipe(new N(I)),F.lock()}catch(p){this._worker=new R("error"),this._worker.error(p)}}var L=v(0),N=v(82),R=v(1),M=v(29),A=v(3),z=v(9),H=null;if(A.nodestream)try{H=v(83)}catch(F){}P.prototype={accumulate:function(F){return x(this,F)},on:function(F,W){var k=this;return this._worker.on(F,"data"===F?function(I){W.call(k,I.data,I.meta)}:function(){L.delay(W,arguments,k)}),this},resume:function(){return L.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(F){if(L.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new H(this,{objectMode:"nodebuffer"!==this._outputType},F)}},U.exports=P}).call(T,v(2).Buffer)},function(U,T,v){"use strict";T.base64=!1,T.binary=!1,T.dir=!1,T.createFolders=!0,T.date=null,T.compression=null,T.compressionOptions=null,T.comment=null,T.unixPermissions=null,T.dosPermissions=null},function(U,T,v){"use strict";function S(x){D.call(this,"DataWorker");var P=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(L){P.dataIsReady=!0,P.data=L,P.max=L&&L.length||0,P.type=E.getTypeOf(L),P.isPaused||P._tickAndRepeat()},function(L){P.error(L)})}var E=v(0),D=v(1);E.inherits(S,D),S.prototype.cleanUp=function(){D.prototype.cleanUp.call(this),this.data=null},S.prototype.resume=function(){return!!D.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,E.delay(this._tickAndRepeat,[],this)),!0)},S.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(E.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},S.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,P=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,P);break;case"uint8array":x=this.data.subarray(this.index,P);break;case"array":case"nodebuffer":x=this.data.slice(this.index,P)}return this.index=P,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},U.exports=S},function(U,T,v){"use strict";function S(x){D.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}var E=v(0),D=v(1);E.inherits(S,D),S.prototype.processChunk=function(x){x&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+x.data.length),D.prototype.processChunk.call(this,x)},U.exports=S},function(U,T,v){"use strict";function S(){E.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var E=v(1),D=v(22);v(0).inherits(S,E),S.prototype.processChunk=function(x){this.streamInfo.crc32=D(x.data,this.streamInfo.crc32||0),this.push(x)},U.exports=S},function(U,T,v){"use strict";var S=v(1);T.STORE={magic:"\0\0",compressWorker:function(E){return new S("STORE compression")},uncompressWorker:function(){return new S("STORE decompression")}},T.DEFLATE=v(86)},function(U,T,v){"use strict";U.exports=function(E,D,x,P){for(var L=65535&E|0,N=E>>>16&65535|0,R=0;0!==x;){x-=R=x>2e3?2e3:x;do{N=N+(L=L+D[P++]|0)|0}while(--R);L%=65521,N%=65521}return L|N<<16|0}},function(U,T,v){"use strict";var E=function(){for(var D,x=[],P=0;P<256;P++){D=P;for(var L=0;L<8;L++)D=1&D?3988292384^D>>>1:D>>>1;x[P]=D}return x}();U.exports=function(D,x,P,L){var N=E,R=L+P;D^=-1;for(var M=L;M<R;M++)D=D>>>8^N[255&(D^x[M])];return-1^D}},function(U,T,v){"use strict";function S(N,R){if(R<65537&&(N.subarray&&x||!N.subarray&&D))return String.fromCharCode.apply(null,E.shrinkBuf(N,R));for(var M="",A=0;A<R;A++)M+=String.fromCharCode(N[A]);return M}var E=v(4),D=!0,x=!0;try{String.fromCharCode.apply(null,[0])}catch(N){D=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(N){x=!1}for(var P=new E.Buf8(256),L=0;L<256;L++)P[L]=L>=252?6:L>=248?5:L>=240?4:L>=224?3:L>=192?2:1;P[254]=P[254]=1,T.string2buf=function(N){var R,M,A,z,H,F=N.length,W=0;for(z=0;z<F;z++)55296==(64512&(M=N.charCodeAt(z)))&&z+1<F&&56320==(64512&(A=N.charCodeAt(z+1)))&&(M=65536+(M-55296<<10)+(A-56320),z++),W+=M<128?1:M<2048?2:M<65536?3:4;for(R=new E.Buf8(W),H=0,z=0;H<W;z++)55296==(64512&(M=N.charCodeAt(z)))&&z+1<F&&56320==(64512&(A=N.charCodeAt(z+1)))&&(M=65536+(M-55296<<10)+(A-56320),z++),M<128?R[H++]=M:M<2048?(R[H++]=192|M>>>6,R[H++]=128|63&M):M<65536?(R[H++]=224|M>>>12,R[H++]=128|M>>>6&63,R[H++]=128|63&M):(R[H++]=240|M>>>18,R[H++]=128|M>>>12&63,R[H++]=128|M>>>6&63,R[H++]=128|63&M);return R},T.buf2binstring=function(N){return S(N,N.length)},T.binstring2buf=function(N){for(var R=new E.Buf8(N.length),M=0,A=R.length;M<A;M++)R[M]=N.charCodeAt(M);return R},T.buf2string=function(N,R){var M,A,z,H,F=R||N.length,W=new Array(2*F);for(A=0,M=0;M<F;)if((z=N[M++])<128)W[A++]=z;else if((H=P[z])>4)W[A++]=65533,M+=H-1;else{for(z&=2===H?31:3===H?15:7;H>1&&M<F;)z=z<<6|63&N[M++],H--;H>1?W[A++]=65533:z<65536?W[A++]=z:(W[A++]=55296|(z-=65536)>>10&1023,W[A++]=56320|1023&z)}return S(W,A)},T.utf8border=function(N,R){var M;for((R=R||N.length)>N.length&&(R=N.length),M=R-1;M>=0&&128==(192&N[M]);)M--;return M<0||0===M?R:M+P[N[M]]>R?M:R}},function(U,T,v){"use strict";U.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(U,T,v){"use strict";U.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(U,T,v){"use strict";T.LOCAL_FILE_HEADER="PK\x03\x04",T.CENTRAL_FILE_HEADER="PK\x01\x02",T.CENTRAL_DIRECTORY_END="PK\x05\x06",T.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",T.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",T.DATA_DESCRIPTOR="PK\x07\b"},function(U,T,v){"use strict";var S=v(0),E=v(3),D=v(47),x=v(100),P=v(101),L=v(49);U.exports=function(N){var R=S.getTypeOf(N);return S.checkSupport(R),"string"!==R||E.uint8array?"nodebuffer"===R?new P(N):E.uint8array?new L(S.transformTo("uint8array",N)):new D(S.transformTo("array",N)):new x(N)}},function(U,T,v){"use strict";function S(D){E.call(this,D);for(var x=0;x<this.data.length;x++)D[x]=255&D[x]}var E=v(48);v(0).inherits(S,E),S.prototype.byteAt=function(D){return this.data[this.zero+D]},S.prototype.lastIndexOfSignature=function(D){for(var x=D.charCodeAt(0),P=D.charCodeAt(1),L=D.charCodeAt(2),N=D.charCodeAt(3),R=this.length-4;R>=0;--R)if(this.data[R]===x&&this.data[R+1]===P&&this.data[R+2]===L&&this.data[R+3]===N)return R-this.zero;return-1},S.prototype.readAndCheckSignature=function(D){var x=D.charCodeAt(0),P=D.charCodeAt(1),L=D.charCodeAt(2),N=D.charCodeAt(3),R=this.readData(4);return x===R[0]&&P===R[1]&&L===R[2]&&N===R[3]},S.prototype.readData=function(D){if(this.checkOffset(D),0===D)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+D);return this.index+=D,x},U.exports=S},function(U,T,v){"use strict";function S(D){this.data=D,this.length=D.length,this.index=0,this.zero=0}var E=v(0);S.prototype={checkOffset:function(D){this.checkIndex(this.index+D)},checkIndex:function(D){if(this.length<this.zero+D||D<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+D+"). Corrupted zip ?")},setIndex:function(D){this.checkIndex(D),this.index=D},skip:function(D){this.setIndex(this.index+D)},byteAt:function(D){},readInt:function(D){var x,P=0;for(this.checkOffset(D),x=this.index+D-1;x>=this.index;x--)P=(P<<8)+this.byteAt(x);return this.index+=D,P},readString:function(D){return E.transformTo("string",this.readData(D))},readData:function(D){},lastIndexOfSignature:function(D){},readAndCheckSignature:function(D){},readDate:function(){var D=this.readInt(4);return new Date(Date.UTC(1980+(D>>25&127),(D>>21&15)-1,D>>16&31,D>>11&31,D>>5&63,(31&D)<<1))}},U.exports=S},function(U,T,v){"use strict";function S(D){E.call(this,D)}var E=v(47);v(0).inherits(S,E),S.prototype.readData=function(D){if(this.checkOffset(D),0===D)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+D);return this.index+=D,x},U.exports=S},function(U,T,v){"use strict";function S(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(T,"__esModule",{value:!0});var D=S(v(51)),P=S(v(52)),N=S(v(103));T.default=D.default.plugins.add("gjs-plugin-export",function(R,M){var A=M||{},H=R.getConfig().stylePrefix,F=document.createElement("BUTTON"),W={addExportBtn:1,btnLabel:"Export to ZIP",preHtml:'<!doctype html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="./css/style.css"></head><body>',postHtml:"</body><html>",preCss:"",postCss:""};for(var k in W)k in A||(A[k]=W[k]);F.innerHTML=A.btnLabel,F.className=H+"btn-prim",R.Commands.add("gjs-export-zip",{run:function(){var I=new P.default,p=I.folder("css"),y="grapesjs_template_"+Date.now()+".zip";I.file("index.html",A.preHtml+R.getHtml()+A.postHtml),p.file("style.css",A.preCss+R.getCss()+A.postCss),I.generateAsync({type:"blob"}).then(function(C){N.default.saveAs(C,y)})}}),A.addExportBtn&&R.on("run:export-template",function(){R.Modal.getContentEl().appendChild(F),F.onclick=function(){R.runCommand("gjs-export-zip")}})})},function(U,T){U.exports=Q},function(U,T,v){"use strict";function S(){if(!(this instanceof S))return new S;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var E=new S;for(var D in this)"function"!=typeof this[D]&&(E[D]=this[D]);return E}}(S.prototype=v(53)).loadAsync=v(98),S.support=v(3),S.defaults=v(35),S.version="3.1.5",S.loadAsync=function(E,D){return(new S).loadAsync(E,D)},S.external=v(9),U.exports=S},function(U,T,v){"use strict";function S(p){return"[object RegExp]"===Object.prototype.toString.call(p)}var E=v(6),D=v(0),x=v(1),P=v(34),L=v(35),N=v(21),R=v(84),M=v(85),A=v(14),z=v(97),H=function(p,y,C){var B,K=D.getTypeOf(y),te=D.extend(C||{},L);te.date=te.date||new Date,null!==te.compression&&(te.compression=te.compression.toUpperCase()),"string"==typeof te.unixPermissions&&(te.unixPermissions=parseInt(te.unixPermissions,8)),te.unixPermissions&&16384&te.unixPermissions&&(te.dir=!0),te.dosPermissions&&16&te.dosPermissions&&(te.dir=!0),te.dir&&(p=W(p)),te.createFolders&&(B=F(p))&&k.call(this,B,!0),C&&void 0!==C.binary||(te.binary=!("string"===K&&!1===te.binary&&!1===te.base64)),(y instanceof N&&0===y.uncompressedSize||te.dir||!y||0===y.length)&&(te.base64=!1,te.binary=!0,y="",te.compression="STORE",K="string");var ue;ue=y instanceof N||y instanceof x?y:A.isNode&&A.isStream(y)?new z(p,y):D.prepareContent(p,y,te.binary,te.optimizedBinaryString,te.base64);var ye=new R(p,ue,te);this.files[p]=ye},F=function(p){"/"===p.slice(-1)&&(p=p.substring(0,p.length-1));var y=p.lastIndexOf("/");return y>0?p.substring(0,y):""},W=function(p){return"/"!==p.slice(-1)&&(p+="/"),p},k=function(p,y){return y=void 0!==y?y:L.createFolders,p=W(p),this.files[p]||H.call(this,p,null,{dir:!0,createFolders:y}),this.files[p]},I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(p){var y,C,B;for(y in this.files)this.files.hasOwnProperty(y)&&(B=this.files[y],(C=y.slice(this.root.length,y.length))&&y.slice(0,this.root.length)===this.root&&p(C,B))},filter:function(p){var y=[];return this.forEach(function(C,B){p(C,B)&&y.push(B)}),y},file:function(p,y,C){if(1===arguments.length){if(S(p)){var B=p;return this.filter(function(te,$e){return!$e.dir&&B.test(te)})}var K=this.files[this.root+p];return K&&!K.dir?K:null}return H.call(this,p=this.root+p,y,C),this},folder:function(p){if(!p)return this;if(S(p))return this.filter(function(K,te){return te.dir&&p.test(K)});var C=k.call(this,this.root+p),B=this.clone();return B.root=C.name,B},remove:function(p){var y=this.files[p=this.root+p];if(y||("/"!==p.slice(-1)&&(p+="/"),y=this.files[p]),y&&!y.dir)delete this.files[p];else for(var C=this.filter(function(K,te){return te.name.slice(0,p.length)===p}),B=0;B<C.length;B++)delete this.files[C[B].name];return this},generate:function(p){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(p){var y,C={};try{if((C=D.extend(p||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:E.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),"binarystring"===C.type&&(C.type="string"),!C.type)throw new Error("No output type specified.");D.checkSupport(C.type),"darwin"!==C.platform&&"freebsd"!==C.platform&&"linux"!==C.platform&&"sunos"!==C.platform||(C.platform="UNIX"),"win32"===C.platform&&(C.platform="DOS"),y=M.generateWorker(this,C,C.comment||this.comment||"")}catch(K){(y=new x("error")).error(K)}return new P(y,C.type||"string",C.mimeType)},generateAsync:function(p,y){return this.generateInternalStream(p).accumulate(y)},generateNodeStream:function(p,y){return(p=p||{}).type||(p.type="nodebuffer"),this.generateInternalStream(p).toNodejsStream(y)}};U.exports=I},function(U,T,v){"use strict";function S(F){var W=F.length;if(W%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===F[W-2]?2:"="===F[W-1]?1:0}function x(F){return N[F>>18&63]+N[F>>12&63]+N[F>>6&63]+N[63&F]}function P(F,W,k){for(var p=[],y=W;y<k;y+=3)p.push(x((F[y]<<16)+(F[y+1]<<8)+F[y+2]));return p.join("")}T.byteLength=function(F){return 3*F.length/4-S(F)},T.toByteArray=function(F){var W,k,I,p,y,C=F.length;p=S(F),y=new M(3*C/4-p),k=p>0?C-4:C;var B=0;for(W=0;W<k;W+=4)I=R[F.charCodeAt(W)]<<18|R[F.charCodeAt(W+1)]<<12|R[F.charCodeAt(W+2)]<<6|R[F.charCodeAt(W+3)],y[B++]=I>>16&255,y[B++]=I>>8&255,y[B++]=255&I;return 2===p?(I=R[F.charCodeAt(W)]<<2|R[F.charCodeAt(W+1)]>>4,y[B++]=255&I):1===p&&(I=R[F.charCodeAt(W)]<<10|R[F.charCodeAt(W+1)]<<4|R[F.charCodeAt(W+2)]>>2,y[B++]=I>>8&255,y[B++]=255&I),y},T.fromByteArray=function(F){for(var W,k=F.length,I=k%3,p="",y=[],C=0,B=k-I;C<B;C+=16383)y.push(P(F,C,C+16383>B?B:C+16383));return 1===I?(p+=N[(W=F[k-1])>>2],p+=N[W<<4&63],p+="=="):2===I&&(p+=N[(W=(F[k-2]<<8)+F[k-1])>>10],p+=N[W>>4&63],p+=N[W<<2&63],p+="="),y.push(p),y.join("")};for(var N=[],R=[],M="undefined"!=typeof Uint8Array?Uint8Array:Array,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=0,H=A.length;z<H;++z)N[z]=A[z],R[A.charCodeAt(z)]=z;R["-".charCodeAt(0)]=62,R["_".charCodeAt(0)]=63},function(U,T){T.read=function(v,S,E,D,x){var P,L,N=8*x-D-1,R=(1<<N)-1,M=R>>1,A=-7,z=E?x-1:0,H=E?-1:1,F=v[S+z];for(z+=H,P=F&(1<<-A)-1,F>>=-A,A+=N;A>0;P=256*P+v[S+z],z+=H,A-=8);for(L=P&(1<<-A)-1,P>>=-A,A+=D;A>0;L=256*L+v[S+z],z+=H,A-=8);if(0===P)P=1-M;else{if(P===R)return L?NaN:1/0*(F?-1:1);L+=Math.pow(2,D),P-=M}return(F?-1:1)*L*Math.pow(2,P-D)},T.write=function(v,S,E,D,x,P){var L,N,R,M=8*P-x-1,A=(1<<M)-1,z=A>>1,H=23===x?Math.pow(2,-24)-Math.pow(2,-77):0,F=D?0:P-1,W=D?1:-1,k=S<0||0===S&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(N=isNaN(S)?1:0,L=A):(L=Math.floor(Math.log(S)/Math.LN2),S*(R=Math.pow(2,-L))<1&&(L--,R*=2),(S+=L+z>=1?H/R:H*Math.pow(2,1-z))*R>=2&&(L++,R/=2),L+z>=A?(N=0,L=A):L+z>=1?(N=(S*R-1)*Math.pow(2,x),L+=z):(N=S*Math.pow(2,z-1)*Math.pow(2,x),L=0));x>=8;v[E+F]=255&N,F+=W,N/=256,x-=8);for(L=L<<x|N,M+=x;M>0;v[E+F]=255&L,F+=W,L/=256,M-=8);v[E+F-W]|=128*k}},function(U,T,v){var S=function(){try{return v(11)}catch(E){}}();(T=U.exports=v(26)).Stream=S||T,T.Readable=T,T.Writable=v(17),T.Duplex=v(5),T.Transform=v(18),T.PassThrough=v(28)},function(U,T){},function(U,T,v){function S(D,x){this._id=D,this._clearFn=x}var E=Function.prototype.apply;T.setTimeout=function(){return new S(E.call(setTimeout,window,arguments),clearTimeout)},T.setInterval=function(){return new S(E.call(setInterval,window,arguments),clearInterval)},T.clearTimeout=T.clearInterval=function(D){D&&D.close()},S.prototype.unref=S.prototype.ref=function(){},S.prototype.close=function(){this._clearFn.call(window,this._id)},T.enroll=function(D,x){clearTimeout(D._idleTimeoutId),D._idleTimeout=x},T.unenroll=function(D){clearTimeout(D._idleTimeoutId),D._idleTimeout=-1},T._unrefActive=T.active=function(D){clearTimeout(D._idleTimeoutId);var x=D._idleTimeout;x>=0&&(D._idleTimeoutId=setTimeout(function(){D._onTimeout&&D._onTimeout()},x))},v(59),T.setImmediate=se,T.clearImmediate=re},function(U,T,v){(function(S,E){!function(D,x){"use strict";function L(k){delete z[k]}function R(k){if(H)setTimeout(R,0,k);else{var I=z[k];if(I){H=!0;try{!function(k){var I=k.callback,p=k.args;switch(p.length){case 0:I();break;case 1:I(p[0]);break;case 2:I(p[0],p[1]);break;case 3:I(p[0],p[1],p[2]);break;default:I.apply(void 0,p)}}(I)}finally{L(k),H=!1}}}}if(!D.setImmediate){var M,A=1,z={},H=!1,F=D.document,W=Object.getPrototypeOf&&Object.getPrototypeOf(D);W=W&&W.setTimeout?W:D,"[object process]"==={}.toString.call(D.process)?M=function(k){E.nextTick(function(){R(k)})}:function(){if(D.postMessage&&!D.importScripts){var k=!0,I=D.onmessage;return D.onmessage=function(){k=!1},D.postMessage("","*"),D.onmessage=I,k}}()?(k="setImmediate$"+Math.random()+"$",I=function(p){p.source===D&&"string"==typeof p.data&&0===p.data.indexOf(k)&&R(+p.data.slice(k.length))},D.addEventListener?D.addEventListener("message",I,!1):D.attachEvent("onmessage",I),M=function(p){D.postMessage(k+p,"*")}):D.MessageChannel?function(){var k=new MessageChannel;k.port1.onmessage=function(I){R(I.data)},M=function(I){k.port2.postMessage(I)}}():F&&"onreadystatechange"in F.createElement("script")?function(){var k=F.documentElement;M=function(I){var p=F.createElement("script");p.onreadystatechange=function(){R(I),p.onreadystatechange=null,k.removeChild(p),p=null},k.appendChild(p)}}():M=function(k){setTimeout(R,0,k)},W.setImmediate=function(k){"function"!=typeof k&&(k=new Function(""+k));for(var I=new Array(arguments.length-1),p=0;p<I.length;p++)I[p]=arguments[p+1];return z[A]={callback:k,args:I},M(A),A++},W.clearImmediate=L}var k,I}("undefined"==typeof self?void 0===S?this:S:self)}).call(T,v(10),v(13))},function(U,T,v){(function(S){function D(x){try{if(!S.localStorage)return!1}catch(L){return!1}var P=S.localStorage[x];return null!=P&&"true"===String(P).toLowerCase()}U.exports=function(x,P){if(D("noDeprecation"))return x;var N=!1;return function(){if(!N){if(D("throwDeprecation"))throw new Error(P);D("traceDeprecation")?console.trace(P):console.warn(P),N=!0}return x.apply(this,arguments)}}}).call(T,v(10))},function(U,T,v){function S(P,L){for(var N in P)L[N]=P[N]}function E(P,L,N){return x(P,L,N)}var D=v(2),x=D.Buffer;x.from&&x.alloc&&x.allocUnsafe&&x.allocUnsafeSlow?U.exports=D:(S(D,T),T.Buffer=E),S(x,E),E.from=function(P,L,N){if("number"==typeof P)throw new TypeError("Argument must not be a number");return x(P,L,N)},E.alloc=function(P,L,N){if("number"!=typeof P)throw new TypeError("Argument must be a number");var R=x(P);return void 0!==L?"string"==typeof N?R.fill(L,N):R.fill(L):R.fill(0),R},E.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return x(P)},E.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return D.SlowBuffer(P)}},function(U,T,v){U.exports=v(17)},function(U,T,v){U.exports=v(5)},function(U,T,v){U.exports=v(18)},function(U,T,v){U.exports=v(28)},function(U,T,v){v(67),U.exports=v(30).setImmediate},function(U,T,v){var S=v(68),E=v(76);S(S.G+S.B,{setImmediate:E.set,clearImmediate:E.clear})},function(U,T,v){var S=v(15),E=v(30),D=v(31),x=v(70),P=function(L,N,R){var M,A,z,H=L&P.F,F=L&P.G,W=L&P.S,k=L&P.P,I=L&P.B,p=L&P.W,y=F?E:E[N]||(E[N]={}),C=y.prototype,B=F?S:W?S[N]:(S[N]||{}).prototype;for(M in F&&(R=N),R)(A=!H&&B&&void 0!==B[M])&&M in y||(z=A?B[M]:R[M],y[M]=F&&"function"!=typeof B[M]?R[M]:I&&A?D(z,S):p&&B[M]==z?function(K){var te=function($e,ue,ye){if(this instanceof K){switch(arguments.length){case 0:return new K;case 1:return new K($e);case 2:return new K($e,ue)}return new K($e,ue,ye)}return K.apply(this,arguments)};return te.prototype=K.prototype,te}(z):k&&"function"==typeof z?D(Function.call,z):z,k&&((y.virtual||(y.virtual={}))[M]=z,L&P.R&&C&&!C[M]&&x(C,M,z)))};P.F=1,P.G=2,P.S=4,P.P=8,P.B=16,P.W=32,P.U=64,P.R=128,U.exports=P},function(U,T){U.exports=function(v){if("function"!=typeof v)throw TypeError(v+" is not a function!");return v}},function(U,T,v){var S=v(71),E=v(75);U.exports=v(20)?function(D,x,P){return S.f(D,x,E(1,P))}:function(D,x,P){return D[x]=P,D}},function(U,T,v){var S=v(72),E=v(73),D=v(74),x=Object.defineProperty;T.f=v(20)?Object.defineProperty:function(P,L,N){if(S(P),L=D(L,!0),S(N),E)try{return x(P,L,N)}catch(R){}if("get"in N||"set"in N)throw TypeError("Accessors not supported!");return"value"in N&&(P[L]=N.value),P}},function(U,T,v){var S=v(19);U.exports=function(E){if(!S(E))throw TypeError(E+" is not an object!");return E}},function(U,T,v){U.exports=!v(20)&&!v(32)(function(){return 7!=Object.defineProperty(v(33)("div"),"a",{get:function(){return 7}}).a})},function(U,T,v){var S=v(19);U.exports=function(E,D){if(!S(E))return E;var x,P;if(D&&"function"==typeof(x=E.toString)&&!S(P=x.call(E))||"function"==typeof(x=E.valueOf)&&!S(P=x.call(E))||!D&&"function"==typeof(x=E.toString)&&!S(P=x.call(E)))return P;throw TypeError("Can't convert object to primitive value")}},function(U,T){U.exports=function(v,S){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:S}}},function(U,T,v){var S,E,D,x=v(31),P=v(77),L=v(78),N=v(33),R=v(15),M=R.process,A=R.setImmediate,z=R.clearImmediate,H=R.MessageChannel,F=0,W={},k=function(){var p=+this;if(W.hasOwnProperty(p)){var y=W[p];delete W[p],y()}},I=function(p){k.call(p.data)};A&&z||(A=function(p){for(var y=[],C=1;arguments.length>C;)y.push(arguments[C++]);return W[++F]=function(){P("function"==typeof p?p:Function(p),y)},S(F),F},z=function(p){delete W[p]},"process"==v(79)(M)?S=function(p){M.nextTick(x(k,p,1))}:H?(D=(E=new H).port2,E.port1.onmessage=I,S=x(D.postMessage,D,1)):R.addEventListener&&"function"==typeof postMessage&&!R.importScripts?(S=function(p){R.postMessage(p+"","*")},R.addEventListener("message",I,!1)):S="onreadystatechange"in N("script")?function(p){L.appendChild(N("script")).onreadystatechange=function(){L.removeChild(this),k.call(p)}}:function(p){setTimeout(x(k,p,1),0)}),U.exports={set:A,clear:z}},function(U,T){U.exports=function(v,S,E){var D=void 0===E;switch(S.length){case 0:return D?v():v.call(E);case 1:return D?v(S[0]):v.call(E,S[0]);case 2:return D?v(S[0],S[1]):v.call(E,S[0],S[1]);case 3:return D?v(S[0],S[1],S[2]):v.call(E,S[0],S[1],S[2]);case 4:return D?v(S[0],S[1],S[2],S[3]):v.call(E,S[0],S[1],S[2],S[3])}return v.apply(E,S)}},function(U,T,v){U.exports=v(15).document&&document.documentElement},function(U,T){var v={}.toString;U.exports=function(S){return v.call(S).slice(8,-1)}},function(U,T,v){"use strict";function S(){}function E(p){if("function"!=typeof p)throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,p!==S&&L(this,p)}function D(p,y,C){this.promise=p,"function"==typeof y&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),"function"==typeof C&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function x(p,y,C){H(function(){var B;try{B=y(C)}catch(K){return F.reject(p,K)}B===p?F.reject(p,new TypeError("Cannot resolve promise with itself")):F.resolve(p,B)})}function P(p){var y=p&&p.then;if(p&&("object"==typeof p||"function"==typeof p)&&"function"==typeof y)return function(){y.apply(p,arguments)}}function L(p,y){function C(ue){te||(te=!0,F.reject(p,ue))}function B(ue){te||(te=!0,F.resolve(p,ue))}var te=!1,$e=N(function(){y(B,C)});"error"===$e.status&&C($e.value)}function N(p,y){var C={};try{C.value=p(y),C.status="success"}catch(B){C.status="error",C.value=B}return C}var H=v(81),F={},W=["REJECTED"],k=["FULFILLED"],I=["PENDING"];U.exports=E,E.prototype.catch=function(p){return this.then(null,p)},E.prototype.then=function(p,y){if("function"!=typeof p&&this.state===k||"function"!=typeof y&&this.state===W)return this;var C=new this.constructor(S);return this.state!==I?x(C,this.state===k?p:y,this.outcome):this.queue.push(new D(C,p,y)),C},D.prototype.callFulfilled=function(p){F.resolve(this.promise,p)},D.prototype.otherCallFulfilled=function(p){x(this.promise,this.onFulfilled,p)},D.prototype.callRejected=function(p){F.reject(this.promise,p)},D.prototype.otherCallRejected=function(p){x(this.promise,this.onRejected,p)},F.resolve=function(p,y){var C=N(P,y);if("error"===C.status)return F.reject(p,C.value);var B=C.value;if(B)L(p,B);else{p.state=k,p.outcome=y;for(var K=-1,te=p.queue.length;++K<te;)p.queue[K].callFulfilled(y)}return p},F.reject=function(p,y){p.state=W,p.outcome=y;for(var C=-1,B=p.queue.length;++C<B;)p.queue[C].callRejected(y);return p},E.resolve=function(p){return p instanceof this?p:F.resolve(new this(S),p)},E.reject=function(p){var y=new this(S);return F.reject(y,p)},E.all=function(p){var y=this;if("[object Array]"!==Object.prototype.toString.call(p))return this.reject(new TypeError("must be an array"));var C=p.length,B=!1;if(!C)return this.resolve([]);for(var K=new Array(C),te=0,$e=-1,ue=new this(S);++$e<C;)!function(ye,Re){y.resolve(ye).then(function(Me){K[Re]=Me,++te!==C||B||(B=!0,F.resolve(ue,K))},function(Me){B||(B=!0,F.reject(ue,Me))})}(p[$e],$e);return ue},E.race=function(p){if("[object Array]"!==Object.prototype.toString.call(p))return this.reject(new TypeError("must be an array"));var C=p.length,B=!1;if(!C)return this.resolve([]);for(var K=-1,te=new this(S);++K<C;)this.resolve(p[K]).then(function(ue){B||(B=!0,F.resolve(te,ue))},function(ue){B||(B=!0,F.reject(te,ue))});return te}},function(U,T,v){"use strict";(function(S){function E(){A=!0;for(var H,F,W=z.length;W;){for(F=z,z=[],H=-1;++H<W;)F[H]();W=z.length}A=!1}var x,P=S.MutationObserver||S.WebKitMutationObserver;if(P){var L=0,N=new P(E),R=S.document.createTextNode("");N.observe(R,{characterData:!0}),x=function(){R.data=L=++L%2}}else if(S.setImmediate||void 0===S.MessageChannel)x="document"in S&&"onreadystatechange"in S.document.createElement("script")?function(){var H=S.document.createElement("script");H.onreadystatechange=function(){E(),H.onreadystatechange=null,H.parentNode.removeChild(H),H=null},S.document.documentElement.appendChild(H)}:function(){setTimeout(E,0)};else{var M=new S.MessageChannel;M.port1.onmessage=E,x=function(){M.port2.postMessage(0)}}var A,z=[];U.exports=function(H){1!==z.push(H)||A||x()}}).call(T,v(10))},function(U,T,v){"use strict";function S(x){E.call(this,"ConvertWorker to "+x),this.destType=x}var E=v(1),D=v(0);D.inherits(S,E),S.prototype.processChunk=function(x){this.push({data:D.transformTo(this.destType,x.data),meta:x.meta})},U.exports=S},function(U,T,v){"use strict";function S(D,x,P){E.call(this,x),this._helper=D;var L=this;D.on("data",function(N,R){L.push(N)||L._helper.pause(),P&&P(R)}).on("error",function(N){L.emit("error",N)}).on("end",function(){L.push(null)})}var E=v(25).Readable;v(0).inherits(S,E),S.prototype._read=function(){this._helper.resume()},U.exports=S},function(U,T,v){"use strict";var S=v(34),E=v(36),D=v(6),x=v(21),P=v(1),L=function(A,z,H){this.name=A,this.dir=H.dir,this.date=H.date,this.comment=H.comment,this.unixPermissions=H.unixPermissions,this.dosPermissions=H.dosPermissions,this._data=z,this._dataBinary=H.binary,this.options={compression:H.compression,compressionOptions:H.compressionOptions}};L.prototype={internalStream:function(A){var z=null,H="string";try{if(!A)throw new Error("No output type specified.");var F="string"===(H=A.toLowerCase())||"text"===H;"binarystring"!==H&&"text"!==H||(H="string"),z=this._decompressWorker();var W=!this._dataBinary;W&&!F&&(z=z.pipe(new D.Utf8EncodeWorker)),!W&&F&&(z=z.pipe(new D.Utf8DecodeWorker))}catch(k){(z=new P("error")).error(k)}return new S(z,H,"")},async:function(A,z){return this.internalStream(A).accumulate(z)},nodeStream:function(A,z){return this.internalStream(A||"nodebuffer").toNodejsStream(z)},_compressWorker:function(A,z){if(this._data instanceof x&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var H=this._decompressWorker();return this._dataBinary||(H=H.pipe(new D.Utf8EncodeWorker)),x.createWorkerFrom(H,A,z)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof P?this._data:new E(this._data)}};for(var N=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],R=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},M=0;M<N.length;M++)L.prototype[N[M]]=R;U.exports=L},function(U,T,v){"use strict";var S=v(39),E=v(96);T.generateWorker=function(x,P,L){var N=new E(P.streamFiles,L,P.platform,P.encodeFileName),R=0;try{x.forEach(function(M,A){R++;var z=function(x,P){var L=x||P,N=S[L];if(!N)throw new Error(L+" is not a valid compression method !");return N}(A.options.compression,P.compression),F=A.dir,W=A.date;A._compressWorker(z,A.options.compressionOptions||P.compressionOptions||{}).withStreamInfo("file",{name:M,dir:F,date:W,comment:A.comment||"",unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions}).pipe(N)}),N.entriesCount=R}catch(M){N.error(M)}return N}},function(U,T,v){"use strict";function S(N,R){P.call(this,"FlateWorker/"+N),this._pako=null,this._pakoAction=N,this._pakoOptions=R,this.meta={}}var E="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,D=v(87),x=v(0),P=v(1),L=E?"uint8array":"array";T.magic="\b\0",x.inherits(S,P),S.prototype.processChunk=function(N){this.meta=N.meta,null===this._pako&&this._createPako(),this._pako.push(x.transformTo(L,N.data),!1)},S.prototype.flush=function(){P.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},S.prototype.cleanUp=function(){P.prototype.cleanUp.call(this),this._pako=null},S.prototype._createPako=function(){this._pako=new D[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var N=this;this._pako.onData=function(R){N.push({data:R,meta:N.meta})}},T.compressWorker=function(N){return new S("Deflate",N)},T.uncompressWorker=function(){return new S("Inflate",{})}},function(U,T,v){"use strict";var P={};(0,v(4).assign)(P,v(88),v(91),v(44)),U.exports=P},function(U,T,v){"use strict";function S(k){if(!(this instanceof S))return new S(k);this.options=L.assign({level:H,method:W,chunkSize:16384,windowBits:15,memLevel:8,strategy:F,to:""},k||{});var I=this.options;I.raw&&I.windowBits>0?I.windowBits=-I.windowBits:I.gzip&&I.windowBits>0&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var p=P.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(p!==z)throw new Error(R[p]);if(I.header&&P.deflateSetHeader(this.strm,I.header),I.dictionary){var y;if(y="string"==typeof I.dictionary?N.string2buf(I.dictionary):"[object ArrayBuffer]"===A.call(I.dictionary)?new Uint8Array(I.dictionary):I.dictionary,(p=P.deflateSetDictionary(this.strm,y))!==z)throw new Error(R[p]);this._dict_set=!0}}function E(k,I){var p=new S(I);if(p.push(k,!0),p.err)throw p.msg||R[p.err];return p.result}var P=v(89),L=v(4),N=v(42),R=v(23),M=v(43),A=Object.prototype.toString,z=0,H=-1,F=0,W=8;S.prototype.push=function(k,I){var p,y,C=this.strm,B=this.options.chunkSize;if(this.ended)return!1;y=I===~~I?I:!0===I?4:0,C.input="string"==typeof k?N.string2buf(k):"[object ArrayBuffer]"===A.call(k)?new Uint8Array(k):k,C.next_in=0,C.avail_in=C.input.length;do{if(0===C.avail_out&&(C.output=new L.Buf8(B),C.next_out=0,C.avail_out=B),1!==(p=P.deflate(C,y))&&p!==z)return this.onEnd(p),this.ended=!0,!1;0!==C.avail_out&&(0!==C.avail_in||4!==y&&2!==y)||this.onData("string"===this.options.to?N.buf2binstring(L.shrinkBuf(C.output,C.next_out)):L.shrinkBuf(C.output,C.next_out))}while((C.avail_in>0||0===C.avail_out)&&1!==p);return 4===y?(p=P.deflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===z):2!==y||(this.onEnd(z),C.avail_out=0,!0)},S.prototype.onData=function(k){this.chunks.push(k)},S.prototype.onEnd=function(k){k===z&&(this.result="string"===this.options.to?this.chunks.join(""):L.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},T.Deflate=S,T.deflate=E,T.deflateRaw=function(k,I){return(I=I||{}).raw=!0,E(k,I)},T.gzip=function(k,I){return(I=I||{}).gzip=!0,E(k,I)}},function(U,T,v){"use strict";function S(w,oe){return w.msg=ne[oe],oe}function E(w){return(w<<1)-(w>4?9:0)}function D(w){for(var oe=w.length;--oe>=0;)w[oe]=0}function x(w){var oe=w.state,we=oe.pending;we>w.avail_out&&(we=w.avail_out),0!==we&&(Me.arraySet(w.output,oe.pending_buf,oe.pending_out,we,w.next_out),w.next_out+=we,oe.pending_out+=we,w.total_out+=we,w.avail_out-=we,oe.pending-=we,0===oe.pending&&(oe.pending_out=0))}function P(w,oe){Le._tr_flush_block(w,w.block_start>=0?w.block_start:-1,w.strstart-w.block_start,oe),w.block_start=w.strstart,x(w.strm)}function L(w,oe){w.pending_buf[w.pending++]=oe}function N(w,oe){w.pending_buf[w.pending++]=oe>>>8&255,w.pending_buf[w.pending++]=255&oe}function R(w,oe,we,ee){var Ge=w.avail_in;return Ge>ee&&(Ge=ee),0===Ge?0:(w.avail_in-=Ge,Me.arraySet(oe,w.input,w.next_in,Ge,we),1===w.state.wrap?w.adler=_e(w.adler,oe,Ge,we):2===w.state.wrap&&(w.adler=ie(w.adler,oe,Ge,we)),w.next_in+=Ge,w.total_in+=Ge,Ge)}function M(w,oe){var we,ee,Ge=w.max_chain_length,qe=w.strstart,Qe=w.prev_length,Ot=w.nice_match,Mt=w.strstart>w.w_size-Be?w.strstart-(w.w_size-Be):0,St=w.window,Xt=w.w_mask,pn=w.prev,Qt=w.strstart+ke,wn=St[qe+Qe-1],gn=St[qe+Qe];w.prev_length>=w.good_match&&(Ge>>=2),Ot>w.lookahead&&(Ot=w.lookahead);do{if(St[(we=oe)+Qe]===gn&&St[we+Qe-1]===wn&&St[we]===St[qe]&&St[++we]===St[qe+1]){qe+=2,we++;do{}while(St[++qe]===St[++we]&&St[++qe]===St[++we]&&St[++qe]===St[++we]&&St[++qe]===St[++we]&&St[++qe]===St[++we]&&St[++qe]===St[++we]&&St[++qe]===St[++we]&&St[++qe]===St[++we]&&qe<Qt);if(ee=ke-(Qt-qe),qe=Qt-ke,ee>Qe){if(w.match_start=oe,Qe=ee,ee>=Ot)break;wn=St[qe+Qe-1],gn=St[qe+Qe]}}}while((oe=pn[oe&Xt])>Mt&&0!=--Ge);return Qe<=w.lookahead?Qe:w.lookahead}function A(w){var oe,we,ee,Ge,qe,Qe=w.w_size;do{if(Ge=w.window_size-w.lookahead-w.strstart,w.strstart>=Qe+(Qe-Be)){Me.arraySet(w.window,w.window,Qe,Qe,0),w.match_start-=Qe,w.strstart-=Qe,w.block_start-=Qe,oe=we=w.hash_size;do{ee=w.head[--oe],w.head[oe]=ee>=Qe?ee-Qe:0}while(--we);oe=we=Qe;do{ee=w.prev[--oe],w.prev[oe]=ee>=Qe?ee-Qe:0}while(--we);Ge+=Qe}if(0===w.strm.avail_in)break;if(we=R(w.strm,w.window,w.strstart+w.lookahead,Ge),w.lookahead+=we,w.lookahead+w.insert>=Z)for(w.ins_h=w.window[qe=w.strstart-w.insert],w.ins_h=(w.ins_h<<w.hash_shift^w.window[qe+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[qe+Z-1])&w.hash_mask,w.prev[qe&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=qe,qe++,w.insert--,!(w.lookahead+w.insert<Z)););}while(w.lookahead<Be&&0!==w.strm.avail_in)}function H(w,oe){for(var we,ee;;){if(w.lookahead<Be){if(A(w),w.lookahead<Be&&oe===ge)return jt;if(0===w.lookahead)break}if(we=0,w.lookahead>=Z&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+Z-1])&w.hash_mask,we=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),0!==we&&w.strstart-we<=w.w_size-Be&&(w.match_length=M(w,we)),w.match_length>=Z)if(ee=Le._tr_tally(w,w.strstart-w.match_start,w.match_length-Z),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=Z){w.match_length--;do{w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+Z-1])&w.hash_mask,we=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart}while(0!=--w.match_length);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else ee=Le._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(ee&&(P(w,!1),0===w.strm.avail_out))return jt}return w.insert=w.strstart<Z-1?w.strstart:Z-1,oe===b?(P(w,!0),0===w.strm.avail_out?ft:Ne):w.last_lit&&(P(w,!1),0===w.strm.avail_out)?jt:lt}function F(w,oe){for(var we,ee,Ge;;){if(w.lookahead<Be){if(A(w),w.lookahead<Be&&oe===ge)return jt;if(0===w.lookahead)break}if(we=0,w.lookahead>=Z&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+Z-1])&w.hash_mask,we=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=Z-1,0!==we&&w.prev_length<w.max_lazy_match&&w.strstart-we<=w.w_size-Be&&(w.match_length=M(w,we),w.match_length<=5&&(w.strategy===He||w.match_length===Z&&w.strstart-w.match_start>4096)&&(w.match_length=Z-1)),w.prev_length>=Z&&w.match_length<=w.prev_length){Ge=w.strstart+w.lookahead-Z,ee=Le._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-Z),w.lookahead-=w.prev_length-1,w.prev_length-=2;do{++w.strstart<=Ge&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+Z-1])&w.hash_mask,we=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart)}while(0!=--w.prev_length);if(w.match_available=0,w.match_length=Z-1,w.strstart++,ee&&(P(w,!1),0===w.strm.avail_out))return jt}else if(w.match_available){if((ee=Le._tr_tally(w,0,w.window[w.strstart-1]))&&P(w,!1),w.strstart++,w.lookahead--,0===w.strm.avail_out)return jt}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(ee=Le._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<Z-1?w.strstart:Z-1,oe===b?(P(w,!0),0===w.strm.avail_out?ft:Ne):w.last_lit&&(P(w,!1),0===w.strm.avail_out)?jt:lt}function I(w,oe,we,ee,Ge){this.good_length=w,this.max_lazy=oe,this.nice_length=we,this.max_chain=ee,this.func=Ge}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Me.Buf16(2*ot),this.dyn_dtree=new Me.Buf16(2*(2*be+1)),this.bl_tree=new Me.Buf16(2*(2*Ve+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Me.Buf16(et+1),this.heap=new Me.Buf16(2*ae+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Me.Buf16(2*ae+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(w){var oe;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=it,(oe=w.state).pending=0,oe.pending_out=0,oe.wrap<0&&(oe.wrap=-oe.wrap),oe.status=oe.wrap?st:It,w.adler=2===oe.wrap?0:1,oe.last_flush=ge,Le._tr_init(oe),c):S(w,m)}function B(w){var oe=C(w);return oe===c&&function(w){w.window_size=2*w.w_size,D(w.head),w.max_lazy_match=Pe[w.level].max_lazy,w.good_match=Pe[w.level].good_length,w.nice_match=Pe[w.level].nice_length,w.max_chain_length=Pe[w.level].max_chain,w.strstart=0,w.block_start=0,w.lookahead=0,w.insert=0,w.match_length=w.prev_length=Z-1,w.match_available=0,w.ins_h=0}(w.state),oe}function te(w,oe,we,ee,Ge,qe){if(!w)return m;var Qe=1;if(oe===Ee&&(oe=6),ee<0?(Qe=0,ee=-ee):ee>15&&(Qe=2,ee-=16),Ge<1||Ge>pt||we!==xt||ee<8||ee>15||oe<0||oe>9||qe<0||qe>Fe)return S(w,m);8===ee&&(ee=9);var Ot=new y;return w.state=Ot,Ot.strm=w,Ot.wrap=Qe,Ot.gzhead=null,Ot.w_bits=ee,Ot.w_size=1<<Ot.w_bits,Ot.w_mask=Ot.w_size-1,Ot.hash_bits=Ge+7,Ot.hash_size=1<<Ot.hash_bits,Ot.hash_mask=Ot.hash_size-1,Ot.hash_shift=~~((Ot.hash_bits+Z-1)/Z),Ot.window=new Me.Buf8(2*Ot.w_size),Ot.head=new Me.Buf16(Ot.hash_size),Ot.prev=new Me.Buf16(Ot.w_size),Ot.lit_bufsize=1<<Ge+6,Ot.pending_buf_size=4*Ot.lit_bufsize,Ot.pending_buf=new Me.Buf8(Ot.pending_buf_size),Ot.d_buf=1*Ot.lit_bufsize,Ot.l_buf=3*Ot.lit_bufsize,Ot.level=oe,Ot.strategy=qe,Ot.method=we,B(w)}var Pe,Me=v(4),Le=v(90),_e=v(40),ie=v(41),ne=v(23),ge=0,me=1,_=3,b=4,G=5,c=0,O=1,m=-2,V=-3,X=-5,Ee=-1,He=1,Oe=2,Ce=3,Fe=4,Ue=0,it=2,xt=8,pt=9,kt=15,Nt=8,ae=286,be=30,Ve=19,ot=2*ae+1,et=15,Z=3,ke=258,Be=ke+Z+1,Je=32,st=42,mt=69,De=73,dt=91,Et=103,It=113,Ft=666,jt=1,lt=2,ft=3,Ne=4,Lt=3;Pe=[new I(0,0,0,0,function(w,oe){var we=65535;for(we>w.pending_buf_size-5&&(we=w.pending_buf_size-5);;){if(w.lookahead<=1){if(A(w),0===w.lookahead&&oe===ge)return jt;if(0===w.lookahead)break}w.strstart+=w.lookahead,w.lookahead=0;var ee=w.block_start+we;if((0===w.strstart||w.strstart>=ee)&&(w.lookahead=w.strstart-ee,w.strstart=ee,P(w,!1),0===w.strm.avail_out)||w.strstart-w.block_start>=w.w_size-Be&&(P(w,!1),0===w.strm.avail_out))return jt}return w.insert=0,oe===b?(P(w,!0),0===w.strm.avail_out?ft:Ne):(w.strstart>w.block_start&&P(w,!1),jt)}),new I(4,4,8,4,H),new I(4,5,16,8,H),new I(4,6,32,32,H),new I(4,4,16,16,F),new I(8,16,32,32,F),new I(8,16,128,128,F),new I(8,32,128,256,F),new I(32,128,258,1024,F),new I(32,258,258,4096,F)],T.deflateInit=function(w,oe){return te(w,oe,xt,kt,Nt,Ue)},T.deflateInit2=te,T.deflateReset=B,T.deflateResetKeep=C,T.deflateSetHeader=function(w,oe){return w&&w.state?2!==w.state.wrap?m:(w.state.gzhead=oe,c):m},T.deflate=function(w,oe){var we,ee,Ge,qe;if(!w||!w.state||oe>G||oe<0)return w?S(w,m):m;if(ee=w.state,!w.output||!w.input&&0!==w.avail_in||ee.status===Ft&&oe!==b)return S(w,0===w.avail_out?X:m);if(ee.strm=w,we=ee.last_flush,ee.last_flush=oe,ee.status===st)if(2===ee.wrap)w.adler=0,L(ee,31),L(ee,139),L(ee,8),ee.gzhead?(L(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),L(ee,255&ee.gzhead.time),L(ee,ee.gzhead.time>>8&255),L(ee,ee.gzhead.time>>16&255),L(ee,ee.gzhead.time>>24&255),L(ee,9===ee.level?2:ee.strategy>=Oe||ee.level<2?4:0),L(ee,255&ee.gzhead.os),ee.gzhead.extra&&ee.gzhead.extra.length&&(L(ee,255&ee.gzhead.extra.length),L(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(w.adler=ie(w.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=mt):(L(ee,0),L(ee,0),L(ee,0),L(ee,0),L(ee,0),L(ee,9===ee.level?2:ee.strategy>=Oe||ee.level<2?4:0),L(ee,Lt),ee.status=It);else{var Qe=xt+(ee.w_bits-8<<4)<<8;Qe|=(ee.strategy>=Oe||ee.level<2?0:ee.level<6?1:6===ee.level?2:3)<<6,0!==ee.strstart&&(Qe|=Je),Qe+=31-Qe%31,ee.status=It,N(ee,Qe),0!==ee.strstart&&(N(ee,w.adler>>>16),N(ee,65535&w.adler)),w.adler=1}if(ee.status===mt)if(ee.gzhead.extra){for(Ge=ee.pending;ee.gzindex<(65535&ee.gzhead.extra.length)&&(ee.pending!==ee.pending_buf_size||(ee.gzhead.hcrc&&ee.pending>Ge&&(w.adler=ie(w.adler,ee.pending_buf,ee.pending-Ge,Ge)),x(w),Ge=ee.pending,ee.pending!==ee.pending_buf_size));)L(ee,255&ee.gzhead.extra[ee.gzindex]),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>Ge&&(w.adler=ie(w.adler,ee.pending_buf,ee.pending-Ge,Ge)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=De)}else ee.status=De;if(ee.status===De)if(ee.gzhead.name){Ge=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Ge&&(w.adler=ie(w.adler,ee.pending_buf,ee.pending-Ge,Ge)),x(w),Ge=ee.pending,ee.pending===ee.pending_buf_size)){qe=1;break}qe=ee.gzindex<ee.gzhead.name.length?255&ee.gzhead.name.charCodeAt(ee.gzindex++):0,L(ee,qe)}while(0!==qe);ee.gzhead.hcrc&&ee.pending>Ge&&(w.adler=ie(w.adler,ee.pending_buf,ee.pending-Ge,Ge)),0===qe&&(ee.gzindex=0,ee.status=dt)}else ee.status=dt;if(ee.status===dt)if(ee.gzhead.comment){Ge=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Ge&&(w.adler=ie(w.adler,ee.pending_buf,ee.pending-Ge,Ge)),x(w),Ge=ee.pending,ee.pending===ee.pending_buf_size)){qe=1;break}qe=ee.gzindex<ee.gzhead.comment.length?255&ee.gzhead.comment.charCodeAt(ee.gzindex++):0,L(ee,qe)}while(0!==qe);ee.gzhead.hcrc&&ee.pending>Ge&&(w.adler=ie(w.adler,ee.pending_buf,ee.pending-Ge,Ge)),0===qe&&(ee.status=Et)}else ee.status=Et;if(ee.status===Et&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&x(w),ee.pending+2<=ee.pending_buf_size&&(L(ee,255&w.adler),L(ee,w.adler>>8&255),w.adler=0,ee.status=It)):ee.status=It),0!==ee.pending){if(x(w),0===w.avail_out)return ee.last_flush=-1,c}else if(0===w.avail_in&&E(oe)<=E(we)&&oe!==b)return S(w,X);if(ee.status===Ft&&0!==w.avail_in)return S(w,X);if(0!==w.avail_in||0!==ee.lookahead||oe!==ge&&ee.status!==Ft){var Mt=ee.strategy===Oe?function(w,oe){for(var we;;){if(0===w.lookahead&&(A(w),0===w.lookahead)){if(oe===ge)return jt;break}if(w.match_length=0,we=Le._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++,we&&(P(w,!1),0===w.strm.avail_out))return jt}return w.insert=0,oe===b?(P(w,!0),0===w.strm.avail_out?ft:Ne):w.last_lit&&(P(w,!1),0===w.strm.avail_out)?jt:lt}(ee,oe):ee.strategy===Ce?function(w,oe){for(var we,ee,Ge,qe,Qe=w.window;;){if(w.lookahead<=ke){if(A(w),w.lookahead<=ke&&oe===ge)return jt;if(0===w.lookahead)break}if(w.match_length=0,w.lookahead>=Z&&w.strstart>0&&(ee=Qe[Ge=w.strstart-1])===Qe[++Ge]&&ee===Qe[++Ge]&&ee===Qe[++Ge]){qe=w.strstart+ke;do{}while(ee===Qe[++Ge]&&ee===Qe[++Ge]&&ee===Qe[++Ge]&&ee===Qe[++Ge]&&ee===Qe[++Ge]&&ee===Qe[++Ge]&&ee===Qe[++Ge]&&ee===Qe[++Ge]&&Ge<qe);w.match_length=ke-(qe-Ge),w.match_length>w.lookahead&&(w.match_length=w.lookahead)}if(w.match_length>=Z?(we=Le._tr_tally(w,1,w.match_length-Z),w.lookahead-=w.match_length,w.strstart+=w.match_length,w.match_length=0):(we=Le._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++),we&&(P(w,!1),0===w.strm.avail_out))return jt}return w.insert=0,oe===b?(P(w,!0),0===w.strm.avail_out?ft:Ne):w.last_lit&&(P(w,!1),0===w.strm.avail_out)?jt:lt}(ee,oe):Pe[ee.level].func(ee,oe);if(Mt!==ft&&Mt!==Ne||(ee.status=Ft),Mt===jt||Mt===ft)return 0===w.avail_out&&(ee.last_flush=-1),c;if(Mt===lt&&(oe===me?Le._tr_align(ee):oe!==G&&(Le._tr_stored_block(ee,0,0,!1),oe===_&&(D(ee.head),0===ee.lookahead&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),x(w),0===w.avail_out))return ee.last_flush=-1,c}return oe!==b?c:ee.wrap<=0?O:(2===ee.wrap?(L(ee,255&w.adler),L(ee,w.adler>>8&255),L(ee,w.adler>>16&255),L(ee,w.adler>>24&255),L(ee,255&w.total_in),L(ee,w.total_in>>8&255),L(ee,w.total_in>>16&255),L(ee,w.total_in>>24&255)):(N(ee,w.adler>>>16),N(ee,65535&w.adler)),x(w),ee.wrap>0&&(ee.wrap=-ee.wrap),0!==ee.pending?c:O)},T.deflateEnd=function(w){var oe;return w&&w.state?(oe=w.state.status)!==st&&oe!==mt&&oe!==De&&oe!==dt&&oe!==Et&&oe!==It&&oe!==Ft?S(w,m):(w.state=null,oe===It?S(w,V):c):m},T.deflateSetDictionary=function(w,oe){var we,ee,Ge,qe,Qe,Ot,Mt,St,Xt=oe.length;if(!w||!w.state||2===(qe=(we=w.state).wrap)||1===qe&&we.status!==st||we.lookahead)return m;for(1===qe&&(w.adler=_e(w.adler,oe,Xt,0)),we.wrap=0,Xt>=we.w_size&&(0===qe&&(D(we.head),we.strstart=0,we.block_start=0,we.insert=0),St=new Me.Buf8(we.w_size),Me.arraySet(St,oe,Xt-we.w_size,we.w_size,0),oe=St,Xt=we.w_size),Qe=w.avail_in,Ot=w.next_in,Mt=w.input,w.avail_in=Xt,w.next_in=0,w.input=oe,A(we);we.lookahead>=Z;){ee=we.strstart,Ge=we.lookahead-(Z-1);do{we.ins_h=(we.ins_h<<we.hash_shift^we.window[ee+Z-1])&we.hash_mask,we.prev[ee&we.w_mask]=we.head[we.ins_h],we.head[we.ins_h]=ee,ee++}while(--Ge);we.strstart=ee,we.lookahead=Z-1,A(we)}return we.strstart+=we.lookahead,we.block_start=we.strstart,we.insert=we.lookahead,we.lookahead=0,we.match_length=we.prev_length=Z-1,we.match_available=0,w.next_in=Ot,w.input=Mt,w.avail_in=Qe,we.wrap=qe,c},T.deflateInfo="pako deflate (from Nodeca project)"},function(U,T,v){"use strict";function S(De){for(var dt=De.length;--dt>=0;)De[dt]=0}function E(De,dt,Et,It,Ft){this.static_tree=De,this.extra_bits=dt,this.extra_base=Et,this.elems=It,this.max_length=Ft,this.has_stree=De&&De.length}function D(De,dt){this.dyn_tree=De,this.max_code=0,this.stat_desc=dt}function x(De){return De<256?ot[De]:ot[256+(De>>>7)]}function P(De,dt){De.pending_buf[De.pending++]=255&dt,De.pending_buf[De.pending++]=dt>>>8&255}function L(De,dt,Et){De.bi_valid>Oe-Et?(De.bi_buf|=dt<<De.bi_valid&65535,P(De,De.bi_buf),De.bi_buf=dt>>Oe-De.bi_valid,De.bi_valid+=Et-Oe):(De.bi_buf|=dt<<De.bi_valid&65535,De.bi_valid+=Et)}function N(De,dt,Et){L(De,Et[2*dt],Et[2*dt+1])}function R(De,dt){var Et=0;do{Et|=1&De,De>>>=1,Et<<=1}while(--dt>0);return Et>>>1}function z(De,dt,Et){var It,Ft,jt=new Array(He+1),lt=0;for(It=1;It<=He;It++)jt[It]=lt=lt+Et[It-1]<<1;for(Ft=0;Ft<=dt;Ft++){var ft=De[2*Ft+1];0!==ft&&(De[2*Ft]=R(jt[ft]++,ft))}}function F(De){var dt;for(dt=0;dt<m;dt++)De.dyn_ltree[2*dt]=0;for(dt=0;dt<V;dt++)De.dyn_dtree[2*dt]=0;for(dt=0;dt<X;dt++)De.bl_tree[2*dt]=0;De.dyn_ltree[2*Fe]=1,De.opt_len=De.static_len=0,De.last_lit=De.matches=0}function W(De){De.bi_valid>8?P(De,De.bi_buf):De.bi_valid>0&&(De.pending_buf[De.pending++]=De.bi_buf),De.bi_buf=0,De.bi_valid=0}function I(De,dt,Et,It){var Ft=2*dt,jt=2*Et;return De[Ft]<De[jt]||De[Ft]===De[jt]&&It[dt]<=It[Et]}function p(De,dt,Et){for(var It=De.heap[Et],Ft=Et<<1;Ft<=De.heap_len&&(Ft<De.heap_len&&I(dt,De.heap[Ft+1],De.heap[Ft],De.depth)&&Ft++,!I(dt,It,De.heap[Ft],De.depth));)De.heap[Et]=De.heap[Ft],Et=Ft,Ft<<=1;De.heap[Et]=It}function y(De,dt,Et){var It,Ft,jt,lt,ft=0;if(0!==De.last_lit)do{It=De.pending_buf[De.d_buf+2*ft]<<8|De.pending_buf[De.d_buf+2*ft+1],Ft=De.pending_buf[De.l_buf+ft],ft++,0===It?N(De,Ft,dt):(N(De,(jt=et[Ft])+O+1,dt),0!==(lt=pt[jt])&&L(De,Ft-=Z[jt],lt),N(De,jt=x(--It),Et),0!==(lt=kt[jt])&&L(De,It-=ke[jt],lt))}while(ft<De.last_lit);N(De,Fe,dt)}function C(De,dt){var Et,It,Ft,jt=dt.dyn_tree,lt=dt.stat_desc.static_tree,ft=dt.stat_desc.has_stree,Ne=dt.stat_desc.elems,Lt=-1;for(De.heap_len=0,De.heap_max=Ee,Et=0;Et<Ne;Et++)0!==jt[2*Et]?(De.heap[++De.heap_len]=Lt=Et,De.depth[Et]=0):jt[2*Et+1]=0;for(;De.heap_len<2;)jt[2*(Ft=De.heap[++De.heap_len]=Lt<2?++Lt:0)]=1,De.depth[Ft]=0,De.opt_len--,ft&&(De.static_len-=lt[2*Ft+1]);for(dt.max_code=Lt,Et=De.heap_len>>1;Et>=1;Et--)p(De,jt,Et);Ft=Ne;do{Et=De.heap[1],De.heap[1]=De.heap[De.heap_len--],p(De,jt,1),It=De.heap[1],De.heap[--De.heap_max]=Et,De.heap[--De.heap_max]=It,jt[2*Ft]=jt[2*Et]+jt[2*It],De.depth[Ft]=(De.depth[Et]>=De.depth[It]?De.depth[Et]:De.depth[It])+1,jt[2*Et+1]=jt[2*It+1]=Ft,De.heap[1]=Ft++,p(De,jt,1)}while(De.heap_len>=2);De.heap[--De.heap_max]=De.heap[1],function(De,dt){var Et,It,Ft,jt,lt,ft,Ne=dt.dyn_tree,Lt=dt.max_code,w=dt.stat_desc.static_tree,oe=dt.stat_desc.has_stree,we=dt.stat_desc.extra_bits,ee=dt.stat_desc.extra_base,Ge=dt.stat_desc.max_length,qe=0;for(jt=0;jt<=He;jt++)De.bl_count[jt]=0;for(Ne[2*De.heap[De.heap_max]+1]=0,Et=De.heap_max+1;Et<Ee;Et++)(jt=Ne[2*Ne[2*(It=De.heap[Et])+1]+1]+1)>Ge&&(jt=Ge,qe++),Ne[2*It+1]=jt,It>Lt||(De.bl_count[jt]++,lt=0,It>=ee&&(lt=we[It-ee]),De.opt_len+=(ft=Ne[2*It])*(jt+lt),oe&&(De.static_len+=ft*(w[2*It+1]+lt)));if(0!==qe){do{for(jt=Ge-1;0===De.bl_count[jt];)jt--;De.bl_count[jt]--,De.bl_count[jt+1]+=2,De.bl_count[Ge]--,qe-=2}while(qe>0);for(jt=Ge;0!==jt;jt--)for(It=De.bl_count[jt];0!==It;)(Ft=De.heap[--Et])>Lt||(Ne[2*Ft+1]!==jt&&(De.opt_len+=(jt-Ne[2*Ft+1])*Ne[2*Ft],Ne[2*Ft+1]=jt),It--)}}(De,dt),z(jt,Lt,De.bl_count)}function B(De,dt,Et){var It,Ft,jt=-1,lt=dt[1],ft=0,Ne=7,Lt=4;for(0===lt&&(Ne=138,Lt=3),dt[2*(Et+1)+1]=65535,It=0;It<=Et;It++)Ft=lt,lt=dt[2*(It+1)+1],++ft<Ne&&Ft===lt||(ft<Lt?De.bl_tree[2*Ft]+=ft:0!==Ft?(Ft!==jt&&De.bl_tree[2*Ft]++,De.bl_tree[2*Ue]++):ft<=10?De.bl_tree[2*it]++:De.bl_tree[2*xt]++,ft=0,jt=Ft,0===lt?(Ne=138,Lt=3):Ft===lt?(Ne=6,Lt=3):(Ne=7,Lt=4))}function K(De,dt,Et){var It,Ft,jt=-1,lt=dt[1],ft=0,Ne=7,Lt=4;for(0===lt&&(Ne=138,Lt=3),It=0;It<=Et;It++)if(Ft=lt,lt=dt[2*(It+1)+1],!(++ft<Ne&&Ft===lt)){if(ft<Lt)do{N(De,Ft,De.bl_tree)}while(0!=--ft);else 0!==Ft?(Ft!==jt&&(N(De,Ft,De.bl_tree),ft--),N(De,Ue,De.bl_tree),L(De,ft-3,2)):ft<=10?(N(De,it,De.bl_tree),L(De,ft-3,3)):(N(De,xt,De.bl_tree),L(De,ft-11,7));ft=0,jt=Ft,0===lt?(Ne=138,Lt=3):Ft===lt?(Ne=6,Lt=3):(Ne=7,Lt=4)}}function Re(De,dt,Et,It){L(De,(_<<1)+(It?1:0),3),function(De,dt,Et,It){W(De),It&&(P(De,Et),P(De,~Et)),_e.arraySet(De.pending_buf,De.window,dt,Et,De.pending),De.pending+=Et}(De,dt,Et,!0)}var _e=v(4),ie=4,ne=0,ge=1,me=2,_=0,b=1,G=2,c=29,O=256,m=O+1+c,V=30,X=19,Ee=2*m+1,He=15,Oe=16,Ce=7,Fe=256,Ue=16,it=17,xt=18,pt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],kt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],be=new Array(2*(m+2));S(be);var Ve=new Array(2*V);S(Ve);var ot=new Array(512);S(ot);var et=new Array(256);S(et);var Z=new Array(c);S(Z);var ke=new Array(V);S(ke);var Be,Je,st,mt=!1;T._tr_init=function(De){mt||(function(){var De,dt,Et,It,Ft,jt=new Array(He+1);for(Et=0,It=0;It<c-1;It++)for(Z[It]=Et,De=0;De<1<<pt[It];De++)et[Et++]=It;for(et[Et-1]=It,Ft=0,It=0;It<16;It++)for(ke[It]=Ft,De=0;De<1<<kt[It];De++)ot[Ft++]=It;for(Ft>>=7;It<V;It++)for(ke[It]=Ft<<7,De=0;De<1<<kt[It]-7;De++)ot[256+Ft++]=It;for(dt=0;dt<=He;dt++)jt[dt]=0;for(De=0;De<=143;)be[2*De+1]=8,De++,jt[8]++;for(;De<=255;)be[2*De+1]=9,De++,jt[9]++;for(;De<=279;)be[2*De+1]=7,De++,jt[7]++;for(;De<=287;)be[2*De+1]=8,De++,jt[8]++;for(z(be,m+1,jt),De=0;De<V;De++)Ve[2*De+1]=5,Ve[2*De]=R(De,5);Be=new E(be,pt,O+1,m,He),Je=new E(Ve,kt,0,V,He),st=new E(new Array(0),Nt,0,X,Ce)}(),mt=!0),De.l_desc=new D(De.dyn_ltree,Be),De.d_desc=new D(De.dyn_dtree,Je),De.bl_desc=new D(De.bl_tree,st),De.bi_buf=0,De.bi_valid=0,F(De)},T._tr_stored_block=Re,T._tr_flush_block=function(De,dt,Et,It){var Ft,jt,lt=0;De.level>0?(De.strm.data_type===me&&(De.strm.data_type=function(De){var dt,Et=4093624447;for(dt=0;dt<=31;dt++,Et>>>=1)if(1&Et&&0!==De.dyn_ltree[2*dt])return ne;if(0!==De.dyn_ltree[18]||0!==De.dyn_ltree[20]||0!==De.dyn_ltree[26])return ge;for(dt=32;dt<O;dt++)if(0!==De.dyn_ltree[2*dt])return ge;return ne}(De)),C(De,De.l_desc),C(De,De.d_desc),lt=function(De){var dt;for(B(De,De.dyn_ltree,De.l_desc.max_code),B(De,De.dyn_dtree,De.d_desc.max_code),C(De,De.bl_desc),dt=X-1;dt>=3&&0===De.bl_tree[2*ae[dt]+1];dt--);return De.opt_len+=3*(dt+1)+5+5+4,dt}(De),(jt=De.static_len+3+7>>>3)<=(Ft=De.opt_len+3+7>>>3)&&(Ft=jt)):Ft=jt=Et+5,Et+4<=Ft&&-1!==dt?Re(De,dt,Et,It):De.strategy===ie||jt===Ft?(L(De,(b<<1)+(It?1:0),3),y(De,be,Ve)):(L(De,(G<<1)+(It?1:0),3),function(De,dt,Et,It){var Ft;for(L(De,dt-257,5),L(De,Et-1,5),L(De,It-4,4),Ft=0;Ft<It;Ft++)L(De,De.bl_tree[2*ae[Ft]+1],3);K(De,De.dyn_ltree,dt-1),K(De,De.dyn_dtree,Et-1)}(De,De.l_desc.max_code+1,De.d_desc.max_code+1,lt+1),y(De,De.dyn_ltree,De.dyn_dtree)),F(De),It&&W(De)},T._tr_tally=function(De,dt,Et){return De.pending_buf[De.d_buf+2*De.last_lit]=dt>>>8&255,De.pending_buf[De.d_buf+2*De.last_lit+1]=255&dt,De.pending_buf[De.l_buf+De.last_lit]=255&Et,De.last_lit++,0===dt?De.dyn_ltree[2*Et]++:(De.matches++,dt--,De.dyn_ltree[2*(et[Et]+O+1)]++,De.dyn_dtree[2*x(dt)]++),De.last_lit===De.lit_bufsize-1},T._tr_align=function(De){L(De,b<<1,3),N(De,Fe,be),function(De){16===De.bi_valid?(P(De,De.bi_buf),De.bi_buf=0,De.bi_valid=0):De.bi_valid>=8&&(De.pending_buf[De.pending++]=255&De.bi_buf,De.bi_buf>>=8,De.bi_valid-=8)}(De)}},function(U,T,v){"use strict";function S(H){if(!(this instanceof S))return new S(H);this.options=P.assign({chunkSize:16384,windowBits:0,to:""},H||{});var F=this.options;F.raw&&F.windowBits>=0&&F.windowBits<16&&(F.windowBits=-F.windowBits,0===F.windowBits&&(F.windowBits=-15)),!(F.windowBits>=0&&F.windowBits<16)||H&&H.windowBits||(F.windowBits+=32),F.windowBits>15&&F.windowBits<48&&0==(15&F.windowBits)&&(F.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var W=x.inflateInit2(this.strm,F.windowBits);if(W!==N.Z_OK)throw new Error(R[W]);this.header=new A,x.inflateGetHeader(this.strm,this.header)}function E(H,F){var W=new S(F);if(W.push(H,!0),W.err)throw W.msg||R[W.err];return W.result}var x=v(92),P=v(4),L=v(42),N=v(44),R=v(23),M=v(43),A=v(95),z=Object.prototype.toString;S.prototype.push=function(H,F){var W,k,I,p,y,C,B=this.strm,K=this.options.chunkSize,te=this.options.dictionary,$e=!1;if(this.ended)return!1;k=F===~~F?F:!0===F?N.Z_FINISH:N.Z_NO_FLUSH,B.input="string"==typeof H?L.binstring2buf(H):"[object ArrayBuffer]"===z.call(H)?new Uint8Array(H):H,B.next_in=0,B.avail_in=B.input.length;do{if(0===B.avail_out&&(B.output=new P.Buf8(K),B.next_out=0,B.avail_out=K),(W=x.inflate(B,N.Z_NO_FLUSH))===N.Z_NEED_DICT&&te&&(C="string"==typeof te?L.string2buf(te):"[object ArrayBuffer]"===z.call(te)?new Uint8Array(te):te,W=x.inflateSetDictionary(this.strm,C)),W===N.Z_BUF_ERROR&&!0===$e&&(W=N.Z_OK,$e=!1),W!==N.Z_STREAM_END&&W!==N.Z_OK)return this.onEnd(W),this.ended=!0,!1;B.next_out&&(0!==B.avail_out&&W!==N.Z_STREAM_END&&(0!==B.avail_in||k!==N.Z_FINISH&&k!==N.Z_SYNC_FLUSH)||("string"===this.options.to?(I=L.utf8border(B.output,B.next_out),p=B.next_out-I,y=L.buf2string(B.output,I),B.next_out=p,B.avail_out=K-p,p&&P.arraySet(B.output,B.output,I,p,0),this.onData(y)):this.onData(P.shrinkBuf(B.output,B.next_out)))),0===B.avail_in&&0===B.avail_out&&($e=!0)}while((B.avail_in>0||0===B.avail_out)&&W!==N.Z_STREAM_END);return W===N.Z_STREAM_END&&(k=N.Z_FINISH),k===N.Z_FINISH?(W=x.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===N.Z_OK):k!==N.Z_SYNC_FLUSH||(this.onEnd(N.Z_OK),B.avail_out=0,!0)},S.prototype.onData=function(H){this.chunks.push(H)},S.prototype.onEnd=function(H){H===N.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):P.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},T.Inflate=S,T.inflate=E,T.inflateRaw=function(H,F){return(F=F||{}).raw=!0,E(H,F)},T.ungzip=E},function(U,T,v){"use strict";function S(lt){return(lt>>>24&255)+(lt>>>8&65280)+((65280&lt)<<8)+((255&lt)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(lt){var ft;return lt&&lt.state?(lt.total_in=lt.total_out=(ft=lt.state).total=0,lt.msg="",ft.wrap&&(lt.adler=1&ft.wrap),ft.mode=_,ft.last=0,ft.havedict=0,ft.dmax=32768,ft.head=null,ft.hold=0,ft.bits=0,ft.lencode=ft.lendyn=new I.Buf32(Et),ft.distcode=ft.distdyn=new I.Buf32(It),ft.sane=1,ft.back=-1,Pe):_e}function x(lt){var ft;return lt&&lt.state?((ft=lt.state).wsize=0,ft.whave=0,ft.wnext=0,D(lt)):_e}function P(lt,ft){var Ne,Lt;return lt&&lt.state?(Lt=lt.state,ft<0?(Ne=0,ft=-ft):(Ne=1+(ft>>4),ft<48&&(ft&=15)),ft&&(ft<8||ft>15)?_e:(null!==Lt.window&&Lt.wbits!==ft&&(Lt.window=null),Lt.wrap=Ne,Lt.wbits=ft,x(lt))):_e}function L(lt,ft){var Ne,Lt;return lt?(Lt=new E,lt.state=Lt,Lt.window=null,(Ne=P(lt,ft))!==Pe&&(lt.state=null),Ne):_e}function R(lt){if(jt){var ft;for(W=new I.Buf32(512),k=new I.Buf32(32),ft=0;ft<144;)lt.lens[ft++]=8;for(;ft<256;)lt.lens[ft++]=9;for(;ft<280;)lt.lens[ft++]=7;for(;ft<288;)lt.lens[ft++]=8;for(B(te,lt.lens,0,288,W,0,lt.work,{bits:9}),ft=0;ft<32;)lt.lens[ft++]=5;B($e,lt.lens,0,32,k,0,lt.work,{bits:5}),jt=!1}lt.lencode=W,lt.lenbits=9,lt.distcode=k,lt.distbits=5}function M(lt,ft,Ne,Lt){var w,oe=lt.state;return null===oe.window&&(oe.wsize=1<<oe.wbits,oe.wnext=0,oe.whave=0,oe.window=new I.Buf8(oe.wsize)),Lt>=oe.wsize?(I.arraySet(oe.window,ft,Ne-oe.wsize,oe.wsize,0),oe.wnext=0,oe.whave=oe.wsize):((w=oe.wsize-oe.wnext)>Lt&&(w=Lt),I.arraySet(oe.window,ft,Ne-Lt,w,oe.wnext),(Lt-=w)?(I.arraySet(oe.window,ft,Ne-Lt,Lt,0),oe.wnext=Lt,oe.whave=oe.wsize):(oe.wnext+=w,oe.wnext===oe.wsize&&(oe.wnext=0),oe.whave<oe.wsize&&(oe.whave+=w))),0}var W,k,I=v(4),p=v(40),y=v(41),C=v(93),B=v(94),K=0,te=1,$e=2,ue=4,ye=5,Re=6,Pe=0,Me=1,Le=2,_e=-2,ie=-3,ne=-4,ge=-5,me=8,_=1,b=2,G=3,c=4,O=5,m=6,V=7,X=8,Ee=9,He=10,Oe=11,Ce=12,Fe=13,Ue=14,it=15,xt=16,pt=17,kt=18,Nt=19,ae=20,be=21,Ve=22,ot=23,et=24,Z=25,ke=26,Be=27,Je=28,st=29,mt=30,De=31,Et=852,It=592,Ft=15,jt=!0;T.inflateReset=x,T.inflateReset2=P,T.inflateResetKeep=D,T.inflateInit=function(lt){return L(lt,Ft)},T.inflateInit2=L,T.inflate=function(lt,ft){var Ne,Lt,w,oe,we,ee,Ge,qe,Qe,Ot,Mt,St,Xt,pn,Qt,wn,gn,Mn,br,mn,Wt,vn,rr,Jt,ln=0,An=new I.Buf8(4),dr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!lt||!lt.state||!lt.output||!lt.input&&0!==lt.avail_in)return _e;(Ne=lt.state).mode===Ce&&(Ne.mode=Fe),we=lt.next_out,w=lt.output,oe=lt.next_in,Lt=lt.input,qe=Ne.hold,Qe=Ne.bits,Ot=ee=lt.avail_in,Mt=Ge=lt.avail_out,vn=Pe;e:for(;;)switch(Ne.mode){case _:if(0===Ne.wrap){Ne.mode=Fe;break}for(;Qe<16;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}if(2&Ne.wrap&&35615===qe){Ne.check=0,An[0]=255&qe,An[1]=qe>>>8&255,Ne.check=y(Ne.check,An,2,0),qe=0,Qe=0,Ne.mode=b;break}if(Ne.flags=0,Ne.head&&(Ne.head.done=!1),!(1&Ne.wrap)||(((255&qe)<<8)+(qe>>8))%31){lt.msg="incorrect header check",Ne.mode=mt;break}if((15&qe)!==me){lt.msg="unknown compression method",Ne.mode=mt;break}if(Qe-=4,Wt=8+(15&(qe>>>=4)),0===Ne.wbits)Ne.wbits=Wt;else if(Wt>Ne.wbits){lt.msg="invalid window size",Ne.mode=mt;break}Ne.dmax=1<<Wt,lt.adler=Ne.check=1,Ne.mode=512&qe?He:Ce,qe=0,Qe=0;break;case b:for(;Qe<16;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}if(Ne.flags=qe,(255&Ne.flags)!==me){lt.msg="unknown compression method",Ne.mode=mt;break}if(57344&Ne.flags){lt.msg="unknown header flags set",Ne.mode=mt;break}Ne.head&&(Ne.head.text=qe>>8&1),512&Ne.flags&&(An[0]=255&qe,An[1]=qe>>>8&255,Ne.check=y(Ne.check,An,2,0)),qe=0,Qe=0,Ne.mode=G;case G:for(;Qe<32;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}Ne.head&&(Ne.head.time=qe),512&Ne.flags&&(An[0]=255&qe,An[1]=qe>>>8&255,An[2]=qe>>>16&255,An[3]=qe>>>24&255,Ne.check=y(Ne.check,An,4,0)),qe=0,Qe=0,Ne.mode=c;case c:for(;Qe<16;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}Ne.head&&(Ne.head.xflags=255&qe,Ne.head.os=qe>>8),512&Ne.flags&&(An[0]=255&qe,An[1]=qe>>>8&255,Ne.check=y(Ne.check,An,2,0)),qe=0,Qe=0,Ne.mode=O;case O:if(1024&Ne.flags){for(;Qe<16;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}Ne.length=qe,Ne.head&&(Ne.head.extra_len=qe),512&Ne.flags&&(An[0]=255&qe,An[1]=qe>>>8&255,Ne.check=y(Ne.check,An,2,0)),qe=0,Qe=0}else Ne.head&&(Ne.head.extra=null);Ne.mode=m;case m:if(1024&Ne.flags&&((St=Ne.length)>ee&&(St=ee),St&&(Ne.head&&(Wt=Ne.head.extra_len-Ne.length,Ne.head.extra||(Ne.head.extra=new Array(Ne.head.extra_len)),I.arraySet(Ne.head.extra,Lt,oe,St,Wt)),512&Ne.flags&&(Ne.check=y(Ne.check,Lt,St,oe)),ee-=St,oe+=St,Ne.length-=St),Ne.length))break e;Ne.length=0,Ne.mode=V;case V:if(2048&Ne.flags){if(0===ee)break e;St=0;do{Wt=Lt[oe+St++],Ne.head&&Wt&&Ne.length<65536&&(Ne.head.name+=String.fromCharCode(Wt))}while(Wt&&St<ee);if(512&Ne.flags&&(Ne.check=y(Ne.check,Lt,St,oe)),ee-=St,oe+=St,Wt)break e}else Ne.head&&(Ne.head.name=null);Ne.length=0,Ne.mode=X;case X:if(4096&Ne.flags){if(0===ee)break e;St=0;do{Wt=Lt[oe+St++],Ne.head&&Wt&&Ne.length<65536&&(Ne.head.comment+=String.fromCharCode(Wt))}while(Wt&&St<ee);if(512&Ne.flags&&(Ne.check=y(Ne.check,Lt,St,oe)),ee-=St,oe+=St,Wt)break e}else Ne.head&&(Ne.head.comment=null);Ne.mode=Ee;case Ee:if(512&Ne.flags){for(;Qe<16;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}if(qe!==(65535&Ne.check)){lt.msg="header crc mismatch",Ne.mode=mt;break}qe=0,Qe=0}Ne.head&&(Ne.head.hcrc=Ne.flags>>9&1,Ne.head.done=!0),lt.adler=Ne.check=0,Ne.mode=Ce;break;case He:for(;Qe<32;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}lt.adler=Ne.check=S(qe),qe=0,Qe=0,Ne.mode=Oe;case Oe:if(0===Ne.havedict)return lt.next_out=we,lt.avail_out=Ge,lt.next_in=oe,lt.avail_in=ee,Ne.hold=qe,Ne.bits=Qe,Le;lt.adler=Ne.check=1,Ne.mode=Ce;case Ce:if(ft===ye||ft===Re)break e;case Fe:if(Ne.last){qe>>>=7&Qe,Qe-=7&Qe,Ne.mode=Be;break}for(;Qe<3;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}switch(Ne.last=1&qe,Qe-=1,3&(qe>>>=1)){case 0:Ne.mode=Ue;break;case 1:if(R(Ne),Ne.mode=ae,ft===Re){qe>>>=2,Qe-=2;break e}break;case 2:Ne.mode=pt;break;case 3:lt.msg="invalid block type",Ne.mode=mt}qe>>>=2,Qe-=2;break;case Ue:for(qe>>>=7&Qe,Qe-=7&Qe;Qe<32;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}if((65535&qe)!=(qe>>>16^65535)){lt.msg="invalid stored block lengths",Ne.mode=mt;break}if(Ne.length=65535&qe,qe=0,Qe=0,Ne.mode=it,ft===Re)break e;case it:Ne.mode=xt;case xt:if(St=Ne.length){if(St>ee&&(St=ee),St>Ge&&(St=Ge),0===St)break e;I.arraySet(w,Lt,oe,St,we),ee-=St,oe+=St,Ge-=St,we+=St,Ne.length-=St;break}Ne.mode=Ce;break;case pt:for(;Qe<14;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}if(Ne.nlen=257+(31&qe),Qe-=5,Ne.ndist=1+(31&(qe>>>=5)),Qe-=5,Ne.ncode=4+(15&(qe>>>=5)),qe>>>=4,Qe-=4,Ne.nlen>286||Ne.ndist>30){lt.msg="too many length or distance symbols",Ne.mode=mt;break}Ne.have=0,Ne.mode=kt;case kt:for(;Ne.have<Ne.ncode;){for(;Qe<3;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}Ne.lens[dr[Ne.have++]]=7&qe,qe>>>=3,Qe-=3}for(;Ne.have<19;)Ne.lens[dr[Ne.have++]]=0;if(Ne.lencode=Ne.lendyn,Ne.lenbits=7,vn=B(K,Ne.lens,0,19,Ne.lencode,0,Ne.work,rr={bits:Ne.lenbits}),Ne.lenbits=rr.bits,vn){lt.msg="invalid code lengths set",Ne.mode=mt;break}Ne.have=0,Ne.mode=Nt;case Nt:for(;Ne.have<Ne.nlen+Ne.ndist;){for(;wn=(ln=Ne.lencode[qe&(1<<Ne.lenbits)-1])>>>16&255,gn=65535&ln,!((Qt=ln>>>24)<=Qe);){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}if(gn<16)qe>>>=Qt,Qe-=Qt,Ne.lens[Ne.have++]=gn;else{if(16===gn){for(Jt=Qt+2;Qe<Jt;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}if(qe>>>=Qt,Qe-=Qt,0===Ne.have){lt.msg="invalid bit length repeat",Ne.mode=mt;break}Wt=Ne.lens[Ne.have-1],St=3+(3&qe),qe>>>=2,Qe-=2}else if(17===gn){for(Jt=Qt+3;Qe<Jt;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}Qe-=Qt,Wt=0,St=3+(7&(qe>>>=Qt)),qe>>>=3,Qe-=3}else{for(Jt=Qt+7;Qe<Jt;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}Qe-=Qt,Wt=0,St=11+(127&(qe>>>=Qt)),qe>>>=7,Qe-=7}if(Ne.have+St>Ne.nlen+Ne.ndist){lt.msg="invalid bit length repeat",Ne.mode=mt;break}for(;St--;)Ne.lens[Ne.have++]=Wt}}if(Ne.mode===mt)break;if(0===Ne.lens[256]){lt.msg="invalid code -- missing end-of-block",Ne.mode=mt;break}if(Ne.lenbits=9,vn=B(te,Ne.lens,0,Ne.nlen,Ne.lencode,0,Ne.work,rr={bits:Ne.lenbits}),Ne.lenbits=rr.bits,vn){lt.msg="invalid literal/lengths set",Ne.mode=mt;break}if(Ne.distbits=6,Ne.distcode=Ne.distdyn,vn=B($e,Ne.lens,Ne.nlen,Ne.ndist,Ne.distcode,0,Ne.work,rr={bits:Ne.distbits}),Ne.distbits=rr.bits,vn){lt.msg="invalid distances set",Ne.mode=mt;break}if(Ne.mode=ae,ft===Re)break e;case ae:Ne.mode=be;case be:if(ee>=6&&Ge>=258){lt.next_out=we,lt.avail_out=Ge,lt.next_in=oe,lt.avail_in=ee,Ne.hold=qe,Ne.bits=Qe,C(lt,Mt),we=lt.next_out,w=lt.output,Ge=lt.avail_out,oe=lt.next_in,Lt=lt.input,ee=lt.avail_in,qe=Ne.hold,Qe=Ne.bits,Ne.mode===Ce&&(Ne.back=-1);break}for(Ne.back=0;wn=(ln=Ne.lencode[qe&(1<<Ne.lenbits)-1])>>>16&255,gn=65535&ln,!((Qt=ln>>>24)<=Qe);){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}if(wn&&0==(240&wn)){for(Mn=Qt,br=wn,mn=gn;wn=(ln=Ne.lencode[mn+((qe&(1<<Mn+br)-1)>>Mn)])>>>16&255,gn=65535&ln,!(Mn+(Qt=ln>>>24)<=Qe);){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}qe>>>=Mn,Qe-=Mn,Ne.back+=Mn}if(qe>>>=Qt,Qe-=Qt,Ne.back+=Qt,Ne.length=gn,0===wn){Ne.mode=ke;break}if(32&wn){Ne.back=-1,Ne.mode=Ce;break}if(64&wn){lt.msg="invalid literal/length code",Ne.mode=mt;break}Ne.extra=15&wn,Ne.mode=Ve;case Ve:if(Ne.extra){for(Jt=Ne.extra;Qe<Jt;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}Ne.length+=qe&(1<<Ne.extra)-1,qe>>>=Ne.extra,Qe-=Ne.extra,Ne.back+=Ne.extra}Ne.was=Ne.length,Ne.mode=ot;case ot:for(;wn=(ln=Ne.distcode[qe&(1<<Ne.distbits)-1])>>>16&255,gn=65535&ln,!((Qt=ln>>>24)<=Qe);){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}if(0==(240&wn)){for(Mn=Qt,br=wn,mn=gn;wn=(ln=Ne.distcode[mn+((qe&(1<<Mn+br)-1)>>Mn)])>>>16&255,gn=65535&ln,!(Mn+(Qt=ln>>>24)<=Qe);){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}qe>>>=Mn,Qe-=Mn,Ne.back+=Mn}if(qe>>>=Qt,Qe-=Qt,Ne.back+=Qt,64&wn){lt.msg="invalid distance code",Ne.mode=mt;break}Ne.offset=gn,Ne.extra=15&wn,Ne.mode=et;case et:if(Ne.extra){for(Jt=Ne.extra;Qe<Jt;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}Ne.offset+=qe&(1<<Ne.extra)-1,qe>>>=Ne.extra,Qe-=Ne.extra,Ne.back+=Ne.extra}if(Ne.offset>Ne.dmax){lt.msg="invalid distance too far back",Ne.mode=mt;break}Ne.mode=Z;case Z:if(0===Ge)break e;if(Ne.offset>(St=Mt-Ge)){if((St=Ne.offset-St)>Ne.whave&&Ne.sane){lt.msg="invalid distance too far back",Ne.mode=mt;break}Xt=St>Ne.wnext?Ne.wsize-(St-=Ne.wnext):Ne.wnext-St,St>Ne.length&&(St=Ne.length),pn=Ne.window}else pn=w,Xt=we-Ne.offset,St=Ne.length;St>Ge&&(St=Ge),Ge-=St,Ne.length-=St;do{w[we++]=pn[Xt++]}while(--St);0===Ne.length&&(Ne.mode=be);break;case ke:if(0===Ge)break e;w[we++]=Ne.length,Ge--,Ne.mode=be;break;case Be:if(Ne.wrap){for(;Qe<32;){if(0===ee)break e;ee--,qe|=Lt[oe++]<<Qe,Qe+=8}if(lt.total_out+=Mt-=Ge,Ne.total+=Mt,Mt&&(lt.adler=Ne.check=Ne.flags?y(Ne.check,w,Mt,we-Mt):p(Ne.check,w,Mt,we-Mt)),Mt=Ge,(Ne.flags?qe:S(qe))!==Ne.check){lt.msg="incorrect data check",Ne.mode=mt;break}qe=0,Qe=0}Ne.mode=Je;case Je:if(Ne.wrap&&Ne.flags){for(;Qe<32;){if(0===ee)break e;ee--,qe+=Lt[oe++]<<Qe,Qe+=8}if(qe!==(4294967295&Ne.total)){lt.msg="incorrect length check",Ne.mode=mt;break}qe=0,Qe=0}Ne.mode=st;case st:vn=Me;break e;case mt:vn=ie;break e;case De:return ne;default:return _e}return lt.next_out=we,lt.avail_out=Ge,lt.next_in=oe,lt.avail_in=ee,Ne.hold=qe,Ne.bits=Qe,(Ne.wsize||Mt!==lt.avail_out&&Ne.mode<mt&&(Ne.mode<Be||ft!==ue))&&M(lt,lt.output,lt.next_out,Mt-lt.avail_out)?(Ne.mode=De,ne):(Mt-=lt.avail_out,lt.total_in+=Ot-=lt.avail_in,lt.total_out+=Mt,Ne.total+=Mt,Ne.wrap&&Mt&&(lt.adler=Ne.check=Ne.flags?y(Ne.check,w,Mt,lt.next_out-Mt):p(Ne.check,w,Mt,lt.next_out-Mt)),lt.data_type=Ne.bits+(Ne.last?64:0)+(Ne.mode===Ce?128:0)+(Ne.mode===ae||Ne.mode===it?256:0),(0===Ot&&0===Mt||ft===ue)&&vn===Pe&&(vn=ge),vn)},T.inflateEnd=function(lt){if(!lt||!lt.state)return _e;var ft=lt.state;return ft.window&&(ft.window=null),lt.state=null,Pe},T.inflateGetHeader=function(lt,ft){var Ne;return lt&&lt.state?0==(2&(Ne=lt.state).wrap)?_e:(Ne.head=ft,ft.done=!1,Pe):_e},T.inflateSetDictionary=function(lt,ft){var Ne,w=ft.length;return lt&&lt.state?0!==(Ne=lt.state).wrap&&Ne.mode!==Oe?_e:Ne.mode===Oe&&p(1,ft,w,0)!==Ne.check?ie:M(lt,ft,w,w)?(Ne.mode=De,ne):(Ne.havedict=1,Pe):_e},T.inflateInfo="pako inflate (from Nodeca project)"},function(U,T,v){"use strict";U.exports=function(S,E){var D,x,P,L,N,R,M,A,z,H,F,W,k,I,p,y,C,B,K,te,$e,ue,ye,Re,Pe;Re=S.input,P=(x=S.next_in)+(S.avail_in-5),Pe=S.output,N=(L=S.next_out)-(E-S.avail_out),R=L+(S.avail_out-257),M=(D=S.state).dmax,A=D.wsize,z=D.whave,H=D.wnext,F=D.window,W=D.hold,k=D.bits,I=D.lencode,p=D.distcode,y=(1<<D.lenbits)-1,C=(1<<D.distbits)-1;e:do{k<15&&(W+=Re[x++]<<k,W+=Re[x++]<<(k+=8),k+=8),B=I[W&y];t:for(;;){if(W>>>=K=B>>>24,k-=K,0==(K=B>>>16&255))Pe[L++]=65535&B;else{if(!(16&K)){if(0==(64&K)){B=I[(65535&B)+(W&(1<<K)-1)];continue t}if(32&K){D.mode=12;break e}S.msg="invalid literal/length code",D.mode=30;break e}te=65535&B,(K&=15)&&(k<K&&(W+=Re[x++]<<k,k+=8),te+=W&(1<<K)-1,W>>>=K,k-=K),k<15&&(W+=Re[x++]<<k,W+=Re[x++]<<(k+=8),k+=8),B=p[W&C];n:for(;;){if(W>>>=K=B>>>24,k-=K,!(16&(K=B>>>16&255))){if(0==(64&K)){B=p[(65535&B)+(W&(1<<K)-1)];continue n}S.msg="invalid distance code",D.mode=30;break e}if($e=65535&B,k<(K&=15)&&(W+=Re[x++]<<k,(k+=8)<K&&(W+=Re[x++]<<k,k+=8)),($e+=W&(1<<K)-1)>M){S.msg="invalid distance too far back",D.mode=30;break e}if(W>>>=K,k-=K,$e>(K=L-N)){if((K=$e-K)>z&&D.sane){S.msg="invalid distance too far back",D.mode=30;break e}if(ue=0,ye=F,0===H){if(ue+=A-K,K<te){te-=K;do{Pe[L++]=F[ue++]}while(--K);ue=L-$e,ye=Pe}}else if(H<K){if(ue+=A+H-K,(K-=H)<te){te-=K;do{Pe[L++]=F[ue++]}while(--K);if(ue=0,H<te){te-=K=H;do{Pe[L++]=F[ue++]}while(--K);ue=L-$e,ye=Pe}}}else if(ue+=H-K,K<te){te-=K;do{Pe[L++]=F[ue++]}while(--K);ue=L-$e,ye=Pe}for(;te>2;)Pe[L++]=ye[ue++],Pe[L++]=ye[ue++],Pe[L++]=ye[ue++],te-=3;te&&(Pe[L++]=ye[ue++],te>1&&(Pe[L++]=ye[ue++]))}else{ue=L-$e;do{Pe[L++]=Pe[ue++],Pe[L++]=Pe[ue++],Pe[L++]=Pe[ue++],te-=3}while(te>2);te&&(Pe[L++]=Pe[ue++],te>1&&(Pe[L++]=Pe[ue++]))}break}}break}}while(x<P&&L<R);W&=(1<<(k-=(te=k>>3)<<3))-1,S.next_in=x-=te,S.next_out=L,S.avail_in=x<P?P-x+5:5-(x-P),S.avail_out=L<R?R-L+257:257-(L-R),D.hold=W,D.bits=k}},function(U,T,v){"use strict";var S=v(4),E=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],D=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];U.exports=function(L,N,R,M,A,z,H,F){var W,k,I,p,y,C,B,K,te,$e=F.bits,ue=0,ye=0,Re=0,Pe=0,Me=0,Le=0,_e=0,ie=0,ne=0,ge=0,me=null,_=0,b=new S.Buf16(16),G=new S.Buf16(16),c=null,O=0;for(ue=0;ue<=15;ue++)b[ue]=0;for(ye=0;ye<M;ye++)b[N[R+ye]]++;for(Me=$e,Pe=15;Pe>=1&&0===b[Pe];Pe--);if(Me>Pe&&(Me=Pe),0===Pe)return A[z++]=20971520,A[z++]=20971520,F.bits=1,0;for(Re=1;Re<Pe&&0===b[Re];Re++);for(Me<Re&&(Me=Re),ie=1,ue=1;ue<=15;ue++)if(ie<<=1,(ie-=b[ue])<0)return-1;if(ie>0&&(0===L||1!==Pe))return-1;for(G[1]=0,ue=1;ue<15;ue++)G[ue+1]=G[ue]+b[ue];for(ye=0;ye<M;ye++)0!==N[R+ye]&&(H[G[N[R+ye]]++]=ye);if(0===L?(me=c=H,C=19):1===L?(me=E,_-=257,c=D,O-=257,C=256):(me=x,c=P,C=-1),ge=0,ye=0,ue=Re,y=z,Le=Me,_e=0,I=-1,p=(ne=1<<Me)-1,1===L&&ne>852||2===L&&ne>592)return 1;for(;;){B=ue-_e,H[ye]<C?(K=0,te=H[ye]):H[ye]>C?(K=c[O+H[ye]],te=me[_+H[ye]]):(K=96,te=0),W=1<<ue-_e,Re=k=1<<Le;do{A[y+(ge>>_e)+(k-=W)]=B<<24|K<<16|te|0}while(0!==k);for(W=1<<ue-1;ge&W;)W>>=1;if(0!==W?(ge&=W-1,ge+=W):ge=0,ye++,0==--b[ue]){if(ue===Pe)break;ue=N[R+H[ye]]}if(ue>Me&&(ge&p)!==I){for(0===_e&&(_e=Me),y+=Re,ie=1<<(Le=ue-_e);Le+_e<Pe&&!((ie-=b[Le+_e])<=0);)Le++,ie<<=1;if(ne+=1<<Le,1===L&&ne>852||2===L&&ne>592)return 1;A[I=ge&p]=Me<<24|Le<<16|y-z|0}}return 0!==ge&&(A[y+ge]=ue-_e<<24|64<<16|0),F.bits=Me,0}},function(U,T,v){"use strict";U.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(U,T,v){"use strict";function S(F,W,k,I){D.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=W,this.zipPlatform=k,this.encodeFileName=I,this.streamFiles=F,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var E=v(0),D=v(1),x=v(6),P=v(22),L=v(45),N=function(F,W){var k,I="";for(k=0;k<W;k++)I+=String.fromCharCode(255&F),F>>>=8;return I},A=function(F,W,k,I,p,y){var C,B,K=F.file,te=F.compression,$e=y!==x.utf8encode,ue=E.transformTo("string",y(K.name)),ye=E.transformTo("string",x.utf8encode(K.name)),Re=K.comment,Pe=E.transformTo("string",y(Re)),Me=E.transformTo("string",x.utf8encode(Re)),Le=ye.length!==K.name.length,_e=Me.length!==Re.length,ie="",ne="",ge="",me=K.dir,_=K.date,b={crc32:0,compressedSize:0,uncompressedSize:0};W&&!k||(b.crc32=F.crc32,b.compressedSize=F.compressedSize,b.uncompressedSize=F.uncompressedSize);var G=0;W&&(G|=8),$e||!Le&&!_e||(G|=2048);var c=0,O=0;me&&(c|=16),"UNIX"===p?(O=798,c|=function(F,W){var k=F;return F||(k=W?16893:33204),(65535&k)<<16}(K.unixPermissions,me)):(O=20,c|=function(F,W){return 63&(F||0)}(K.dosPermissions)),C=_.getUTCHours(),C<<=6,C|=_.getUTCMinutes(),C<<=5,C|=_.getUTCSeconds()/2,B=_.getUTCFullYear()-1980,B<<=4,B|=_.getUTCMonth()+1,B<<=5,B|=_.getUTCDate(),Le&&(ne=N(1,1)+N(P(ue),4)+ye,ie+="up"+N(ne.length,2)+ne),_e&&(ge=N(1,1)+N(P(Pe),4)+Me,ie+="uc"+N(ge.length,2)+ge);var m="";return m+="\n\0",m+=N(G,2),m+=te.magic,m+=N(C,2),m+=N(B,2),m+=N(b.crc32,4),m+=N(b.compressedSize,4),m+=N(b.uncompressedSize,4),m+=N(ue.length,2),m+=N(ie.length,2),{fileRecord:L.LOCAL_FILE_HEADER+m+ue+ie,dirRecord:L.CENTRAL_FILE_HEADER+N(O,2)+m+N(Pe.length,2)+"\0\0\0\0"+N(c,4)+N(I,4)+ue+ie+Pe}},H=function(F){return L.DATA_DESCRIPTOR+N(F.crc32,4)+N(F.compressedSize,4)+N(F.uncompressedSize,4)};E.inherits(S,D),S.prototype.push=function(F){var W=F.meta.percent||0,k=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(F):(this.bytesWritten+=F.data.length,D.prototype.push.call(this,{data:F.data,meta:{currentFile:this.currentFile,percent:k?(W+100*(k-I-1))/k:100}}))},S.prototype.openedSource=function(F){this.currentSourceOffset=this.bytesWritten,this.currentFile=F.file.name;var W=this.streamFiles&&!F.file.dir;if(W){var k=A(F,W,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:k.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(F){this.accumulate=!1;var W=this.streamFiles&&!F.file.dir,k=A(F,W,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(k.dirRecord),W)this.push({data:H(F),meta:{percent:100}});else for(this.push({data:k.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var F=this.bytesWritten,W=0;W<this.dirRecords.length;W++)this.push({data:this.dirRecords[W],meta:{percent:100}});var I=function(F,W,k,I,p){var y=E.transformTo("string",p(I));return L.CENTRAL_DIRECTORY_END+"\0\0\0\0"+N(F,2)+N(F,2)+N(W,4)+N(k,4)+N(y.length,2)+y}(this.dirRecords.length,this.bytesWritten-F,F,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(F){this._sources.push(F);var W=this;return F.on("data",function(k){W.processChunk(k)}),F.on("end",function(){W.closedSource(W.previous.streamInfo),W._sources.length?W.prepareNextSource():W.end()}),F.on("error",function(k){W.error(k)}),this},S.prototype.resume=function(){return!!D.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(F){var W=this._sources;if(!D.prototype.error.call(this,F))return!1;for(var k=0;k<W.length;k++)try{W[k].error(F)}catch(I){}return!0},S.prototype.lock=function(){D.prototype.lock.call(this);for(var F=this._sources,W=0;W<F.length;W++)F[W].lock()},U.exports=S},function(U,T,v){"use strict";function S(x,P){D.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(P)}var E=v(0),D=v(1);E.inherits(S,D),S.prototype._bindStream=function(x){var P=this;this._stream=x,x.pause(),x.on("data",function(L){P.push({data:L,meta:{percent:0}})}).on("error",function(L){P.isPaused?this.generatedError=L:P.error(L)}).on("end",function(){P.isPaused?P._upstreamEnded=!0:P.end()})},S.prototype.pause=function(){return!!D.prototype.pause.call(this)&&(this._stream.pause(),!0)},S.prototype.resume=function(){return!!D.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},U.exports=S},function(U,T,v){"use strict";function S(R){return new D.Promise(function(M,A){var z=R.decompressed.getContentWorker().pipe(new L);z.on("error",function(H){A(H)}).on("end",function(){z.streamInfo.crc32!==R.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):M()}).resume()})}var E=v(0),D=v(9),x=v(6),P=(E=v(0),v(99)),L=v(38),N=v(14);U.exports=function(R,M){var A=this;return M=E.extend(M||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:x.utf8decode}),N.isNode&&N.isStream(R)?D.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):E.prepareContent("the loaded zip file",R,!0,M.optimizedBinaryString,M.base64).then(function(z){var H=new P(M);return H.load(z),H}).then(function(z){var H=[D.Promise.resolve(z)],F=z.files;if(M.checkCRC32)for(var W=0;W<F.length;W++)H.push(S(F[W]));return D.Promise.all(H)}).then(function(z){for(var H=z.shift(),F=H.files,W=0;W<F.length;W++){var k=F[W];A.file(k.fileNameStr,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:M.createFolders})}return H.zipComment.length&&(A.comment=H.zipComment),A})}},function(U,T,v){"use strict";function S(N){this.files=[],this.loadOptions=N}var E=v(46),D=v(0),x=v(45),P=v(102),L=(v(6),v(3));S.prototype={checkSignature:function(N){if(!this.reader.readAndCheckSignature(N)){this.reader.index-=4;var R=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+D.pretty(R)+", expected "+D.pretty(N)+")")}},isSignature:function(N,R){var M=this.reader.index;this.reader.setIndex(N);var z=this.reader.readString(4)===R;return this.reader.setIndex(M),z},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var N=this.reader.readData(this.zipCommentLength),M=D.transformTo(L.uint8array?"uint8array":"array",N);this.zipComment=this.loadOptions.decodeFileName(M)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var N,R,M,A=this.zip64EndOfCentralSize-44;0<A;)N=this.reader.readInt(2),R=this.reader.readInt(4),M=this.reader.readData(R),this.zip64ExtensibleData[N]={id:N,length:R,value:M}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var N,R;for(N=0;N<this.files.length;N++)this.reader.setIndex((R=this.files[N]).localHeaderOffset),this.checkSignature(x.LOCAL_FILE_HEADER),R.readLocalPart(this.reader),R.handleUTF8(),R.processAttributes()},readCentralDir:function(){var N;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(x.CENTRAL_FILE_HEADER);)(N=new P({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(N);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var N=this.reader.lastIndexOfSignature(x.CENTRAL_DIRECTORY_END);if(N<0)throw this.isSignature(0,x.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(N);var R=N;if(this.checkSignature(x.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===D.MAX_VALUE_16BITS||this.diskWithCentralDirStart===D.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===D.MAX_VALUE_16BITS||this.centralDirRecords===D.MAX_VALUE_16BITS||this.centralDirSize===D.MAX_VALUE_32BITS||this.centralDirOffset===D.MAX_VALUE_32BITS){if(this.zip64=!0,(N=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(N),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,x.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var M=this.centralDirOffset+this.centralDirSize;this.zip64&&(M+=20,M+=12+this.zip64EndOfCentralSize);var A=R-M;if(A>0)this.isSignature(R,x.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(N){this.reader=E(N)},load:function(N){this.prepareReader(N),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},U.exports=S},function(U,T,v){"use strict";function S(D){E.call(this,D)}var E=v(48);v(0).inherits(S,E),S.prototype.byteAt=function(D){return this.data.charCodeAt(this.zero+D)},S.prototype.lastIndexOfSignature=function(D){return this.data.lastIndexOf(D)-this.zero},S.prototype.readAndCheckSignature=function(D){return D===this.readData(4)},S.prototype.readData=function(D){this.checkOffset(D);var x=this.data.slice(this.zero+this.index,this.zero+this.index+D);return this.index+=D,x},U.exports=S},function(U,T,v){"use strict";function S(D){E.call(this,D)}var E=v(49);v(0).inherits(S,E),S.prototype.readData=function(D){this.checkOffset(D);var x=this.data.slice(this.zero+this.index,this.zero+this.index+D);return this.index+=D,x},U.exports=S},function(U,T,v){"use strict";function S(A,z){this.options=A,this.loadOptions=z}var E=v(46),D=v(0),x=v(21),P=v(22),L=v(6),N=v(39),R=v(3);S.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(A){var z,H;if(A.skip(22),this.fileNameLength=A.readInt(2),H=A.readInt(2),this.fileName=A.readData(this.fileNameLength),A.skip(H),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(z=function(A){for(var z in N)if(N.hasOwnProperty(z)&&N[z].magic===A)return N[z];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+D.pretty(this.compressionMethod)+" unknown (inner file : "+D.transformTo("string",this.fileName)+")");this.decompressed=new x(this.compressedSize,this.uncompressedSize,this.crc32,z,A.readData(this.compressedSize))},readCentralPart:function(A){this.versionMadeBy=A.readInt(2),A.skip(2),this.bitFlag=A.readInt(2),this.compressionMethod=A.readString(2),this.date=A.readDate(),this.crc32=A.readInt(4),this.compressedSize=A.readInt(4),this.uncompressedSize=A.readInt(4);var z=A.readInt(2);if(this.extraFieldsLength=A.readInt(2),this.fileCommentLength=A.readInt(2),this.diskNumberStart=A.readInt(2),this.internalFileAttributes=A.readInt(2),this.externalFileAttributes=A.readInt(4),this.localHeaderOffset=A.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");A.skip(z),this.readExtraFields(A),this.parseZIP64ExtraField(A),this.fileComment=A.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var A=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===A&&(this.dosPermissions=63&this.externalFileAttributes),3===A&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(A){if(this.extraFields[1]){var z=E(this.extraFields[1].value);this.uncompressedSize===D.MAX_VALUE_32BITS&&(this.uncompressedSize=z.readInt(8)),this.compressedSize===D.MAX_VALUE_32BITS&&(this.compressedSize=z.readInt(8)),this.localHeaderOffset===D.MAX_VALUE_32BITS&&(this.localHeaderOffset=z.readInt(8)),this.diskNumberStart===D.MAX_VALUE_32BITS&&(this.diskNumberStart=z.readInt(4))}},readExtraFields:function(A){var z,H,F,W=A.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});A.index<W;)z=A.readInt(2),H=A.readInt(2),F=A.readData(H),this.extraFields[z]={id:z,length:H,value:F}},handleUTF8:function(){var A=R.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=L.utf8decode(this.fileName),this.fileCommentStr=L.utf8decode(this.fileComment);else{var z=this.findExtraFieldUnicodePath();if(null!==z)this.fileNameStr=z;else{var H=D.transformTo(A,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(H)}var F=this.findExtraFieldUnicodeComment();if(null!==F)this.fileCommentStr=F;else{var W=D.transformTo(A,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(W)}}},findExtraFieldUnicodePath:function(){var A=this.extraFields[28789];if(A){var z=E(A.value);return 1!==z.readInt(1)||P(this.fileName)!==z.readInt(4)?null:L.utf8decode(z.readData(A.length-5))}return null},findExtraFieldUnicodeComment:function(){var A=this.extraFields[25461];if(A){var z=E(A.value);return 1!==z.readInt(1)||P(this.fileComment)!==z.readInt(4)?null:L.utf8decode(z.readData(A.length-5))}return null}},U.exports=S},function(U,T,v){var S,E=E||function(D){"use strict";if(!(void 0===D||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var P=function(){return D.URL||D.webkitURL||D},L=D.document.createElementNS("http://www.w3.org/1999/xhtml","a"),N="download"in L,M=/constructor/i.test(D.HTMLElement)||D.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent),z=function(y){(D.setImmediate||D.setTimeout)(function(){throw y},0)},H=function(y){setTimeout(function(){"string"==typeof y?P().revokeObjectURL(y):y.remove()},4e4)},W=function(y){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(y.type)?new Blob([String.fromCharCode(65279),y],{type:y.type}):y},k=function(y,C,B){B||(y=W(y));var K,te=this,ue="application/octet-stream"===y.type,ye=function(){!function(y,C,B){for(var K=(C=[].concat(C)).length;K--;){var te=y["on"+C[K]];if("function"==typeof te)try{te.call(y,B||y)}catch($e){z($e)}}}(te,"writestart progress write writeend".split(" "))};if(te.readyState=te.INIT,N)return K=P().createObjectURL(y),void setTimeout(function(){L.href=K,L.download=C,function(y){var C=new MouseEvent("click");y.dispatchEvent(C)}(L),ye(),H(K),te.readyState=te.DONE});!function(){if((A||ue&&M)&&D.FileReader){var Re=new FileReader;return Re.onloadend=function(){var Pe=A?Re.result:Re.result.replace(/^data:[^;]*;/,"data:attachment/file;");D.open(Pe,"_blank")||(D.location.href=Pe),Pe=void 0,te.readyState=te.DONE,ye()},Re.readAsDataURL(y),void(te.readyState=te.INIT)}K||(K=P().createObjectURL(y)),ue?D.location.href=K:D.open(K,"_blank")||(D.location.href=K),te.readyState=te.DONE,ye(),H(K)}()},I=k.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(y,C,B){return C=C||y.name||"download",B||(y=W(y)),navigator.msSaveOrOpenBlob(y,C)}:(I.abort=function(){},I.readyState=I.INIT=0,I.WRITING=1,I.DONE=2,I.error=I.onwritestart=I.onprogress=I.onwrite=I.onabort=I.onerror=I.onwriteend=null,function(y,C,B){return new k(y,C||y.name||"download",B)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==U&&U.exports?U.exports.saveAs=E:null!==v(104)&&null!==v(105)&&void 0!==(S=function(){return E}.call(T,v,T,U))&&(U.exports=S)},function(U,T){U.exports=function(){throw new Error("define cannot be used indirect")}},function(U,T){(function(v){U.exports=v}).call(T,{})}])},ce.exports=U(de(0))}).call(he,de(1).setImmediate,de(1).clearImmediate)},function(ce,he,de){(function(se,re){!function(Q,U){"use strict";function v(M){delete P[M]}function E(M){if(L)setTimeout(E,0,M);else{var A=P[M];if(A){L=!0;try{!function(M){var A=M.callback,z=M.args;switch(z.length){case 0:A();break;case 1:A(z[0]);break;case 2:A(z[0],z[1]);break;case 3:A(z[0],z[1],z[2]);break;default:A.apply(void 0,z)}}(A)}finally{v(M),L=!1}}}}if(!Q.setImmediate){var D,x=1,P={},L=!1,N=Q.document,R=Object.getPrototypeOf&&Object.getPrototypeOf(Q);R=R&&R.setTimeout?R:Q,"[object process]"==={}.toString.call(Q.process)?D=function(M){re.nextTick(function(){E(M)})}:function(){if(Q.postMessage&&!Q.importScripts){var M=!0,A=Q.onmessage;return Q.onmessage=function(){M=!1},Q.postMessage("","*"),Q.onmessage=A,M}}()?(M="setImmediate$"+Math.random()+"$",A=function(z){z.source===Q&&"string"==typeof z.data&&0===z.data.indexOf(M)&&E(+z.data.slice(M.length))},Q.addEventListener?Q.addEventListener("message",A,!1):Q.attachEvent("onmessage",A),D=function(z){Q.postMessage(M+z,"*")}):Q.MessageChannel?function(){var M=new MessageChannel;M.port1.onmessage=function(A){E(A.data)},D=function(A){M.port2.postMessage(A)}}():N&&"onreadystatechange"in N.createElement("script")?function(){var M=N.documentElement;D=function(A){var z=N.createElement("script");z.onreadystatechange=function(){E(A),z.onreadystatechange=null,M.removeChild(z),z=null},M.appendChild(z)}}():D=function(M){setTimeout(E,0,M)},R.setImmediate=function(M){"function"!=typeof M&&(M=new Function(""+M));for(var A=new Array(arguments.length-1),z=0;z<A.length;z++)A[z]=arguments[z+1];return P[x]={callback:M,args:A},D(x),x++},R.clearImmediate=v}var M,A}("undefined"==typeof self?void 0===se?this:se:self)}).call(he,de(2),de(11))},function(ce,he){function de(){throw new Error("setTimeout has not been defined")}function se(){throw new Error("clearTimeout has not been defined")}function re(M){if(E===setTimeout)return setTimeout(M,0);if((E===de||!E)&&setTimeout)return E=setTimeout,setTimeout(M,0);try{return E(M,0)}catch(A){try{return E.call(null,M,0)}catch(z){return E.call(this,M,0)}}}function U(){N&&P&&(N=!1,P.length?L=P.concat(L):R=-1,L.length&&T())}function T(){if(!N){var M=re(U);N=!0;for(var A=L.length;A;){for(P=L,L=[];++R<A;)P&&P[R].run();R=-1,A=L.length}P=null,N=!1,function(M){if(D===clearTimeout)return clearTimeout(M);if((D===se||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(M);try{D(M)}catch(A){try{return D.call(null,M)}catch(z){return D.call(this,M)}}}(M)}}function v(M,A){this.fun=M,this.array=A}function S(){}var E,D,x=ce.exports={};!function(){try{E="function"==typeof setTimeout?setTimeout:de}catch(M){E=de}try{D="function"==typeof clearTimeout?clearTimeout:se}catch(M){D=se}}();var P,L=[],N=!1,R=-1;x.nextTick=function(M){var A=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)A[z-1]=arguments[z];L.push(new v(M,A)),1!==L.length||N||re(T)},v.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={},x.on=S,x.addListener=S,x.once=S,x.off=S,x.removeListener=S,x.removeAllListeners=S,x.emit=S,x.prependListener=S,x.prependOnceListener=S,x.listeners=function(M){return[]},x.binding=function(M){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(M){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},function(ce,he,de){var re;re=function(se){return function(re){function Q(T){if(U[T])return U[T].exports;var v=U[T]={i:T,l:!1,exports:{}};return re[T].call(v.exports,v,v.exports,Q),v.l=!0,v.exports}var U={};return Q.m=re,Q.c=U,Q.d=function(T,v,S){Q.o(T,v)||Object.defineProperty(T,v,{configurable:!1,enumerable:!0,get:S})},Q.n=function(T){var v=T&&T.__esModule?function(){return T.default}:function(){return T};return Q.d(v,"a",v),v},Q.o=function(T,v){return Object.prototype.hasOwnProperty.call(T,v)},Q.p="",Q(Q.s=0)}([function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var S,v=(S=U(1))&&S.__esModule?S:{default:S};Q.default=v.default.plugins.add("gjs-aviary",function(S){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=S.getModel(),P=void 0,L={key:"1",onApply:null,getFilename:null,closeOnApply:!0,config:{}};for(var N in L)N in D||(D[N]=L[N]);var R=D.config;R.apiKey=D.key,R.onSave=function(W,k){P.set("src",k);var p=("function"==typeof D.getFilename?D.getFilename:z)(P);("function"==typeof D.onApply?D.onApply:H)(k,p,P),D.closeOnApply&&M.close()};var M=new Aviary.Feather(R),A=S.Commands,z=function(W){var k=W.get("src").split("/").pop();return Date.now()+"_"+k.slice(-15)},H=function(W,k){S.AssetManager.add({src:W,name:k})},F=document.createElement("img");A.add("image-editor",{run:function(W,k,I){var y=(I||{}).model||W.getSelected();P=y,F.src=y.get("src"),M.launch({image:F}),x.trigger("gjs-aviary:launch",y,M)}})})},function(re,Q){re.exports=se}])},ce.exports=re(de(0))},function(ce,he,de){var re;re=function(se){return function(re){function Q(T){if(U[T])return U[T].exports;var v=U[T]={i:T,l:!1,exports:{}};return re[T].call(v.exports,v,v.exports,Q),v.l=!0,v.exports}var U={};return Q.m=re,Q.c=U,Q.d=function(T,v,S){Q.o(T,v)||Object.defineProperty(T,v,{configurable:!1,enumerable:!0,get:S})},Q.n=function(T){var v=T&&T.__esModule?function(){return T.default}:function(){return T};return Q.d(v,"a",v),v},Q.o=function(T,v){return Object.prototype.hasOwnProperty.call(T,v)},Q.p="",Q(Q.s=0)}([function(re,Q,U){"use strict";Object.defineProperty(Q,"__esModule",{value:!0});var S,v=(S=U(1))&&S.__esModule?S:{default:S};Q.default=v.default.plugins.add("gjs-plugin-filestack",function(S){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=S.getConfig().stylePrefix||"",L=void 0,N={key:"",btnEl:"",btnText:"Add images",filestackOpts:{accept:"image/*",maxFiles:10},onComplete:function(z,H){}};for(var R in N)R in D||(D[R]=N[R]);if(!filestack)throw new Error("Filestack instance not found");if(!D.key)throw new Error("Filestack's API key not found");var M=filestack.init(D.key);S.on("run:open-assets",function(){var H=S.Modal.getContentEl(),F=H.querySelector("."+P+"am-file-uploader"),W=H.querySelector("."+P+"am-assets-header"),k=H.querySelector("."+P+"am-assets-cont");F&&(F.style.display="none"),W&&(W.style.display="none"),k.style.width="100%",L||((L=D.btnEl)||((L=document.createElement("button")).className=P+"btn-prim "+P+"btn-filestack",L.innerHTML=D.btnText),L.onclick=function(){M.pick(D.filestackOpts).then(function(I){var p=I.filesUploaded,y=p instanceof Array?p:[p],C=A(y);D.onComplete(y,C)})}),k.insertBefore(L,W)});var A=function(z){var H=z.map(function(F){return F.src=F.url,F});return S.AssetManager.add(H)}})},function(re,Q){re.exports=se}])},ce.exports=re(de(0))},function(ce,he,de){"use strict";Object.defineProperty(he,"__esModule",{value:!0});var U,re=(U=de(15))&&U.__esModule?U:{default:U},Q=de(3);he.default=function(U,T){var v=U.Commands,S=T.textCleanCanvas;v.add(Q.cmdImport,(0,re.default)(U,T)),v.add(Q.cmdDeviceDesktop,function(E){return E.setDevice("Desktop")}),v.add(Q.cmdDeviceTablet,function(E){return E.setDevice("Tablet")}),v.add(Q.cmdDeviceMobile,function(E){return E.setDevice("Mobile portrait")}),v.add(Q.cmdClear,function(E){return confirm(S)&&E.runCommand("core:canvas-clear")})}},function(ce,he,de){"use strict";Object.defineProperty(he,"__esModule",{value:!0});var se=Object.assign||function(re){for(var Q=1;Q<arguments.length;Q++){var U=arguments[Q];for(var T in U)Object.prototype.hasOwnProperty.call(U,T)&&(re[T]=U[T])}return re};he.default=function(re,Q){var U=re.getConfig("stylePrefix"),T=re.Modal,v=re.CodeManager.getViewer("CodeMirror").clone(),S=document.createElement("div"),E=Q.modalImportLabel,D=Q.modalImportContent,x=v.editor,P=document.createElement("button");return P.type="button",P.innerHTML=Q.modalImportButton,P.className=U+"btn-prim "+U+"btn-import",P.onclick=function(L){re.setComponents(x.getValue().trim()),T.close()},v.set(se({codeName:"htmlmixed",theme:"hopscotch",readOnly:0},Q.importViewerOptions)),{run:function(L){var N=this;if(!x){var R=document.createElement("textarea");if(E){var M=document.createElement("div");M.className=U+"import-label",M.innerHTML=E,S.appendChild(M)}S.appendChild(R),S.appendChild(P),v.init(R),x=v.editor}T.setTitle(Q.modalImportTitle),T.setContent(S);var A="function"==typeof D?D(L):D;v.setContent(A||""),T.open().getModel().once("change:open",function(){return L.stopCommand(N.id)}),x.refresh()},stop:function(){T.close()}}}},function(ce,he,de){"use strict";Object.defineProperty(he,"__esModule",{value:!0}),he.default=function(se,re){var Q=se.BlockManager,U=function(T){return re.blocks.indexOf(T)>=0};U("link-block")&&Q.add("link-block",{category:"Basic",label:"Link Block",attributes:{class:"fa fa-link"},content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),U("quote")&&Q.add("quote",{label:"Quote",category:"Basic",attributes:{class:"fa fa-quote-right"},content:'<blockquote class="quote">\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit\n      </blockquote>'}),U("text-basic")&&Q.add("text-basic",{category:"Basic",label:"Text section",attributes:{class:"gjs-fonts gjs-f-h1p"},content:'<section class="bdg-sect">\n      <h1 class="heading">Insert title here</h1>\n      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>\n      </section>'})}},function(ce,he,de){"use strict";Object.defineProperty(he,"__esModule",{value:!0}),he.default=function(se){se.DomComponents.getType("default")}},function(ce,he,de){"use strict";Object.defineProperty(he,"__esModule",{value:!0});var se=de(3);he.default=function(re,Q){var U=re.Panels,T=re.getConfig(),v="sw-visibility",S="export-template",E="open-sm",D="open-layers",x="open-blocks",P="fullscreen",L="preview";T.showDevices=0,U.getPanels().reset([{id:"commands",buttons:[{}]},{id:"options",buttons:[{id:v,command:v,context:v,className:"fa fa-square-o"},{id:L,context:L,command:function(R){return R.runCommand(L)},className:"fa fa-eye"},{id:P,command:P,context:P,className:"fa fa-arrows-alt"},{id:S,className:"fa fa-code",command:function(R){return R.runCommand(S)}},{id:"undo",className:"fa fa-undo",command:function(R){return R.runCommand("core:undo")}},{id:"redo",className:"fa fa-repeat",command:function(R){return R.runCommand("core:redo")}},{id:se.cmdImport,className:"fa fa-download",command:function(R){return R.runCommand(se.cmdImport)}},{id:se.cmdClear,className:"fa fa-trash",command:function(R){return R.runCommand(se.cmdClear)}}]},{id:"views",buttons:[{id:E,command:E,active:!0,className:"fa fa-paint-brush"},{id:"open-tm",command:"open-tm",className:"fa fa-cog"},{id:D,command:D,className:"fa fa-bars"},{id:x,command:x,className:"fa fa-th-large"}]}]),U.addPanel({id:"devices-c"}).get("buttons").add([{id:se.cmdDeviceDesktop,command:se.cmdDeviceDesktop,className:"fa fa-desktop",active:1},{id:se.cmdDeviceTablet,command:se.cmdDeviceTablet,className:"fa fa-tablet"},{id:se.cmdDeviceMobile,command:se.cmdDeviceMobile,className:"fa fa-mobile"}]);var N=U.getButton("views",x);re.on("load",function(){return N&&N.set("active",1)}),Q.showStylesOnChange&&re.on("component:selected",function(){var R=U.getButton("views",E),M=U.getButton("views",D);M&&M.get("active")||!re.getSelected()||R&&R.set("active",1)})}},function(ce,he,de){"use strict";Object.defineProperty(he,"__esModule",{value:!0}),he.default=function(se,re){var U=re.customStyleManager;se.StyleManager.getSectors().reset(U&&U.length?U:[{name:re.textGeneral,open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:re.textLayout,open:!1,buildProps:["width","height","max-width","min-height","margin","padding"]},{name:re.textTypography,open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"],properties:[{property:"text-align",list:[{value:"left",className:"fa fa-align-left"},{value:"center",className:"fa fa-align-center"},{value:"right",className:"fa fa-align-right"},{value:"justify",className:"fa fa-align-justify"}]}]},{name:re.textDecorations,open:!1,buildProps:["border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:re.textExtra,open:!1,buildProps:["transition","perspective","transform"]}])}}]))},668:function(Ii){"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window,Ii.exports=function(nt){var ve={};function h(ce){if(ve[ce])return ve[ce].exports;var he=ve[ce]={i:ce,l:!1,exports:{}};return nt[ce].call(he.exports,he,he.exports,h),he.l=!0,he.exports}return h.m=nt,h.c=ve,h.d=function(ce,he,de){h.o(ce,he)||Object.defineProperty(ce,he,{enumerable:!0,get:de})},h.r=function(ce){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(ce,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ce,"__esModule",{value:!0})},h.t=function(ce,he){if(1&he&&(ce=h(ce)),8&he||4&he&&"object"==typeof ce&&ce&&ce.__esModule)return ce;var de=Object.create(null);if(h.r(de),Object.defineProperty(de,"default",{enumerable:!0,value:ce}),2&he&&"string"!=typeof ce)for(var se in ce)h.d(de,se,function(re){return ce[re]}.bind(null,se));return de},h.n=function(ce){var he=ce&&ce.__esModule?function(){return ce.default}:function(){return ce};return h.d(he,"a",he),he},h.o=function(ce,he){return Object.prototype.hasOwnProperty.call(ce,he)},h.p="",h(h.s=100)}([function(nt,ve,h){"use strict";h.r(ve),h.d(ve,"default",function(){return Js}),h.d(ve,"VERSION",function(){return he.e}),h.d(ve,"restArguments",function(){return de}),h.d(ve,"isObject",function(){return se}),h.d(ve,"isNull",function(){return re}),h.d(ve,"isUndefined",function(){return Q}),h.d(ve,"isBoolean",function(){return U}),h.d(ve,"isElement",function(){return T}),h.d(ve,"isString",function(){return S}),h.d(ve,"isNumber",function(){return E}),h.d(ve,"isDate",function(){return D}),h.d(ve,"isRegExp",function(){return x}),h.d(ve,"isError",function(){return P}),h.d(ve,"isSymbol",function(){return L}),h.d(ve,"isArrayBuffer",function(){return N}),h.d(ve,"isDataView",function(){return k}),h.d(ve,"isArray",function(){return I}),h.d(ve,"isFunction",function(){return A}),h.d(ve,"isArguments",function(){return C}),h.d(ve,"isFinite",function(){return B}),h.d(ve,"isNaN",function(){return K}),h.d(ve,"isTypedArray",function(){return Me}),h.d(ve,"isEmpty",function(){return ne}),h.d(ve,"isMatch",function(){return ge}),h.d(ve,"isEqual",function(){return c}),h.d(ve,"isMap",function(){return Ue}),h.d(ve,"isWeakMap",function(){return it}),h.d(ve,"isSet",function(){return xt}),h.d(ve,"isWeakSet",function(){return pt}),h.d(ve,"keys",function(){return ie}),h.d(ve,"allKeys",function(){return O}),h.d(ve,"values",function(){return kt}),h.d(ve,"pairs",function(){return Nt}),h.d(ve,"invert",function(){return ae}),h.d(ve,"functions",function(){return be}),h.d(ve,"methods",function(){return be}),h.d(ve,"extend",function(){return ot}),h.d(ve,"extendOwn",function(){return et}),h.d(ve,"assign",function(){return et}),h.d(ve,"defaults",function(){return Z}),h.d(ve,"create",function(){return Be}),h.d(ve,"clone",function(){return Je}),h.d(ve,"tap",function(){return st}),h.d(ve,"get",function(){return Et}),h.d(ve,"has",function(){return It}),h.d(ve,"mapObject",function(){return oe}),h.d(ve,"identity",function(){return Ft}),h.d(ve,"constant",function(){return te}),h.d(ve,"noop",function(){return we}),h.d(ve,"toPath",function(){return mt}),h.d(ve,"property",function(){return lt}),h.d(ve,"propertyOf",function(){return ee}),h.d(ve,"matcher",function(){return jt}),h.d(ve,"matches",function(){return jt}),h.d(ve,"times",function(){return Ge}),h.d(ve,"random",function(){return qe}),h.d(ve,"now",function(){return Qe}),h.d(ve,"escape",function(){return St}),h.d(ve,"unescape",function(){return Xt}),h.d(ve,"templateSettings",function(){return pn}),h.d(ve,"template",function(){return mn}),h.d(ve,"result",function(){return Wt}),h.d(ve,"uniqueId",function(){return rr}),h.d(ve,"chain",function(){return Jt}),h.d(ve,"iteratee",function(){return Lt}),h.d(ve,"partial",function(){return dr}),h.d(ve,"bind",function(){return q}),h.d(ve,"bindAll",function(){return je}),h.d(ve,"memoize",function(){return wt}),h.d(ve,"delay",function(){return Rt}),h.d(ve,"defer",function(){return Vt}),h.d(ve,"throttle",function(){return yt}),h.d(ve,"debounce",function(){return Bt}),h.d(ve,"wrap",function(){return xn}),h.d(ve,"negate",function(){return Pn}),h.d(ve,"compose",function(){return ur}),h.d(ve,"after",function(){return wr}),h.d(ve,"before",function(){return fn}),h.d(ve,"once",function(){return fr}),h.d(ve,"findKey",function(){return Ei}),h.d(ve,"findIndex",function(){return Si}),h.d(ve,"findLastIndex",function(){return li}),h.d(ve,"sortedIndex",function(){return gr}),h.d(ve,"indexOf",function(){return Do}),h.d(ve,"lastIndexOf",function(){return Di}),h.d(ve,"find",function(){return ir}),h.d(ve,"detect",function(){return ir}),h.d(ve,"findWhere",function(){return ji}),h.d(ve,"each",function(){return Vr}),h.d(ve,"forEach",function(){return Vr}),h.d(ve,"map",function(){return vi}),h.d(ve,"collect",function(){return vi}),h.d(ve,"reduce",function(){return qi}),h.d(ve,"foldl",function(){return qi}),h.d(ve,"inject",function(){return qi}),h.d(ve,"reduceRight",function(){return wo}),h.d(ve,"foldr",function(){return wo}),h.d(ve,"filter",function(){return yi}),h.d(ve,"select",function(){return yi}),h.d(ve,"reject",function(){return to}),h.d(ve,"every",function(){return hr}),h.d(ve,"all",function(){return hr}),h.d(ve,"some",function(){return zn}),h.d(ve,"any",function(){return zn}),h.d(ve,"contains",function(){return Jr}),h.d(ve,"includes",function(){return Jr}),h.d(ve,"include",function(){return Jr}),h.d(ve,"invoke",function(){return Zs}),h.d(ve,"pluck",function(){return bi}),h.d(ve,"where",function(){return In}),h.d(ve,"max",function(){return no}),h.d(ve,"min",function(){return Zn}),h.d(ve,"shuffle",function(){return ro}),h.d(ve,"sample",function(){return Br}),h.d(ve,"sortBy",function(){return Gi}),h.d(ve,"groupBy",function(){return Gr}),h.d(ve,"indexBy",function(){return io}),h.d(ve,"countBy",function(){return oo}),h.d(ve,"partition",function(){return rn}),h.d(ve,"toArray",function(){return Gt}),h.d(ve,"size",function(){return dn}),h.d(ve,"pick",function(){return Tr}),h.d(ve,"omit",function(){return Yi}),h.d(ve,"first",function(){return Nr}),h.d(ve,"head",function(){return Nr}),h.d(ve,"take",function(){return Nr}),h.d(ve,"initial",function(){return so}),h.d(ve,"last",function(){return nl}),h.d(ve,"rest",function(){return Cr}),h.d(ve,"tail",function(){return Cr}),h.d(ve,"drop",function(){return Cr}),h.d(ve,"compact",function(){return Sa}),h.d(ve,"flatten",function(){return Lr}),h.d(ve,"without",function(){return ci}),h.d(ve,"uniq",function(){return _r}),h.d(ve,"unique",function(){return _r}),h.d(ve,"union",function(){return nu}),h.d(ve,"intersection",function(){return or}),h.d(ve,"difference",function(){return ao}),h.d(ve,"unzip",function(){return Bo}),h.d(ve,"transpose",function(){return Bo}),h.d(ve,"zip",function(){return $l}),h.d(ve,"object",function(){return ns}),h.d(ve,"range",function(){return lr}),h.d(ve,"chunk",function(){return _s}),h.d(ve,"mixin",function(){return Xs});var ce={};h.r(ce),h.d(ce,"VERSION",function(){return he.e}),h.d(ce,"restArguments",function(){return de}),h.d(ce,"isObject",function(){return se}),h.d(ce,"isNull",function(){return re}),h.d(ce,"isUndefined",function(){return Q}),h.d(ce,"isBoolean",function(){return U}),h.d(ce,"isElement",function(){return T}),h.d(ce,"isString",function(){return S}),h.d(ce,"isNumber",function(){return E}),h.d(ce,"isDate",function(){return D}),h.d(ce,"isRegExp",function(){return x}),h.d(ce,"isError",function(){return P}),h.d(ce,"isSymbol",function(){return L}),h.d(ce,"isArrayBuffer",function(){return N}),h.d(ce,"isDataView",function(){return k}),h.d(ce,"isArray",function(){return I}),h.d(ce,"isFunction",function(){return A}),h.d(ce,"isArguments",function(){return C}),h.d(ce,"isFinite",function(){return B}),h.d(ce,"isNaN",function(){return K}),h.d(ce,"isTypedArray",function(){return Me}),h.d(ce,"isEmpty",function(){return ne}),h.d(ce,"isMatch",function(){return ge}),h.d(ce,"isEqual",function(){return c}),h.d(ce,"isMap",function(){return Ue}),h.d(ce,"isWeakMap",function(){return it}),h.d(ce,"isSet",function(){return xt}),h.d(ce,"isWeakSet",function(){return pt}),h.d(ce,"keys",function(){return ie}),h.d(ce,"allKeys",function(){return O}),h.d(ce,"values",function(){return kt}),h.d(ce,"pairs",function(){return Nt}),h.d(ce,"invert",function(){return ae}),h.d(ce,"functions",function(){return be}),h.d(ce,"methods",function(){return be}),h.d(ce,"extend",function(){return ot}),h.d(ce,"extendOwn",function(){return et}),h.d(ce,"assign",function(){return et}),h.d(ce,"defaults",function(){return Z}),h.d(ce,"create",function(){return Be}),h.d(ce,"clone",function(){return Je}),h.d(ce,"tap",function(){return st}),h.d(ce,"get",function(){return Et}),h.d(ce,"has",function(){return It}),h.d(ce,"mapObject",function(){return oe}),h.d(ce,"identity",function(){return Ft}),h.d(ce,"constant",function(){return te}),h.d(ce,"noop",function(){return we}),h.d(ce,"toPath",function(){return mt}),h.d(ce,"property",function(){return lt}),h.d(ce,"propertyOf",function(){return ee}),h.d(ce,"matcher",function(){return jt}),h.d(ce,"matches",function(){return jt}),h.d(ce,"times",function(){return Ge}),h.d(ce,"random",function(){return qe}),h.d(ce,"now",function(){return Qe}),h.d(ce,"escape",function(){return St}),h.d(ce,"unescape",function(){return Xt}),h.d(ce,"templateSettings",function(){return pn}),h.d(ce,"template",function(){return mn}),h.d(ce,"result",function(){return Wt}),h.d(ce,"uniqueId",function(){return rr}),h.d(ce,"chain",function(){return Jt}),h.d(ce,"iteratee",function(){return Lt}),h.d(ce,"partial",function(){return dr}),h.d(ce,"bind",function(){return q}),h.d(ce,"bindAll",function(){return je}),h.d(ce,"memoize",function(){return wt}),h.d(ce,"delay",function(){return Rt}),h.d(ce,"defer",function(){return Vt}),h.d(ce,"throttle",function(){return yt}),h.d(ce,"debounce",function(){return Bt}),h.d(ce,"wrap",function(){return xn}),h.d(ce,"negate",function(){return Pn}),h.d(ce,"compose",function(){return ur}),h.d(ce,"after",function(){return wr}),h.d(ce,"before",function(){return fn}),h.d(ce,"once",function(){return fr}),h.d(ce,"findKey",function(){return Ei}),h.d(ce,"findIndex",function(){return Si}),h.d(ce,"findLastIndex",function(){return li}),h.d(ce,"sortedIndex",function(){return gr}),h.d(ce,"indexOf",function(){return Do}),h.d(ce,"lastIndexOf",function(){return Di}),h.d(ce,"find",function(){return ir}),h.d(ce,"detect",function(){return ir}),h.d(ce,"findWhere",function(){return ji}),h.d(ce,"each",function(){return Vr}),h.d(ce,"forEach",function(){return Vr}),h.d(ce,"map",function(){return vi}),h.d(ce,"collect",function(){return vi}),h.d(ce,"reduce",function(){return qi}),h.d(ce,"foldl",function(){return qi}),h.d(ce,"inject",function(){return qi}),h.d(ce,"reduceRight",function(){return wo}),h.d(ce,"foldr",function(){return wo}),h.d(ce,"filter",function(){return yi}),h.d(ce,"select",function(){return yi}),h.d(ce,"reject",function(){return to}),h.d(ce,"every",function(){return hr}),h.d(ce,"all",function(){return hr}),h.d(ce,"some",function(){return zn}),h.d(ce,"any",function(){return zn}),h.d(ce,"contains",function(){return Jr}),h.d(ce,"includes",function(){return Jr}),h.d(ce,"include",function(){return Jr}),h.d(ce,"invoke",function(){return Zs}),h.d(ce,"pluck",function(){return bi}),h.d(ce,"where",function(){return In}),h.d(ce,"max",function(){return no}),h.d(ce,"min",function(){return Zn}),h.d(ce,"shuffle",function(){return ro}),h.d(ce,"sample",function(){return Br}),h.d(ce,"sortBy",function(){return Gi}),h.d(ce,"groupBy",function(){return Gr}),h.d(ce,"indexBy",function(){return io}),h.d(ce,"countBy",function(){return oo}),h.d(ce,"partition",function(){return rn}),h.d(ce,"toArray",function(){return Gt}),h.d(ce,"size",function(){return dn}),h.d(ce,"pick",function(){return Tr}),h.d(ce,"omit",function(){return Yi}),h.d(ce,"first",function(){return Nr}),h.d(ce,"head",function(){return Nr}),h.d(ce,"take",function(){return Nr}),h.d(ce,"initial",function(){return so}),h.d(ce,"last",function(){return nl}),h.d(ce,"rest",function(){return Cr}),h.d(ce,"tail",function(){return Cr}),h.d(ce,"drop",function(){return Cr}),h.d(ce,"compact",function(){return Sa}),h.d(ce,"flatten",function(){return Lr}),h.d(ce,"without",function(){return ci}),h.d(ce,"uniq",function(){return _r}),h.d(ce,"unique",function(){return _r}),h.d(ce,"union",function(){return nu}),h.d(ce,"intersection",function(){return or}),h.d(ce,"difference",function(){return ao}),h.d(ce,"unzip",function(){return Bo}),h.d(ce,"transpose",function(){return Bo}),h.d(ce,"zip",function(){return $l}),h.d(ce,"object",function(){return ns}),h.d(ce,"range",function(){return lr}),h.d(ce,"chunk",function(){return _s}),h.d(ce,"mixin",function(){return Xs}),h.d(ce,"default",function(){return rl});var he=h(7);function de(Ie,We){return We=null==We?Ie.length-1:+We,function(){for(var rt=Math.max(arguments.length-We,0),ct=Array(rt),_t=0;_t<rt;_t++)ct[_t]=arguments[_t+We];switch(We){case 0:return Ie.call(this,ct);case 1:return Ie.call(this,arguments[0],ct);case 2:return Ie.call(this,arguments[0],arguments[1],ct)}var ht=Array(We+1);for(_t=0;_t<We;_t++)ht[_t]=arguments[_t];return ht[We]=ct,Ie.apply(this,ht)}}function se(Ie){var We=typeof Ie;return"function"===We||"object"===We&&!!Ie}function re(Ie){return null===Ie}function Q(Ie){return void 0===Ie}function U(Ie){return!0===Ie||!1===Ie||"[object Boolean]"===he.t.call(Ie)}function T(Ie){return!(!Ie||1!==Ie.nodeType)}function v(Ie){var We="[object "+Ie+"]";return function(rt){return he.t.call(rt)===We}}var S=v("String"),E=v("Number"),D=v("Date"),x=v("RegExp"),P=v("Error"),L=v("Symbol"),N=v("ArrayBuffer"),R=v("Function");"object"!=typeof Int8Array&&"function"!=typeof(he.p.document&&he.p.document.childNodes)&&(R=function(Ie){return"function"==typeof Ie||!1});var A=R,z=v("Object"),H=he.s&&z(new DataView(new ArrayBuffer(8))),F="undefined"!=typeof Map&&z(new Map),W=v("DataView"),k=H?function(Ie){return null!=Ie&&A(Ie.getInt8)&&N(Ie.buffer)}:W,I=he.k||v("Array");function p(Ie,We){return null!=Ie&&he.i.call(Ie,We)}var y=v("Arguments");!function(){y(arguments)||(y=function(Ie){return p(Ie,"callee")})}();var C=y;function B(Ie){return!L(Ie)&&Object(he.f)(Ie)&&!isNaN(parseFloat(Ie))}function K(Ie){return E(Ie)&&Object(he.g)(Ie)}function te(Ie){return function(){return Ie}}function $e(Ie){return function(We){var rt=Ie(We);return"number"==typeof rt&&rt>=0&&rt<=he.b}}function ue(Ie){return function(We){return null==We?void 0:We[Ie]}}var ye=ue("byteLength"),Re=$e(ye),Pe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Me=he.r?function(Ie){return he.l?Object(he.l)(Ie)&&!k(Ie):Re(Ie)&&Pe.test(he.t.call(Ie))}:te(!1),Le=ue("length");function _e(Ie,We){We=function(Dt){for(var Ht={},yn=Dt.length,cn=0;cn<yn;++cn)Ht[Dt[cn]]=!0;return{contains:function(Rn){return Ht[Rn]},push:function(Rn){return Ht[Rn]=!0,Dt.push(Rn)}}}(We);var rt=he.n.length,ct=Ie.constructor,_t=A(ct)&&ct.prototype||he.c,ht="constructor";for(p(Ie,ht)&&!We.contains(ht)&&We.push(ht);rt--;)(ht=he.n[rt])in Ie&&Ie[ht]!==_t[ht]&&!We.contains(ht)&&We.push(ht)}function ie(Ie){if(!se(Ie))return[];if(he.m)return Object(he.m)(Ie);var We=[];for(var rt in Ie)p(Ie,rt)&&We.push(rt);return he.h&&_e(Ie,We),We}function ne(Ie){if(null==Ie)return!0;var We=Le(Ie);return"number"==typeof We&&(I(Ie)||S(Ie)||C(Ie))?0===We:0===Le(ie(Ie))}function ge(Ie,We){var rt=ie(We),ct=rt.length;if(null==Ie)return!ct;for(var _t=Object(Ie),ht=0;ht<ct;ht++){var Dt=rt[ht];if(We[Dt]!==_t[Dt]||!(Dt in _t))return!1}return!0}function me(Ie){return Ie instanceof me?Ie:this instanceof me?void(this._wrapped=Ie):new me(Ie)}function _(Ie){return new Uint8Array(Ie.buffer||Ie,Ie.byteOffset||0,ye(Ie))}me.VERSION=he.e,me.prototype.valueOf=me.prototype.toJSON=me.prototype.value=function(){return this._wrapped},me.prototype.toString=function(){return String(this._wrapped)};var b="[object DataView]";function G(Ie,We,rt,ct){if(Ie===We)return 0!==Ie||1/Ie==1/We;if(null==Ie||null==We)return!1;if(Ie!=Ie)return We!=We;var _t=typeof Ie;return("function"===_t||"object"===_t||"object"==typeof We)&&function ht(Dt,Ht,yn,cn){Dt instanceof me&&(Dt=Dt._wrapped),Ht instanceof me&&(Ht=Ht._wrapped);var Rn=he.t.call(Dt);if(Rn!==he.t.call(Ht))return!1;if(H&&"[object Object]"==Rn&&k(Dt)){if(!k(Ht))return!1;Rn=b}switch(Rn){case"[object RegExp]":case"[object String]":return""+Dt==""+Ht;case"[object Number]":return+Dt!=+Dt?+Ht!=+Ht:0==+Dt?1/+Dt==1/Ht:+Dt==+Ht;case"[object Date]":case"[object Boolean]":return+Dt==+Ht;case"[object Symbol]":return he.d.valueOf.call(Dt)===he.d.valueOf.call(Ht);case"[object ArrayBuffer]":case b:return ht(_(Dt),_(Ht),yn,cn)}var Qn="[object Array]"===Rn;if(!Qn&&Me(Dt)){if(ye(Dt)!==ye(Ht))return!1;if(Dt.buffer===Ht.buffer&&Dt.byteOffset===Ht.byteOffset)return!0;Qn=!0}if(!Qn){if("object"!=typeof Dt||"object"!=typeof Ht)return!1;var xr=Dt.constructor,Yr=Ht.constructor;if(xr!==Yr&&!(A(xr)&&xr instanceof xr&&A(Yr)&&Yr instanceof Yr)&&"constructor"in Dt&&"constructor"in Ht)return!1}cn=cn||[];for(var Or=(yn=yn||[]).length;Or--;)if(yn[Or]===Dt)return cn[Or]===Ht;if(yn.push(Dt),cn.push(Ht),Qn){if((Or=Dt.length)!==Ht.length)return!1;for(;Or--;)if(!G(Dt[Or],Ht[Or],yn,cn))return!1}else{var ui,nn=ie(Dt);if(Or=nn.length,ie(Ht).length!==Or)return!1;for(;Or--;)if(!p(Ht,ui=nn[Or])||!G(Dt[ui],Ht[ui],yn,cn))return!1}return yn.pop(),cn.pop(),!0}(Ie,We,rt,ct)}function c(Ie,We){return G(Ie,We)}function O(Ie){if(!se(Ie))return[];var We=[];for(var rt in Ie)We.push(rt);return he.h&&_e(Ie,We),We}function m(Ie){var We=Le(Ie);return function(rt){if(null==rt)return!1;var ct=O(rt);if(Le(ct))return!1;for(var _t=0;_t<We;_t++)if(!A(rt[Ie[_t]]))return!1;return Ie!==Ce||!A(rt[V])}}var V="forEach",Ee=["clear","delete"],He=["get","has","set"],Oe=Ee.concat(V,He),Ce=Ee.concat(He),Fe=["add"].concat(Ee,V,"has"),Ue=F?m(Oe):v("Map"),it=F?m(Ce):v("WeakMap"),xt=F?m(Fe):v("Set"),pt=v("WeakSet");function kt(Ie){for(var We=ie(Ie),rt=We.length,ct=Array(rt),_t=0;_t<rt;_t++)ct[_t]=Ie[We[_t]];return ct}function Nt(Ie){for(var We=ie(Ie),rt=We.length,ct=Array(rt),_t=0;_t<rt;_t++)ct[_t]=[We[_t],Ie[We[_t]]];return ct}function ae(Ie){for(var We={},rt=ie(Ie),ct=0,_t=rt.length;ct<_t;ct++)We[Ie[rt[ct]]]=rt[ct];return We}function be(Ie){var We=[];for(var rt in Ie)A(Ie[rt])&&We.push(rt);return We.sort()}function Ve(Ie,We){return function(rt){var ct=arguments.length;if(We&&(rt=Object(rt)),ct<2||null==rt)return rt;for(var _t=1;_t<ct;_t++)for(var ht=arguments[_t],Dt=Ie(ht),Ht=Dt.length,yn=0;yn<Ht;yn++){var cn=Dt[yn];We&&void 0!==rt[cn]||(rt[cn]=ht[cn])}return rt}}var ot=Ve(O),et=Ve(ie),Z=Ve(O,!0);function ke(Ie){if(!se(Ie))return{};if(he.j)return Object(he.j)(Ie);var We=function(){};We.prototype=Ie;var rt=new We;return We.prototype=null,rt}function Be(Ie,We){var rt=ke(Ie);return We&&et(rt,We),rt}function Je(Ie){return se(Ie)?I(Ie)?Ie.slice():ot({},Ie):Ie}function st(Ie,We){return We(Ie),Ie}function mt(Ie){return I(Ie)?Ie:[Ie]}function De(Ie){return me.toPath(Ie)}function dt(Ie,We){for(var rt=We.length,ct=0;ct<rt;ct++){if(null==Ie)return;Ie=Ie[We[ct]]}return rt?Ie:void 0}function Et(Ie,We,rt){var ct=dt(Ie,De(We));return Q(ct)?rt:ct}function It(Ie,We){for(var rt=(We=De(We)).length,ct=0;ct<rt;ct++){var _t=We[ct];if(!p(Ie,_t))return!1;Ie=Ie[_t]}return!!rt}function Ft(Ie){return Ie}function jt(Ie){return Ie=et({},Ie),function(We){return ge(We,Ie)}}function lt(Ie){return Ie=De(Ie),function(We){return dt(We,Ie)}}function ft(Ie,We,rt){if(void 0===We)return Ie;switch(null==rt?3:rt){case 1:return function(ct){return Ie.call(We,ct)};case 3:return function(ct,_t,ht){return Ie.call(We,ct,_t,ht)};case 4:return function(ct,_t,ht,Dt){return Ie.call(We,ct,_t,ht,Dt)}}return function(){return Ie.apply(We,arguments)}}function Ne(Ie,We,rt){return null==Ie?Ft:A(Ie)?ft(Ie,We,rt):se(Ie)&&!I(Ie)?jt(Ie):lt(Ie)}function Lt(Ie,We){return Ne(Ie,We,1/0)}function w(Ie,We,rt){return me.iteratee!==Lt?me.iteratee(Ie,We):Ne(Ie,We,rt)}function oe(Ie,We,rt){We=w(We,rt);for(var ct=ie(Ie),_t=ct.length,ht={},Dt=0;Dt<_t;Dt++){var Ht=ct[Dt];ht[Ht]=We(Ie[Ht],Ht,Ie)}return ht}function we(){}function ee(Ie){return null==Ie?we:function(We){return Et(Ie,We)}}function Ge(Ie,We,rt){var ct=Array(Math.max(0,Ie));We=ft(We,rt,1);for(var _t=0;_t<Ie;_t++)ct[_t]=We(_t);return ct}function qe(Ie,We){return null==We&&(We=Ie,Ie=0),Ie+Math.floor(Math.random()*(We-Ie+1))}me.toPath=mt,me.iteratee=Lt;var Qe=Date.now||function(){return(new Date).getTime()};function Ot(Ie){var We=function(ht){return Ie[ht]},rt="(?:"+ie(Ie).join("|")+")",ct=RegExp(rt),_t=RegExp(rt,"g");return function(ht){return ct.test(ht=null==ht?"":""+ht)?ht.replace(_t,We):ht}}var Mt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},St=Ot(Mt),Xt=Ot(ae(Mt)),pn=me.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Qt=/(.)^/,wn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},gn=/\\|'|\r|\n|\u2028|\u2029/g;function Mn(Ie){return"\\"+wn[Ie]}var br=/^\s*(\w|\$)+\s*$/;function mn(Ie,We,rt){!We&&rt&&(We=rt),We=Z({},We,me.templateSettings);var ct=RegExp([(We.escape||Qt).source,(We.interpolate||Qt).source,(We.evaluate||Qt).source].join("|")+"|$","g"),_t=0,ht="__p+='";Ie.replace(ct,function(cn,Rn,Qn,xr,Yr){return ht+=Ie.slice(_t,Yr).replace(gn,Mn),_t=Yr+cn.length,Rn?ht+="'+\n((__t=("+Rn+"))==null?'':_.escape(__t))+\n'":Qn?ht+="'+\n((__t=("+Qn+"))==null?'':__t)+\n'":xr&&(ht+="';\n"+xr+"\n__p+='"),cn}),ht+="';\n";var Dt,Ht=We.variable;if(Ht){if(!br.test(Ht))throw new Error("variable is not a bare identifier: "+Ht)}else ht="with(obj||{}){\n"+ht+"}\n",Ht="obj";ht="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+ht+"return __p;\n";try{Dt=new Function(Ht,"_",ht)}catch(cn){throw cn.source=ht,cn}var yn=function(cn){return Dt.call(this,cn,me)};return yn.source="function("+Ht+"){\n"+ht+"}",yn}function Wt(Ie,We,rt){var ct=(We=De(We)).length;if(!ct)return A(rt)?rt.call(Ie):rt;for(var _t=0;_t<ct;_t++){var ht=null==Ie?void 0:Ie[We[_t]];void 0===ht&&(ht=rt,_t=ct),Ie=A(ht)?ht.call(Ie):ht}return Ie}var vn=0;function rr(Ie){var We=++vn+"";return Ie?Ie+We:We}function Jt(Ie){var We=me(Ie);return We._chain=!0,We}function ln(Ie,We,rt,ct,_t){if(!(ct instanceof We))return Ie.apply(rt,_t);var ht=ke(Ie.prototype),Dt=Ie.apply(ht,_t);return se(Dt)?Dt:ht}var An=de(function(Ie,We){var rt=An.placeholder,ct=function(){for(var _t=0,ht=We.length,Dt=Array(ht),Ht=0;Ht<ht;Ht++)Dt[Ht]=We[Ht]===rt?arguments[_t++]:We[Ht];for(;_t<arguments.length;)Dt.push(arguments[_t++]);return ln(Ie,ct,this,this,Dt)};return ct});An.placeholder=me;var dr=An,q=de(function(Ie,We,rt){if(!A(Ie))throw new TypeError("Bind must be called on a function");var ct=de(function(_t){return ln(Ie,ct,We,this,rt.concat(_t))});return ct}),J=$e(Le);function xe(Ie,We,rt,ct){if(ct=ct||[],We||0===We){if(We<=0)return ct.concat(Ie)}else We=1/0;for(var _t=ct.length,ht=0,Dt=Le(Ie);ht<Dt;ht++){var Ht=Ie[ht];if(J(Ht)&&(I(Ht)||C(Ht)))if(We>1)xe(Ht,We-1,rt,ct),_t=ct.length;else for(var yn=0,cn=Ht.length;yn<cn;)ct[_t++]=Ht[yn++];else rt||(ct[_t++]=Ht)}return ct}var je=de(function(Ie,We){var rt=(We=xe(We,!1,!1)).length;if(rt<1)throw new Error("bindAll must be passed function names");for(;rt--;){var ct=We[rt];Ie[ct]=q(Ie[ct],Ie)}return Ie});function wt(Ie,We){var rt=function(ct){var _t=rt.cache,ht=""+(We?We.apply(this,arguments):ct);return p(_t,ht)||(_t[ht]=Ie.apply(this,arguments)),_t[ht]};return rt.cache={},rt}var Rt=de(function(Ie,We,rt){return setTimeout(function(){return Ie.apply(null,rt)},We)}),Vt=dr(Rt,me,1);function yt(Ie,We,rt){var ct,_t,ht,Dt,Ht=0;rt||(rt={});var yn=function(){Ht=!1===rt.leading?0:Qe(),ct=null,Dt=Ie.apply(_t,ht),ct||(_t=ht=null)},cn=function(){var Rn=Qe();Ht||!1!==rt.leading||(Ht=Rn);var Qn=We-(Rn-Ht);return _t=this,ht=arguments,Qn<=0||Qn>We?(ct&&(clearTimeout(ct),ct=null),Ht=Rn,Dt=Ie.apply(_t,ht),ct||(_t=ht=null)):ct||!1===rt.trailing||(ct=setTimeout(yn,Qn)),Dt};return cn.cancel=function(){clearTimeout(ct),Ht=0,ct=_t=ht=null},cn}function Bt(Ie,We,rt){var ct,_t,ht,Dt,Ht,yn=function(){var Rn=Qe()-_t;We>Rn?ct=setTimeout(yn,We-Rn):(ct=null,rt||(Dt=Ie.apply(Ht,ht)),ct||(ht=Ht=null))},cn=de(function(Rn){return Ht=this,ht=Rn,_t=Qe(),ct||(ct=setTimeout(yn,We),rt&&(Dt=Ie.apply(Ht,ht))),Dt});return cn.cancel=function(){clearTimeout(ct),ct=ht=Ht=null},cn}function xn(Ie,We){return dr(We,Ie)}function Pn(Ie){return function(){return!Ie.apply(this,arguments)}}function ur(){var Ie=arguments,We=Ie.length-1;return function(){for(var rt=We,ct=Ie[We].apply(this,arguments);rt--;)ct=Ie[rt].call(this,ct);return ct}}function wr(Ie,We){return function(){if(--Ie<1)return We.apply(this,arguments)}}function fn(Ie,We){var rt;return function(){return--Ie>0&&(rt=We.apply(this,arguments)),Ie<=1&&(We=null),rt}}var fr=dr(fn,2);function Ei(Ie,We,rt){We=w(We,rt);for(var ct,_t=ie(Ie),ht=0,Dt=_t.length;ht<Dt;ht++)if(We(Ie[ct=_t[ht]],ct,Ie))return ct}function eo(Ie){return function(We,rt,ct){rt=w(rt,ct);for(var _t=Le(We),ht=Ie>0?0:_t-1;ht>=0&&ht<_t;ht+=Ie)if(rt(We[ht],ht,We))return ht;return-1}}var Si=eo(1),li=eo(-1);function gr(Ie,We,rt,ct){for(var _t=(rt=w(rt,ct,1))(We),ht=0,Dt=Le(Ie);ht<Dt;){var Ht=Math.floor((ht+Dt)/2);rt(Ie[Ht])<_t?ht=Ht+1:Dt=Ht}return ht}function ni(Ie,We,rt){return function(ct,_t,ht){var Dt=0,Ht=Le(ct);if("number"==typeof ht)Ie>0?Dt=ht>=0?ht:Math.max(ht+Ht,Dt):Ht=ht>=0?Math.min(ht+1,Ht):ht+Ht+1;else if(rt&&ht&&Ht)return ct[ht=rt(ct,_t)]===_t?ht:-1;if(_t!=_t)return(ht=We(he.q.call(ct,Dt,Ht),K))>=0?ht+Dt:-1;for(ht=Ie>0?Dt:Ht-1;ht>=0&&ht<Ht;ht+=Ie)if(ct[ht]===_t)return ht;return-1}}var Do=ni(1,Si,gr),Di=ni(-1,li);function ir(Ie,We,rt){var ct=(J(Ie)?Si:Ei)(Ie,We,rt);if(void 0!==ct&&-1!==ct)return Ie[ct]}function ji(Ie,We){return ir(Ie,jt(We))}function Vr(Ie,We,rt){var ct,_t;if(We=ft(We,rt),J(Ie))for(ct=0,_t=Ie.length;ct<_t;ct++)We(Ie[ct],ct,Ie);else{var ht=ie(Ie);for(ct=0,_t=ht.length;ct<_t;ct++)We(Ie[ht[ct]],ht[ct],Ie)}return Ie}function vi(Ie,We,rt){We=w(We,rt);for(var ct=!J(Ie)&&ie(Ie),_t=(ct||Ie).length,ht=Array(_t),Dt=0;Dt<_t;Dt++){var Ht=ct?ct[Dt]:Dt;ht[Dt]=We(Ie[Ht],Ht,Ie)}return ht}function Vo(Ie){var We=function(rt,ct,_t,ht){var Dt=!J(rt)&&ie(rt),Ht=(Dt||rt).length,yn=Ie>0?0:Ht-1;for(ht||(_t=rt[Dt?Dt[yn]:yn],yn+=Ie);yn>=0&&yn<Ht;yn+=Ie){var cn=Dt?Dt[yn]:yn;_t=ct(_t,rt[cn],cn,rt)}return _t};return function(rt,ct,_t,ht){var Dt=arguments.length>=3;return We(rt,ft(ct,ht,4),_t,Dt)}}var qi=Vo(1),wo=Vo(-1);function yi(Ie,We,rt){var ct=[];return We=w(We,rt),Vr(Ie,function(_t,ht,Dt){We(_t,ht,Dt)&&ct.push(_t)}),ct}function to(Ie,We,rt){return yi(Ie,Pn(w(We)),rt)}function hr(Ie,We,rt){We=w(We,rt);for(var ct=!J(Ie)&&ie(Ie),_t=(ct||Ie).length,ht=0;ht<_t;ht++){var Dt=ct?ct[ht]:ht;if(!We(Ie[Dt],Dt,Ie))return!1}return!0}function zn(Ie,We,rt){We=w(We,rt);for(var ct=!J(Ie)&&ie(Ie),_t=(ct||Ie).length,ht=0;ht<_t;ht++){var Dt=ct?ct[ht]:ht;if(We(Ie[Dt],Dt,Ie))return!0}return!1}function Jr(Ie,We,rt,ct){return J(Ie)||(Ie=kt(Ie)),("number"!=typeof rt||ct)&&(rt=0),Do(Ie,We,rt)>=0}var Zs=de(function(Ie,We,rt){var ct,_t;return A(We)?_t=We:(We=De(We),ct=We.slice(0,-1),We=We[We.length-1]),vi(Ie,function(ht){var Dt=_t;if(!Dt){if(ct&&ct.length&&(ht=dt(ht,ct)),null==ht)return;Dt=ht[We]}return null==Dt?Dt:Dt.apply(ht,rt)})});function bi(Ie,We){return vi(Ie,lt(We))}function In(Ie,We){return yi(Ie,jt(We))}function no(Ie,We,rt){var ct,_t,ht=-1/0,Dt=-1/0;if(null==We||"number"==typeof We&&"object"!=typeof Ie[0]&&null!=Ie)for(var Ht=0,yn=(Ie=J(Ie)?Ie:kt(Ie)).length;Ht<yn;Ht++)null!=(ct=Ie[Ht])&&ct>ht&&(ht=ct);else We=w(We,rt),Vr(Ie,function(cn,Rn,Qn){((_t=We(cn,Rn,Qn))>Dt||_t===-1/0&&ht===-1/0)&&(ht=cn,Dt=_t)});return ht}function Zn(Ie,We,rt){var ct,_t,ht=1/0,Dt=1/0;if(null==We||"number"==typeof We&&"object"!=typeof Ie[0]&&null!=Ie)for(var Ht=0,yn=(Ie=J(Ie)?Ie:kt(Ie)).length;Ht<yn;Ht++)null!=(ct=Ie[Ht])&&ct<ht&&(ht=ct);else We=w(We,rt),Vr(Ie,function(cn,Rn,Qn){((_t=We(cn,Rn,Qn))<Dt||_t===1/0&&ht===1/0)&&(ht=cn,Dt=_t)});return ht}function Br(Ie,We,rt){if(null==We||rt)return J(Ie)||(Ie=kt(Ie)),Ie[qe(Ie.length-1)];var ct=J(Ie)?Je(Ie):kt(Ie),_t=Le(ct);We=Math.max(Math.min(We,_t),0);for(var ht=_t-1,Dt=0;Dt<We;Dt++){var Ht=qe(Dt,ht),yn=ct[Dt];ct[Dt]=ct[Ht],ct[Ht]=yn}return ct.slice(0,We)}function ro(Ie){return Br(Ie,1/0)}function Gi(Ie,We,rt){var ct=0;return We=w(We,rt),bi(vi(Ie,function(_t,ht,Dt){return{value:_t,index:ct++,criteria:We(_t,ht,Dt)}}).sort(function(_t,ht){var Dt=_t.criteria,Ht=ht.criteria;if(Dt!==Ht){if(Dt>Ht||void 0===Dt)return 1;if(Dt<Ht||void 0===Ht)return-1}return _t.index-ht.index}),"value")}function ki(Ie,We){return function(rt,ct,_t){var ht=We?[[],[]]:{};return ct=w(ct,_t),Vr(rt,function(Dt,Ht){var yn=ct(Dt,Ht,rt);Ie(ht,Dt,yn)}),ht}}var Gr=ki(function(Ie,We,rt){p(Ie,rt)?Ie[rt].push(We):Ie[rt]=[We]}),io=ki(function(Ie,We,rt){Ie[rt]=We}),oo=ki(function(Ie,We,rt){p(Ie,rt)?Ie[rt]++:Ie[rt]=1}),rn=ki(function(Ie,We,rt){Ie[rt?0:1].push(We)},!0),un=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Gt(Ie){return Ie?I(Ie)?he.q.call(Ie):S(Ie)?Ie.match(un):J(Ie)?vi(Ie,Ft):kt(Ie):[]}function dn(Ie){return null==Ie?0:J(Ie)?Ie.length:ie(Ie).length}function Ur(Ie,We,rt){return We in rt}var Tr=de(function(Ie,We){var rt={},ct=We[0];if(null==Ie)return rt;A(ct)?(We.length>1&&(ct=ft(ct,We[1])),We=O(Ie)):(ct=Ur,We=xe(We,!1,!1),Ie=Object(Ie));for(var _t=0,ht=We.length;_t<ht;_t++){var Dt=We[_t],Ht=Ie[Dt];ct(Ht,Dt,Ie)&&(rt[Dt]=Ht)}return rt}),Yi=de(function(Ie,We){var rt,ct=We[0];return A(ct)?(ct=Pn(ct),We.length>1&&(rt=We[1])):(We=vi(xe(We,!1,!1),String),ct=function(_t,ht){return!Jr(We,ht)}),Tr(Ie,ct,rt)});function so(Ie,We,rt){return he.q.call(Ie,0,Math.max(0,Ie.length-(null==We||rt?1:We)))}function Nr(Ie,We,rt){return null==Ie||Ie.length<1?null==We||rt?void 0:[]:null==We||rt?Ie[0]:so(Ie,Ie.length-We)}function Cr(Ie,We,rt){return he.q.call(Ie,null==We||rt?1:We)}function nl(Ie,We,rt){return null==Ie||Ie.length<1?null==We||rt?void 0:[]:null==We||rt?Ie[Ie.length-1]:Cr(Ie,Math.max(0,Ie.length-We))}function Sa(Ie){return yi(Ie,Boolean)}function Lr(Ie,We){return xe(Ie,We,!1)}var ao=de(function(Ie,We){return We=xe(We,!0,!0),yi(Ie,function(rt){return!Jr(We,rt)})}),ci=de(function(Ie,We){return ao(Ie,We)});function _r(Ie,We,rt,ct){U(We)||(ct=rt,rt=We,We=!1),null!=rt&&(rt=w(rt,ct));for(var _t=[],ht=[],Dt=0,Ht=Le(Ie);Dt<Ht;Dt++){var yn=Ie[Dt],cn=rt?rt(yn,Dt,Ie):yn;We&&!rt?(Dt&&ht===cn||_t.push(yn),ht=cn):rt?Jr(ht,cn)||(ht.push(cn),_t.push(yn)):Jr(_t,yn)||_t.push(yn)}return _t}var nu=de(function(Ie){return _r(xe(Ie,!0,!0))});function or(Ie){for(var We=[],rt=arguments.length,ct=0,_t=Le(Ie);ct<_t;ct++){var ht=Ie[ct];if(!Jr(We,ht)){var Dt;for(Dt=1;Dt<rt&&Jr(arguments[Dt],ht);Dt++);Dt===rt&&We.push(ht)}}return We}function Bo(Ie){for(var We=Ie&&no(Ie,Le).length||0,rt=Array(We),ct=0;ct<We;ct++)rt[ct]=bi(Ie,ct);return rt}var $l=de(Bo);function ns(Ie,We){for(var rt={},ct=0,_t=Le(Ie);ct<_t;ct++)We?rt[Ie[ct]]=We[ct]:rt[Ie[ct][0]]=Ie[ct][1];return rt}function lr(Ie,We,rt){null==We&&(We=Ie||0,Ie=0),rt||(rt=We<Ie?-1:1);for(var ct=Math.max(Math.ceil((We-Ie)/rt),0),_t=Array(ct),ht=0;ht<ct;ht++,Ie+=rt)_t[ht]=Ie;return _t}function _s(Ie,We){if(null==We||We<1)return[];for(var rt=[],ct=0,_t=Ie.length;ct<_t;)rt.push(he.q.call(Ie,ct,ct+=We));return rt}function Qs(Ie,We){return Ie._chain?me(We).chain():We}function Xs(Ie){return Vr(be(Ie),function(We){var rt=me[We]=Ie[We];me.prototype[We]=function(){var ct=[this._wrapped];return he.o.apply(ct,arguments),Qs(this,rt.apply(me,ct))}}),me}Vr(["pop","push","reverse","shift","sort","splice","unshift"],function(Ie){var We=he.a[Ie];me.prototype[Ie]=function(){var rt=this._wrapped;return null!=rt&&(We.apply(rt,arguments),"shift"!==Ie&&"splice"!==Ie||0!==rt.length||delete rt[0]),Qs(this,rt)}}),Vr(["concat","join","slice"],function(Ie){var We=he.a[Ie];me.prototype[Ie]=function(){var rt=this._wrapped;return null!=rt&&(rt=We.apply(rt,arguments)),Qs(this,rt)}});var rl=me,Ki=Xs(ce);Ki._=Ki;var Js=Ki},function(nt,ve,h){"use strict";h.r(ve),h.d(ve,"hasWin",function(){return Q}),h.d(ve,"toLowerCase",function(){return U}),h.d(ve,"getUiClass",function(){return S}),h.d(ve,"isCommentNode",function(){return F}),h.d(ve,"isTaggableNode",function(){return W}),h.d(ve,"find",function(){return k}),h.d(ve,"escape",function(){return I}),h.d(ve,"on",function(){return x}),h.d(ve,"off",function(){return P}),h.d(ve,"hasDnd",function(){return A}),h.d(ve,"upFirst",function(){return N}),h.d(ve,"matches",function(){return v}),h.d(ve,"getModel",function(){return p}),h.d(ve,"getElRect",function(){return y}),h.d(ve,"camelCase",function(){return R}),h.d(ve,"isTextNode",function(){return H}),h.d(ve,"getKeyCode",function(){return B}),h.d(ve,"getKeyChar",function(){return K}),h.d(ve,"isEscKey",function(){return te}),h.d(ve,"isEnterKey",function(){return $e}),h.d(ve,"getElement",function(){return z}),h.d(ve,"shallowDiff",function(){return D}),h.d(ve,"normalizeFloat",function(){return M}),h.d(ve,"getPointerEvent",function(){return C}),h.d(ve,"getUnitFromValue",function(){return L}),h.d(ve,"capitalize",function(){return Re}),h.d(ve,"getViewEl",function(){return Le}),h.d(ve,"setViewEl",function(){return _e}),h.d(ve,"appendStyles",function(){return E}),h.d(ve,"isObject",function(){return ue}),h.d(ve,"isEmptyObj",function(){return ye}),h.d(ve,"isComponent",function(){return Pe}),h.d(ve,"createId",function(){return ie}),h.d(ve,"isRule",function(){return Me});var ce=h(14),he=h.n(ce),de=h(11),se=h.n(de),re=h(0),Q=function(){return"undefined"!=typeof window},U=function(ne){return(ne||"").toLowerCase()},T=Q()?window.Element.prototype:{},v=T.matches||T.webkitMatchesSelector||T.mozMatchesSelector||T.msMatchesSelector,S=function(ne,ge){var me=ne.getConfig();return[me.customUI&&"".concat(me.stylePrefix,"cui"),ge].filter(function(b){return b}).join(" ")},E=function ne(ge){var me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=Object(re.isArray)(ge)?se()(ge):[ge];if(_.length){var b=_.shift();if(b&&(!me.unique||!document.querySelector('link[href="'.concat(b,'"]')))){var c=document.head,O=document.createElement("link");O.href=b,O.rel="stylesheet",me.prepand?c.insertBefore(O,c.firstChild):c.appendChild(O)}ne(_)}},D=function(ne,ge){var me={},_=Object(re.keys)(ge);for(var b in ne)if(ne.hasOwnProperty(b)){var G=ne[b],c=ge[b];_.indexOf(b)>=0?G!==c&&(me[b]=c):me[b]=null}for(var O in ge)ge.hasOwnProperty(O)&&Object(re.isUndefined)(ne[O])&&(me[O]=ge[O]);return me},x=function(ne,ge,me,_){ge=ge.split(/\s+/),ne=ne instanceof Array?ne:[ne];for(var b=function(c){ne.forEach(function(O){return O&&O.addEventListener(ge[c],me,_)})},G=0;G<ge.length;++G)b(G)},P=function(ne,ge,me,_){ge=ge.split(/\s+/),ne=ne instanceof Array?ne:[ne];for(var b=function(c){ne.forEach(function(O){return O&&O.removeEventListener(ge[c],me,_)})},G=0;G<ge.length;++G)b(G)},L=function(ne){return ne.replace(parseFloat(ne),"")},N=function(ne){return ne[0].toUpperCase()+ne.toLowerCase().slice(1)},R=function(ne){var ge=ne.split("-").filter(String);return ge[0].toLowerCase()+ge.slice(1).map(N)},M=function(ne){var ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_=0;if(isNaN(ne))return me;if(ne=parseFloat(ne),Math.floor(ne)!==ne){var b=ge.toString().split(".")[1];_=b?b.length:0}return _?parseFloat(ne.toFixed(_)):ne},A=function(ne){return"draggable"in document.createElement("i")&&(ne?ne.get("Config").nativeDnD:1)},z=function(ne){return Object(re.isElement)(ne)||H(ne)?ne:ne&&ne.getEl?ne.getEl():void 0},H=function(ne){return ne&&3===ne.nodeType},F=function(ne){return ne&&8===ne.nodeType},W=function(ne){return ne&&!H(ne)&&!F(ne)},k=function(ne,ge){var me=null;return ne.some(function(_,b){return ge(_,b,ne)?(me=_,1):0}),me},I=function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},p=function(ne,ge){var me=ne;return Object(re.isElement)(ne)&&(me=ge(ne).data("model")),me},y=function(ne){var ge,me={top:0,left:0,width:0,height:0};if(!ne)return me;if(H(ne)){var _=document.createRange();_.selectNode(ne),ge=_.getBoundingClientRect(),_.detach()}return ge||(ne.getBoundingClientRect?ne.getBoundingClientRect():me)},C=function(ne){return ne.touches&&ne.touches[0]?ne.touches[0]:ne},B=function(ne){return ne.which||ne.keyCode},K=function(ne){return String.fromCharCode(B(ne))},te=function(ne){return 27===B(ne)},$e=function(ne){return 13===B(ne)},ue=function(ne){return null!==ne&&!Array.isArray(ne)&&"object"===he()(ne)},ye=function(ne){return Object.keys(ne).length<=0},Re=function(ne){return ne&&ne.charAt(0).toUpperCase()+ne.substring(1)},Pe=function(ne){return ne&&ne.toHTML},Me=function(ne){return ne&&ne.toCSS},Le=function(ne){return ne.__gjsv},_e=function(ne,ge){ne.__gjsv=ge},ie=function(){for(var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,ge="",me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",_=me.length,b=0;b<ne;b++)ge+=me.charAt(Math.floor(Math.random()*_));return ge}},function(nt,ve,h){(function(ce){var he,de,re;re="object"==typeof self&&self.self===self&&self||"object"==typeof ce&&ce.global===ce&&ce,he=[h(0),h(18),ve],void 0===(de=function(Q,U,T){re.Backbone=function(v,S,E,D){var x=v.Backbone,P=Array.prototype.slice;S.VERSION="1.3.3",S.$=D,S.noConflict=function(){return v.Backbone=x,this},S.emulateHTTP=!1,S.emulateJSON=!1;var L=function(c,O,m){E.each(O,function(V,X){E[X]&&(c.prototype[X]=function(Ee,He,Oe){switch(Ee){case 1:return function(){return E[He](this[Oe])};case 2:return function(Ce){return E[He](this[Oe],Ce)};case 3:return function(Ce,Fe){return E[He](this[Oe],N(Ce,this),Fe)};case 4:return function(Ce,Fe,Ue){return E[He](this[Oe],N(Ce,this),Fe,Ue)};default:return function(){var Ce=P.call(arguments);return Ce.unshift(this[Oe]),E[He].apply(E,Ce)}}}(V,X,m))})},N=function(c,O){return E.isFunction(c)?c:E.isObject(c)&&!O._isModel(c)?R(c):E.isString(c)?function(m){return m.get(c)}:c},R=function(c){var O=E.matches(c);return function(m){return O(m.attributes)}},M=S.Events={},A=/\s+/,z=function(c,O,m,V,X){var Ee,He=0;if(m&&"object"==typeof m)for((void 0!==V&&"context"in X&&void 0===X.context&&(X.context=V),Ee=E.keys(m));He<Ee.length;He++)O=z(c,O,Ee[He],m[Ee[He]],X);else if(m&&A.test(m))for(Ee=m.split(A);He<Ee.length;He++)O=c(O,Ee[He],V,X);else O=c(O,m,V,X);return O};M.on=function(c,O,m){return H(this,c,O,m)};var H=function(c,O,m,V,X){return c._events=z(F,c._events||{},O,m,{context:V,ctx:c,listening:X}),X&&((c._listeners||(c._listeners={}))[X.id]=X),c};M.listenTo=function(c,O,m){if(!c)return this;var V=c._listenId||(c._listenId=E.uniqueId("l")),X=this._listeningTo||(this._listeningTo={}),Ee=X[V];if(!Ee){var He=this._listenId||(this._listenId=E.uniqueId("l"));Ee=X[V]={obj:c,objId:V,id:He,listeningTo:X,count:0}}return H(c,O,m,this,Ee),this};var F=function(c,O,m,V){if(m){var X=c[O]||(c[O]=[]),Ee=V.context,He=V.ctx,Oe=V.listening;Oe&&Oe.count++,X.push({callback:m,context:Ee,ctx:Ee||He,listening:Oe})}return c};M.off=function(c,O,m){return this._events?(this._events=z(W,this._events,c,O,{context:m,listeners:this._listeners}),this):this},M.stopListening=function(c,O,m){var V=this._listeningTo;if(!V)return this;for(var X=c?[c._listenId]:E.keys(V),Ee=0;Ee<X.length;Ee++){var He=V[X[Ee]];if(!He)break;He.obj.off(O,m,this)}return this};var W=function(c,O,m,V){if(c){var X,Ee=0,He=V.context,Oe=V.listeners;if(O||m||He){for(var Ce=O?[O]:E.keys(c);Ee<Ce.length;Ee++){var Fe=c[O=Ce[Ee]];if(!Fe)break;for(var Ue=[],it=0;it<Fe.length;it++){var xt=Fe[it];m&&m!==xt.callback&&m!==xt.callback._callback||He&&He!==xt.context?Ue.push(xt):(X=xt.listening)&&0==--X.count&&(delete Oe[X.id],delete X.listeningTo[X.objId])}Ue.length?c[O]=Ue:delete c[O]}return c}for(var pt=E.keys(Oe);Ee<pt.length;Ee++)delete Oe[(X=Oe[pt[Ee]]).id],delete X.listeningTo[X.objId]}};M.once=function(c,O,m){var V=z(k,{},c,O,E.bind(this.off,this));return"string"==typeof c&&null==m&&(O=void 0),this.on(V,O,m)},M.listenToOnce=function(c,O,m){var V=z(k,{},O,m,E.bind(this.stopListening,this,c));return this.listenTo(c,V)};var k=function(c,O,m,V){if(m){var X=c[O]=E.once(function(){V(O,X),m.apply(this,arguments)});X._callback=m}return c};M.trigger=function(c){if(!this._events)return this;for(var O=Math.max(0,arguments.length-1),m=Array(O),V=0;V<O;V++)m[V]=arguments[V+1];return z(I,this._events,c,void 0,m),this};var I=function(c,O,m,V){if(c){var X=c[O],Ee=c.all;X&&Ee&&(Ee=Ee.slice()),X&&p(X,V),Ee&&p(Ee,[O].concat(V))}return c},p=function(c,O){var m,V=-1,X=c.length,Ee=O[0],He=O[1],Oe=O[2];switch(O.length){case 0:for(;++V<X;)(m=c[V]).callback.call(m.ctx);return;case 1:for(;++V<X;)(m=c[V]).callback.call(m.ctx,Ee);return;case 2:for(;++V<X;)(m=c[V]).callback.call(m.ctx,Ee,He);return;case 3:for(;++V<X;)(m=c[V]).callback.call(m.ctx,Ee,He,Oe);return;default:for(;++V<X;)(m=c[V]).callback.apply(m.ctx,O);return}};M.bind=M.on,M.unbind=M.off,E.extend(S,M);var y=S.Model=function(c,O){var m=c||{};O||(O={}),this.cid=E.uniqueId(this.cidPrefix),this.attributes={},O.collection&&(this.collection=O.collection),O.parse&&(m=this.parse(m,O)||{});var V=E.result(this,"defaults");m=E.defaults(E.extend({},V,m),V),this.set(m,O),this.changed={},this.initialize.apply(this,arguments)};E.extend(y.prototype,M,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(c){return E.clone(this.attributes)},sync:function(){return S.sync.apply(this,arguments)},get:function(c){return this.attributes[c]},escape:function(c){return E.escape(this.get(c))},has:function(c){return null!=this.get(c)},matches:function(c){return!!E.iteratee(c,this)(this.attributes)},set:function(c,O,m){if(null==c)return this;var V;if("object"==typeof c?(V=c,m=O):(V={})[c]=O,m||(m={}),!this._validate(V,m))return!1;var X=m.unset,Ee=m.silent,He=[],Oe=this._changing;this._changing=!0,Oe||(this._previousAttributes=E.clone(this.attributes),this.changed={});var Ce=this.attributes,Fe=this.changed,Ue=this._previousAttributes;for(var it in V)E.isEqual(Ce[it],O=V[it])||He.push(it),E.isEqual(Ue[it],O)?delete Fe[it]:Fe[it]=O,X?delete Ce[it]:Ce[it]=O;if(this.idAttribute in V&&(this.id=this.get(this.idAttribute)),!Ee){He.length&&(this._pending=m);for(var xt=0;xt<He.length;xt++)this.trigger("change:"+He[xt],this,Ce[He[xt]],m)}if(Oe)return this;if(!Ee)for(;this._pending;)m=this._pending,this._pending=!1,this.trigger("change",this,m);return this._pending=!1,this._changing=!1,this},unset:function(c,O){return this.set(c,void 0,E.extend({},O,{unset:!0}))},clear:function(c){var O={};for(var m in this.attributes)O[m]=void 0;return this.set(O,E.extend({},c,{unset:!0}))},hasChanged:function(c){return null==c?!E.isEmpty(this.changed):E.has(this.changed,c)},changedAttributes:function(c){if(!c)return!!this.hasChanged()&&E.clone(this.changed);var O=this._changing?this._previousAttributes:this.attributes,m={};for(var V in c){var X=c[V];E.isEqual(O[V],X)||(m[V]=X)}return!!E.size(m)&&m},previous:function(c){return null!=c&&this._previousAttributes?this._previousAttributes[c]:null},previousAttributes:function(){return E.clone(this._previousAttributes)},fetch:function(c){c=E.extend({parse:!0},c);var O=this,m=c.success;return c.success=function(V){var X=c.parse?O.parse(V,c):V;if(!O.set(X,c))return!1;m&&m.call(c.context,O,V,c),O.trigger("sync",O,V,c)},G(this,c),this.sync("read",this,c)},save:function(c,O,m){var V;null==c||"object"==typeof c?(V=c,m=O):(V={})[c]=O;var X=(m=E.extend({validate:!0,parse:!0},m)).wait;if(V&&!X){if(!this.set(V,m))return!1}else if(!this._validate(V,m))return!1;var Ee=this,He=m.success,Oe=this.attributes;m.success=function(Ue){Ee.attributes=Oe;var it=m.parse?Ee.parse(Ue,m):Ue;if(X&&(it=E.extend({},V,it)),it&&!Ee.set(it,m))return!1;He&&He.call(m.context,Ee,Ue,m),Ee.trigger("sync",Ee,Ue,m)},G(this,m),V&&X&&(this.attributes=E.extend({},Oe,V));var Ce=this.isNew()?"create":m.patch?"patch":"update";"patch"!==Ce||m.attrs||(m.attrs=V);var Fe=this.sync(Ce,this,m);return this.attributes=Oe,Fe},destroy:function(c){c=c?E.clone(c):{};var O=this,m=c.success,V=c.wait,X=function(){O.stopListening(),O.trigger("destroy",O,O.collection,c)};c.success=function(He){V&&X(),m&&m.call(c.context,O,He,c),O.isNew()||O.trigger("sync",O,He,c)};var Ee=!1;return this.isNew()?E.defer(c.success):(G(this,c),Ee=this.sync("delete",this,c)),V||X(),Ee},url:function(){var c=E.result(this,"urlRoot")||E.result(this.collection,"url")||b();if(this.isNew())return c;var O=this.get(this.idAttribute);return c.replace(/[^\/]$/,"$&/")+encodeURIComponent(O)},parse:function(c,O){return c},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(c){return this._validate({},E.extend({},c,{validate:!0}))},_validate:function(c,O){if(!O.validate||!this.validate)return!0;c=E.extend({},this.attributes,c);var m=this.validationError=this.validate(c,O)||null;return!m||(this.trigger("invalid",this,m,E.extend(O,{validationError:m})),!1)}}),L(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var C=S.Collection=function(c,O){O||(O={}),O.model&&(this.model=O.model),void 0!==O.comparator&&(this.comparator=O.comparator),this._reset(),this.initialize.apply(this,arguments),c&&this.reset(c,E.extend({silent:!0},O))},B={add:!0,remove:!0,merge:!0},K={add:!0,remove:!1},te=function(c,O,m){m=Math.min(Math.max(m,0),c.length);var V,X=Array(c.length-m),Ee=O.length;for(V=0;V<X.length;V++)X[V]=c[V+m];for(V=0;V<Ee;V++)c[V+m]=O[V];for(V=0;V<X.length;V++)c[V+Ee+m]=X[V]};E.extend(C.prototype,M,{model:y,initialize:function(){},toJSON:function(c){return this.map(function(O){return O.toJSON(c)})},sync:function(){return S.sync.apply(this,arguments)},add:function(c,O){return this.set(c,E.extend({merge:!1},O,K))},remove:function(c,O){O=E.extend({},O);var m=!E.isArray(c);c=m?[c]:c.slice();var V=this._removeModels(c,O);return!O.silent&&V.length&&(O.changes={added:[],merged:[],removed:V},this.trigger("update",this,O)),m?V[0]:V},set:function(c,O){if(null!=c){(O=E.extend({},B,O)).parse&&!this._isModel(c)&&(c=this.parse(c,O)||[]);var m=!E.isArray(c);c=m?[c]:c.slice();var V=O.at;null!=V&&(V=+V),V>this.length&&(V=this.length),V<0&&(V+=this.length+1);var X,Ee,He=[],Oe=[],Ce=[],Fe=[],Ue={},it=O.add,xt=O.merge,pt=O.remove,kt=!1,Nt=this.comparator&&null==V&&!1!==O.sort,ae=E.isString(this.comparator)?this.comparator:null;for(Ee=0;Ee<c.length;Ee++){var be=this.get(X=c[Ee]);if(be){if(xt&&X!==be){var Ve=this._isModel(X)?X.attributes:X;O.parse&&(Ve=be.parse(Ve,O)),be.set(Ve,O),Ce.push(be),Nt&&!kt&&(kt=be.hasChanged(ae))}Ue[be.cid]||(Ue[be.cid]=!0,He.push(be)),c[Ee]=be}else it&&(X=c[Ee]=this._prepareModel(X,O))&&(Oe.push(X),this._addReference(X,O),Ue[X.cid]=!0,He.push(X))}if(pt){for(Ee=0;Ee<this.length;Ee++)Ue[(X=this.models[Ee]).cid]||Fe.push(X);Fe.length&&this._removeModels(Fe,O)}var ot=!1;if(He.length&&!Nt&&it&&pt?(ot=this.length!==He.length||E.some(this.models,function(Z,ke){return Z!==He[ke]}),this.models.length=0,te(this.models,He,0),this.length=this.models.length):Oe.length&&(Nt&&(kt=!0),te(this.models,Oe,null==V?this.length:V),this.length=this.models.length),kt&&this.sort({silent:!0}),!O.silent){for(Ee=0;Ee<Oe.length;Ee++)null!=V&&(O.index=V+Ee),(X=Oe[Ee]).trigger("add",X,this,O);(kt||ot)&&this.trigger("sort",this,O),(Oe.length||Fe.length||Ce.length)&&(O.changes={added:Oe,removed:Fe,merged:Ce},this.trigger("update",this,O))}return m?c[0]:c}},reset:function(c,O){O=O?E.clone(O):{};for(var m=0;m<this.models.length;m++)this._removeReference(this.models[m],O);return O.previousModels=this.models,this._reset(),c=this.add(c,E.extend({silent:!0},O)),O.silent||this.trigger("reset",this,O),c},push:function(c,O){return this.add(c,E.extend({at:this.length},O))},pop:function(c){var O=this.at(this.length-1);return this.remove(O,c)},unshift:function(c,O){return this.add(c,E.extend({at:0},O))},shift:function(c){var O=this.at(0);return this.remove(O,c)},slice:function(){return P.apply(this.models,arguments)},get:function(c){if(null!=c)return this._byId[c]||this._byId[this.modelId(c.attributes||c)]||c.cid&&this._byId[c.cid]},has:function(c){return null!=this.get(c)},at:function(c){return c<0&&(c+=this.length),this.models[c]},where:function(c,O){return this[O?"find":"filter"](c)},findWhere:function(c){return this.where(c,!0)},sort:function(c){var O=this.comparator;if(!O)throw new Error("Cannot sort a set without a comparator");c||(c={});var m=O.length;return E.isFunction(O)&&(O=E.bind(O,this)),1===m||E.isString(O)?this.models=this.sortBy(O):this.models.sort(O),c.silent||this.trigger("sort",this,c),this},pluck:function(c){return this.map(c+"")},fetch:function(c){var O=(c=E.extend({parse:!0},c)).success,m=this;return c.success=function(V){m[c.reset?"reset":"set"](V,c),O&&O.call(c.context,m,V,c),m.trigger("sync",m,V,c)},G(this,c),this.sync("read",this,c)},create:function(c,O){var m=(O=O?E.clone(O):{}).wait;if(!(c=this._prepareModel(c,O)))return!1;m||this.add(c,O);var V=this,X=O.success;return O.success=function(Ee,He,Oe){m&&V.add(Ee,Oe),X&&X.call(Oe.context,Ee,He,Oe)},c.save(null,O),c},parse:function(c,O){return c},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(c){return c[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(c,O){if(this._isModel(c))return c.collection||(c.collection=this),c;(O=O?E.clone(O):{}).collection=this;var m=new this.model(c,O);return m.validationError?(this.trigger("invalid",this,m.validationError,O),!1):m},_removeModels:function(c,O){for(var m=[],V=0;V<c.length;V++){var X=this.get(c[V]);if(X){var Ee=this.indexOf(X);this.models.splice(Ee,1),this.length--,delete this._byId[X.cid];var He=this.modelId(X.attributes);null!=He&&delete this._byId[He],O.silent||(O.index=Ee,X.trigger("remove",X,this,O)),m.push(X),this._removeReference(X,O)}}return m},_isModel:function(c){return c instanceof y},_addReference:function(c,O){this._byId[c.cid]=c;var m=this.modelId(c.attributes);null!=m&&(this._byId[m]=c),c.on("all",this._onModelEvent,this)},_removeReference:function(c,O){delete this._byId[c.cid];var m=this.modelId(c.attributes);null!=m&&delete this._byId[m],this===c.collection&&delete c.collection,c.off("all",this._onModelEvent,this)},_onModelEvent:function(c,O,m,V){if(O){if(("add"===c||"remove"===c)&&m!==this)return;if("destroy"===c&&this.remove(O,V),"change"===c){var X=this.modelId(O.previousAttributes()),Ee=this.modelId(O.attributes);X!==Ee&&(null!=X&&delete this._byId[X],null!=Ee&&(this._byId[Ee]=O))}}this.trigger.apply(this,arguments)}}),L(C,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var $e=S.View=function(c){this.cid=E.uniqueId("view"),E.extend(this,E.pick(c,ye)),this._ensureElement(),this.initialize.apply(this,arguments)},ue=/^(\S+)\s*(.*)$/,ye=["model","collection","el","id","attributes","className","tagName","events"];E.extend($e.prototype,M,{tagName:"div",$:function(c){return this.$el.find(c)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(c){return this.undelegateEvents(),this._setElement(c),this.delegateEvents(),this},_setElement:function(c){this.$el=c instanceof S.$?c:S.$(c),this.el=this.$el[0]},delegateEvents:function(c){if(c||(c=E.result(this,"events")),!c)return this;for(var O in this.undelegateEvents(),c){var m=c[O];if(E.isFunction(m)||(m=this[m]),m){var V=O.match(ue);this.delegate(V[1],V[2],E.bind(m,this))}}return this},delegate:function(c,O,m){return this.$el.on(c+".delegateEvents"+this.cid,O,m),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(c,O,m){return this.$el.off(c+".delegateEvents"+this.cid,O,m),this},_createElement:function(c){return document.createElement(c)},_ensureElement:function(){if(this.el)this.setElement(E.result(this,"el"));else{var c=E.extend({},E.result(this,"attributes"));this.id&&(c.id=E.result(this,"id")),this.className&&(c.class=E.result(this,"className")),this.setElement(this._createElement(E.result(this,"tagName"))),this._setAttributes(c)}},_setAttributes:function(c){this.$el.attr(c)}}),S.sync=function(c,O,m){var V=Re[c];E.defaults(m||(m={}),{emulateHTTP:S.emulateHTTP,emulateJSON:S.emulateJSON});var X={type:V,dataType:"json"};if(m.url||(X.url=E.result(O,"url")||b()),null!=m.data||!O||"create"!==c&&"update"!==c&&"patch"!==c||(X.contentType="application/json",X.data=JSON.stringify(m.attrs||O.toJSON(m))),m.emulateJSON&&(X.contentType="application/x-www-form-urlencoded",X.data=X.data?{model:X.data}:{}),m.emulateHTTP&&("PUT"===V||"DELETE"===V||"PATCH"===V)){X.type="POST",m.emulateJSON&&(X.data._method=V);var Ee=m.beforeSend;m.beforeSend=function(Ce){if(Ce.setRequestHeader("X-HTTP-Method-Override",V),Ee)return Ee.apply(this,arguments)}}"GET"===X.type||m.emulateJSON||(X.processData=!1);var He=m.error;m.error=function(Ce,Fe,Ue){m.textStatus=Fe,m.errorThrown=Ue,He&&He.call(m.context,Ce,Fe,Ue)};var Oe=m.xhr=S.ajax(E.extend(X,m));return O.trigger("request",O,Oe,m),Oe};var Re={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};S.ajax=function(){return S.$.ajax.apply(S.$,arguments)};var Pe=S.Router=function(c){c||(c={}),c.routes&&(this.routes=c.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Me=/\((.*?)\)/g,Le=/(\(\?)?:\w+/g,_e=/\*\w+/g,ie=/[\-{}\[\]+?.,\\\^$|#\s]/g;E.extend(Pe.prototype,M,{initialize:function(){},route:function(c,O,m){E.isRegExp(c)||(c=this._routeToRegExp(c)),E.isFunction(O)&&(m=O,O=""),m||(m=this[O]);var V=this;return S.history.route(c,function(X){var Ee=V._extractParameters(c,X);!1!==V.execute(m,Ee,O)&&(V.trigger.apply(V,["route:"+O].concat(Ee)),V.trigger("route",O,Ee),S.history.trigger("route",V,O,Ee))}),this},execute:function(c,O,m){c&&c.apply(this,O)},navigate:function(c,O){return S.history.navigate(c,O),this},_bindRoutes:function(){if(this.routes){this.routes=E.result(this,"routes");for(var c,O=E.keys(this.routes);null!=(c=O.pop());)this.route(c,this.routes[c])}},_routeToRegExp:function(c){return c=c.replace(ie,"\\$&").replace(Me,"(?:$1)?").replace(Le,function(O,m){return m?O:"([^/?]+)"}).replace(_e,"([^?]*?)"),new RegExp("^"+c+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(c,O){var m=c.exec(O).slice(1);return E.map(m,function(V,X){return X===m.length-1?V||null:V?decodeURIComponent(V):null})}});var ne=S.History=function(){this.handlers=[],this.checkUrl=E.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},ge=/^[#\/]|\s+$/g,me=/^\/+|\/+$/g,_=/#.*$/;ne.started=!1,E.extend(ne.prototype,M,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(c){return decodeURI(c.replace(/%25/g,"%2525"))},getSearch:function(){var c=this.location.href.replace(/#.*/,"").match(/\?.+/);return c?c[0]:""},getHash:function(c){var O=(c||this).location.href.match(/#(.*)$/);return O?O[1]:""},getPath:function(){var c=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===c.charAt(0)?c.slice(1):c},getFragment:function(c){return null==c&&(c=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),c.replace(ge,"")},start:function(c){if(ne.started)throw new Error("Backbone.history has already been started");if(ne.started=!0,this.options=E.extend({root:"/"},this.options,c),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(me,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var O=this.root.slice(0,-1)||"/";return this.location.replace(O+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var m=document.body,V=m.insertBefore(this.iframe,m.firstChild).contentWindow;V.document.open(),V.document.close(),V.location.hash="#"+this.fragment}var X=window.addEventListener||function(Ee,He){return attachEvent("on"+Ee,He)};if(this._usePushState?X("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?X("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var c=window.removeEventListener||function(O,m){return detachEvent("on"+O,m)};this._usePushState?c("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&c("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),ne.started=!1},route:function(c,O){this.handlers.unshift({route:c,callback:O})},checkUrl:function(c){var O=this.getFragment();if(O===this.fragment&&this.iframe&&(O=this.getHash(this.iframe.contentWindow)),O===this.fragment)return!1;this.iframe&&this.navigate(O),this.loadUrl()},loadUrl:function(c){return!!this.matchRoot()&&(c=this.fragment=this.getFragment(c),E.some(this.handlers,function(O){if(O.route.test(c))return O.callback(c),!0}))},navigate:function(c,O){if(!ne.started)return!1;O&&!0!==O||(O={trigger:!!O}),c=this.getFragment(c||"");var m=this.root;""!==c&&"?"!==c.charAt(0)||(m=m.slice(0,-1)||"/");var V=m+c;if(c=this.decodeFragment(c.replace(_,"")),this.fragment!==c){if(this.fragment=c,this._usePushState)this.history[O.replace?"replaceState":"pushState"]({},document.title,V);else{if(!this._wantsHashChange)return this.location.assign(V);if(this._updateHash(this.location,c,O.replace),this.iframe&&c!==this.getHash(this.iframe.contentWindow)){var X=this.iframe.contentWindow;O.replace||(X.document.open(),X.document.close()),this._updateHash(X.location,c,O.replace)}}return O.trigger?this.loadUrl(c):void 0}},_updateHash:function(c,O,m){if(m){var V=c.href.replace(/(javascript:|#).*$/,"");c.replace(V+"#"+O)}else c.hash="#"+O}}),S.history=new ne,y.extend=C.extend=Pe.extend=$e.extend=ne.extend=function(c,O){var m,V=this;return m=c&&E.has(c,"constructor")?c.constructor:function(){return V.apply(this,arguments)},E.extend(m,V,O),m.prototype=E.create(V.prototype,c),m.prototype.constructor=m,m.__super__=V.prototype,m};var b=function(){throw new Error('A "url" property or function must be specified')},G=function(c,O){var m=O.error;O.error=function(V){m&&m.call(O.context,c,V,O),c.trigger("error",c,V,O)}};return S}(re,T,Q,U)}.apply(ve,he))||(nt.exports=de)}).call(this,h(35))},function(nt,ve){nt.exports=function(h,ce,he){return ce in h?Object.defineProperty(h,ce,{value:he,enumerable:!0,configurable:!0,writable:!0}):h[ce]=he,h},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve){function h(ce){return nt.exports=h=Object.setPrototypeOf?Object.getPrototypeOf:function(he){return he.__proto__||Object.getPrototypeOf(he)},nt.exports.default=nt.exports,nt.exports.__esModule=!0,h(ce)}nt.exports=h,nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve){nt.exports=function(h,ce){if(!(h instanceof ce))throw new TypeError("Cannot call a class as a function")},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve){function h(ce,he){for(var de=0;de<he.length;de++){var se=he[de];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(ce,se.key,se)}}nt.exports=function(ce,he,de){return he&&h(ce.prototype,he),de&&h(ce,de),ce},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){"use strict";(function(ce){h.d(ve,"e",function(){return he}),h.d(ve,"p",function(){return de}),h.d(ve,"a",function(){return se}),h.d(ve,"c",function(){return re}),h.d(ve,"d",function(){return Q}),h.d(ve,"o",function(){return U}),h.d(ve,"q",function(){return T}),h.d(ve,"t",function(){return v}),h.d(ve,"i",function(){return S}),h.d(ve,"r",function(){return E}),h.d(ve,"s",function(){return D}),h.d(ve,"k",function(){return x}),h.d(ve,"m",function(){return P}),h.d(ve,"j",function(){return L}),h.d(ve,"l",function(){return N}),h.d(ve,"g",function(){return R}),h.d(ve,"f",function(){return M}),h.d(ve,"h",function(){return A}),h.d(ve,"n",function(){return z}),h.d(ve,"b",function(){return H});var he="1.13.1",de="object"==typeof self&&self.self===self&&self||"object"==typeof ce&&ce.global===ce&&ce||Function("return this")()||{},se=Array.prototype,re=Object.prototype,Q="undefined"!=typeof Symbol?Symbol.prototype:null,U=se.push,T=se.slice,v=re.toString,S=re.hasOwnProperty,E="undefined"!=typeof ArrayBuffer,D="undefined"!=typeof DataView,x=Array.isArray,P=Object.keys,L=Object.create,N=E&&ArrayBuffer.isView,R=isNaN,M=isFinite,A=!{toString:null}.propertyIsEnumerable("toString"),z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],H=Math.pow(2,53)-1}).call(this,h(35))},function(nt,ve,h){var ce=h(87);nt.exports=function(he,de){if("function"!=typeof de&&null!==de)throw new TypeError("Super expression must either be null or a function");he.prototype=Object.create(de&&de.prototype,{constructor:{value:he,writable:!0,configurable:!0}}),de&&ce(he,de)},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){var ce=h(14).default,he=h(88);nt.exports=function(de,se){return!se||"object"!==ce(se)&&"function"!=typeof se?he(de):se},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){"use strict";h.d(ve,"b",function(){return Me}),h.d(ve,"a",function(){return me});var ce=h(14),he=h.n(ce),de=h(11),se=h.n(de),re=h(41),Q=h.n(re),U=h(3),T=h.n(U),v=h(5),S=h.n(v),E=h(6),D=h.n(E),x=h(8),P=h.n(x),L=h(9),N=h.n(L),R=h(4),M=h.n(R),A=h(0),z=h(1),H=h(32),F=h(2),W=h.n(F),k=h(30),I=h(16),p=h(20);function y(_,b){var G=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);b&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),G.push.apply(G,c)}return G}function C(_){for(var b=1;b<arguments.length;b++){var G=null!=arguments[b]?arguments[b]:{};b%2?y(Object(G),!0).forEach(function(c){T()(_,c,G[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(G)):y(Object(G)).forEach(function(c){Object.defineProperty(_,c,Object.getOwnPropertyDescriptor(G,c))})}return _}var B,K=W.a.Model.extend({defaults:{type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]},initialize:function(){var _=this.get("target"),b=this.get("name"),G=this.get("changeProp");if(!this.get("id")&&this.set("id",b),_){this.target=_,this.unset("target");var c=G?"change:".concat(b):"change:attributes:".concat(b);this.listenTo(_,c,this.targetUpdated)}},props:function(){return this.attributes},targetUpdated:function(){var _=this.getTargetValue();this.set({value:_},{fromTarget:1})},getTargetValue:function(){var _,b=this.get("name"),G=this.target;return _=this.get("changeProp")?G.get(b):G.getAttributes()[b],Object(A.isUndefined)(_)?"":_},setTargetValue:function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=this.target,c=this.get("name");if(!Object(A.isUndefined)(_)){var O=_;if("false"===_?O=!1:"true"===_&&(O=!0),this.get("changeProp"))G.set(c,O,b);else{var m=C({},G.get("attributes"));m[c]=O,G.set("attributes",m,b)}}},setValueFromInput:function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c={value:_};this.set(c,C(C({},G),{},{avoidStore:1})),b&&(this.set("value","",G),this.set(c,G))},getInitValue:function(){var _,b=this.target,G=this.get("name");if(b){var c=b.get("attributes");_=this.get("changeProp")?b.get(G):c[G]}return _||this.get("value")||this.get("default")}}),te=W.a.Collection.extend({model:K,initialize:function(_){this.em=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).em||"",this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)},handleReset:function(_){var G=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels;(void 0===G?[]:G).forEach(function(O){return O.trigger("remove")})},handleAdd:function(_){var b=this.target;b&&(_.target=b)},setTarget:function(_){this.target=_},add:function(_,b){var G=this.em;if(Object(A.isString)(_)||Object(A.isArray)(_)){var c=G&&G.get&&G.get("TraitManager"),O=function(){var He=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{build:function(Oe){var Ce=[];"string"==typeof Oe&&(Oe=[Oe]);for(var Fe=0;Fe<Oe.length;Fe++){var Ue={},it=Oe[Fe];"target"===(Ue.name=it,it)&&(Ue.type="select",Ue.default=!1,Ue.options=He.optionsTarget),Ce.push(Ue)}return Ce}}}(c&&c.getConfig());Object(A.isString)(_)&&(_=[_]);for(var m=0,V=_.length;m<V;m++){var X=_[m],Ee=Object(A.isString)(X)?O.build(X)[0]:X;Ee.target=this.target,_[m]=Ee}}return W.a.Collection.prototype.add.apply(this,[_,b])}});function $e(_,b){var G=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);b&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),G.push.apply(G,c)}return G}function ue(_){for(var b=1;b<arguments.length;b++){var G=null!=arguments[b]?arguments[b]:{};b%2?$e(Object(G),!0).forEach(function(c){T()(_,c,G[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(G)):$e(Object(G)).forEach(function(c){Object.defineProperty(_,c,Object.getOwnPropertyDescriptor(G,c))})}return _}var Re=function(_){return _.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Pe=function(_){return _&&_.getConfig("avoidInlineStyle")},Me="component:drag",Le="__symbols",_e="__symbol",ie="__symbol_ovrd",ne="component:update",ge="".concat(ne,"-inside"),me=function(_){P()(G,_);var b=function(_){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(G){return!1}}();return function(){var G,c=M()(_);if(b){var O=M()(this).constructor;G=Reflect.construct(c,arguments,O)}else G=c.apply(this,arguments);return N()(this,G)}}(G);function G(){return S()(this,G),b.apply(this,arguments)}return D()(G,[{key:"init",value:function(){}},{key:"updated",value:function(c,O,m){}},{key:"removed",value:function(){}},{key:"initialize",value:function(){var c=this,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(A.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var V=m.em,X=this.parent(),Ee=X&&X.attributes;if(Ee&&Ee.propagate){var He={},Oe=Ee.propagate;Oe.forEach(function(pt){return He[pt]=X.get(pt)}),He.propagate=Oe,He=ue(ue({},He),O),this.set(He)}var Ce=this.get("propagate");if(Ce&&this.set("propagate",Object(A.isArray)(Ce)?Ce:[Ce]),m&&m.config&&m.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),m.em=V,this.opt=m,this.em=V,this.frame=m.frame,this.config=m.config||{},this.set("attributes",ue(ue({},Object(A.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=G.createId(this,m),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(ge,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(pt){var kt="add remove ".concat("components"!==pt?"change":"");c.listenTo(c.get(pt),kt.trim(),function(){for(var Nt=arguments.length,ae=new Array(Nt),be=0;be<Nt;be++)ae[be]=arguments[be];return c.emitUpdate.apply(c,[pt].concat(ae))})}),!m.temporary){var Fe=V&&V.get("CssComposer"),Ue=this.attributes,it=Ue.styles;it&&Fe&&Fe.addCollection(it,{},{group:"cmp:".concat(Ue.type)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),V&&V.trigger("component:create",this)}}},{key:"__postAdd",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.em,m=O&&O.get("UndoManager"),V=this.components();m&&!this.__hasUm&&(m.add(V),m.add(this.getSelectors()),this.__hasUm=1),c.recursive&&V.map(function(X){return X.__postAdd(c)})}},{key:"__postRemove",value:function(){var c=this.em,O=c&&c.get("UndoManager");O&&(O.remove(this.components()),O.remove(this.getSelectors()),delete this.__hasUm)}},{key:"__onChange",value:function(c,O){var m=this.changedAttributes();["status","open","toolbar","traits"].forEach(function(V){return delete m[V]}),Object(z.isEmptyObj)(m)||(this.__changesUp(O),this.__propSelfToParent({component:this,changed:m,options:O}))}},{key:"__changesUp",value:function(c){[this.frame,this.em].forEach(function(m){return m&&m.changesUp(c)})}},{key:"__propSelfToParent",value:function(c){this.trigger(ne,c),this.__propToParent(c)}},{key:"__propToParent",value:function(c){var O=this.parent();O&&O.trigger(ge,c)}},{key:"__emitUpdateTlb",value:function(){this.emitUpdate("toolbar")}},{key:"is",value:function(c){return this.get("type")==c}},{key:"props",value:function(){return this.attributes}},{key:"index",value:function(){var c=this.collection;return c?c.indexOf(this):0}},{key:"setDragMode",value:function(c){return this.set("dmode",c)}},{key:"find",value:function(c){var O=[],m=this.view.$el.find(c);return m.each(function(V){var X=m.eq(V).data("model");X&&O.push(X)}),O}},{key:"findType",value:function(c){var O=[];return function m(V){return V.forEach(function(X){X.is(c)&&O.push(X),m(X.components())})}(this.components()),O}},{key:"closest",value:function(c){var O=this.view.$el.closest(c);return O.length&&O.data("model")}},{key:"closestType",value:function(c){for(var O=this.parent();O&&!O.is(c);)O=O.parent();return O}},{key:"contains",value:function(c){var O=!1;return c?(function V(X){!O&&X.forEach(function(Ee){Ee===c&&(O=!0),!O&&V(Ee.components())})}(this.components()),O):O}},{key:"tagUpdated",value:function(){this.trigger("rerender")}},{key:"replaceWith",value:function(c){var O=this.collection,m=O.indexOf(this);return O.remove(this),O.add(c,{at:m})}},{key:"attrUpdated",value:function(c,O){var m=this,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},X=this.get("attributes"),Ee=X.class;Ee&&this.setClass(Ee),delete X.class;var He=X.style;He&&this.setStyle(He),delete X.style;var Oe=ue({},this.previous("attributes")),Ce=Object(z.shallowDiff)(Oe,this.get("attributes"));Object(A.keys)(Ce).forEach(function(Fe){return m.trigger("change:attributes:".concat(Fe),m,Ce[Fe],V)})}},{key:"setAttributes",value:function(c){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.set("attributes",ue({},c),O),this}},{key:"addAttributes",value:function(c){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setAttributes(ue(ue({},this.getAttributes({noClass:1})),c),O)}},{key:"removeAttributes",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=Array.isArray(c)?c:[c],V=this.getAttributes();return m.map(function(X){return delete V[X]}),this.setAttributes(V,O)}},{key:"getStyle",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=this.em,V=Object(A.isString)(c)?c:"",X=V?O:c;if(m&&m.getConfig("avoidInlineStyle")&&!X.inline){var Ee=m.get("state"),Oe=m.get("CssComposer").getIdRule(this.getId(),ue({state:Ee},X));if(this.rule=Oe,Oe)return Oe.getStyle(V)}return H.a.getStyle.call(this,V)}},{key:"setStyle",value:function(){var c=this,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=this.em,X=this.opt;if(V&&V.getConfig("avoidInlineStyle")&&!X.temporary&&!m.inline){var Ee=this.get("style")||{};O=ue(ue({},O=Object(A.isString)(O)?this.parseStyle(O):O),Ee);var He=V.get("state"),Oe=V.get("CssComposer"),Ce=this.getStyle(m);this.rule=Oe.setIdRule(this.getId(),O,ue(ue({},m),{},{state:He}));var Fe=Object(z.shallowDiff)(Ce,O);this.set("style","",{silent:1}),Object(A.keys)(Fe).forEach(function(Ue){return c.trigger("change:style:".concat(Ue))})}else O=H.a.setStyle.apply(this,arguments);return O}},{key:"getAttributes",value:function(){var c,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.em,V=[],X=ue({},this.get("attributes")),Ee=m&&m.get("SelectorManager"),He=this.getId();if(O.noClass||(this.get("classes").forEach(function(Ce){return V.push(Object(A.isString)(Ce)?Ce:Ce.get("name"))}),V.length&&(X.class=V.join(" "))),!O.noStyle){var Oe=this.get("style");Object(z.isObject)(Oe)&&!Object(z.isEmptyObj)(Oe)&&(X.style=this.styleToString({inline:1}))}return Object(A.has)(X,"id")||(Pe(m)?c=Ee&&Ee.get(He,Ee.Selector.TYPE_ID):Object(A.isEmpty)(this.getStyle())||(c=1),(this.__getSymbol()||this.__getSymbols())&&(c=1),c&&(X.id=He)),X}},{key:"addClass",value:function(c){var O=this.em.get("SelectorManager").addClass(c);return this.get("classes").add(O)}},{key:"setClass",value:function(c){return this.get("classes").reset(),this.addClass(c)}},{key:"removeClass",value:function(c){var O=[];c=Object(A.isArray)(c)?c:[c];var m=this.get("classes"),V=I.a.TYPE_CLASS;return c.forEach(function(X){X.split(" ").forEach(function(Ee){var He=m.where({name:Ee,type:V})[0];He&&O.push(m.remove(He))})}),O}},{key:"getClasses",value:function(){var c=this.getAttributes().class;return c?c.split(" "):[]}},{key:"__logSymbol",value:function(c,O){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},V=this.__getSymbol(),X=this.__getSymbols();(V||X)&&this.em.log(c,{model:this,toUp:O,context:"symbols",opts:m})}},{key:"__initSymb",value:function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=1)}},{key:"__isSymbol",value:function(){return Object(A.isArray)(this.get(Le))}},{key:"__isSymbolOrInst",value:function(){return!(!this.__isSymbol()&&!this.get(_e))}},{key:"__isSymbolTop",value:function(){var c=this.parent();return this.__isSymbolOrInst()&&(!c||c&&!c.__isSymbol()&&!c.__getSymbol())}},{key:"__isSymbolNested",value:function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var c=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),O=this.__getSymbTop();return(O.__isSymbol()?O:O.__getSymbol())!==c}},{key:"__getAllById",value:function(){var c=this.em;return c?c.get("DomComponents").allById():{}}},{key:"__getSymbol",value:function(){var c=this.get(_e);if(c&&Object(A.isString)(c)){var O=this.__getAllById()[c];O?(c=O,this.set(_e,O)):c=0}return c}},{key:"__getSymbols",value:function(){var c=this,O=this.get(Le);return O&&Object(A.isArray)(O)&&(O.forEach(function(m,V){m&&Object(A.isString)(m)&&(O[V]=c.__getAllById()[m])}),O=O.filter(function(m){return m&&!Object(A.isString)(m)})),O}},{key:"__isSymbOvrd",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",O=this.get(ie),m=c.split(":"),X=Q()(m,1)[0],Ee=c!==X?[c,X]:[c];return!0===O||Object(A.isArray)(O)&&Ee.some(function(He){return O.indexOf(He)>=0})}},{key:"__getSymbToUp",value:function(){var c=this,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=[],V=this.em,X=O.changed,Ee=V&&V.get("symbols");if(O.fromInstance||O.noPropagate||O.fromUndo||!Ee||X&&this.__isSymbOvrd(X))return m;var He=this.__getSymbols()||[],Oe=this.__getSymbol();return(Oe?[Oe].concat(se()(Oe.__getSymbols()||[])):He).filter(function(Fe){return Fe!==c}).filter(function(Fe){return!(X&&Fe.__isSymbOvrd(X))})}},{key:"__getSymbTop",value:function(c){for(var O=this,m=this.parent(c);m&&(m.__isSymbol()||m.__getSymbol());)O=m,m=m.parent(c);return O}},{key:"__upSymbProps",value:function(c){var O=this,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=this.changedAttributes(),X=V.attributes||{};if(delete V.status,delete V.open,delete V[Le],delete V[_e],delete V[ie],delete V.attributes,delete X.id,Object(z.isEmptyObj)(X)||(V.attributes=X),!Object(z.isEmptyObj)(V)){var Ee=this.__getSymbToUp(m);Object(A.keys)(V).map(function(He){O.__isSymbOvrd(He)&&delete V[He]}),this.__logSymbol("props",Ee,{opts:m,changed:V}),Ee.forEach(function(He){var Oe=ue({},V);Object(A.keys)(Oe).map(function(Ce){He.__isSymbOvrd(Ce)&&delete Oe[Ce]}),He.set(Oe,ue({fromInstance:O},m))})}}},{key:"__upSymbCls",value:function(c,O){var m=this,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},X=this.__getSymbToUp(V);this.__logSymbol("classes",X,{opts:V}),X.forEach(function(Ee){Ee.set("classes",m.get("classes"),{fromInstance:m})}),this.__changesUp(V)}},{key:"__upSymbComps",value:function(c,O,m){var V=this,X=m||O||{},Ee={fromInstance:X.fromInstance,fromUndo:X.fromUndo},He=c.opt.temporary;if(m)if(m.add){var Oe=[],Ce=!!this.__getSymbols(),Fe=this.__getSymbToUp(ue(ue({},Ee),{},{changed:"components:add"}));if(Fe.length){var Ue=c.__getSymbol();Oe=(Ue?Ue.__getSymbols():c.__getSymbols())||[],(Oe=se()(Oe)).push(Ue||c)}!He&&this.__logSymbol("add",Fe,{opts:m,addedInstances:Oe.map(function(et){return et.cid}),added:c.cid}),Fe.forEach(function(et){var Z=et.__getSymbTop(),ke=Oe.filter(function(Be){var Je=Be.__getSymbTop({prev:1});return Z&&Je&&Je===Z})[0]||c.clone({symbol:1,symbolInv:Ce});et.append(ke,ue({fromInstance:V},m))})}else{var it=c.__getSymbol();if(it&&!m.temporary&&it.set(Le,it.__getSymbols().filter(function(et){return et!==c})),!c.__isSymbolTop()){var xt="components:remove",pt=m.index,kt=c.parent(),Nt=ue({fromInstance:c},m),ae=c.__isSymbolNested(),be=function(et){var Z=et.parent();Z&&!Z.__isSymbOvrd(xt)&&et.remove(Nt)},Ve=kt.__isSymbOvrd(xt)?[]:c.__getSymbToUp(Ee);ae&&(Ve=kt.__getSymbToUp(ue(ue({},Ee),{},{changed:xt})),be=function(et){var Z=et.components().at(pt);Z&&Z.remove(ue({fromInstance:kt},Nt))}),!He&&this.__logSymbol("remove",Ve,{opts:m,removed:c.cid,isSymbNested:ae}),Ve.forEach(be)}}else{var ot=this.__getSymbToUp(ue(ue({},Ee),{},{changed:"components:reset"}));this.__logSymbol("reset",ot,{components:c.models}),ot.forEach(function(et){var Z=c.models.map(function(ke){return ke.clone({symbol:1})});et.components().reset(Z,ue({fromInstance:V},O))})}this.__changesUp(X)}},{key:"initClasses",value:function(c,O){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},V="change:classes",X=this.get("attributes").class||[],Ee=[this,V,this.initClasses],He=this.get("classes")||X,Oe=Object(A.isString)(He)?He.split(" "):He;this.stopListening.apply(this,Ee);var Ce=this.normalizeClasses(Oe),Fe=new p.a([]);return this.set("classes",Fe,m),Fe.add(Ce),Fe.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,Ee),this}},{key:"initComponents",value:function(){var c=[this,"change:components",this.initComponents];this.stopListening.apply(this,c);var O=new k.a(null,this.opt);O.parent=this;var m=this.get("components"),V=!this.opt.avoidChildren;return this.set("components",O),V&&m&&O.add(Object(A.isFunction)(m)?m(this):m,this.opt),O.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,c),this}},{key:"initTraits",value:function(c){var O=this.em,m=[this,"change:traits",this.initTraits];this.stopListening.apply(this,m),this.loadTraits();var V=ue({},this.get("attributes")),X=this.get("traits");return X.each(function(Ee){if(!Ee.get("changeProp")){var He=Ee.get("name"),Oe=Ee.getInitValue();He&&Oe&&(V[He]=Oe)}}),X.length&&this.set("attributes",V),this.listenTo.apply(this,m),c&&O&&O.trigger("component:toggled"),this}},{key:"initScriptProps",value:function(){if(!this.opt.temporary){var c="script-props",O=["change:".concat(c),this.initScriptProps];this.off.apply(this,O);var m=this.previous(c)||[],V=this.get(c)||[],X=m.map(function(He){return"change:".concat(He)}).join(" "),Ee=V.map(function(He){return"change:".concat(He)}).join(" ");X&&this.off(X,this.__scriptPropsChange),Ee&&this.on(Ee,this.__scriptPropsChange),this.on.apply(this,O)}}},{key:"__scriptPropsChange",value:function(c,O){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).avoidStore||this.trigger("rerender")}},{key:"append",value:function(c){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=(Object(A.isArray)(c)?c:[c]).map(function(Ee){return Object(A.isString)(Ee)||Ee.collection&&Ee.collection.remove(Ee,{temporary:1}),Ee}),X=this.components().add(V,O);return Object(A.isArray)(X)?X:[X]}},{key:"components",value:function(c){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=this.get("components");return Object(A.isUndefined)(c)?m:(m.reset(null,O),c?this.append(c,O):[])}},{key:"getChildAt",value:function(c){return this.components().at(c||0)||null}},{key:"getLastChild",value:function(){var c=this.components();return c.at(c.length-1)||null}},{key:"empty",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.components().reset(null,c),this}},{key:"parent",value:function(){var O=this.collection||(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).prev&&this.prevColl;return O?O.parent:null}},{key:"scriptUpdated",value:function(){this.set("scriptUpdated",1)}},{key:"initToolbar",value:function(){var c=this.em,O=c&&c.getConfig("stylePrefix")||"";if(!this.get("toolbar")){var m=[];this.collection&&m.push({attributes:{class:"fa fa-arrow-up"},command:function(V){return V.runCommand("core:component-exit",{force:1})}}),this.get("draggable")&&m.push({attributes:{class:"fa fa-arrows ".concat(O,"no-touch-actions"),draggable:!0},command:"tlb-move"}),this.get("copyable")&&m.push({attributes:{class:"fa fa-clone"},command:"tlb-clone"}),this.get("removable")&&m.push({attributes:{class:"fa fa-trash-o"},command:"tlb-delete"}),this.set("toolbar",m)}}},{key:"loadTraits",value:function(c){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c=c||this.get("traits"),!((c=Object(A.isFunction)(c)?c(this):c)instanceof te)){var m=new te([],this.opt);m.setTarget(this),c.length&&(c.forEach(function(V){return V.attributes&&delete V.attributes.value}),m.add(c)),this.set("traits",m,O)}return this}},{key:"getTrait",value:function(c){return this.get("traits").filter(function(O){return O.get("id")===c||O.get("name")===c})[0]}},{key:"updateTrait",value:function(c,O){var m=this.em,V=this.getTrait(c);return V&&V.set(O),m&&m.trigger("component:toggled"),this}},{key:"getTraitIndex",value:function(c){var O=this.getTrait(c);return O?this.get("traits").indexOf(O):-1}},{key:"removeTrait",value:function(c){var O=this,m=this.em,V=(Object(A.isArray)(c)?c:[c]).map(function(Ee){return O.getTrait(Ee)}),X=this.get("traits").remove(V);return m&&m.trigger("component:toggled"),X}},{key:"addTrait",value:function(c){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=this.em,V=this.get("traits").add(c,O);return m&&m.trigger("component:toggled"),V}},{key:"normalizeClasses",value:function(c){var O=[],m=this.em,V=m&&m.get("SelectorManager");if(V)return c.models?se()(c.models):(c.forEach(function(X){return O.push(V.add(X))}),O)}},{key:"clone",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.em,m=ue({},this.attributes),V=ue({},this.opt),X=this.getId(),Ee=O&&O.get("CssComposer");m.attributes=ue({},m.attributes),delete m.attributes.id,m.components=[],m.classes=[],m.traits=[],this.__isSymbolTop()&&(c.symbol=1),this.get("components").each(function(xt,pt){m.components[pt]=xt.clone(ue(ue({},c),{},{_inner:1}))}),this.get("traits").each(function(xt,pt){m.traits[pt]=xt.clone()}),this.get("classes").each(function(xt,pt){m.classes[pt]=xt.get("name")}),m.status="",V.collection=null;var He=new this.constructor(m,V),Oe="#".concat(He.getId());(Ee?Ee.getRules("#".concat(X)):[]).forEach(function(xt){var pt=xt.clone();pt.set("selectors",[Oe]),Ee.getAll().add(pt)}),He.set(Le,0);var Fe=this.__getSymbol(),Ue=this.__getSymbols();c.symbol||!Fe&&!Ue?Fe?(Fe.set(Le,[].concat(se()(Fe.__getSymbols()),[He])),He.__initSymb()):c.symbol&&(this.__isSymbol()?(this.set(Le,[].concat(se()(Ue),[He])),He.set(_e,this),He.__initSymb()):c.symbolInv?(this.set(Le,[He]),He.set(_e,this),[this,He].map(function(xt){return xt.__initSymb()})):(He.set(Le,[this]),[this,He].map(function(xt){return xt.__initSymb()}),this.set(_e,He))):(He.set(_e,0),He.set(Le,0));var it="component:clone";return O&&O.trigger(it,He),this.trigger(it,He),He}},{key:"getName",value:function(){var c=this.em,O=this.attributes,m=O.type,V=O.tagName,X=this.get("name"),Ee="div"==V,He=m||(Ee?"box":V),Oe=!m&&V&&!Ee&&V,Ce="domComponents.names.",Fe=X&&c&&c.t("".concat(Ce).concat(X)),Ue=Oe&&c&&c.t("".concat(Ce).concat(Oe)),it=c&&(c.t("".concat(Ce).concat(m))||c.t("".concat(Ce).concat(V)));return this.get("custom-name")||Fe||X||Ue||Object(z.capitalize)(Oe)||it||Object(z.capitalize)(He)}},{key:"getIcon",value:function(){var c=this.get("icon");return c?c+" ":""}},{key:"toHTML",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this,m=[],X=c.tag||O.get("tagName"),Ee=O.get("void"),He=c.attributes,Oe=this.getAttrToHTML();for(var Ce in delete c.tag,He&&(Object(A.isFunction)(He)?Oe=He(O,Oe)||{}:Object(z.isObject)(He)&&(Oe=He)),Oe){var Fe=Oe[Ce],Ue=Object(A.isString)(Fe)?Fe.replace(/"/g,"&quot;"):Fe;Object(A.isUndefined)(Ue)||(Object(A.isBoolean)(Ue)?Ue&&m.push(Ce):m.push("".concat(Ce,'="').concat(Ue,'"')))}var it=m.length?" ".concat(m.join(" ")):"",xt=O.__innerHTML(c),pt="<".concat(X).concat(it).concat(Ee?"/":"",">").concat(xt);return!Ee&&(pt+="</".concat(X,">")),pt}},{key:"__innerHTML",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.components();return O.length?O.map(function(m){return m.toHTML(c)}).join(""):this.get("content")}},{key:"getAttrToHTML",value:function(){var c=this.getAttributes();return delete c.style,c}},{key:"toJSON",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=F.Model.prototype.toJSON.call(this,c);if(O.attributes=this.getAttributes(),delete O.attributes.class,delete O.toolbar,delete O.traits,delete O.status,delete O.open,!c.fromUndo){var m=O[_e],V=O[Le];V&&Object(A.isArray)(V)&&(O[Le]=V.filter(function(X){return X}).map(function(X){return X.getId?X.getId():X})),m&&!Object(A.isString)(m)&&(O[_e]=m.getId())}return this.em.getConfig("avoidDefaults")&&this.getChangedProps(O),O}},{key:"getChangedProps",value:function(c){var O=c||F.Model.prototype.toJSON.apply(this),m=Object(A.result)(this,"defaults");return Object(A.forEach)(m,function(V,X){-1===["type"].indexOf(X)&&O[X]===V&&delete O[X]}),Object(A.isEmpty)(O.type)&&delete O.type,Object(A.forEach)(["attributes","style"],function(V){Object(A.isEmpty)(m[V])&&Object(A.isEmpty)(O[V])&&delete O[V]}),Object(A.forEach)(["classes","components"],function(V){(!O[V]||Object(A.isEmpty)(m[V])&&!O[V].length)&&delete O[V]}),O}},{key:"getId",value:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid}},{key:"setId",value:function(c,O){var m=ue({},this.get("attributes"));return m.id=c,this.set("attributes",m,O),this}},{key:"getEl",value:function(c){var O=this.getView(c);return O&&O.el}},{key:"getView",value:function(c){var O=this.view;return c&&(O=this.views.filter(function(V){return V._getFrame()===c.view})[0]),O}},{key:"getCurrentView",value:function(){var c=(this.em.get("currentFrame")||{}).model;return this.getView(c)}},{key:"__getScriptProps",value:function(){var c=this.props();return(this.get("script-props")||[]).reduce(function(O,m){return O[m]=c[m],O},{})}},{key:"getScriptString",value:function(c){var O=this,m=c||this.get("script");if(!m)return m;if(this.get("script-props"))m=m.toString().trim();else{if("function"==typeof m){var V=m.toString().trim();m=(V=V.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var X=this.em.getConfig(),Ee=Re(X.tagVarStart||"{[ "),He=Re(X.tagVarEnd||" ]}"),Oe=new RegExp("".concat(Ee,"([\\w\\d-]*)").concat(He),"g");m=m.replace(Oe,function(Ce,Fe){O.scriptUpdated();var Ue=O.attributes[Fe]||"";return Object(A.isArray)(Ue)||"object"==he()(Ue)?JSON.stringify(Ue):Ue})}return m}},{key:"emitUpdate",value:function(c){for(var O=this.em,m=ne+(c?":".concat(c):""),V=c&&this.get(c),X=arguments.length,Ee=new Array(X>1?X-1:0),He=1;He<X;He++)Ee[He-1]=arguments[He];c&&this.updated.apply(this,[c,V,c&&this.previous(c)].concat(Ee)),this.trigger.apply(this,[m].concat(Ee)),O&&O.trigger.apply(O,[m,this].concat(Ee)),["components","classes"].indexOf(c)>=0&&this.__propSelfToParent({component:this,changed:T()({},c,V),options:Ee[2]||Ee[1]||{}})}},{key:"onAll",value:function(c){return Object(A.isFunction)(c)&&(c(this),this.components().forEach(function(O){return O.onAll(c)})),this}},{key:"remove",value:function(){var c=this,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.em,V=this.collection,X=function(){V&&V.remove(c,O),O.root&&c.components("")},Ee=ue({},O);return[this,m].map(function(He){return He.trigger("component:remove:before",c,X,Ee)}),!Ee.abort&&X(),this}},{key:"move",value:function(c){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.remove({temporary:1}),c&&c.append(this,O),this}},{key:"resetId",value:function(){var c=this.em,O=this.getId();if(O){var m=G.createId(this);this.setId(m);var V=c&&c.get("CssComposer").getIdRule(O),X=V&&V.get("selectors").at(0);return X&&X.set("name",m),this}}},{key:"_getStyleRule",value:function(){var m=this.em,V=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id||this.getId();return m&&m.get("CssComposer").getIdRule(V)}},{key:"_getStyleSelector",value:function(c){var O=this._getStyleRule(c);return O&&O.get("selectors").at(0)}},{key:"_idUpdated",value:function(c,O){if(!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).idUpdate){var V=this.ccid,Ee=(this.get("attributes")||{}).id,He=(this.previous("attributes")||{}).id||V,Oe=G.getList(this);if(Oe[Ee]||!Ee&&He)return this.setId(He,{idUpdate:1});delete Oe[He],Oe[Ee]=this,this.ccid=Ee;var Ce=this._getStyleSelector({id:He});Ce&&Ce.set({name:Ee,label:Ee})}}}]),G}(F.Model.extend(H.a));me.isComponent=function(_){return{tagName:Object(z.toLowerCase)(_.tagName)}},me.ensureInList=function(_){var b=me.getList(_),G=_.getId(),c=b[G];if(c){if(c!==_){var O=me.getIncrementId(G,b);_.setId(O),b[O]=_}}else b[G]=_;_.components().forEach(function(m){return me.ensureInList(m)})},me.createId=function(_){var b,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=me.getList(_),O=G.idMap,m=void 0===O?{}:O,X=_.get("attributes").id;return X?(b=me.getIncrementId(X,c,G),_.setId(b),X!==b&&(m[X]=b)):b=me.getNewId(c),c[b]=_,b},me.getNewId=function(_){for(var b=Object.keys(_).length.toString().length+2,G=(Math.random()+1.1).toString(36).slice(-b),c="i".concat(G);_[c];)c=me.getNewId(_);return c},me.getIncrementId=function(_,b){var c=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).keepIds,m=1,V=_;if((void 0===c?[]:c).indexOf(_)<0)for(;b[V];)m++,V="".concat(_,"-").concat(m);return V},me.getList=function(_){var b=_.opt,G=void 0===b?{}:b,O=G.em,m=G.domc||O&&O.get("DomComponents");return m?m.componentsById:{}},me.checkId=function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},O=Object(A.isArray)(_)?_:[_],m=c.keepIds,V=void 0===m?[]:m;O.forEach(function(X){var Ee=X.attributes,He=void 0===Ee?{}:Ee,Oe=X.components,Ce=He.id;if(Ce&&G[Ce]&&V.indexOf(Ce)<0){var Fe=me.getIncrementId(Ce,G);He.id=Fe,Object(A.isArray)(b)&&b.forEach(function(Ue){var it=Ue.selectors;it.forEach(function(xt,pt){xt==="#".concat(Ce)&&(it[pt]="#".concat(Fe))})})}Oe&&me.checkId(Oe,b,G,c)})},me.getDefaults=function(){return Object(A.result)(this.prototype,"defaults")},me.prototype.defaults=(B={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null},T()(B,_e,0),T()(B,Le,0),T()(B,ie,0),T()(B,"_undo",!0),T()(B,"_undoexc",["status","open"]),B)},function(nt,ve,h){var ce=h(79),he=h(80),de=h(50),se=h(81);nt.exports=function(re){return ce(re)||he(re)||de(re)||se()},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(2),se=h.n(de),re=h(0),Q=h(30),U=h(42),T=h(20),v=h(13),S=h(1);function E(x,P){var L=Object.keys(x);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(x);P&&(N=N.filter(function(R){return Object.getOwnPropertyDescriptor(x,R).enumerable})),L.push.apply(L,N)}return L}function D(x){for(var P=1;P<arguments.length;P++){var L=null!=arguments[P]?arguments[P]:{};P%2?E(Object(L),!0).forEach(function(N){he()(x,N,L[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(L)):E(Object(L)).forEach(function(N){Object.defineProperty(x,N,Object.getOwnPropertyDescriptor(L,N))})}return x}ve.default=se.a.View.extend({className:function(){return this.getClasses()},tagName:function(){return this.model.get("tagName")},initialize:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=this.model,L=x.config||{},N=L.em,R=P.opt||{},M=this.$el,A=this.el;this.opts=x,this.modelOpt=R,this.config=L,this.em=N||"",this.pfx=L.stylePrefix||"",this.ppfx=L.pStylePrefix||"",this.attr=P.get("attributes"),this.classe=this.attr.class||[],this.listenTo(P,"change:style",this.updateStyle),this.listenTo(P,"change:attributes change:_innertext",this.renderAttributes),this.listenTo(P,"change:highlightable",this.updateHighlight),this.listenTo(P,"change:status",this.updateStatus),this.listenTo(P,"change:script rerender",this.reset),this.listenTo(P,"change:content",this.updateContent),this.listenTo(P,"change",this.handleChange),this.listenTo(P,"active",this.onActive),this.listenTo(P,"disable",this.onDisable),M.data("model",P),Object(S.setViewEl)(A,this),P.view=this,this._getFrame()&&P.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=D(D({},this.events),this.__isDraggable()&&{dragstart:"handleDragStart"}),this.delegateEvents(),!R.temporary&&this.init(this._clbObj())},__isDraggable:function(){var L=this.model.attributes;return this.config.draggableComponents&&L.draggable&&!L._innertext},_clbObj:function(){var x=this.em,P=this.model,L=this.el;return{editor:x&&x.getEditor(),model:P,el:L}},init:function(){},removed:function(){},onActive:function(){},onDisable:function(){},remove:function(){var x=this;se.a.View.prototype.remove.apply(x,arguments);var P=x.model,N=(x._getFrame()||{}).model;P.components().forEach(function(A){var z=A.getView(N);z&&z.remove()});var R=x.childrenView;R&&R.remove();var M=P.views;return M.splice(M.indexOf(x),1),x.removed(x._clbObj()),x.$el.data({model:"",collection:"",view:""}),x},handleDragStart:function(x){x.preventDefault(),x.stopPropagation(),this.em.get("Commands").run("tlb-move",{target:this.model,event:x})},initClasses:function(){var x=this.model,P="change:classes",L=x.get("classes");L instanceof T.a&&(this.stopListening(x,P,this.initClasses),this.listenTo(x,P,this.initClasses),this.listenTo(L,"add remove change",this.updateClasses),L.length&&this.importClasses())},initComponents:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=this.model,L=this.$el,N=this.childrenView,R="change:components",M=P.get("components"),A=[P,R,this.initComponents];M instanceof Q.a&&(L.data("collection",M),N&&N.remove(),this.stopListening.apply(this,A),!x.avoidRender&&this.renderChildren(),this.listenTo.apply(this,A))},handleChange:function(){var x=this.model,P=Object(re.keys)(x.changed);if(1!==P.length||"status"!==P[0])for(var L in x.emitUpdate(),x.changed)x.emitUpdate(L)},importClasses:function(){var x=this.config.em.get("SelectorManager");x&&this.model.get("classes").each(function(P){x.add(P.get("name"))})},updateStatus:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=this.em,N=(P?P.get("Canvas").getConfig():{}).extHl,R=this.el,M=this.model.get("status"),A=this.ppfx,z="".concat(A,"selected"),H="".concat(z,"-parent"),F="".concat(A,"freezed"),W="".concat(A,"hovered"),I=N&&!x.noExtHl?"":z;this.$el.removeClass([z,H,F,W].join(" "));var p=R.getAttribute("class")||"",y="";switch(M){case"selected":y="".concat(p," ").concat(I);break;case"selected-parent":y="".concat(p," ").concat(H);break;case"freezed":y="".concat(p," ").concat(F);break;case"freezed-selected":y="".concat(p," ").concat(F," ").concat(I);break;case"hovered":y=x.avoidHover?"":"".concat(p," ").concat(W)}(y=y.trim())&&R.setAttribute("class",y)},updateHighlight:function(){var x=this.model.get("highlightable");this.setAttribute("data-highlightable",x?1:"")},updateStyle:function(x,P){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},N=this.model,R=this.em,M=this.el;if(R&&R.getConfig("avoidInlineStyle")&&!L.inline){var A=N.getStyle(),z=Object(re.isEmpty)(A);!z&&N.setStyle(A),N.get("_innertext")&&z?M.removeAttribute("id"):M.id=N.getId()}else this.setAttribute("style",N.styleToString(L))},updateClasses:function(){var x=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",x),this.updateStatus(),this.onAttrUpdate()},setAttribute:function(x,P){var L=this.$el;P?L.attr(x,P):L.removeAttr(x)},getClasses:function(){return this.model.getClasses().join(" ")},updateAttributes:function(){var x=[],P=this.model,L=this.$el,N=this.el,R=P.attributes,M=R.highlightable,A=R.textable,z=D(D(D({"data-gjs-type":R.type||"default"},this.__isDraggable()?{draggable:!0}:{}),M?{"data-highlightable":1}:{}),A?{contenteditable:"false","data-gjs-textable":"true"}:{});Object(re.each)(N.attributes,function(F){return x.push(F.nodeName)}),x.forEach(function(F){return L.removeAttr(F)}),this.updateStyle();var H=D(D({},z),P.getAttributes());Object(re.keys)(H).forEach(function(F){return!1===H[F]&&delete H[F]}),L.attr(H)},updateContent:function(){var x=this.model.get("content"),P=this.model.components().length;this.getChildrenContainer().innerHTML=P?"":x},prevDef:function(x){x.preventDefault()},updateScript:function(){var P=this.em;this.model.get("script")&&P&&P.get("Canvas").getCanvasView().updateScript(this)},getChildrenContainer:function(){var x=this.el;return"function"==typeof this.getChildrenSelector&&(x=this.el.querySelector(this.getChildrenSelector())),x},getOffsetRect:function(){var x={},P=this.el,L=0,N=0;return function R(M){var A=M.offsetParent;A?(L+=A.offsetTop,N+=A.offsetLeft,R(A)):(x.top=P.offsetTop+L,x.left=P.offsetLeft+N,x.bottom=x.top+P.offsetHeight,x.right=x.left+P.offsetWidth)}(P),x},isInViewport:function(){var N=this.el.ownerDocument,R=N.body,M=N.defaultView.frameElement,A=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).rect||this.getOffsetRect(),z=A.top,H=A.left,F=this._getFrame().getOffsetRect();return z>=F.scrollTop&&H>=F.scrollLeft&&z<=F.scrollBottom&&H<=M.offsetWidth+R.scrollLeft},scrollIntoView:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=this.getOffsetRect();if(!this.isInViewport({rect:P})||x.force){var N=this.el;"smooth"!==x.behavior?N.ownerDocument.defaultView.scrollTo(0,P.top):N.scrollIntoView(D({behavior:"smooth",block:"nearest"},x))}},reset:function(){var x=this.el;this.el="",this._ensureElement(),this._setData(),Object(v.m)(x,this.el),this.render()},_setData:function(){var x=this.model,P=x.components();this.$el.data({model:x,collection:P,view:this})},_getFrame:function(){return this.config.frameView},renderChildren:function(){this.updateContent();var x=this.getChildrenContainer(),P=this.childrenView||new U.a({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});P.render(x),this.childrenView=P;for(var L=Array.prototype.slice.call(P.el.childNodes),N=0,R=L.length;N<R;N++)x.appendChild(L.shift())},renderAttributes:function(){this.updateAttributes(),this.updateClasses()},onAttrUpdate:function(){},render:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),Object(S.setViewEl)(this.el,this),this.postRender()),this},postRender:function(){var x=this.em,P=this.model;this.modelOpt.temporary||(this.onRender(this._clbObj()),x&&x.trigger("component:mount",P))},onRender:function(){}})},function(nt,ve,h){"use strict";h.d(ve,"k",function(){return se}),h.d(ve,"i",function(){return re}),h.d(ve,"l",function(){return Q}),h.d(ve,"h",function(){return U}),h.d(ve,"d",function(){return T}),h.d(ve,"j",function(){return v}),h.d(ve,"m",function(){return S}),h.d(ve,"b",function(){return E}),h.d(ve,"a",function(){return D}),h.d(ve,"f",function(){return x}),h.d(ve,"g",function(){return P}),h.d(ve,"e",function(){return L}),h.d(ve,"c",function(){return N});var ce=h(0),de="attributes",se="transitionend oTransitionEnd transitionend webkitTransitionEnd",re=function(R){return R&&9===R.nodeType},Q=function(R){var M=R&&R.parentNode;M&&M.removeChild(R)},U=function(R,M){return R.querySelectorAll(M)},T=function(R){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R&&R.setAttribute&&Object(ce.each)(M,function(A,z){return R.setAttribute(z,A)})},v=function(R){return R&&!!(R.offsetWidth||R.offsetHeight||R.getClientRects().length)},S=function(R,M){R.parentNode.replaceChild(M,R)},E=function(R,M,A){var z=R.childNodes,H=z.length,F=Object(ce.isUndefined)(A)?H:A;Object(ce.isString)(M)&&(R.insertAdjacentHTML("beforeEnd",M),R.removeChild(M=R.lastChild)),F>=H?R.appendChild(M):R.insertBefore(M,z[F])},D=function(R,M){return E(R,M)},x=function(R){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",A=arguments.length>2?arguments[2]:void 0,z=document.createElement(R);return M&&Object(ce.each)(M,function(H,F){return z.setAttribute(F,H)}),A&&(Object(ce.isString)(A)?z.innerHTML=A:z.appendChild(A)),z},P=function(R){return document.createTextNode(R)},L=function(R,M){var A,z=R.type;try{A=new window[M](z,R)}catch(H){(A=document.createEvent(M)).initEvent(z,!0,!0)}return A._parentEvent=R,0===z.indexOf("key")&&(A.keyCodeVal=R.keyCode,["keyCode","which"].forEach(function(H){Object.defineProperty(A,H,{get:function(){return this.keyCodeVal}})})),A},N=function(R){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(Array.isArray(M)?M:[M]).forEach(function(z){var F=z[de]||{},W=document.createElement(z.tag||"div");Object(ce.each)(F,function(k,I){W.setAttribute(I,k)}),R.appendChild(W)})}},function(nt,ve){function h(ce){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(nt.exports=h=function(he){return typeof he},nt.exports.default=nt.exports,nt.exports.__esModule=!0):(nt.exports=h=function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},nt.exports.default=nt.exports,nt.exports.__esModule=!0),h(ce)}nt.exports=h,nt.exports.default=nt.exports,nt.exports.__esModule=!0},,function(nt,ve,h){"use strict";h.d(ve,"a",function(){return N});var ce=h(5),he=h.n(ce),de=h(6),se=h.n(de),re=h(8),Q=h.n(re),U=h(9),T=h.n(U),v=h(4),S=h.n(v),E=h(2),D=h(0);var N=function(R){Q()(A,R);var M=function(R){var M=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}();return function(){var A,z=S()(R);if(M){var H=S()(this).constructor;A=Reflect.construct(z,arguments,H)}else A=z.apply(this,arguments);return T()(this,A)}}(A);function A(){return he()(this,A),M.apply(this,arguments)}return se()(A,[{key:"defaults",value:function(){return{name:"",label:"",type:1,active:!0,private:!1,protected:!1,_undo:!0}}},{key:"initialize",value:function(z){var F=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).config,W=void 0===F?{}:F,k=this.get("name"),I=this.get("label");k?I||this.set("label",k):this.set("name",I);var p=this.get("name"),y=W.escapeName,C=y?y(p):A.escapeName(p);this.set("name",C),this.em=W.em}},{key:"isId",value:function(){return 2===this.get("type")}},{key:"isClass",value:function(){return 1===this.get("type")}},{key:"getFullName",value:function(){var H=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).escape,F=this.get("name"),W="";switch(this.get("type")){case 1:W=".";break;case 2:W="#"}return W+(H?H(F):F)}},{key:"toString",value:function(){return this.getFullName()}},{key:"getLabel",value:function(){return this.get("label")}},{key:"setLabel",value:function(z){return this.set("label",z)}},{key:"getActive",value:function(){return this.get("active")}},{key:"setActive",value:function(z){return this.set("active",z)}},{key:"toJSON",value:function(){var H=this.em,F=E.Model.prototype.toJSON.call(this,[arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}]),W=Object(D.result)(this,"defaults");if(H&&H.getConfig("avoidDefaults")){Object(D.forEach)(W,function(I,p){F[p]===I&&delete F[p]}),F.label===F.name&&delete F.label;var k=Object(D.keys)(F).length;1===k&&F.name&&(F=F.name),2===k&&F.name&&F.type&&(F=this.getFullName())}return F}}]),A}(E.Model);N.prototype.idAttribute="name",N.TYPE_CLASS=1,N.TYPE_ID=2,N.escapeName=function(R){return"".concat(R).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")}},function(nt,ve,h){"use strict";h.d(ve,"a",function(){return he});var ce=h(1);function he(de){for(var se=arguments.length,re=new Array(se>1?se-1:0),Q=1;Q<se;Q++)re[Q-1]=arguments[Q];var U=de.raw;return U.reduce(function(T,v,S){var E=re[S-1],D=U[S-1];return Array.isArray(E)?E=E.join(""):D&&"$"===D.slice(-1)?T=T.slice(0,-1):E=Object(ce.escape)(E),T+E+v})}},function(nt,ve,h){"use strict";h.r(ve);var ce="undefined"!=typeof document?document:null,he="undefined"!=typeof window?window:null,de=Array.prototype,se=de.filter,re=de.indexOf,Q=de.map,U=de.push,T=de.reverse,v=de.slice,E=/^#[\w-]*$/,D=/^\.[\w-]*$/,x=/<.+>/,P=/^\w+$/;function L(Z,ke){return void 0===ke&&(ke=ce),D.test(Z)?ke.getElementsByClassName(Z.slice(1)):P.test(Z)?ke.getElementsByTagName(Z):ke.querySelectorAll(Z)}function N(Z,ke){if(void 0===ke&&(ke=ce),Z){if(Z.__cash)return Z;var Be=Z;if(p(Z)){if(ke.__cash&&(ke=ke[0]),!(Be=E.test(Z)?ke.getElementById(Z.slice(1)):x.test(Z)?Ve(Z):L(Z,ke)))return}else if(I(Z))return this.ready(Z);(Be.nodeType||Be===he)&&(Be=[Be]),this.length=Be.length;for(var Je=0,st=this.length;Je<st;Je++)this[Je]=Be[Je]}}function R(Z,ke){return new N(Z,ke)}var M=R.fn=R.prototype=N.prototype={constructor:R,__cash:!0,length:0,splice:de.splice};M.get=function(Z){return void 0===Z?v.call(this):this[Z<0?Z+this.length:Z]},M.eq=function(Z){return R(this.get(Z))},M.first=function(){return this.eq(0)},M.last=function(){return this.eq(-1)},M.map=function(Z){return R(Q.call(this,function(ke,Be){return Z.call(ke,Be,ke)}))},M.slice=function(){return R(v.apply(this,arguments))};var A=/(?:^\w|[A-Z]|\b\w)/g,z=/[\s-_]+/g;function H(Z){return Z.replace(A,function(ke,Be){return ke[Be?"toUpperCase":"toLowerCase"]()}).replace(z,"")}function F(Z,ke){for(var Be=0,Je=Z.length;Be<Je&&!1!==ke.call(Z[Be],Z[Be],Be,Z);Be++);}R.camelCase=H,R.each=F,M.each=function(Z){return F(this,function(ke,Be){return Z.call(ke,Be,ke)}),this},M.removeProp=function(Z){return this.each(function(ke,Be){delete Be[Z]})},R.extend=M.extend=function(Z){void 0===Z&&(Z=this);for(var ke=arguments,Be=ke.length,Je=Be<2?0:1;Je<Be;Je++)for(var st in ke[Je])Z[st]=ke[Je][st];return Z};var W=1;function k(Z,ke){var Be=Z&&(Z.matches||Z.webkitMatchesSelector||Z.mozMatchesSelector||Z.msMatchesSelector||Z.oMatchesSelector);return!!Be&&Be.call(Z,ke)}function I(Z){return"function"==typeof Z}function p(Z){return"string"==typeof Z}function y(Z){return!isNaN(parseFloat(Z))&&isFinite(Z)}R.guid=W,R.matches=k,R.isFunction=I,R.isString=p,R.isNumeric=y;var C=Array.isArray;function B(Z){return p(Z)?function(ke,Be){return k(Be,Z)}:Z.__cash?function(ke,Be){return Z.is(Be)}:function(ke,Be,Je){return Be===Je}}R.isArray=C,M.prop=function(Z,ke){if(Z){if(p(Z))return arguments.length<2?this[0]&&this[0][Z]:this.each(function(Je,st){st[Z]=ke});for(var Be in Z)this.prop(Be,Z[Be]);return this}},M.filter=function(Z){if(!Z)return R();var ke=I(Z)?Z:B(Z);return R(se.call(this,function(Be,Je){return ke.call(Be,Je,Be,Z)}))};var K=/\S+/g;function te(Z){return p(Z)&&Z.match(K)||[]}function $e(Z){return Z.filter(function(ke,Be,Je){return Je.indexOf(ke)===Be})}function ue(Z,ke,Be){if(1===Z.nodeType){var Je=he.getComputedStyle(Z,null);return ke?Be?Je.getPropertyValue(ke):Je[ke]:Je}}function ye(Z,ke){return parseInt(ue(Z,ke),10)||0}M.hasClass=function(Z){var ke=te(Z),Be=!1;return ke.length&&this.each(function(Je,st){return!(Be=st.classList.contains(ke[0]))}),Be},M.removeAttr=function(Z){var ke=te(Z);return ke.length?this.each(function(Be,Je){F(ke,function(st){Je.removeAttribute(st)})}):this},M.attr=function(Z,ke){if(Z){if(p(Z)){if(arguments.length<2){if(!this[0])return;var Be=this[0].getAttribute(Z);return null===Be?void 0:Be}return null===ke?this.removeAttr(Z):this.each(function(st,mt){mt.setAttribute(Z,ke)})}for(var Je in Z)this.attr(Je,Z[Je]);return this}},M.toggleClass=function(Z,ke){var Be=te(Z),Je=void 0!==ke;return Be.length?this.each(function(st,mt){F(Be,function(De){Je?ke?mt.classList.add(De):mt.classList.remove(De):mt.classList.toggle(De)})}):this},M.addClass=function(Z){return this.toggleClass(Z,!0)},M.removeClass=function(Z){return arguments.length?this.toggleClass(Z,!1):this.attr("class","")},R.unique=$e,M.add=function(Z,ke){return R($e(this.get().concat(R(Z,ke).get())))};var Re=/^--/;function Pe(Z){return Re.test(Z)}var Me={},Le=ce&&ce.createElement("div"),_e=Le?Le.style:{},ie=["webkit","moz","ms","o"];function ne(Z,ke){if(void 0===ke&&(ke=Pe(Z)),ke)return Z;if(!Me[Z]){var Be=H(Z),Je=""+Be.charAt(0).toUpperCase()+Be.slice(1);F((Be+" "+ie.join(Je+" ")+Je).split(" "),function(st){if(st in _e)return Me[Z]=st,!1})}return Me[Z]}R.prefixedProp=ne;var ge={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function me(Z,ke,Be){return void 0===Be&&(Be=Pe(Z)),Be||ge[Z]||!y(ke)?ke:ke+"px"}M.css=function(Z,ke){if(p(Z)){var Be=Pe(Z);return Z=ne(Z,Be),arguments.length<2?this[0]&&ue(this[0],Z,Be):Z?(ke=me(Z,ke,Be),this.each(function(st,mt){1===mt.nodeType&&(Be?mt.style.setProperty(Z,ke):mt.style[Z]=ke)})):this}for(var Je in Z)this.css(Je,Z[Je]);return this};var _="__cashData",b=/^data-(.*)/;function G(Z){return Z[_]=Z[_]||{}}function c(Z,ke){var Be=G(Z);if(ke){if(!(ke in Be)){var Je=Z.dataset?Z.dataset[ke]||Z.dataset[H(ke)]:R(Z).attr("data-"+ke);if(void 0!==Je){try{Je=JSON.parse(Je)}catch(st){}Be[ke]=Je}}return Be[ke]}return Be}function O(Z,ke){return ye(Z,"border"+(ke?"Left":"Top")+"Width")+ye(Z,"padding"+(ke?"Left":"Top"))+ye(Z,"padding"+(ke?"Right":"Bottom"))+ye(Z,"border"+(ke?"Right":"Bottom")+"Width")}function m(Z,ke){for(var Be=0,Je=ke.length;Be<Je;Be++)if(Z.indexOf(ke[Be])<0)return!1;return!0}function V(Z,ke,Be){F(Z[Be],function(Je){ke.removeEventListener(Be,Je[1])}),delete Z[Be]}R.hasData=function(Z){return _ in Z},M.data=function(Z,ke){var Be=this;if(!Z)return this[0]?(F(this[0].attributes,function(st){var mt=st.name.match(b);mt&&Be.data(mt[1])}),c(this[0])):void 0;if(p(Z))return void 0===ke?this[0]&&c(this[0],Z):this.each(function(st,mt){return dt=Z,Et=ke,void(G(mt)[dt]=Et);var dt,Et});for(var Je in Z)this.data(Je,Z[Je]);return this},M.removeData=function(Z){return this.each(function(ke,Be){return Je=Be,void(void 0===(st=Z)?delete Je[_]:delete G(Je)[st]);var Je,st})},F(["Width","Height"],function(Z){M["inner"+Z]=function(){if(this[0])return this[0]===he?he["inner"+Z]:this[0]["client"+Z]}}),F(["width","height"],function(Z,ke){M[Z]=function(Be){return this[0]?arguments.length?(Be=parseInt(Be,10),this.each(function(Je,st){if(1===st.nodeType){var mt=ue(st,"boxSizing");st.style[Z]=me(Z,Be+("border-box"===mt?O(st,!ke):0))}})):this[0]===he?this[0][H("outer-"+Z)]:this[0].getBoundingClientRect()[Z]-O(this[0],!ke):void 0===Be?void 0:this}}),F(["Width","Height"],function(Z,ke){M["outer"+Z]=function(Be){if(this[0])return this[0]===he?he["outer"+Z]:this[0]["offset"+Z]+(Be?ye(this[0],"margin"+(ke?"Top":"Left"))+ye(this[0],"margin"+(ke?"Bottom":"Right")):0)}});var X="__cashEvents";function He(Z){return Z[X]=Z[X]||{}}function Oe(Z){var ke=Z.split(".");return[ke[0],ke.slice(1).sort()]}function Ce(Z,ke,Be,Je){var st=He(Z);if(ke){var mt=st[ke];if(!mt)return;Je&&(Je.guid=Je.guid||W++),st[ke]=mt.filter(function(De){var Et=De[1];if(Je&&Et.guid!==Je.guid||!m(De[0],Be))return!0;Z.removeEventListener(ke,Et)})}else if(Be&&Be.length)for(ke in st)Ce(Z,ke,Be,Je);else for(ke in st)V(st,Z,ke)}M.off=function(Z,ke){var Be=this;return void 0===Z?this.each(function(Je,st){return Ce(st)}):F(te(Z),function(Je){var st=Oe(Je),mt=st[0],De=st[1];Be.each(function(dt,Et){return Ce(Et,mt,De,ke)})}),this},M.on=function(Z,ke,Be,Je){var st=this;if(!p(Z)){for(var mt in Z)this.on(mt,ke,Z[mt]);return this}return I(ke)&&(Be=ke,ke=!1),F(te(Z),function(De){var dt=Oe(De),Et=dt[0],It=dt[1];st.each(function(Ft,jt){var lt=function ft(Ne){if(!Ne.namespace||m(It,Ne.namespace.split("."))){var Lt=jt;if(ke){for(var w=Ne.target;!k(w,ke);)if(w===jt||!(w=w.parentNode))return;Lt=w}Ne.namespace=Ne.namespace||"";var oe=Be.call(Lt,Ne,Ne.data);Je&&Ce(jt,Et,It,ft),!1===oe&&(Ne.preventDefault(),Ne.stopPropagation())}};lt.guid=Be.guid=Be.guid||W++,function(ft,Ne,Lt,w){w.guid=w.guid||W++;var oe=He(ft);oe[Ne]=oe[Ne]||[],oe[Ne].push([Lt,w]),ft.addEventListener(Ne,w)}(jt,Et,It,lt)})}),this},M.one=function(Z,ke,Be){return this.on(Z,ke,Be,!0)},M.ready=function(Z){var ke=function(){return Z(R)};return"loading"!==ce.readyState?setTimeout(ke):ce.addEventListener("DOMContentLoaded",ke),this},M.trigger=function(Z,ke){var Be=Z;if(p(Z)){var Je=Oe(Z),st=Je[0],mt=Je[1];(Be=ce.createEvent("HTMLEvents")).initEvent(st,!0,!0),Be.namespace=mt.join(".")}return Be.data=ke,this.each(function(De,dt){dt.dispatchEvent(Be)})};var Fe=/select-one/i,Ue=/select-multiple/i;function it(Z){var Be,ke=Z.type;return Fe.test(ke)?(Be=Z).selectedIndex<0?null:Be.options[Be.selectedIndex].value:Ue.test(ke)?function(Be){var Je=[];return F(Be.options,function(st){!st.selected||st.disabled||st.parentNode.disabled||Je.push(st.value)}),Je}(Z):Z.value}var xt=/%20/g,pt=/file|reset|submit|button|image/i,kt=/radio|checkbox/i;M.serialize=function(){var Z="";return this.each(function(ke,Be){F(Be.elements||[Be],function(Je){if(!Je.disabled&&Je.name&&"FIELDSET"!==Je.tagName&&!pt.test(Je.type)&&(!kt.test(Je.type)||Je.checked)){var st=it(Je);void 0!==st&&F(C(st)?st:[st],function(mt){var dt;Z+=(dt=mt,"&"+encodeURIComponent(Je.name)+"="+encodeURIComponent(dt).replace(xt,"+"))})}})}),Z.substr(1)},M.val=function(Z){return void 0===Z?this[0]&&it(this[0]):this.each(function(ke,Be){var Je=Ue.test(Be.type),st=null===Z?Je?[]:"":Z;Je&&C(st)?F(Be.options,function(mt){mt.selected=st.indexOf(mt.value)>=0}):Be.value=st})},M.clone=function(){return this.map(function(Z,ke){return ke.cloneNode(!0)})},M.detach=function(){return this.each(function(Z,ke){ke.parentNode&&ke.parentNode.removeChild(ke)})};var Nt,ae=/^\s*<(\w+)[^>]*>/,be=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function Ve(Z){if(function(){if(!Nt){var Je=ce.createElement("table"),st=ce.createElement("tr");Nt={"*":ce.createElement("div"),tr:ce.createElement("tbody"),td:st,th:st,thead:Je,tbody:Je,tfoot:Je}}}(),!p(Z))return[];if(be.test(Z))return[ce.createElement(RegExp.$1)];var ke=ae.test(Z)&&RegExp.$1,Be=Nt[ke]||Nt["*"];return Be.innerHTML=Z,R(Be.childNodes).detach().get()}function ot(Z,ke,Be){if(void 0!==ke){var Je=p(ke);!Je&&ke.length?F(ke,function(st){return ot(Z,st,Be)}):F(Z,Je?function(st){st.insertAdjacentHTML(Be?"afterbegin":"beforeend",ke)}:function(st,mt){return De=st,dt=mt?ke.cloneNode(!0):ke,void(Be?De.insertBefore(dt,De.childNodes[0]):De.appendChild(dt));var De,dt})}}R.parseHTML=Ve,M.empty=function(){var Z=this[0];if(Z)for(;Z.firstChild;)Z.removeChild(Z.firstChild);return this},M.append=function(){var Z=this;return F(arguments,function(ke){ot(Z,ke)}),this},M.appendTo=function(Z){return ot(R(Z),this),this},M.html=function(Z){if(void 0===Z)return this[0]&&this[0].innerHTML;var ke=Z.nodeType?Z[0].outerHTML:Z;return this.each(function(Be,Je){Je.innerHTML=ke})},M.insertAfter=function(Z){var ke=this;return R(Z).each(function(Be,Je){var st=Je.parentNode;ke.each(function(mt,De){st.insertBefore(Be?De.cloneNode(!0):De,Je.nextSibling)})}),this},M.after=function(){var Z=this;return F(T.apply(arguments),function(ke){T.apply(R(ke).slice()).insertAfter(Z)}),this},M.insertBefore=function(Z){var ke=this;return R(Z).each(function(Be,Je){var st=Je.parentNode;ke.each(function(mt,De){st.insertBefore(Be?De.cloneNode(!0):De,Je)})}),this},M.before=function(){var Z=this;return F(arguments,function(ke){R(ke).insertBefore(Z)}),this},M.prepend=function(){var Z=this;return F(arguments,function(ke){ot(Z,ke,!0)}),this},M.prependTo=function(Z){return ot(R(Z),T.apply(this.slice()),!0),this},M.remove=function(){return this.detach().off()},M.replaceWith=function(Z){var ke=this;return this.each(function(Be,Je){var st=Je.parentNode;if(st){var mt=Be?R(Z).clone():R(Z);if(!mt[0])return ke.remove(),!1;st.replaceChild(mt[0],Je),R(mt[0]).after(mt.slice(1))}})},M.replaceAll=function(Z){return R(Z).replaceWith(this),this},M.text=function(Z){return void 0===Z?this[0]?this[0].textContent:"":this.each(function(ke,Be){Be.textContent=Z})};var et=ce&&ce.documentElement;M.offset=function(){var Z=this[0];if(Z){var ke=Z.getBoundingClientRect();return{top:ke.top+he.pageYOffset-et.clientTop,left:ke.left+he.pageXOffset-et.clientLeft}}},M.offsetParent=function(){return R(this[0]&&this[0].offsetParent)},M.position=function(){var Z=this[0];if(Z)return{left:Z.offsetLeft,top:Z.offsetTop}},M.children=function(Z){var ke=[];return this.each(function(Be,Je){U.apply(ke,Je.children)}),ke=R($e(ke)),Z?ke.filter(function(Be,Je){return k(Je,Z)}):ke},M.contents=function(){var Z=[];return this.each(function(ke,Be){U.apply(Z,"IFRAME"===Be.tagName?[Be.contentDocument]:Be.childNodes)}),R(Z.length&&$e(Z))},M.find=function(Z){for(var ke=[],Be=0,Je=this.length;Be<Je;Be++){var st=L(Z,this[Be]);st.length&&U.apply(ke,st)}return R(ke.length&&$e(ke))},M.has=function(Z){var ke=p(Z)?function(Be,Je){return!!L(Z,Je).length}:function(Be,Je){return Je.contains(Z)};return this.filter(ke)},M.is=function(Z){if(!Z||!this[0])return!1;var ke=B(Z),Be=!1;return this.each(function(Je,st){return!(Be=ke(Je,st,Z))}),Be},M.next=function(){return R(this[0]&&this[0].nextElementSibling)},M.not=function(Z){if(!Z||!this[0])return this;var ke=B(Z);return this.filter(function(Be,Je){return!ke(Be,Je,Z)})},M.parent=function(){var Z=[];return this.each(function(ke,Be){Be&&Be.parentNode&&Z.push(Be.parentNode)}),R($e(Z))},M.index=function(Z){var ke=Z?R(Z)[0]:this[0],Be=Z?this:R(ke).parent().children();return re.call(Be,ke)},M.closest=function(Z){return Z&&this[0]?this.is(Z)?this.filter(Z):this.parent().closest(Z):R()},M.parents=function(Z){var ke,Be=[];return this.each(function(Je,st){for(ke=st;ke&&ke.parentNode&&ke!==ce.body.parentNode;)ke=ke.parentNode,(!Z||Z&&k(ke,Z))&&Be.push(ke)}),R($e(Be))},M.prev=function(){return R(this[0]&&this[0].previousElementSibling)},M.siblings=function(){var Z=this[0];return this.parent().children().filter(function(ke,Be){return Be!==Z})},ve.default=R},function(nt,ve){nt.exports=function(h,ce){return ce||(ce=h.slice(0)),Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(ce)}}))},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){"use strict";h.d(ve,"a",function(){return L});var ce=h(5),he=h.n(ce),de=h(6),se=h.n(de),re=h(8),Q=h.n(re),U=h(9),T=h.n(U),v=h(4),S=h.n(v),E=h(0),D=h(2),x=h(16);var L=function(N){Q()(M,N);var R=function(N){var R=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(M){return!1}}();return function(){var M,A=S()(N);if(R){var z=S()(this).constructor;M=Reflect.construct(A,arguments,z)}else M=A.apply(this,arguments);return T()(this,M)}}(M);function M(){return he()(this,M),R.apply(this,arguments)}return se()(M,[{key:"modelId",value:function(A){return"".concat(A.name,"_").concat(A.type||x.a.TYPE_CLASS)}},{key:"getStyleable",value:function(){return Object(E.filter)(this.models,function(A){return A.get("active")&&!A.get("private")})}},{key:"getValid",value:function(){var z=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noDisabled;return Object(E.filter)(this.models,function(H){return!H.get("private")}).filter(function(H){return z?H.get("active"):1})}},{key:"getFullString",value:function(A){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=[];return(A||this).forEach(function(W){return H.push(W.getFullName(z))}),H.join("").trim()}}]),M}(D.Collection);L.prototype.model=x.a},function(nt,ve,h){"use strict";var ce=h(3),he=h.n(ce),de=h(11),se=h.n(de),re=h(0),Q=h(1);function U(v,S){var E=Object.keys(v);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(v);S&&(D=D.filter(function(x){return Object.getOwnPropertyDescriptor(v,x).enumerable})),E.push.apply(E,D)}return E}function T(v){for(var S=1;S<arguments.length;S++){var E=null!=arguments[S]?arguments[S]:{};S%2?U(Object(E),!0).forEach(function(D){he()(v,D,E[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(E)):U(Object(E)).forEach(function(D){Object.defineProperty(v,D,Object.getOwnPropertyDescriptor(E,D))})}return v}ve.a={getConfig:function(v){return this.__getConfig(v)},__getConfig:function(v){var S=this.config||{};return v?S[v]:S},getAll:function(){return this.all?(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).array?se()(this.all.models):this.all:[]},getAllMap:function(){return this.getAll().reduce(function(v,S){return v[S.get(S.idAttribute)]=S,v},{})},__initConfig:function(){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=T(T({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),S),this.em=this.config.em},__initListen:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=this.all,E=this.em,D=this.events;S&&E&&S.on("add",function(x,P,L){return E.trigger(D.add,x,L)}).on("remove",function(x,P,L){return E.trigger(D.remove,x,L)}).on("change",function(x,P){return E.trigger(D.update,x,x.changedAttributes(),P)}).on("all",this.__catchAllEvent,this),this.cls=[S].concat(v.collections||[]),(v.propagate||[]).forEach(function(x){var L=x.event;x.entity.on("all",function(N,R,M,A){var z=T({event:N},A||M);[E,S].map(function(H){return H.trigger(L,R,z)})})})},__remove:function(v){var S=this,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=this.em,x=Object(re.isString)(v)?this.get(v):v,P=function(){return x&&S.all.remove(x,E),x};return!E.silent&&D&&D.trigger(this.events.removeBefore,x,P,E),!E.abort&&P()},__catchAllEvent:function(v,S,E,D){var x=this.em,P=this.events;x&&P.all&&x.trigger(P.all,{event:v,model:S,options:D||E}),this.__onAllEvent()},__appendTo:function(){var v=this.getConfig().appendTo;if(v){var S=Object(re.isElement)(v)?v:document.querySelector(v);if(!S)return this.__logWarn('"appendTo" element not found');S.appendChild(this.render())}},__onAllEvent:function(){},__logWarn:function(v){this.em.logWarning("[".concat(this.name,"]: ").concat(v))},_createId:function(){var v,S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,D=this.getAll().length+S,x=this.getAllMap();do{v=Object(Q.createId)(D)}while(x[v]);return v},__destroy:function(){this.cls.forEach(function(v){v.stopListening(),v.reset()}),this.em=0}}},function(nt,ve,h){var ce=h(82);nt.exports=function(he,de){if(null==he)return{};var se,re,Q=ce(he,de);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(he);for(re=0;re<U.length;re++)de.indexOf(se=U[re])>=0||Object.prototype.propertyIsEnumerable.call(he,se)&&(Q[se]=he[se])}return Q},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){"use strict";h.r(ve);var ce=h(14),he=h.n(ce),de=h(3),se=h.n(de),re=h(2),Q=h.n(re),U=h(0),T=h(1),v=h(13),S=h(29);function E(H,F){var W=Object.keys(H);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(H);F&&(k=k.filter(function(I){return Object.getOwnPropertyDescriptor(H,I).enumerable})),W.push.apply(W,k)}return W}function D(H){for(var F=1;F<arguments.length;F++){var W=null!=arguments[F]?arguments[F]:{};F%2?E(Object(W),!0).forEach(function(k){se()(H,k,W[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(W)):E(Object(W)).forEach(function(k){Object.defineProperty(H,k,Object.getOwnPropertyDescriptor(W,k))})}return H}var x=Q.a.View.extend({events:function(){return this.model.get("events")||{mousedown:"handleClick"}},attributes:function(){return this.model.get("attributes")},initialize:function(){var F=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,W=void 0===F?{}:F;this.em=W.em,this.editor=W.editor},handleClick:function(H){H.preventDefault(),H.stopPropagation();var W=this.em,k=this.editor.Canvas.getFrameEl().getBoundingClientRect(),I=k.left,p=k.top,y=D(D({},H),{},{clientX:H.clientX-I,clientY:H.clientY-p});W.trigger("toolbar:run:before"),this.execCommand(y)},execCommand:function(H){var F={event:H},W=this.model.get("command"),k=this.editor;"function"==typeof W&&W(k,null,F),"string"==typeof W&&k.runCommand(W,F)},render:function(){var H=this.editor,F=this.$el,W=this.model,k=W.get("id"),I=W.get("label"),p=H.getConfig("stylePrefix");return F.addClass("".concat(p,"toolbar-item")),k&&F.addClass("".concat(p,"toolbar-item__").concat(k)),I&&F.append(I),this}}),P=S.a.extend({itemView:x,initialize:function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config={editor:H.editor||"",em:H.em},this.listenTo(this.collection,"reset",this.render)}}),L=Q.a.Model.extend({defaults:{command:"",attributes:{}}}),N=Q.a.Collection.extend({model:L});function R(H,F){var W=Object.keys(H);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(H);F&&(k=k.filter(function(I){return Object.getOwnPropertyDescriptor(H,I).enumerable})),W.push.apply(W,k)}return W}function M(H){for(var F=1;F<arguments.length;F++){var W=null!=arguments[F]?arguments[F]:{};F%2?R(Object(W),!0).forEach(function(k){se()(H,k,W[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(W)):R(Object(W)).forEach(function(k){Object.defineProperty(H,k,Object.getOwnPropertyDescriptor(W,k))})}return H}var A,z=Q.a.$;ve.default={init:function(H){Object(U.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),A=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(H){var F=this,W=this.em,k=W.getConfig("listenToEl"),I=W.getContainer().parentNode,p=H?"on":"off",y={on:T.on,off:T.off};!k.length&&I&&k.push(I),y[p](window,"resize",this.onFrameUpdated),y[p](k,"scroll",this.onContainerChange),W[p]("component:toggled component:update",this.onSelect,this),W[p]("change:componentHovered",this.onHovered,this),W[p]("component:resize component:styleUpdate component:input",this.updateGlobalPos,this),W[p]("component:update:toolbar",this._upToolbar,this),W[p]("change:canvasOffset",this.updateAttached,this),W[p]("frame:updated",this.onFrameUpdated,this),W[p]("canvas:updateTools",this.onFrameUpdated,this),W.get("Canvas").getFrames().forEach(function(C){var B,K,te=C.view;te&&(B=te.getWindow(),K=te.getBody(),y[p](K,"mouseover",F.onHover),y[p](K,"mouseleave",F.onOut),y[p](K,"click touchend",F.onClick),y[p](B,"scroll",F.onFrameScroll,!0))})},onHover:function(H){H.stopPropagation();var F=H.target,W=Object(T.getViewEl)(F),k=W&&W._getFrame(),I=z(F),p=I.data("model");if(!p)for(var y=I.parent();!p&&y.length&&!Object(v.i)(y[0]);)p=y.data("model"),y=y.parent();if(p&&!p.get("hoverable")){for(var C=p&&p.parent();C&&!C.get("hoverable");)C=C.parent();p=C}this.currentDoc=F.ownerDocument,this.em.setHovered(p),k&&this.em.set("currentFrame",k)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(H,F){var W=this,k={};F?F.views.forEach(function(I){var p=I.el,y=W.getElementPos(p);k={el:p,pos:y,component:F,view:Object(T.getViewEl)(p)},W.updateToolsLocal(k),p.ownerDocument===W.currentDoc&&(W.elHovered=k)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(I){var p=I.view,y=p&&p.getToolsEl();y&&W.toggleToolsEl(0,0,{el:y})}))},onSelect:Object(U.debounce)(function(){var H=this.em,F=H.getSelected(),W=H.get("currentFrame")||{},k=F&&F.getView(W.model),I=k&&k.el,p={};I&&Object(v.j)(I)&&(p={el:I,pos:this.getElementPos(I),component:F,view:Object(T.getViewEl)(I)}),this.elSelected=p,this.updateToolsGlobal(),this.updateLocalPos(p),this.initResize(F)}),updateGlobalPos:function(){var H=this.getElSelected();H.el&&(H.pos=this.getElementPos(H.el),this.updateToolsGlobal())},updateLocalPos:function(H){var F=this.getElHovered();F.el&&(F.pos=this.getElementPos(F.el),this.updateToolsLocal(H))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(H,F){var k=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).el||this.canvas.getToolsEl(F);return k&&(k.style.display=H?"":"none"),k||{}},showElementOffset:function(H,F){A&&this.editor.runCommand("show-offset",{el:H,elPos:F,view:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).view,force:1,top:0,left:0})},hideElementOffset:function(H){this.editor.stopCommand("show-offset",{view:H})},showFixedElementOffset:function(H,F){this.editor.runCommand("show-offset",{el:H,elPos:F,state:"Fixed"})},hideFixedElementOffset:function(H,F){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(H){this.canvas.getHighlighter(H).style.opacity=0},onClick:function(H){H.stopPropagation(),H.preventDefault();var F=this.em;if(F.get("_cmpDrag"))return F.set("_cmpDrag");var W=z(H.target),k=W.data("model");if(!k)for(var I=W.parent();!k&&I.length&&!Object(v.i)(I[0]);)k=I.data("model"),I=I.parent();if(k)if(k.get("selectable"))this.select(k,H);else{for(var p=k.parent();p&&!p.get("selectable");)p=p.parent();this.select(p,H)}},select:function(H){H&&(this.editor.select(H,{scroll:{},event:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}),this.initResize(H))},updateBadge:function(H,F){var W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=this.canvas,I=z(H).data("model");if(I&&I.get("badgable")){var p=this.getBadge(W);if(!W.posOnly){var y=this.canvas.getConfig(),C=I.getIcon(),K="".concat(y.pStylePrefix||"","badge"),te=y.customBadgeLabel,$e="".concat(C?'<div class="'.concat(K,'__icon">').concat(C,"</div>"):"",'\n        <div class="').concat(K,'__name">').concat(I.getName(),"</div>");p.innerHTML=te?te(I):$e}var ue="px",ye=p.style;ye.display="block";var Re=k.getTargetToElementFixed(H,p,{pos:F}),Me=W.leftOff<0?-W.leftOff:0;ye.top=Re.top+ue,ye.left=Me+ue}},showHighlighter:function(H){this.canvas.getHighlighter(H).style.opacity=""},initResize:function(H){var F,W=this.em,k=this.canvas,I=W?W.get("Editor"):"",p=(W?W.get("Config"):"").stylePrefix||"",y="".concat(p,"resizing"),C=!Object(U.isElement)(H)&&Object(T.isTaggableNode)(H)?H:W.getSelected(),B=C&&C.get("resizable"),K={},te=function(ue,ye,Re){var Pe=Re.docs;Pe&&Pe.forEach(function(Me){var Le=Me.body,_e=Le.className||"";Le.className=("add"==ue?"".concat(_e," ").concat(y):_e.replace(y,"")).trim()})};if(I&&B){var $e=Object(U.isElement)(H)?H:C.getEl();K={onStart:function(ue){var ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Re=ye.el,Pe=ye.config,Me=ye.resizer,Le=Pe.keyHeight,_e=Pe.keyWidth,ie=Pe.currentUnit,ne=Pe.keepAutoHeight,ge=Pe.keepAutoWidth;te("add",0,ye),F=W.get("StyleManager").getModelToStyle(C),k.toggleFramesEvents();var me=getComputedStyle(Re),_=F.getStyle(),b=_[_e];Pe.autoWidth=ge&&"auto"===b,isNaN(parseFloat(b))&&(b=me[_e]);var G=_[Le];Pe.autoHeight=ne&&"auto"===G,isNaN(parseFloat(G))&&(G=me[Le]),Me.startDim.w=parseFloat(b),Me.startDim.h=parseFloat(G),A=0,ie&&(Pe.unitHeight=Object(T.getUnitFromValue)(G),Pe.unitWidth=Object(T.getUnitFromValue)(b))},onMove:function(){I.trigger("component:resize")},onEnd:function(ue,ye){te("remove",0,ye),I.trigger("component:resize"),k.toggleFramesEvents(1),A=1},updateTarget:function(ue,ye){var Re=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(F){var Pe=Re.store,Me=Re.selectedHandler,Le=Re.config,_e=Le.keyHeight,ie=Le.keyWidth,ne=Le.autoHeight,ge=Le.autoWidth,me=Le.unitWidth,_=Le.unitHeight,b=["tc","bc"].indexOf(Me)>=0,G=["cl","cr"].indexOf(Me)>=0,c={},O=Pe?"":1;if(!b){var m=k.getBody().offsetWidth;c[ie]=ge?"auto":"".concat(ye.w<m?ye.w:m).concat(me)}G||(c[_e]=ne?"auto":"".concat(ye.h).concat(_)),F.addStyle(M(M({},c),{},{en:O}),{avoidStore:!Pe});var X="update:component:style",Ee="".concat(X,":").concat(_e," ").concat(X,":").concat(ie);W&&W.trigger(Ee,null,null,{noEmit:1})}}},"object"==he()(B)&&(K=M(M(M({},K),B),{},{parent:K})),this.resizer=I.runCommand("resize",{el:$e,options:K,force:1})}else I.stopCommand("resize"),this.resizer=null},updateToolbar:function(H){var F=this.config.em,W=H==F?F.getSelected():H,k=this.canvas.getToolbarEl(),I=k.style,p=W.get("toolbar"),y=F.get("Config").showToolbar;if(W&&y&&p&&p.length){if(I.display="",!this.toolbar){k.innerHTML="",this.toolbar=new N(p);var C=new P({collection:this.toolbar,editor:this.editor,em:F});k.appendChild(C.render().el)}this.toolbar.reset(p),I.top="-100px",I.left=0}else I.display="none"},updateToolbarPos:function(H){var W=this.canvas.getToolbarEl().style;W.top="".concat(H.top).concat("px"),W.left="".concat(H.left).concat("px"),W.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(){return this.canvas.getBadgeEl((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(H){return H&&"selected"===H.get("status")},updateToolsLocal:function(H){var F=H||this.getElHovered(),W=F.el,k=F.pos,I=F.view,p=F.component;if(W){var y=p.get("hoverable"),C=this.lastHovered!==W,B=C?{}:{posOnly:1};C&&y&&(this.lastHovered=W,this.showHighlighter(I),this.showElementOffset(W,k,{view:I})),this.isCompSelected(p)&&(this.hideHighlighter(I),this.hideElementOffset(I));var K="px",te=this.toggleToolsEl(1,I),$e=te.style,ue=this.canvas.canvasRectOffset(W,k),ye=ue.top,Re=ue.left;this.updateBadge(W,k,M(M({},B),{},{view:I,topOff:ye,leftOff:Re})),$e.top=ye+K,$e.left=Re+K,$e.width=k.width+K,$e.height=k.height+K,this._trgToolUp("local",{component:p,el:te,top:ye,left:Re,width:k.width,height:k.height})}else this.lastHovered=0},_upToolbar:Object(U.debounce)(function(){this.updateToolsGlobal({force:1})}),_trgToolUp:function(H){this.em.trigger("canvas:tools:update",M({type:H},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))},updateToolsGlobal:function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=this.getElSelected(),W=F.el,k=F.pos,I=F.component;if(!W)return this.toggleToolsEl(),void(this.lastSelected=0);var p=this.canvas;(this.lastSelected!==W||H.force)&&(this.lastSelected=W,this.updateToolbar(I));var C="px",B=this.toggleToolsEl(1),K=B.style,te=p.getTargetToElementFixed(W,p.getToolbarEl(),{pos:k}),$e=te.canvasOffsetTop,ue=te.canvasOffsetLeft;K.top=$e+C,K.left=ue+C,K.width=k.width+C,K.height=k.height+C,this.updateToolbarPos({top:te.top,left:te.left}),this._trgToolUp("global",{component:I,el:B,top:$e,left:ue,width:k.width,height:k.height})},updateAttached:Object(U.debounce)(function(){this.updateGlobalPos()}),onContainerChange:Object(U.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(H){return this.canvas.getCanvasView().getElementPos(H)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(H){H&&H.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(H){Object(T.hasWin)()&&(this.editor=H&&H.get("Editor"),this.enable())},stop:function(H,F){var W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(T.hasWin)()){var k=this.em,I=this.editor;this.onHovered(),this.stopSelectComponent(),!W.preserveSelected&&k.setSelected(null),this.toggleToolsEl(),I&&I.stopCommand("resize")}}}},function(nt,ve,h){"use strict";h.d(ve,"a",function(){return E});var ce=h(3),he=h.n(ce),de=h(5),se=h.n(de),re=h(6),Q=h.n(re),U=h(0),T=h(1);function v(D,x){var P=Object.keys(D);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(D);x&&(L=L.filter(function(N){return Object.getOwnPropertyDescriptor(D,N).enumerable})),P.push.apply(P,L)}return P}function S(D){for(var x=1;x<arguments.length;x++){var P=null!=arguments[x]?arguments[x]:{};x%2?v(Object(P),!0).forEach(function(L){he()(D,L,P[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(P)):v(Object(P)).forEach(function(L){Object.defineProperty(D,L,Object.getOwnPropertyDescriptor(P,L))})}return D}var E=function(){function D(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se()(this,D),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},Object(U.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(x),this.delta={x:0,y:0},this}return Q()(D,[{key:"setOptions",value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=S(S({},this.opts),x)}},{key:"toggleDrag",value:function(x){var P=this.getDocumentEl(),L=this.getContainerEl(),N=this.getWindowEl(),R=x?"on":"off",M={on:T.on,off:T.off};M[R](L,"mousemove dragover",this.drag),M[R](P,"mouseup dragend touchend",this.stop),M[R](P,"keydown",this.keyHandle),M[R](N,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var x=this.lastScroll,P=this.delta,L=this.getScrollInfo(),N={x:L.x-x.x,y:L.y-x.y};this.move(P.x+N.x,P.y+N.y),this.lastScrollDiff=N}},{key:"start",value:function(x){var P=this.opts,L=P.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(x),this.guidesStatic=Object(U.result)(P,"guidesStatic")||[],this.guidesTarget=Object(U.result)(P,"guidesTarget")||[],Object(U.isFunction)(L)&&L(x,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(x)}},{key:"drag",value:function(x){var P=this,L=this.opts,N=this.lastScrollDiff,R=this.globScrollDiff,M=L.onDrag,A=this.startPointer,z=this.getPointerPos(x),H={x:R.x+N.x,y:R.y+N.y};this.globScrollDiff=H;var F={x:z.x-A.x+H.x,y:z.y-A.y+H.y};this.lastScrollDiff={x:0,y:0};var W=this.lockedAxis;"x"===(W=x.shiftKey?!W&&this.detectAxisLock(F.x,F.y):null)?F.x=A.x:"y"===W&&(F.y=A.y);var k=function(K){["x","y"].forEach(function(te){return K[te]=K[te]*Object(U.result)(L,"scale")}),P.delta=K,P.move(K.x,K.y),Object(U.isFunction)(M)&&M(x,P)},I=S({},F);if(this.currentPointer=z,this.lockedAxis=W,this.lastScroll=this.getScrollInfo(),k(F),this.guidesTarget.length){var p=this.snapGuides(I);(p.trgX||p.trgY)&&k(p.newDelta)}0===x.which&&this.stop(x)}},{key:"snapGuides",value:function(x){var P=this,L=x,N=this.trgX,R=this.trgY;return this.guidesTarget.forEach(function(M){M.x&&P.trgX||M.y&&P.trgY||(M.active=0,P.guidesStatic.forEach(function(A){if(!(M.y&&A.x||M.x&&A.y)){var z=M.y&&A.y,H=z?"y":"x",F=M[H],W=A[H],k=x[H],I=z?R:N;P.isPointIn(F,W)&&Object(U.isUndefined)(I)&&P.setGuideLock(M,k-(F-W))}}))}),N=this.trgX,R=this.trgY,["x","y"].forEach(function(M){var A=M.toUpperCase(),z=P["trg".concat(A)];z&&!P.isPointIn(x[M],z.lock)&&(P.setGuideLock(z,null),z=null),z&&!Object(U.isUndefined)(z.lock)&&(L[M]=z.lock)}),{newDelta:L,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(x,P){var R=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).offset||this.opts.snapOffset;return x>=P&&x<=P+R||x<=P&&x>=P-R}},{key:"setGuideLock",value:function(x,P){var L=Object(U.isUndefined)(x.x)?"Y":"X",N="trg".concat(L);return null!==P?(x.active=1,x.lock=P,this[N]=x):(delete x.active,delete x.lock,delete this[N]),x}},{key:"stop",value:function(x){var L=this.delta,N=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cancel,R=N?0:L.x,M=N?0:L.y;this.toggleDrag(),this.lockedAxis=null,this.move(R,M,1);var A=this.opts.onEnd;Object(U.isFunction)(A)&&A(x,this,{cancelled:N})}},{key:"keyHandle",value:function(x){Object(T.isEscKey)(x)&&this.stop(x,{cancel:1})}},{key:"move",value:function(x,P,L){var N=this.el,M=this.startPosition;if(M){var A=this.opts.setPosition,z=M.x+x,H=M.y+P;this.position={x:z,y:H,end:L},Object(U.isFunction)(A)&&A(this.position),N&&(N.style.left="".concat(z,"px"),N.style.top="".concat(H,"px"))}}},{key:"getContainerEl",value:function(){var x=this.opts.container;return x?[x]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(x){var P=x.ownerDocument||x;return P.defaultView||P.parentWindow})}},{key:"getDocumentEl",value:function(x){var P=this.opts.doc;if(x=x||this.el,!this.docs){var L=[document];x&&L.push(x.ownerDocument),P&&L.push(P),this.docs=L}return this.docs}},{key:"getPointerPos",value:function(x){var P=this.opts.getPointerPosition,L=Object(T.getPointerEvent)(x);return P?P(x):{x:L.clientX,y:L.clientY}}},{key:"getStartPosition",value:function(){var x=this.el,P=this.opts.getPosition,L={x:0,y:0};return Object(U.isFunction)(P)?L=P():x&&(L={x:parseFloat(x.style.left),y:parseFloat(x.style.top)}),L}},{key:"getScrollInfo",value:function(){var x=this.opts.doc,P=x&&x.body;return{y:P?P.scrollTop:0,x:P?P.scrollLeft:0}}},{key:"detectAxisLock",value:function(x,P){var L=x,N=P,R=Math.abs(L),M=Math.abs(N);return N>=R||N<=-R?"x":L>M||L<-M?"y":void 0}}]),D}()},function(nt,ve,h){"use strict";var ce=h(2),he=h.n(ce),de=he.a.$;ve.a=he.a.View.extend({events:{change:"handleChange"},template:function(){return'<span class="'.concat(this.holderClass(),'"></span>')},inputClass:function(){return"".concat(this.ppfx,"field")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},initialize:function(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},re=se.ppfx||"";this.opts=se,this.ppfx=re,this.em=se.target||{},this.listenTo(this.model,"change:value",this.handleModelChange)},elementUpdated:function(){this.model.trigger("el:change")},setValue:function(se){var Q=se||this.model.get("defaults"),U=this.getInputEl();U&&(U.value=Q)},handleModelChange:function(se,re,Q){this.setValue(re,Q)},handleChange:function(se){se.stopPropagation();var re=this.getInputEl().value;this.__onInputChange(re),this.elementUpdated()},__onInputChange:function(se){this.model.set({value:se},{fromInput:1})},getInputEl:function(){if(!this.inputEl){var se=this.model,re=this.opts.type||"text",Q=se.get("placeholder")||se.get("defaults")||se.get("default")||"";this.inputEl=de('<input type="'.concat(re,'" placeholder="').concat(Q,'">'))}return this.inputEl.get(0)},render:function(){this.inputEl=null;var se=this.$el;return se.addClass(this.inputClass()),se.html(this.template()),se.find(".".concat(this.holderClass())).append(this.getInputEl()),this}})},function(nt,ve,h){nt.exports=h(93)},function(nt,ve,h){nt.exports=function(){"use strict";var ce=navigator.userAgent,he=navigator.platform,de=/gecko\/\d/i.test(ce),se=/MSIE \d/.test(ce),re=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ce),Q=/Edge\/(\d+)/.exec(ce),U=se||re||Q,T=U&&(se?document.documentMode||6:+(Q||re)[1]),v=!Q&&/WebKit\//.test(ce),S=v&&/Qt\/\d+\.\d+/.test(ce),E=!Q&&/Chrome\//.test(ce),D=/Opera\//.test(ce),x=/Apple Computer/.test(navigator.vendor),P=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ce),L=/PhantomJS/.test(ce),N=x&&(/Mobile\/\w+/.test(ce)||navigator.maxTouchPoints>2),R=/Android/.test(ce),M=N||R||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ce),A=N||/Mac/.test(he),z=/\bCrOS\b/.test(ce),H=/win/i.test(he),F=D&&ce.match(/Version\/(\d*\.\d*)/);F&&(F=Number(F[1])),F&&F>=15&&(D=!1,v=!0);var W=A&&(S||D&&(null==F||F<12.11)),k=de||U&&T>=9;function I(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var p,y=function(o,a){var f=o.className,u=I(a).exec(f);if(u){var g=f.slice(u.index+u[0].length);o.className=f.slice(0,u.index)+(g?u[1]+g:"")}};function C(o){for(var a=o.childNodes.length;a>0;--a)o.removeChild(o.firstChild);return o}function B(o,a){return C(o).appendChild(a)}function K(o,a,f,u){var g=document.createElement(o);if(f&&(g.className=f),u&&(g.style.cssText=u),"string"==typeof a)g.appendChild(document.createTextNode(a));else if(a)for(var $=0;$<a.length;++$)g.appendChild(a[$]);return g}function te(o,a,f,u){var g=K(o,a,f,u);return g.setAttribute("role","presentation"),g}function $e(o,a){if(3==a.nodeType&&(a=a.parentNode),o.contains)return o.contains(a);do{if(11==a.nodeType&&(a=a.host),a==o)return!0}while(a=a.parentNode)}function ue(){var o;try{o=document.activeElement}catch(a){o=document.body||null}for(;o&&o.shadowRoot&&o.shadowRoot.activeElement;)o=o.shadowRoot.activeElement;return o}function ye(o,a){var f=o.className;I(a).test(f)||(o.className+=(f?" ":"")+a)}function Re(o,a){for(var f=o.split(" "),u=0;u<f.length;u++)f[u]&&!I(f[u]).test(a)&&(a+=" "+f[u]);return a}p=document.createRange?function(o,a,f,u){var g=document.createRange();return g.setEnd(u||o,f),g.setStart(o,a),g}:function(o,a,f){var u=document.body.createTextRange();try{u.moveToElementText(o.parentNode)}catch(g){return u}return u.collapse(!0),u.moveEnd("character",f),u.moveStart("character",a),u};var Pe=function(o){o.select()};function Me(o){var a=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,a)}}function Le(o,a,f){for(var u in a||(a={}),o)!o.hasOwnProperty(u)||!1===f&&a.hasOwnProperty(u)||(a[u]=o[u]);return a}function _e(o,a,f,u,g){null==a&&-1==(a=o.search(/[^\s\u00a0]/))&&(a=o.length);for(var $=u||0,le=g||0;;){var fe=o.indexOf("\t",$);if(fe<0||fe>=a)return le+(a-$);le+=fe-$,le+=f-le%f,$=fe+1}}N?Pe=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:U&&(Pe=function(o){try{o.select()}catch(a){}});var ie=function(){this.id=null,this.f=null,this.time=0,this.handler=Me(this.onTimeout,this)};function ne(o,a){for(var f=0;f<o.length;++f)if(o[f]==a)return f;return-1}ie.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},ie.prototype.set=function(o,a){this.f=a;var f=+new Date+o;(!this.id||f<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=f)};var me={toString:function(){return"CodeMirror.Pass"}},_={scroll:!1},b={origin:"*mouse"},G={origin:"+move"};function c(o,a,f){for(var u=0,g=0;;){var $=o.indexOf("\t",u);-1==$&&($=o.length);var le=$-u;if($==o.length||g+le>=a)return u+Math.min(le,a-g);if(g+=$-u,u=$+1,(g+=f-g%f)>=a)return u}}var O=[""];function m(o){for(;O.length<=o;)O.push(V(O)+" ");return O[o]}function V(o){return o[o.length-1]}function X(o,a){for(var f=[],u=0;u<o.length;u++)f[u]=a(o[u],u);return f}function Ee(){}function He(o,a){var f;return Object.create?f=Object.create(o):(Ee.prototype=o,f=new Ee),a&&Le(a,f),f}var Oe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ce(o){return/\w/.test(o)||o>"\x80"&&(o.toUpperCase()!=o.toLowerCase()||Oe.test(o))}function Fe(o,a){return a?!!(a.source.indexOf("\\w")>-1&&Ce(o))||a.test(o):Ce(o)}function Ue(o){for(var a in o)if(o.hasOwnProperty(a)&&o[a])return!1;return!0}var it=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function xt(o){return o.charCodeAt(0)>=768&&it.test(o)}function pt(o,a,f){for(;(f<0?a>0:a<o.length)&&xt(o.charAt(a));)a+=f;return a}function kt(o,a,f){for(var u=a>f?-1:1;;){if(a==f)return a;var g=(a+f)/2,$=u<0?Math.ceil(g):Math.floor(g);if($==a)return o($)?a:f;o($)?f=$:a=$+u}}var Nt=null;function ae(o,a,f){var u;Nt=null;for(var g=0;g<o.length;++g){var $=o[g];if($.from<a&&$.to>a)return g;$.to==a&&($.from!=$.to&&"before"==f?u=g:Nt=g),$.from==a&&($.from!=$.to&&"before"!=f?u=g:Nt=g)}return null!=u?u:Nt}var be=function(){var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,u=/[stwN]/,g=/[LRr]/,$=/[Lb1n]/,le=/[1n]/;function fe(Se,Te,Ye){this.level=Se,this.from=Te,this.to=Ye}return function(Se,Te){var Ye="ltr"==Te?"L":"R";if(0==Se.length||"ltr"==Te&&!f.test(Se))return!1;for(var Ke,tt=Se.length,Xe=[],vt=0;vt<tt;++vt)Xe.push((Ke=Se.charCodeAt(vt))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Ke):1424<=Ke&&Ke<=1524?"R":1536<=Ke&&Ke<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Ke-1536):1774<=Ke&&Ke<=2220?"r":8192<=Ke&&Ke<=8203?"w":8204==Ke?"b":"L");for(var ut=0,bt=Ye;ut<tt;++ut){var Tt=Xe[ut];"m"==Tt?Xe[ut]=bt:bt=Tt}for(var At=0,zt=Ye;At<tt;++At){var Zt=Xe[At];"1"==Zt&&"r"==zt?Xe[At]="n":g.test(Zt)&&(zt=Zt,"r"==Zt&&(Xe[At]="R"))}for(var $t=1,Kt=Xe[0];$t<tt-1;++$t){var bn=Xe[$t];"+"==bn&&"1"==Kt&&"1"==Xe[$t+1]?Xe[$t]="1":","!=bn||Kt!=Xe[$t+1]||"1"!=Kt&&"n"!=Kt||(Xe[$t]=Kt),Kt=bn}for(var en=0;en<tt;++en){var Sn=Xe[en];if(","==Sn)Xe[en]="N";else if("%"==Sn){var sn=void 0;for(sn=en+1;sn<tt&&"%"==Xe[sn];++sn);for(var tr=en&&"!"==Xe[en-1]||sn<tt&&"1"==Xe[sn]?"1":"N",cr=en;cr<sn;++cr)Xe[cr]=tr;en=sn-1}}for(var Wn=0,Yn=Ye;Wn<tt;++Wn){var En=Xe[Wn];"L"==Yn&&"1"==En?Xe[Wn]="L":g.test(En)&&(Yn=En)}for(var Nn=0;Nn<tt;++Nn)if(u.test(Xe[Nn])){var Dn=void 0;for(Dn=Nn+1;Dn<tt&&u.test(Xe[Dn]);++Dn);for(var Vn="L"==(Nn?Xe[Nn-1]:Ye),Yt=Vn==("L"==(Dn<tt?Xe[Dn]:Ye))?Vn?"L":"R":Ye,Zr=Nn;Zr<Dn;++Zr)Xe[Zr]=Yt;Nn=Dn-1}for(var Dr,Kn=[],Bn=0;Bn<tt;)if($.test(Xe[Bn])){var zi=Bn;for(++Bn;Bn<tt&&$.test(Xe[Bn]);++Bn);Kn.push(new fe(0,zi,Bn))}else{var Ir=Bn,hi=Kn.length,jr="rtl"==Te?1:0;for(++Bn;Bn<tt&&"L"!=Xe[Bn];++Bn);for(var Un=Ir;Un<Bn;)if(le.test(Xe[Un])){Ir<Un&&(Kn.splice(hi,0,new fe(1,Ir,Un)),hi+=jr);var $r=Un;for(++Un;Un<Bn&&le.test(Xe[Un]);++Un);Kn.splice(hi,0,new fe(2,$r,Un)),hi+=jr,Ir=Un}else++Un;Ir<Bn&&Kn.splice(hi,0,new fe(1,Ir,Bn))}return"ltr"==Te&&(1==Kn[0].level&&(Dr=Se.match(/^\s+/))&&(Kn[0].from=Dr[0].length,Kn.unshift(new fe(0,0,Dr[0].length))),1==V(Kn).level&&(Dr=Se.match(/\s+$/))&&(V(Kn).to-=Dr[0].length,Kn.push(new fe(0,tt-Dr[0].length,tt)))),"rtl"==Te?Kn.reverse():Kn}}();function Ve(o,a){var f=o.order;return null==f&&(f=o.order=be(o.text,a)),f}var ot=[],et=function(o,a,f){if(o.addEventListener)o.addEventListener(a,f,!1);else if(o.attachEvent)o.attachEvent("on"+a,f);else{var u=o._handlers||(o._handlers={});u[a]=(u[a]||ot).concat(f)}};function Z(o,a){return o._handlers&&o._handlers[a]||ot}function ke(o,a,f){if(o.removeEventListener)o.removeEventListener(a,f,!1);else if(o.detachEvent)o.detachEvent("on"+a,f);else{var u=o._handlers,g=u&&u[a];if(g){var $=ne(g,f);$>-1&&(u[a]=g.slice(0,$).concat(g.slice($+1)))}}}function Be(o,a){var f=Z(o,a);if(f.length)for(var u=Array.prototype.slice.call(arguments,2),g=0;g<f.length;++g)f[g].apply(null,u)}function Je(o,a,f){return"string"==typeof a&&(a={type:a,preventDefault:function(){this.defaultPrevented=!0}}),Be(o,f||a.type,o,a),It(a)||a.codemirrorIgnore}function st(o){var a=o._handlers&&o._handlers.cursorActivity;if(a)for(var f=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),u=0;u<a.length;++u)-1==ne(f,a[u])&&f.push(a[u])}function mt(o,a){return Z(o,a).length>0}function De(o){o.prototype.on=function(a,f){et(this,a,f)},o.prototype.off=function(a,f){ke(this,a,f)}}function dt(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function Et(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function It(o){return null!=o.defaultPrevented?o.defaultPrevented:0==o.returnValue}function Ft(o){dt(o),Et(o)}function jt(o){return o.target||o.srcElement}function lt(o){var a=o.which;return null==a&&(1&o.button?a=1:2&o.button?a=3:4&o.button&&(a=2)),A&&o.ctrlKey&&1==a&&(a=3),a}var ft,Ne,Lt=function(){if(U&&T<9)return!1;var o=K("div");return"draggable"in o||"dragDrop"in o}();function w(o){if(null==ft){var a=K("span","\u200b");B(o,K("span",[a,document.createTextNode("x")])),0!=o.firstChild.offsetHeight&&(ft=a.offsetWidth<=1&&a.offsetHeight>2&&!(U&&T<8))}var f=ft?K("span","\u200b"):K("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return f.setAttribute("cm-text",""),f}function oe(o){if(null!=Ne)return Ne;var a=B(o,document.createTextNode("A\u062eA")),f=p(a,0,1).getBoundingClientRect(),u=p(a,1,2).getBoundingClientRect();return C(o),!(!f||f.left==f.right)&&(Ne=u.right-f.right<3)}var we,ee=3!="\n\nb".split(/\n/).length?function(o){for(var a=0,f=[],u=o.length;a<=u;){var g=o.indexOf("\n",a);-1==g&&(g=o.length);var $=o.slice(a,"\r"==o.charAt(g-1)?g-1:g),le=$.indexOf("\r");-1!=le?(f.push($.slice(0,le)),a+=le+1):(f.push($),a=g+1)}return f}:function(o){return o.split(/\r\n?|\n/)},Ge=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch(a){return!1}}:function(o){var a;try{a=o.ownerDocument.selection.createRange()}catch(f){}return!(!a||a.parentElement()!=o)&&0!=a.compareEndPoints("StartToEnd",a)},qe="oncopy"in(we=K("div"))||(we.setAttribute("oncopy","return;"),"function"==typeof we.oncopy),Qe=null,Ot={},Mt={};function St(o,a){arguments.length>2&&(a.dependencies=Array.prototype.slice.call(arguments,2)),Ot[o]=a}function Xt(o){if("string"==typeof o&&Mt.hasOwnProperty(o))o=Mt[o];else if(o&&"string"==typeof o.name&&Mt.hasOwnProperty(o.name)){var a=Mt[o.name];"string"==typeof a&&(a={name:a}),(o=He(a,o)).name=a.name}else{if("string"==typeof o&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return Xt("application/xml");if("string"==typeof o&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return Xt("application/json")}return"string"==typeof o?{name:o}:o||{name:"null"}}function pn(o,a){a=Xt(a);var f=Ot[a.name];if(!f)return pn(o,"text/plain");var u=f(o,a);if(Qt.hasOwnProperty(a.name)){var g=Qt[a.name];for(var $ in g)g.hasOwnProperty($)&&(u.hasOwnProperty($)&&(u["_"+$]=u[$]),u[$]=g[$])}if(u.name=a.name,a.helperType&&(u.helperType=a.helperType),a.modeProps)for(var le in a.modeProps)u[le]=a.modeProps[le];return u}var Qt={};function wn(o,a){Le(a,Qt.hasOwnProperty(o)?Qt[o]:Qt[o]={})}function gn(o,a){if(!0===a)return a;if(o.copyState)return o.copyState(a);var f={};for(var u in a){var g=a[u];g instanceof Array&&(g=g.concat([])),f[u]=g}return f}function Mn(o,a){for(var f;o.innerMode&&(f=o.innerMode(a))&&f.mode!=o;)a=f.state,o=f.mode;return f||{mode:o,state:a}}function br(o,a,f){return!o.startState||o.startState(a,f)}var mn=function(o,a,f){this.pos=this.start=0,this.string=o,this.tabSize=a||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=f};function Wt(o,a){if((a-=o.first)<0||a>=o.size)throw new Error("There is no line "+(a+o.first)+" in the document.");for(var f=o;!f.lines;)for(var u=0;;++u){var g=f.children[u],$=g.chunkSize();if(a<$){f=g;break}a-=$}return f.lines[a]}function vn(o,a,f){var u=[],g=a.line;return o.iter(a.line,f.line+1,function($){var le=$.text;g==f.line&&(le=le.slice(0,f.ch)),g==a.line&&(le=le.slice(a.ch)),u.push(le),++g}),u}function rr(o,a,f){var u=[];return o.iter(a,f,function(g){u.push(g.text)}),u}function Jt(o,a){var f=a-o.height;if(f)for(var u=o;u;u=u.parent)u.height+=f}function ln(o){if(null==o.parent)return null;for(var a=o.parent,f=ne(a.lines,o),u=a.parent;u;a=u,u=u.parent)for(var g=0;u.children[g]!=a;++g)f+=u.children[g].chunkSize();return f+a.first}function An(o,a){var f=o.first;e:do{for(var u=0;u<o.children.length;++u){var g=o.children[u],$=g.height;if(a<$){o=g;continue e}a-=$,f+=g.chunkSize()}return f}while(!o.lines);for(var le=0;le<o.lines.length;++le){var fe=o.lines[le].height;if(a<fe)break;a-=fe}return f+le}function dr(o,a){return a>=o.first&&a<o.first+o.size}function q(o,a){return String(o.lineNumberFormatter(a+o.firstLineNumber))}function J(o,a,f){if(void 0===f&&(f=null),!(this instanceof J))return new J(o,a,f);this.line=o,this.ch=a,this.sticky=f}function xe(o,a){return o.line-a.line||o.ch-a.ch}function je(o,a){return o.sticky==a.sticky&&0==xe(o,a)}function wt(o){return J(o.line,o.ch)}function Rt(o,a){return xe(o,a)<0?a:o}function Vt(o,a){return xe(o,a)<0?o:a}function yt(o,a){return Math.max(o.first,Math.min(a,o.first+o.size-1))}function Bt(o,a){if(a.line<o.first)return J(o.first,0);var u,g,$,f=o.first+o.size-1;return a.line>f?J(f,Wt(o,f).text.length):(u=a,g=Wt(o,a.line).text.length,null==($=u.ch)||$>g?J(u.line,g):$<0?J(u.line,0):u)}function xn(o,a){for(var f=[],u=0;u<a.length;u++)f[u]=Bt(o,a[u]);return f}mn.prototype.eol=function(){return this.pos>=this.string.length},mn.prototype.sol=function(){return this.pos==this.lineStart},mn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},mn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},mn.prototype.eat=function(o){var a=this.string.charAt(this.pos);if("string"==typeof o?a==o:a&&(o.test?o.test(a):o(a)))return++this.pos,a},mn.prototype.eatWhile=function(o){for(var a=this.pos;this.eat(o););return this.pos>a},mn.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},mn.prototype.skipToEnd=function(){this.pos=this.string.length},mn.prototype.skipTo=function(o){var a=this.string.indexOf(o,this.pos);if(a>-1)return this.pos=a,!0},mn.prototype.backUp=function(o){this.pos-=o},mn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=_e(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},mn.prototype.indentation=function(){return _e(this.string,null,this.tabSize)-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},mn.prototype.match=function(o,a,f){if("string"!=typeof o){var u=this.string.slice(this.pos).match(o);return u&&u.index>0?null:(u&&!1!==a&&(this.pos+=u[0].length),u)}var g=function($){return f?$.toLowerCase():$};if(g(this.string.substr(this.pos,o.length))==g(o))return!1!==a&&(this.pos+=o.length),!0},mn.prototype.current=function(){return this.string.slice(this.start,this.pos)},mn.prototype.hideFirstChars=function(o,a){this.lineStart+=o;try{return a()}finally{this.lineStart-=o}},mn.prototype.lookAhead=function(o){var a=this.lineOracle;return a&&a.lookAhead(o)},mn.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};var Pn=function(o,a){this.state=o,this.lookAhead=a},ur=function(o,a,f,u){this.state=a,this.doc=o,this.line=f,this.maxLookAhead=u||0,this.baseTokens=null,this.baseTokenPos=1};function wr(o,a,f,u){var g=[o.state.modeGen],$={};Do(o,a.text,o.doc.mode,f,function(Te,Ye){return g.push(Te,Ye)},$,u);for(var le=f.state,fe=function(Te){f.baseTokens=g;var Ye=o.state.overlays[Te],Ke=1,tt=0;f.state=!0,Do(o,a.text,Ye.mode,f,function(Xe,vt){for(var ut=Ke;tt<Xe;){var bt=g[Ke];bt>Xe&&g.splice(Ke,1,Xe,g[Ke+1],bt),Ke+=2,tt=Math.min(Xe,bt)}if(vt)if(Ye.opaque)g.splice(ut,Ke-ut,Xe,"overlay "+vt),Ke=ut+2;else for(;ut<Ke;ut+=2){var Tt=g[ut+1];g[ut+1]=(Tt?Tt+" ":"")+"overlay "+vt}},$),f.state=le,f.baseTokens=null,f.baseTokenPos=1},Se=0;Se<o.state.overlays.length;++Se)fe(Se);return{styles:g,classes:$.bgClass||$.textClass?$:null}}function fn(o,a,f){if(!a.styles||a.styles[0]!=o.state.modeGen){var u=fr(o,ln(a)),g=a.text.length>o.options.maxHighlightLength&&gn(o.doc.mode,u.state),$=wr(o,a,u);g&&(u.state=g),a.stateAfter=u.save(!g),a.styles=$.styles,$.classes?a.styleClasses=$.classes:a.styleClasses&&(a.styleClasses=null),f===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return a.styles}function fr(o,a,f){var u=o.doc,g=o.display;if(!u.mode.startState)return new ur(u,!0,a);var $=function(Se,Te,Ye){for(var Ke,tt,Xe=Se.doc,vt=Ye?-1:Te-(Se.doc.mode.innerMode?1e3:100),ut=Te;ut>vt;--ut){if(ut<=Xe.first)return Xe.first;var bt=Wt(Xe,ut-1),Tt=bt.stateAfter;if(Tt&&(!Ye||ut+(Tt instanceof Pn?Tt.lookAhead:0)<=Xe.modeFrontier))return ut;var At=_e(bt.text,null,Se.options.tabSize);(null==tt||Ke>At)&&(tt=ut-1,Ke=At)}return tt}(o,a,f),le=$>u.first&&Wt(u,$-1).stateAfter,fe=le?ur.fromSaved(u,le,$):new ur(u,br(u.mode),$);return u.iter($,a,function(Se){Ei(o,Se.text,fe);var Te=fe.line;Se.stateAfter=Te==a-1||Te%5==0||Te>=g.viewFrom&&Te<g.viewTo?fe.save():null,fe.nextLine()}),f&&(u.modeFrontier=fe.line),fe}function Ei(o,a,f,u){var g=o.doc.mode,$=new mn(a,o.options.tabSize,f);for($.start=$.pos=u||0,""==a&&eo(g,f.state);!$.eol();)Si(g,$,f.state),$.start=$.pos}function eo(o,a){if(o.blankLine)return o.blankLine(a);if(o.innerMode){var f=Mn(o,a);return f.mode.blankLine?f.mode.blankLine(f.state):void 0}}function Si(o,a,f,u){for(var g=0;g<10;g++){u&&(u[0]=Mn(o,f).mode);var $=o.token(a,f);if(a.pos>a.start)return $}throw new Error("Mode "+o.name+" failed to advance stream.")}ur.prototype.lookAhead=function(o){var a=this.doc.getLine(this.line+o);return null!=a&&o>this.maxLookAhead&&(this.maxLookAhead=o),a},ur.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var a=this.baseTokens[this.baseTokenPos+1];return{type:a&&a.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},ur.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ur.fromSaved=function(o,a,f){return a instanceof Pn?new ur(o,gn(o.mode,a.state),f,a.lookAhead):new ur(o,gn(o.mode,a),f)},ur.prototype.save=function(o){var a=!1!==o?gn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Pn(a,this.maxLookAhead):a};var li=function(o,a,f){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=a||null,this.state=f};function gr(o,a,f,u){var g,$,le=o.doc,fe=le.mode,Se=Wt(le,(a=Bt(le,a)).line),Te=fr(o,a.line,f),Ye=new mn(Se.text,o.options.tabSize,Te);for(u&&($=[]);(u||Ye.pos<a.ch)&&!Ye.eol();)Ye.start=Ye.pos,g=Si(fe,Ye,Te.state),u&&$.push(new li(Ye,g,gn(le.mode,Te.state)));return u?$:new li(Ye,g,Te.state)}function ni(o,a){if(o)for(;;){var f=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f)break;o=o.slice(0,f.index)+o.slice(f.index+f[0].length);var u=f[1]?"bgClass":"textClass";null==a[u]?a[u]=f[2]:new RegExp("(?:^|\\s)"+f[2]+"(?:$|\\s)").test(a[u])||(a[u]+=" "+f[2])}return o}function Do(o,a,f,u,g,$,le){var fe=f.flattenSpans;null==fe&&(fe=o.options.flattenSpans);var Se,Te=0,Ye=null,Ke=new mn(a,o.options.tabSize,u),tt=o.options.addModeClass&&[null];for(""==a&&ni(eo(f,u.state),$);!Ke.eol();){if(Ke.pos>o.options.maxHighlightLength?(fe=!1,le&&Ei(o,a,u,Ke.pos),Ke.pos=a.length,Se=null):Se=ni(Si(f,Ke,u.state,tt),$),tt){var Xe=tt[0].name;Xe&&(Se="m-"+(Se?Xe+" "+Se:Xe))}if(!fe||Ye!=Se){for(;Te<Ke.start;)g(Te=Math.min(Ke.start,Te+5e3),Ye);Ye=Se}Ke.start=Ke.pos}for(;Te<Ke.pos;){var vt=Math.min(Ke.pos,Te+5e3);g(vt,Ye),Te=vt}}var Di=!1,ir=!1;function ji(o,a,f){this.marker=o,this.from=a,this.to=f}function Vr(o,a){if(o)for(var f=0;f<o.length;++f){var u=o[f];if(u.marker==a)return u}}function vi(o,a){for(var f,u=0;u<o.length;++u)o[u]!=a&&(f||(f=[])).push(o[u]);return f}function Vo(o,a){if(a.full)return null;var f=dr(o,a.from.line)&&Wt(o,a.from.line).markedSpans,u=dr(o,a.to.line)&&Wt(o,a.to.line).markedSpans;if(!f&&!u)return null;var g=a.from.ch,$=a.to.ch,le=0==xe(a.from,a.to),fe=function($t,Kt,bn){var en;if($t)for(var Sn=0;Sn<$t.length;++Sn){var sn=$t[Sn],tr=sn.marker;null!=sn.from&&!(tr.inclusiveLeft?sn.from<=Kt:sn.from<Kt)&&(sn.from!=Kt||"bookmark"!=tr.type||bn&&sn.marker.insertLeft)||(en||(en=[])).push(new ji(tr,sn.from,null==sn.to||(tr.inclusiveRight?sn.to>=Kt:sn.to>Kt)?null:sn.to))}return en}(f,g,le),Se=function($t,Kt,bn){var en;if($t)for(var Sn=0;Sn<$t.length;++Sn){var sn=$t[Sn],tr=sn.marker;(null==sn.to||(tr.inclusiveRight?sn.to>=Kt:sn.to>Kt)||sn.from==Kt&&"bookmark"==tr.type&&(!bn||sn.marker.insertLeft))&&(en||(en=[])).push(new ji(tr,null==sn.from||(tr.inclusiveLeft?sn.from<=Kt:sn.from<Kt)?null:sn.from-Kt,null==sn.to?null:sn.to-Kt))}return en}(u,$,le),Te=1==a.text.length,Ye=V(a.text).length+(Te?g:0);if(fe)for(var Ke=0;Ke<fe.length;++Ke){var tt=fe[Ke];if(null==tt.to){var Xe=Vr(Se,tt.marker);Xe?Te&&(tt.to=null==Xe.to?null:Xe.to+Ye):tt.to=g}}if(Se)for(var vt=0;vt<Se.length;++vt){var ut=Se[vt];null!=ut.to&&(ut.to+=Ye),null==ut.from?Vr(fe,ut.marker)||(ut.from=Ye,Te&&(fe||(fe=[])).push(ut)):(ut.from+=Ye,Te&&(fe||(fe=[])).push(ut))}fe&&(fe=qi(fe)),Se&&Se!=fe&&(Se=qi(Se));var bt=[fe];if(!Te){var Tt,At=a.text.length-2;if(At>0&&fe)for(var zt=0;zt<fe.length;++zt)null==fe[zt].to&&(Tt||(Tt=[])).push(new ji(fe[zt].marker,null,null));for(var Zt=0;Zt<At;++Zt)bt.push(Tt);bt.push(Se)}return bt}function qi(o){for(var a=0;a<o.length;++a){var f=o[a];null!=f.from&&f.from==f.to&&!1!==f.marker.clearWhenEmpty&&o.splice(a--,1)}return o.length?o:null}function wo(o){var a=o.markedSpans;if(a){for(var f=0;f<a.length;++f)a[f].marker.detachLine(o);o.markedSpans=null}}function yi(o,a){if(a){for(var f=0;f<a.length;++f)a[f].marker.attachLine(o);o.markedSpans=a}}function to(o){return o.inclusiveLeft?-1:0}function hr(o){return o.inclusiveRight?1:0}function zn(o,a){var f=o.lines.length-a.lines.length;if(0!=f)return f;var u=o.find(),g=a.find(),$=xe(u.from,g.from)||to(o)-to(a);return $?-$:xe(u.to,g.to)||hr(o)-hr(a)||a.id-o.id}function Jr(o,a){var f,u=ir&&o.markedSpans;if(u)for(var g=void 0,$=0;$<u.length;++$)(g=u[$]).marker.collapsed&&null==(a?g.from:g.to)&&(!f||zn(f,g.marker)<0)&&(f=g.marker);return f}function Zs(o){return Jr(o,!0)}function bi(o){return Jr(o,!1)}function In(o,a){var f,u=ir&&o.markedSpans;if(u)for(var g=0;g<u.length;++g){var $=u[g];$.marker.collapsed&&(null==$.from||$.from<a)&&(null==$.to||$.to>a)&&(!f||zn(f,$.marker)<0)&&(f=$.marker)}return f}function no(o,a,f,u,g){var $=Wt(o,a),le=ir&&$.markedSpans;if(le)for(var fe=0;fe<le.length;++fe){var Se=le[fe];if(Se.marker.collapsed){var Te=Se.marker.find(0),Ye=xe(Te.from,f)||to(Se.marker)-to(g),Ke=xe(Te.to,u)||hr(Se.marker)-hr(g);if(!(Ye>=0&&Ke<=0||Ye<=0&&Ke>=0)&&(Ye<=0&&(Se.marker.inclusiveRight&&g.inclusiveLeft?xe(Te.to,f)>=0:xe(Te.to,f)>0)||Ye>=0&&(Se.marker.inclusiveRight&&g.inclusiveLeft?xe(Te.from,u)<=0:xe(Te.from,u)<0)))return!0}}}function Zn(o){for(var a;a=Zs(o);)o=a.find(-1,!0).line;return o}function Br(o,a){var f=Wt(o,a),u=Zn(f);return f==u?a:ln(u)}function ro(o,a){if(a>o.lastLine())return a;var f,u=Wt(o,a);if(!Gi(o,u))return a;for(;f=bi(u);)u=f.find(1,!0).line;return ln(u)+1}function Gi(o,a){var f=ir&&a.markedSpans;if(f)for(var u=void 0,g=0;g<f.length;++g)if((u=f[g]).marker.collapsed&&(null==u.from||!u.marker.widgetNode&&0==u.from&&u.marker.inclusiveLeft&&ki(o,a,u)))return!0}function ki(o,a,f){if(null==f.to){var u=f.marker.find(1,!0);return ki(o,u.line,Vr(u.line.markedSpans,f.marker))}if(f.marker.inclusiveRight&&f.to==a.text.length)return!0;for(var g=void 0,$=0;$<a.markedSpans.length;++$)if((g=a.markedSpans[$]).marker.collapsed&&!g.marker.widgetNode&&g.from==f.to&&(null==g.to||g.to!=f.from)&&(g.marker.inclusiveLeft||f.marker.inclusiveRight)&&ki(o,a,g))return!0}function Gr(o){for(var a=0,f=(o=Zn(o)).parent,u=0;u<f.lines.length;++u){var g=f.lines[u];if(g==o)break;a+=g.height}for(var $=f.parent;$;$=(f=$).parent)for(var le=0;le<$.children.length;++le){var fe=$.children[le];if(fe==f)break;a+=fe.height}return a}function io(o){if(0==o.height)return 0;for(var a,f=o.text.length,u=o;a=Zs(u);){var g=a.find(0,!0);u=g.from.line,f+=g.from.ch-g.to.ch}for(u=o;a=bi(u);){var $=a.find(0,!0);f-=u.text.length-$.from.ch,f+=(u=$.to.line).text.length-$.to.ch}return f}function oo(o){var a=o.display,f=o.doc;a.maxLine=Wt(f,f.first),a.maxLineLength=io(a.maxLine),a.maxLineChanged=!0,f.iter(function(u){var g=io(u);g>a.maxLineLength&&(a.maxLineLength=g,a.maxLine=u)})}var rn=function(o,a,f){this.text=o,yi(this,a),this.height=f?f(this):1};function un(o){o.parent=null,wo(o)}rn.prototype.lineNo=function(){return ln(this)},De(rn);var Gt={},dn={};function Ur(o,a){if(!o||/^\s*$/.test(o))return null;var f=a.addModeClass?dn:Gt;return f[o]||(f[o]=o.replace(/\S+/g,"cm-$&"))}function Tr(o,a){var f=te("span",null,null,v?"padding-right: .1px":null),u={pre:te("pre",[f],"CodeMirror-line"),content:f,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};a.measure={};for(var g=0;g<=(a.rest?a.rest.length:0);g++){var $=g?a.rest[g-1]:a.line,le=void 0;u.pos=0,u.addToken=so,oe(o.display.measure)&&(le=Ve($,o.doc.direction))&&(u.addToken=Nr(u.addToken,le)),u.map=[],nl($,u,fn(o,$,a!=o.display.externalMeasured&&ln($))),$.styleClasses&&($.styleClasses.bgClass&&(u.bgClass=Re($.styleClasses.bgClass,u.bgClass||"")),$.styleClasses.textClass&&(u.textClass=Re($.styleClasses.textClass,u.textClass||""))),0==u.map.length&&u.map.push(0,0,u.content.appendChild(w(o.display.measure))),0==g?(a.measure.map=u.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(u.map),(a.measure.caches||(a.measure.caches=[])).push({}))}if(v){var fe=u.content.lastChild;(/\bcm-tab\b/.test(fe.className)||fe.querySelector&&fe.querySelector(".cm-tab"))&&(u.content.className="cm-tab-wrap-hack")}return Be(o,"renderLine",o,a.line,u.pre),u.pre.className&&(u.textClass=Re(u.pre.className,u.textClass||"")),u}function Yi(o){var a=K("span","\u2022","cm-invalidchar");return a.title="\\u"+o.charCodeAt(0).toString(16),a.setAttribute("aria-label",a.title),a}function so(o,a,f,u,g,$,le){if(a){var fe,Se=o.splitSpaces?function($t,Kt){if($t.length>1&&!/  /.test($t))return $t;for(var bn=Kt,en="",Sn=0;Sn<$t.length;Sn++){var sn=$t.charAt(Sn);" "!=sn||!bn||Sn!=$t.length-1&&32!=$t.charCodeAt(Sn+1)||(sn="\xa0"),en+=sn,bn=" "==sn}return en}(a,o.trailingSpace):a,Te=o.cm.state.specialChars,Ye=!1;if(Te.test(a)){fe=document.createDocumentFragment();for(var Ke=0;;){Te.lastIndex=Ke;var tt=Te.exec(a),Xe=tt?tt.index-Ke:a.length-Ke;if(Xe){var vt=document.createTextNode(Se.slice(Ke,Ke+Xe));fe.appendChild(U&&T<9?K("span",[vt]):vt),o.map.push(o.pos,o.pos+Xe,vt),o.col+=Xe,o.pos+=Xe}if(!tt)break;Ke+=Xe+1;var ut=void 0;if("\t"==tt[0]){var bt=o.cm.options.tabSize,Tt=bt-o.col%bt;(ut=fe.appendChild(K("span",m(Tt),"cm-tab"))).setAttribute("role","presentation"),ut.setAttribute("cm-text","\t"),o.col+=Tt}else"\r"==tt[0]||"\n"==tt[0]?((ut=fe.appendChild(K("span","\r"==tt[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",tt[0]),o.col+=1):((ut=o.cm.options.specialCharPlaceholder(tt[0])).setAttribute("cm-text",tt[0]),fe.appendChild(U&&T<9?K("span",[ut]):ut),o.col+=1);o.map.push(o.pos,o.pos+1,ut),o.pos++}}else o.col+=a.length,fe=document.createTextNode(Se),o.map.push(o.pos,o.pos+a.length,fe),U&&T<9&&(Ye=!0),o.pos+=a.length;if(o.trailingSpace=32==Se.charCodeAt(a.length-1),f||u||g||Ye||$||le){var At=f||"";u&&(At+=u),g&&(At+=g);var zt=K("span",[fe],At,$);if(le)for(var Zt in le)le.hasOwnProperty(Zt)&&"style"!=Zt&&"class"!=Zt&&zt.setAttribute(Zt,le[Zt]);return o.content.appendChild(zt)}o.content.appendChild(fe)}}function Nr(o,a){return function(f,u,g,$,le,fe,Se){g=g?g+" cm-force-border":"cm-force-border";for(var Te=f.pos,Ye=Te+u.length;;){for(var Ke=void 0,tt=0;tt<a.length&&!((Ke=a[tt]).to>Te&&Ke.from<=Te);tt++);if(Ke.to>=Ye)return o(f,u,g,$,le,fe,Se);o(f,u.slice(0,Ke.to-Te),g,$,null,fe,Se),$=null,u=u.slice(Ke.to-Te),Te=Ke.to}}}function Cr(o,a,f,u){var g=!u&&f.widgetNode;g&&o.map.push(o.pos,o.pos+a,g),!u&&o.cm.display.input.needsContentAttribute&&(g||(g=o.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",f.id)),g&&(o.cm.display.input.setUneditable(g),o.content.appendChild(g)),o.pos+=a,o.trailingSpace=!1}function nl(o,a,f){var u=o.markedSpans,g=o.text,$=0;if(u)for(var le,fe,Se,Te,Ye,Ke,tt,Xe=g.length,vt=0,ut=1,bt="",Tt=0;;){if(Tt==vt){Se=Te=Ye=fe="",tt=null,Ke=null,Tt=1/0;for(var At=[],zt=void 0,Zt=0;Zt<u.length;++Zt){var $t=u[Zt],Kt=$t.marker;if("bookmark"==Kt.type&&$t.from==vt&&Kt.widgetNode)At.push(Kt);else if($t.from<=vt&&(null==$t.to||$t.to>vt||Kt.collapsed&&$t.to==vt&&$t.from==vt)){if(null!=$t.to&&$t.to!=vt&&Tt>$t.to&&(Tt=$t.to,Te=""),Kt.className&&(Se+=" "+Kt.className),Kt.css&&(fe=(fe?fe+";":"")+Kt.css),Kt.startStyle&&$t.from==vt&&(Ye+=" "+Kt.startStyle),Kt.endStyle&&$t.to==Tt&&(zt||(zt=[])).push(Kt.endStyle,$t.to),Kt.title&&((tt||(tt={})).title=Kt.title),Kt.attributes)for(var bn in Kt.attributes)(tt||(tt={}))[bn]=Kt.attributes[bn];Kt.collapsed&&(!Ke||zn(Ke.marker,Kt)<0)&&(Ke=$t)}else $t.from>vt&&Tt>$t.from&&(Tt=$t.from)}if(zt)for(var en=0;en<zt.length;en+=2)zt[en+1]==Tt&&(Te+=" "+zt[en]);if(!Ke||Ke.from==vt)for(var Sn=0;Sn<At.length;++Sn)Cr(a,0,At[Sn]);if(Ke&&(Ke.from||0)==vt){if(Cr(a,(null==Ke.to?Xe+1:Ke.to)-vt,Ke.marker,null==Ke.from),null==Ke.to)return;Ke.to==vt&&(Ke=!1)}}if(vt>=Xe)break;for(var sn=Math.min(Xe,Tt);;){if(bt){var tr=vt+bt.length;if(!Ke){var cr=tr>sn?bt.slice(0,sn-vt):bt;a.addToken(a,cr,le?le+Se:Se,Ye,vt+cr.length==Tt?Te:"",fe,tt)}if(tr>=sn){bt=bt.slice(sn-vt),vt=sn;break}vt=tr,Ye=""}bt=g.slice($,$=f[ut++]),le=Ur(f[ut++],a.cm.options)}}else for(var Wn=1;Wn<f.length;Wn+=2)a.addToken(a,g.slice($,$=f[Wn]),Ur(f[Wn+1],a.cm.options))}function Sa(o,a,f){this.line=a,this.rest=function(u){for(var g,$;g=bi(u);)u=g.find(1,!0).line,($||($=[])).push(u);return $}(a),this.size=this.rest?ln(V(this.rest))-f+1:1,this.node=this.text=null,this.hidden=Gi(o,a)}function Lr(o,a,f){for(var u,g=[],$=a;$<f;$=u){var le=new Sa(o.doc,Wt(o.doc,$),$);u=$+le.size,g.push(le)}return g}var ao=null,ci=null;function _r(o,a){var f=Z(o,a);if(f.length){var u,g=Array.prototype.slice.call(arguments,2);ao?u=ao.delayedCallbacks:ci?u=ci:(u=ci=[],setTimeout(nu,0));for(var $=function(fe){u.push(function(){return f[fe].apply(null,g)})},le=0;le<f.length;++le)$(le)}}function nu(){var o=ci;ci=null;for(var a=0;a<o.length;++a)o[a]()}function or(o,a,f,u){for(var g=0;g<a.changes.length;g++){var $=a.changes[g];"text"==$?ns(o,a):"gutter"==$?_s(o,a,f,u):"class"==$?lr(o,a):"widget"==$&&Qs(o,a,u)}a.changes=null}function Bo(o){return o.node==o.text&&(o.node=K("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),U&&T<8&&(o.node.style.zIndex=2)),o.node}function $l(o,a){var f=o.display.externalMeasured;return f&&f.line==a.line?(o.display.externalMeasured=null,a.measure=f.measure,f.built):Tr(o,a)}function ns(o,a){var f=a.text.className,u=$l(o,a);a.text==a.node&&(a.node=u.pre),a.text.parentNode.replaceChild(u.pre,a.text),a.text=u.pre,u.bgClass!=a.bgClass||u.textClass!=a.textClass?(a.bgClass=u.bgClass,a.textClass=u.textClass,lr(o,a)):f&&(a.text.className=f)}function lr(o,a){(function(u,g){var $=g.bgClass?g.bgClass+" "+(g.line.bgClass||""):g.line.bgClass;if($&&($+=" CodeMirror-linebackground"),g.background)$?g.background.className=$:(g.background.parentNode.removeChild(g.background),g.background=null);else if($){var le=Bo(g);g.background=le.insertBefore(K("div",null,$),le.firstChild),u.display.input.setUneditable(g.background)}})(o,a),a.line.wrapClass?Bo(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className=""),a.text.className=(a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass)||""}function _s(o,a,f,u){if(a.gutter&&(a.node.removeChild(a.gutter),a.gutter=null),a.gutterBackground&&(a.node.removeChild(a.gutterBackground),a.gutterBackground=null),a.line.gutterClass){var g=Bo(a);a.gutterBackground=K("div",null,"CodeMirror-gutter-background "+a.line.gutterClass,"left: "+(o.options.fixedGutter?u.fixedPos:-u.gutterTotalWidth)+"px; width: "+u.gutterTotalWidth+"px"),o.display.input.setUneditable(a.gutterBackground),g.insertBefore(a.gutterBackground,a.text)}var $=a.line.gutterMarkers;if(o.options.lineNumbers||$){var le=Bo(a),fe=a.gutter=K("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?u.fixedPos:-u.gutterTotalWidth)+"px");if(fe.setAttribute("aria-hidden","true"),o.display.input.setUneditable(fe),le.insertBefore(fe,a.text),a.line.gutterClass&&(fe.className+=" "+a.line.gutterClass),!o.options.lineNumbers||$&&$["CodeMirror-linenumbers"]||(a.lineNumber=fe.appendChild(K("div",q(o.options,f),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+u.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),$)for(var Se=0;Se<o.display.gutterSpecs.length;++Se){var Te=o.display.gutterSpecs[Se].className,Ye=$.hasOwnProperty(Te)&&$[Te];Ye&&fe.appendChild(K("div",[Ye],"CodeMirror-gutter-elt","left: "+u.gutterLeft[Te]+"px; width: "+u.gutterWidth[Te]+"px"))}}}function Qs(o,a,f){a.alignable&&(a.alignable=null);for(var u=I("CodeMirror-linewidget"),g=a.node.firstChild,$=void 0;g;g=$)$=g.nextSibling,u.test(g.className)&&a.node.removeChild(g);rl(o,a,f)}function Xs(o,a,f,u){var g=$l(o,a);return a.text=a.node=g.pre,g.bgClass&&(a.bgClass=g.bgClass),g.textClass&&(a.textClass=g.textClass),lr(o,a),_s(o,a,f,u),rl(o,a,u),a.node}function rl(o,a,f){if(Ki(o,a.line,a,f,!0),a.rest)for(var u=0;u<a.rest.length;u++)Ki(o,a.rest[u],a,f,!1)}function Ki(o,a,f,u,g){if(a.widgets)for(var $=Bo(f),le=0,fe=a.widgets;le<fe.length;++le){var Se=fe[le],Te=K("div",[Se.node],"CodeMirror-linewidget"+(Se.className?" "+Se.className:""));Se.handleMouseEvents||Te.setAttribute("cm-ignore-events","true"),Js(Se,Te,f,u),o.display.input.setUneditable(Te),g&&Se.above?$.insertBefore(Te,f.gutter||f.text):$.appendChild(Te),_r(Se,"redraw")}}function Js(o,a,f,u){if(o.noHScroll){(f.alignable||(f.alignable=[])).push(a);var g=u.wrapperWidth;a.style.left=u.fixedPos+"px",o.coverGutter||(g-=u.gutterTotalWidth,a.style.paddingLeft=u.gutterTotalWidth+"px"),a.style.width=g+"px"}o.coverGutter&&(a.style.zIndex=5,a.style.position="relative",o.noHScroll||(a.style.marginLeft=-u.gutterTotalWidth+"px"))}function Ie(o){if(null!=o.height)return o.height;var a=o.doc.cm;if(!a)return 0;if(!$e(document.body,o.node)){var f="position: relative;";o.coverGutter&&(f+="margin-left: -"+a.display.gutters.offsetWidth+"px;"),o.noHScroll&&(f+="width: "+a.display.wrapper.clientWidth+"px;"),B(a.display.measure,K("div",[o.node],null,f))}return o.height=o.node.parentNode.offsetHeight}function We(o,a){for(var f=jt(a);f!=o.wrapper;f=f.parentNode)if(!f||1==f.nodeType&&"true"==f.getAttribute("cm-ignore-events")||f.parentNode==o.sizer&&f!=o.mover)return!0}function rt(o){return o.lineSpace.offsetTop}function ct(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function _t(o){if(o.cachedPaddingH)return o.cachedPaddingH;var a=B(o.measure,K("pre","x","CodeMirror-line-like")),f=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,u={left:parseInt(f.paddingLeft),right:parseInt(f.paddingRight)};return isNaN(u.left)||isNaN(u.right)||(o.cachedPaddingH=u),u}function ht(o){return 50-o.display.nativeBarWidth}function Dt(o){return o.display.scroller.clientWidth-ht(o)-o.display.barWidth}function Ht(o){return o.display.scroller.clientHeight-ht(o)-o.display.barHeight}function yn(o,a,f){if(o.line==a)return{map:o.measure.map,cache:o.measure.cache};for(var u=0;u<o.rest.length;u++)if(o.rest[u]==a)return{map:o.measure.maps[u],cache:o.measure.caches[u]};for(var g=0;g<o.rest.length;g++)if(ln(o.rest[g])>f)return{map:o.measure.maps[g],cache:o.measure.caches[g],before:!0}}function cn(o,a,f,u){return xr(o,Qn(o,a),f,u)}function Rn(o,a){if(a>=o.display.viewFrom&&a<o.display.viewTo)return o.display.view[Hr(o,a)];var f=o.display.externalMeasured;return f&&a>=f.lineN&&a<f.lineN+f.size?f:void 0}function Qn(o,a){var f=ln(a),u=Rn(o,f);u&&!u.text?u=null:u&&u.changes&&(or(o,u,f,Ma(o)),o.curOp.forceUpdate=!0),u||(u=function($,le){var fe=ln(le=Zn(le)),Se=$.display.externalMeasured=new Sa($.doc,le,fe);Se.lineN=fe;var Te=Se.built=Tr($,Se);return Se.text=Te.pre,B($.display.lineMeasure,Te.pre),Se}(o,a));var g=yn(u,a,f);return{line:a,view:u,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function xr(o,a,f,u,g){a.before&&(f=-1);var $,le=f+(u||"");return a.cache.hasOwnProperty(le)?$=a.cache[le]:(a.rect||(a.rect=a.view.text.getBoundingClientRect()),a.hasHeights||(function(fe,Se,Te){var Ye=fe.options.lineWrapping,Ke=Ye&&Dt(fe);if(!Se.measure.heights||Ye&&Se.measure.width!=Ke){var tt=Se.measure.heights=[];if(Ye){Se.measure.width=Ke;for(var Xe=Se.text.firstChild.getClientRects(),vt=0;vt<Xe.length-1;vt++){var ut=Xe[vt],bt=Xe[vt+1];Math.abs(ut.bottom-bt.bottom)>2&&tt.push((ut.bottom+bt.top)/2-Te.top)}}tt.push(Te.bottom-Te.top)}}(o,a.view,a.rect),a.hasHeights=!0),($=function(fe,Se,Te,Ye){var Ke,tt=ui(Se.map,Te,Ye),Xe=tt.node,vt=tt.start,ut=tt.end,bt=tt.collapse;if(3==Xe.nodeType){for(var Tt=0;Tt<4;Tt++){for(;vt&&xt(Se.line.text.charAt(tt.coverStart+vt));)--vt;for(;tt.coverStart+ut<tt.coverEnd&&xt(Se.line.text.charAt(tt.coverStart+ut));)++ut;if((Ke=U&&T<9&&0==vt&&ut==tt.coverEnd-tt.coverStart?Xe.parentNode.getBoundingClientRect():nn(p(Xe,vt,ut).getClientRects(),Ye)).left||Ke.right||0==vt)break;ut=vt,vt-=1,bt="right"}U&&T<11&&(Ke=function(cr,Wn){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(Nn){if(null!=Qe)return Qe;var Dn=B(Nn,K("span","x")),Vn=Dn.getBoundingClientRect(),Yt=p(Dn,0,1).getBoundingClientRect();return Qe=Math.abs(Vn.left-Yt.left)>1}(cr))return Wn;var Yn=screen.logicalXDPI/screen.deviceXDPI,En=screen.logicalYDPI/screen.deviceYDPI;return{left:Wn.left*Yn,right:Wn.right*Yn,top:Wn.top*En,bottom:Wn.bottom*En}}(fe.display.measure,Ke))}else{var At;vt>0&&(bt=Ye="right"),Ke=fe.options.lineWrapping&&(At=Xe.getClientRects()).length>1?At["right"==Ye?At.length-1:0]:Xe.getBoundingClientRect()}if(U&&T<9&&!vt&&(!Ke||!Ke.left&&!Ke.right)){var zt=Xe.parentNode.getClientRects()[0];Ke=zt?{left:zt.left,right:zt.left+Pa(fe.display),top:zt.top,bottom:zt.bottom}:Or}for(var Zt=Ke.top-Se.rect.top,$t=Ke.bottom-Se.rect.top,Kt=(Zt+$t)/2,bn=Se.view.measure.heights,en=0;en<bn.length-1&&!(Kt<bn[en]);en++);var tr={left:("right"==bt?Ke.right:Ke.left)-Se.rect.left,right:("left"==bt?Ke.left:Ke.right)-Se.rect.left,top:en?bn[en-1]:0,bottom:bn[en]};return Ke.left||Ke.right||(tr.bogus=!0),fe.options.singleCursorHeightPerLine||(tr.rtop=Zt,tr.rbottom=$t),tr}(o,a,f,u)).bogus||(a.cache[le]=$)),{left:$.left,right:$.right,top:g?$.rtop:$.top,bottom:g?$.rbottom:$.bottom}}var Yr,Or={left:0,right:0,top:0,bottom:0};function ui(o,a,f){for(var u,g,$,le,fe,Se,Te=0;Te<o.length;Te+=3)if(Se=o[Te+1],a<(fe=o[Te])?(g=0,$=1,le="left"):a<Se?$=1+(g=a-fe):(Te==o.length-3||a==Se&&o[Te+3]>a)&&(g=($=Se-fe)-1,a>=Se&&(le="right")),null!=g){if(u=o[Te+2],fe==Se&&f==(u.insertLeft?"left":"right")&&(le=f),"left"==f&&0==g)for(;Te&&o[Te-2]==o[Te-3]&&o[Te-1].insertLeft;)u=o[2+(Te-=3)],le="left";if("right"==f&&g==Se-fe)for(;Te<o.length-3&&o[Te+3]==o[Te+4]&&!o[Te+5].insertLeft;)u=o[(Te+=3)+2],le="right";break}return{node:u,start:g,end:$,collapse:le,coverStart:fe,coverEnd:Se}}function nn(o,a){var f=Or;if("left"==a)for(var u=0;u<o.length&&(f=o[u]).left==f.right;u++);else for(var g=o.length-1;g>=0&&(f=o[g]).left==f.right;g--);return f}function $n(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var a=0;a<o.rest.length;a++)o.measure.caches[a]={}}function Er(o){o.display.externalMeasure=null,C(o.display.lineMeasure);for(var a=0;a<o.display.view.length;a++)$n(o.display.view[a])}function wi(o){Er(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function xs(){return E&&R?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ri(){return E&&R?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function rs(o){var a=0;if(o.widgets)for(var f=0;f<o.widgets.length;++f)o.widgets[f].above&&(a+=Ie(o.widgets[f]));return a}function Pr(o,a,f,u,g){if(!g){var $=rs(a);f.top+=$,f.bottom+=$}if("line"==u)return f;u||(u="local");var le=Gr(a);if("local"==u?le+=rt(o.display):le-=o.display.viewOffset,"page"==u||"window"==u){var fe=o.display.lineSpace.getBoundingClientRect();le+=fe.top+("window"==u?0:ri());var Se=fe.left+("window"==u?0:xs());f.left+=Se,f.right+=Se}return f.top+=le,f.bottom+=le,f}function Da(o,a,f){if("div"==f)return a;var u=a.left,g=a.top;if("page"==f)u-=xs(),g-=ri();else if("local"==f||!f){var $=o.display.sizer.getBoundingClientRect();u+=$.left,g+=$.top}var le=o.display.lineSpace.getBoundingClientRect();return{left:u-le.left,top:g-le.top}}function is(o,a,f,u,g){return u||(u=Wt(o.doc,a.line)),Pr(o,u,cn(o,u,a.ch,g),f)}function _n(o,a,f,u,g,$){function le(vt,ut){var bt=xr(o,g,vt,ut?"right":"left",$);return ut?bt.left=bt.right:bt.right=bt.left,Pr(o,u,bt,f)}u=u||Wt(o.doc,a.line),g||(g=Qn(o,u));var fe=Ve(u,o.doc.direction),Se=a.ch,Te=a.sticky;if(Se>=u.text.length?(Se=u.text.length,Te="before"):Se<=0&&(Se=0,Te="after"),!fe)return le("before"==Te?Se-1:Se,"before"==Te);function Ye(vt,ut,bt){return le(bt?vt-1:vt,1==fe[ut].level!=bt)}var Ke=ae(fe,Se,Te),tt=Nt,Xe=Ye(Se,Ke,"before"==Te);return null!=tt&&(Xe.other=Ye(Se,tt,"before"!=Te)),Xe}function il(o,a){var f=0;a=Bt(o.doc,a),o.options.lineWrapping||(f=Pa(o.display)*a.ch);var u=Wt(o.doc,a.line),g=Gr(u)+rt(o.display);return{left:f,right:f,top:g,bottom:g+u.height}}function Os(o,a,f,u,g){var $=J(o,a,f);return $.xRel=g,u&&($.outside=u),$}function ol(o,a,f){var u=o.doc;if((f+=o.display.viewOffset)<0)return Os(u.first,0,null,-1,-1);var g=An(u,f),$=u.first+u.size-1;if(g>$)return Os(u.first+u.size-1,Wt(u,$).text.length,null,1,1);a<0&&(a=0);for(var le=Wt(u,g);;){var fe=ka(o,le,g,a,f),Se=In(le,fe.ch+(fe.xRel>0||fe.outside>0?1:0));if(!Se)return fe;var Te=Se.find(1);if(Te.line==g)return Te;le=Wt(u,g=Te.line)}}function ea(o,a,f,u){u-=rs(a);var g=a.text.length,$=kt(function(le){return xr(o,f,le-1).bottom<=u},g,0);return{begin:$,end:g=kt(function(le){return xr(o,f,le).top>u},$,g)}}function Ri(o,a,f,u){return f||(f=Qn(o,a)),ea(o,a,f,Pr(o,a,xr(o,f,u),"line").top)}function ta(o,a,f,u){return!(o.bottom<=f)&&(o.top>f||(u?o.left:o.right)>a)}function ka(o,a,f,u,g){g-=Gr(a);var $=Qn(o,a),le=rs(a),fe=0,Se=a.text.length,Te=!0,Ye=Ve(a,o.doc.direction);if(Ye){var Ke=(o.options.lineWrapping?mr:ko)(o,a,f,$,Ye,u,g);fe=(Te=1!=Ke.level)?Ke.from:Ke.to-1,Se=Te?Ke.to:Ke.from-1}var tt,Xe,vt=null,ut=null,bt=kt(function($t){var Kt=xr(o,$,$t);return Kt.top+=le,Kt.bottom+=le,!!ta(Kt,u,g,!1)&&(Kt.top<=g&&Kt.left<=u&&(vt=$t,ut=Kt),!0)},fe,Se),Tt=!1;if(ut){var At=u-ut.left<ut.right-u,zt=At==Te;bt=vt+(zt?0:1),Xe=zt?"after":"before",tt=At?ut.left:ut.right}else{Te||bt!=Se&&bt!=fe||bt++,Xe=0==bt?"after":bt==a.text.length?"before":xr(o,$,bt-(Te?1:0)).bottom+le<=g==Te?"after":"before";var Zt=_n(o,J(f,bt,Xe),"line",a,$);tt=Zt.left,Tt=g<Zt.top?-1:g>=Zt.bottom?1:0}return Os(f,bt=pt(a.text,bt,1),Xe,Tt,u-tt)}function ko(o,a,f,u,g,$,le){var fe=kt(function(Ke){var tt=g[Ke],Xe=1!=tt.level;return ta(_n(o,J(f,Xe?tt.to:tt.from,Xe?"before":"after"),"line",a,u),$,le,!0)},0,g.length-1),Se=g[fe];if(fe>0){var Te=1!=Se.level,Ye=_n(o,J(f,Te?Se.from:Se.to,Te?"after":"before"),"line",a,u);ta(Ye,$,le,!0)&&Ye.top>le&&(Se=g[fe-1])}return Se}function mr(o,a,f,u,g,$,le){var fe=ea(o,a,u,le),Se=fe.begin,Te=fe.end;/\s/.test(a.text.charAt(Te-1))&&Te--;for(var Ye=null,Ke=null,tt=0;tt<g.length;tt++){var Xe=g[tt];if(!(Xe.from>=Te||Xe.to<=Se)){var vt=xr(o,u,1!=Xe.level?Math.min(Te,Xe.to)-1:Math.max(Se,Xe.from)).right,ut=vt<$?$-vt+1e9:vt-$;(!Ye||Ke>ut)&&(Ye=Xe,Ke=ut)}}return Ye||(Ye=g[g.length-1]),Ye.from<Se&&(Ye={from:Se,to:Ye.to,level:Ye.level}),Ye.to>Te&&(Ye={from:Ye.from,to:Te,level:Ye.level}),Ye}function Ta(o){if(null!=o.cachedTextHeight)return o.cachedTextHeight;if(null==Yr){Yr=K("pre",null,"CodeMirror-line-like");for(var a=0;a<49;++a)Yr.appendChild(document.createTextNode("x")),Yr.appendChild(K("br"));Yr.appendChild(document.createTextNode("x"))}B(o.measure,Yr);var f=Yr.offsetHeight/50;return f>3&&(o.cachedTextHeight=f),C(o.measure),f||1}function Pa(o){if(null!=o.cachedCharWidth)return o.cachedCharWidth;var a=K("span","xxxxxxxxxx"),f=K("pre",[a],"CodeMirror-line-like");B(o.measure,f);var u=a.getBoundingClientRect(),g=(u.right-u.left)/10;return g>2&&(o.cachedCharWidth=g),g||10}function Ma(o){for(var a=o.display,f={},u={},g=a.gutters.clientLeft,$=a.gutters.firstChild,le=0;$;$=$.nextSibling,++le){var fe=o.display.gutterSpecs[le].className;f[fe]=$.offsetLeft+$.clientLeft+g,u[fe]=$.clientWidth}return{fixedPos:sl(a),gutterTotalWidth:a.gutters.offsetWidth,gutterLeft:f,gutterWidth:u,wrapperWidth:a.wrapper.clientWidth}}function sl(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function Aa(o){var a=Ta(o.display),f=o.options.lineWrapping,u=f&&Math.max(5,o.display.scroller.clientWidth/Pa(o.display)-3);return function(g){if(Gi(o.doc,g))return 0;var $=0;if(g.widgets)for(var le=0;le<g.widgets.length;le++)g.widgets[le].height&&($+=g.widgets[le].height);return f?$+(Math.ceil(g.text.length/u)||1)*a:$+a}}function Ia(o){var a=o.doc,f=Aa(o);a.iter(function(u){var g=f(u);g!=u.height&&Jt(u,g)})}function lo(o,a,f,u){var g=o.display;if(!f&&"true"==jt(a).getAttribute("cm-not-content"))return null;var $,le,fe=g.lineSpace.getBoundingClientRect();try{$=a.clientX-fe.left,le=a.clientY-fe.top}catch(Ke){return null}var Se,Te=ol(o,$,le);if(u&&Te.xRel>0&&(Se=Wt(o.doc,Te.line).text).length==Te.ch){var Ye=_e(Se,Se.length,o.options.tabSize)-Se.length;Te=J(Te.line,Math.max(0,Math.round(($-_t(o.display).left)/Pa(o.display))-Ye))}return Te}function Hr(o,a){if(a>=o.display.viewTo||(a-=o.display.viewFrom)<0)return null;for(var f=o.display.view,u=0;u<f.length;u++)if((a-=f[u].size)<0)return u}function Ni(o,a,f,u){null==a&&(a=o.doc.first),null==f&&(f=o.doc.first+o.doc.size),u||(u=0);var g=o.display;if(u&&f<g.viewTo&&(null==g.updateLineNumbers||g.updateLineNumbers>a)&&(g.updateLineNumbers=a),o.curOp.viewChanged=!0,a>=g.viewTo)ir&&Br(o.doc,a)<g.viewTo&&di(o);else if(f<=g.viewFrom)ir&&ro(o.doc,f+u)>g.viewFrom?di(o):(g.viewFrom+=u,g.viewTo+=u);else if(a<=g.viewFrom&&f>=g.viewTo)di(o);else if(a<=g.viewFrom){var $=ja(o,f,f+u,1);$?(g.view=g.view.slice($.index),g.viewFrom=$.lineN,g.viewTo+=u):di(o)}else if(f>=g.viewTo){var le=ja(o,a,a,-1);le?(g.view=g.view.slice(0,le.index),g.viewTo=le.lineN):di(o)}else{var fe=ja(o,a,a,-1),Se=ja(o,f,f+u,1);fe&&Se?(g.view=g.view.slice(0,fe.index).concat(Lr(o,fe.lineN,Se.lineN)).concat(g.view.slice(Se.index)),g.viewTo+=u):di(o)}var Te=g.externalMeasured;Te&&(f<Te.lineN?Te.lineN+=u:a<Te.lineN+Te.size&&(g.externalMeasured=null))}function Ci(o,a,f){o.curOp.viewChanged=!0;var u=o.display,g=o.display.externalMeasured;if(g&&a>=g.lineN&&a<g.lineN+g.size&&(u.externalMeasured=null),!(a<u.viewFrom||a>=u.viewTo)){var $=u.view[Hr(o,a)];if(null!=$.node){var le=$.changes||($.changes=[]);-1==ne(le,f)&&le.push(f)}}}function di(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function ja(o,a,f,u){var g,$=Hr(o,a),le=o.display.view;if(!ir||f==o.doc.first+o.doc.size)return{index:$,lineN:f};for(var fe=o.display.viewFrom,Se=0;Se<$;Se++)fe+=le[Se].size;if(fe!=a){if(u>0){if($==le.length-1)return null;g=fe+le[$].size-a,$++}else g=fe-a;a+=g,f+=g}for(;Br(o.doc,f)!=f;){if($==(u<0?0:le.length-1))return null;f+=u*le[$-(u<0?1:0)].size,$+=u}return{index:$,lineN:f}}function al(o){for(var a=o.display.view,f=0,u=0;u<a.length;u++){var g=a[u];g.hidden||g.node&&!g.changes||++f}return f}function Es(o){o.display.input.showSelection(o.display.input.prepareSelection())}function Co(o,a){void 0===a&&(a=!0);for(var f=o.doc,u={},g=u.cursors=document.createDocumentFragment(),$=u.selection=document.createDocumentFragment(),le=0;le<f.sel.ranges.length;le++)if(a||le!=f.sel.primIndex){var fe=f.sel.ranges[le];if(!(fe.from().line>=o.display.viewTo||fe.to().line<o.display.viewFrom)){var Se=fe.empty();(Se||o.options.showCursorWhenSelecting)&&jd(o,fe.head,g),Se||Uh(o,fe,$)}}return u}function jd(o,a,f){var u=_n(o,a,"div",null,null,!o.options.singleCursorHeightPerLine),g=f.appendChild(K("div","\xa0","CodeMirror-cursor"));if(g.style.left=u.left+"px",g.style.top=u.top+"px",g.style.height=Math.max(0,u.bottom-u.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var $=is(o,a,"div",null,null);$.right-$.left>0&&(g.style.width=$.right-$.left+"px")}if(u.other){var le=f.appendChild(K("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));le.style.display="",le.style.left=u.other.left+"px",le.style.top=u.other.top+"px",le.style.height=.85*(u.other.bottom-u.other.top)+"px"}}function ru(o,a){return o.top-a.top||o.left-a.left}function Uh(o,a,f){var u=o.display,g=o.doc,$=document.createDocumentFragment(),le=_t(o.display),fe=le.left,Se=Math.max(u.sizerWidth,Dt(o)-u.sizer.offsetLeft)-le.right,Te="ltr"==g.direction;function Ye(zt,Zt,$t,Kt){Zt<0&&(Zt=0),Zt=Math.round(Zt),Kt=Math.round(Kt),$.appendChild(K("div",null,"CodeMirror-selected","position: absolute; left: "+zt+"px;\n                             top: "+Zt+"px; width: "+(null==$t?Se-zt:$t)+"px;\n                             height: "+(Kt-Zt)+"px"))}function Ke(zt,Zt,$t){var Kt,bn,en=Wt(g,zt),Sn=en.text.length;function sn(Wn,Yn){return is(o,J(zt,Wn),"div",en,Yn)}function tr(Wn,Yn,En){var Nn=Ri(o,en,null,Wn),Dn="ltr"==Yn==("after"==En)?"left":"right";return sn("after"==En?Nn.begin:Nn.end-(/\s/.test(en.text.charAt(Nn.end-1))?2:1),Dn)[Dn]}var cr=Ve(en,g.direction);return function(Wn,Yn,En,Nn){if(!Wn)return Nn(Yn,En,"ltr",0);for(var Dn=!1,Vn=0;Vn<Wn.length;++Vn){var Yt=Wn[Vn];(Yt.from<En&&Yt.to>Yn||Yn==En&&Yt.to==Yn)&&(Nn(Math.max(Yt.from,Yn),Math.min(Yt.to,En),1==Yt.level?"rtl":"ltr",Vn),Dn=!0)}Dn||Nn(Yn,En,"ltr")}(cr,Zt||0,null==$t?Sn:$t,function(Wn,Yn,En,Nn){var Dn="ltr"==En,Vn=sn(Wn,Dn?"left":"right"),Yt=sn(Yn-1,Dn?"right":"left"),Zr=null==Zt&&0==Wn,Dr=null==$t&&Yn==Sn,Kn=0==Nn,Bn=!cr||Nn==cr.length-1;if(Yt.top-Vn.top<=3){var Ir=(Te?Zr:Dr)&&Kn?fe:(Dn?Vn:Yt).left;Ye(Ir,Vn.top,((Te?Dr:Zr)&&Bn?Se:(Dn?Yt:Vn).right)-Ir,Vn.bottom)}else{var jr,Un,$r,Ti;Dn?(jr=Te&&Zr&&Kn?fe:Vn.left,Un=Te?Se:tr(Wn,En,"before"),$r=Te?fe:tr(Yn,En,"after"),Ti=Te&&Dr&&Bn?Se:Yt.right):(jr=Te?tr(Wn,En,"before"):fe,Un=!Te&&Zr&&Kn?Se:Vn.right,$r=!Te&&Dr&&Bn?fe:Yt.left,Ti=Te?tr(Yn,En,"after"):Se),Ye(jr,Vn.top,Un-jr,Vn.bottom),Vn.bottom<Yt.top&&Ye(fe,Vn.bottom,null,Yt.top),Ye($r,Yt.top,Ti-$r,Yt.bottom)}(!Kt||ru(Vn,Kt)<0)&&(Kt=Vn),ru(Yt,Kt)<0&&(Kt=Yt),(!bn||ru(Vn,bn)<0)&&(bn=Vn),ru(Yt,bn)<0&&(bn=Yt)}),{start:Kt,end:bn}}var tt=a.from(),Xe=a.to();if(tt.line==Xe.line)Ke(tt.line,tt.ch,Xe.ch);else{var vt=Wt(g,tt.line),ut=Wt(g,Xe.line),bt=Zn(vt)==Zn(ut),Tt=Ke(tt.line,tt.ch,bt?vt.text.length+1:null).end,At=Ke(Xe.line,bt?0:null,Xe.ch).start;bt&&(Tt.top<At.top-2?(Ye(Tt.right,Tt.top,null,Tt.bottom),Ye(fe,At.top,At.left,At.bottom)):Ye(Tt.right,Tt.top,At.left-Tt.right,Tt.bottom)),Tt.bottom<At.top&&Ye(fe,Tt.bottom,null,At.top)}f.appendChild($)}function iu(o){if(o.state.focused){var a=o.display;clearInterval(a.blinker);var f=!0;a.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?a.blinker=setInterval(function(){o.hasFocus()||ll(o),a.cursorDiv.style.visibility=(f=!f)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(a.cursorDiv.style.visibility="hidden")}}function Hh(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||Nd(o))}function Rd(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&ll(o))},100)}function Nd(o,a){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),"nocursor"!=o.options.readOnly&&(o.state.focused||(Be(o,"focus",o,a),o.state.focused=!0,ye(o.display.wrapper,"CodeMirror-focused"),o.curOp||o.display.selForContextMenu==o.doc.sel||(o.display.input.reset(),v&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),iu(o))}function ll(o,a){o.state.delayingBlurEvent||(o.state.focused&&(Be(o,"blur",o,a),o.state.focused=!1,y(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function ou(o){for(var a=o.display,f=a.lineDiv.offsetTop,u=Math.max(0,a.scroller.getBoundingClientRect().top),g=a.lineDiv.getBoundingClientRect().top,$=0,le=0;le<a.view.length;le++){var fe=a.view[le],Se=o.options.lineWrapping,Te=void 0,Ye=0;if(!fe.hidden){if(g+=fe.line.height,U&&T<8){var Ke=fe.node.offsetTop+fe.node.offsetHeight;Te=Ke-f,f=Ke}else{var tt=fe.node.getBoundingClientRect();Te=tt.bottom-tt.top,!Se&&fe.text.firstChild&&(Ye=fe.text.firstChild.getBoundingClientRect().right-tt.left-1)}var Xe=fe.line.height-Te;if((Xe>.005||Xe<-.005)&&(g<u&&($-=Xe),Jt(fe.line,Te),zh(fe.line),fe.rest))for(var vt=0;vt<fe.rest.length;vt++)zh(fe.rest[vt]);if(Ye>o.display.sizerWidth){var ut=Math.ceil(Ye/Pa(o.display));ut>o.display.maxLineLength&&(o.display.maxLineLength=ut,o.display.maxLine=fe.line,o.display.maxLineChanged=!0)}}}Math.abs($)>2&&(a.scroller.scrollTop+=$)}function zh(o){if(o.widgets)for(var a=0;a<o.widgets.length;++a){var f=o.widgets[a],u=f.node.parentNode;u&&(f.height=u.offsetHeight)}}function su(o,a,f){var u=f&&null!=f.top?Math.max(0,f.top):o.scroller.scrollTop;u=Math.floor(u-rt(o));var g=f&&null!=f.bottom?f.bottom:u+o.wrapper.clientHeight,$=An(a,u),le=An(a,g);if(f&&f.ensure){var fe=f.ensure.from.line,Se=f.ensure.to.line;fe<$?($=fe,le=An(a,Gr(Wt(a,fe))+o.wrapper.clientHeight)):Math.min(Se,a.lastLine())>=le&&($=An(a,Gr(Wt(a,Se))-o.wrapper.clientHeight),le=Se)}return{from:$,to:Math.max(le,$+1)}}function Ld(o,a){var f=o.display,u=Ta(o.display);a.top<0&&(a.top=0);var g=o.curOp&&null!=o.curOp.scrollTop?o.curOp.scrollTop:f.scroller.scrollTop,$=Ht(o),le={};a.bottom-a.top>$&&(a.bottom=a.top+$);var fe=o.doc.height+ct(f),Te=a.bottom>fe-u;if(a.top<g)le.scrollTop=a.top<u?0:a.top;else if(a.bottom>g+$){var Ye=Math.min(a.top,(Te?fe:a.bottom)-$);Ye!=g&&(le.scrollTop=Ye)}var Ke=o.options.fixedGutter?0:f.gutters.offsetWidth,tt=o.curOp&&null!=o.curOp.scrollLeft?o.curOp.scrollLeft:f.scroller.scrollLeft-Ke,Xe=Dt(o)-f.gutters.offsetWidth,vt=a.right-a.left>Xe;return vt&&(a.right=a.left+Xe),a.left<10?le.scrollLeft=0:a.left<tt?le.scrollLeft=Math.max(0,a.left+Ke-(vt?0:10)):a.right>Xe+tt-3&&(le.scrollLeft=a.right+(vt?0:10)-Xe),le}function Fd(o,a){null!=a&&(au(o),o.curOp.scrollTop=(null==o.curOp.scrollTop?o.doc.scrollTop:o.curOp.scrollTop)+a)}function cl(o){au(o);var a=o.getCursor();o.curOp.scrollToPos={from:a,to:a,margin:o.options.cursorScrollMargin}}function Wl(o,a,f){null==a&&null==f||au(o),null!=a&&(o.curOp.scrollLeft=a),null!=f&&(o.curOp.scrollTop=f)}function au(o){var a=o.curOp.scrollToPos;a&&(o.curOp.scrollToPos=null,$h(o,il(o,a.from),il(o,a.to),a.margin))}function $h(o,a,f,u){var g=Ld(o,{left:Math.min(a.left,f.left),top:Math.min(a.top,f.top)-u,right:Math.max(a.right,f.right),bottom:Math.max(a.bottom,f.bottom)+u});Wl(o,g.scrollLeft,g.scrollTop)}function ql(o,a){Math.abs(o.doc.scrollTop-a)<2||(de||zr(o,{top:a}),lu(o,a,!0),de&&zr(o),ra(o,100))}function lu(o,a,f){a=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,a)),(o.display.scroller.scrollTop!=a||f)&&(o.doc.scrollTop=a,o.display.scrollbars.setScrollTop(a),o.display.scroller.scrollTop!=a&&(o.display.scroller.scrollTop=a))}function os(o,a,f,u){a=Math.max(0,Math.min(a,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),(f?a==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-a)<2)&&!u||(o.doc.scrollLeft=a,ul(o),o.display.scroller.scrollLeft!=a&&(o.display.scroller.scrollLeft=a),o.display.scrollbars.setScrollLeft(a))}function Gl(o){var a=o.display,f=a.gutters.offsetWidth,u=Math.round(o.doc.height+ct(o.display));return{clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:o.options.fixedGutter?f:0,docHeight:u,scrollHeight:u+ht(o)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:f}}var Ra=function(o,a,f){this.cm=f;var u=this.vert=K("div",[K("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=K("div",[K("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");u.tabIndex=g.tabIndex=-1,o(u),o(g),et(u,"scroll",function(){u.clientHeight&&a(u.scrollTop,"vertical")}),et(g,"scroll",function(){g.clientWidth&&a(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,U&&T<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ra.prototype.update=function(o){var a=o.scrollWidth>o.clientWidth+1,f=o.scrollHeight>o.clientHeight+1,u=o.nativeBarWidth;return f?(this.vert.style.display="block",this.vert.style.bottom=a?u+"px":"0",this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+(o.viewHeight-(a?u:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),a?(this.horiz.style.display="block",this.horiz.style.right=f?u+"px":"0",this.horiz.style.left=o.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+(o.viewWidth-o.barLeft-(f?u:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&o.clientHeight>0&&(0==u&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:f?u:0,bottom:a?u:0}},Ra.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ra.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ra.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=A&&!P?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ie,this.disableVert=new ie},Ra.prototype.enableZeroWidthBar=function(o,a,f){o.style.pointerEvents="auto",a.set(1e3,function u(){var g=o.getBoundingClientRect();("vert"==f?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1))!=o?o.style.pointerEvents="none":a.set(1e3,u)})},Ra.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var Yl=function(){};function _o(o,a){a||(a=Gl(o));var f=o.display.barWidth,u=o.display.barHeight;cu(o,a);for(var g=0;g<4&&f!=o.display.barWidth||u!=o.display.barHeight;g++)f!=o.display.barWidth&&o.options.lineWrapping&&ou(o),cu(o,Gl(o)),f=o.display.barWidth,u=o.display.barHeight}function cu(o,a){var f=o.display,u=f.scrollbars.update(a);f.sizer.style.paddingRight=(f.barWidth=u.right)+"px",f.sizer.style.paddingBottom=(f.barHeight=u.bottom)+"px",f.heightForcer.style.borderBottom=u.bottom+"px solid transparent",u.right&&u.bottom?(f.scrollbarFiller.style.display="block",f.scrollbarFiller.style.height=u.bottom+"px",f.scrollbarFiller.style.width=u.right+"px"):f.scrollbarFiller.style.display="",u.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(f.gutterFiller.style.display="block",f.gutterFiller.style.height=u.bottom+"px",f.gutterFiller.style.width=a.gutterWidth+"px"):f.gutterFiller.style.display=""}Yl.prototype.update=function(){return{bottom:0,right:0}},Yl.prototype.setScrollLeft=function(){},Yl.prototype.setScrollTop=function(){},Yl.prototype.clear=function(){};var Ss={native:Ra,null:Yl};function uu(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&y(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new Ss[o.options.scrollbarStyle](function(a){o.display.wrapper.insertBefore(a,o.display.scrollbarFiller),et(a,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),a.setAttribute("cm-not-content","true")},function(a,f){"horizontal"==f?os(o,a):ql(o,a)},o),o.display.scrollbars.addClass&&ye(o.display.wrapper,o.display.scrollbars.addClass)}var Wh=0;function na(o){var a;o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wh,markArrays:null},a=o.curOp,ao?ao.ops.push(a):a.ownsGroup=ao={ops:[a],delayedCallbacks:[]}}function Ds(o){var a=o.curOp;a&&function(f,u){var g=f.ownsGroup;if(g)try{!function($){var le=$.delayedCallbacks,fe=0;do{for(;fe<le.length;fe++)le[fe].call(null);for(var Se=0;Se<$.ops.length;Se++){var Te=$.ops[Se];if(Te.cursorActivityHandlers)for(;Te.cursorActivityCalled<Te.cursorActivityHandlers.length;)Te.cursorActivityHandlers[Te.cursorActivityCalled++].call(null,Te.cm)}}while(fe<le.length)}(g)}finally{ao=null,function(f){for(var u=0;u<f.ops.length;u++)f.ops[u].cm.curOp=null;!function(g){for(var $=g.ops,le=0;le<$.length;le++)Vd($[le]);for(var fe=0;fe<$.length;fe++)qh($[fe]);for(var Se=0;Se<$.length;Se++)du($[Se]);for(var Te=0;Te<$.length;Te++)Gh($[Te]);for(var Ye=0;Ye<$.length;Ye++)xo($[Ye])}(f)}(g)}}(a)}function Vd(o){var u,g,a=o.cm,f=a.display;!(g=(u=a).display).scrollbarsClipped&&g.scroller.offsetWidth&&(g.nativeBarWidth=g.scroller.offsetWidth-g.scroller.clientWidth,g.heightForcer.style.height=ht(u)+"px",g.sizer.style.marginBottom=-g.nativeBarWidth+"px",g.sizer.style.borderRightWidth=ht(u)+"px",g.scrollbarsClipped=!0),o.updateMaxLine&&oo(a),o.mustUpdate=o.viewChanged||o.forceUpdate||null!=o.scrollTop||o.scrollToPos&&(o.scrollToPos.from.line<f.viewFrom||o.scrollToPos.to.line>=f.viewTo)||f.maxLineChanged&&a.options.lineWrapping,o.update=o.mustUpdate&&new Sr(a,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function qh(o){o.updatedDisplay=o.mustUpdate&&Kl(o.cm,o.update)}function du(o){var a=o.cm,f=a.display;o.updatedDisplay&&ou(a),o.barMeasure=Gl(a),f.maxLineChanged&&!a.options.lineWrapping&&(o.adjustWidthTo=cn(a,f.maxLine,f.maxLine.text.length).left+3,a.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(f.scroller.clientWidth,f.sizer.offsetLeft+o.adjustWidthTo+ht(a)+a.display.barWidth),o.maxScrollLeft=Math.max(0,f.sizer.offsetLeft+o.adjustWidthTo-Dt(a))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=f.input.prepareSelection())}function Gh(o){var a=o.cm;null!=o.adjustWidthTo&&(a.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<a.doc.scrollLeft&&os(a,Math.min(a.display.scroller.scrollLeft,o.maxScrollLeft),!0),a.display.maxLineChanged=!1);var f=o.focus&&o.focus==ue();o.preparedSelection&&a.display.input.showSelection(o.preparedSelection,f),(o.updatedDisplay||o.startHeight!=a.doc.height)&&_o(a,o.barMeasure),o.updatedDisplay&&Ud(a,o.barMeasure),o.selectionChanged&&iu(a),a.state.focused&&o.updateInput&&a.display.input.reset(o.typing),f&&Hh(o.cm)}function xo(o){var a=o.cm,f=a.display,u=a.doc;o.updatedDisplay&&Bd(a,o.update),null==f.wheelStartX||null==o.scrollTop&&null==o.scrollLeft&&!o.scrollToPos||(f.wheelStartX=f.wheelStartY=null),null!=o.scrollTop&&lu(a,o.scrollTop,o.forceScroll),null!=o.scrollLeft&&os(a,o.scrollLeft,!0,!0),o.scrollToPos&&function(Se,Te){if(!Je(Se,"scrollCursorIntoView")){var Ye=Se.display,Ke=Ye.sizer.getBoundingClientRect(),tt=null;if(Te.top+Ke.top<0?tt=!0:Te.bottom+Ke.top>(window.innerHeight||document.documentElement.clientHeight)&&(tt=!1),null!=tt&&!L){var Xe=K("div","\u200b",null,"position: absolute;\n                         top: "+(Te.top-Ye.viewOffset-rt(Se.display))+"px;\n                         height: "+(Te.bottom-Te.top+ht(Se)+Ye.barHeight)+"px;\n                         left: "+Te.left+"px; width: "+Math.max(2,Te.right-Te.left)+"px;");Se.display.lineSpace.appendChild(Xe),Xe.scrollIntoView(tt),Se.display.lineSpace.removeChild(Xe)}}}(a,function(Se,Te,Ye,Ke){var tt;null==Ke&&(Ke=0),Se.options.lineWrapping||Te!=Ye||(Ye="before"==Te.sticky?J(Te.line,Te.ch+1,"before"):Te,Te=Te.ch?J(Te.line,"before"==Te.sticky?Te.ch-1:Te.ch,"after"):Te);for(var Xe=0;Xe<5;Xe++){var vt=!1,ut=_n(Se,Te),bt=Ye&&Ye!=Te?_n(Se,Ye):ut,Tt=Ld(Se,tt={left:Math.min(ut.left,bt.left),top:Math.min(ut.top,bt.top)-Ke,right:Math.max(ut.left,bt.left),bottom:Math.max(ut.bottom,bt.bottom)+Ke}),At=Se.doc.scrollTop,zt=Se.doc.scrollLeft;if(null!=Tt.scrollTop&&(ql(Se,Tt.scrollTop),Math.abs(Se.doc.scrollTop-At)>1&&(vt=!0)),null!=Tt.scrollLeft&&(os(Se,Tt.scrollLeft),Math.abs(Se.doc.scrollLeft-zt)>1&&(vt=!0)),!vt)break}return tt}(a,Bt(u,o.scrollToPos.from),Bt(u,o.scrollToPos.to),o.scrollToPos.margin));var g=o.maybeHiddenMarkers,$=o.maybeUnhiddenMarkers;if(g)for(var le=0;le<g.length;++le)g[le].lines.length||Be(g[le],"hide");if($)for(var fe=0;fe<$.length;++fe)$[fe].lines.length&&Be($[fe],"unhide");f.wrapper.offsetHeight&&(u.scrollTop=a.display.scroller.scrollTop),o.changeObjs&&Be(a,"changes",a,o.changeObjs),o.update&&o.update.finish()}function Li(o,a){if(o.curOp)return a();na(o);try{return a()}finally{Ds(o)}}function ei(o,a){return function(){if(o.curOp)return a.apply(o,arguments);na(o);try{return a.apply(o,arguments)}finally{Ds(o)}}}function fi(o){return function(){if(this.curOp)return o.apply(this,arguments);na(this);try{return o.apply(this,arguments)}finally{Ds(this)}}}function ii(o){return function(){var a=this.cm;if(!a||a.curOp)return o.apply(this,arguments);na(a);try{return o.apply(this,arguments)}finally{Ds(a)}}}function ra(o,a){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(a,Me(Cv,o))}function Cv(o){var a=o.doc;if(!(a.highlightFrontier>=o.display.viewTo)){var f=+new Date+o.options.workTime,u=fr(o,a.highlightFrontier),g=[];a.iter(u.line,Math.min(a.first+a.size,o.display.viewTo+500),function($){if(u.line>=o.display.viewFrom){var le=$.styles,fe=$.text.length>o.options.maxHighlightLength?gn(a.mode,u.state):null,Se=wr(o,$,u,!0);fe&&(u.state=fe),$.styles=Se.styles;var Te=$.styleClasses,Ye=Se.classes;Ye?$.styleClasses=Ye:Te&&($.styleClasses=null);for(var Ke=!le||le.length!=$.styles.length||Te!=Ye&&(!Te||!Ye||Te.bgClass!=Ye.bgClass||Te.textClass!=Ye.textClass),tt=0;!Ke&&tt<le.length;++tt)Ke=le[tt]!=$.styles[tt];Ke&&g.push(u.line),$.stateAfter=u.save(),u.nextLine()}else $.text.length<=o.options.maxHighlightLength&&Ei(o,$.text,u),$.stateAfter=u.line%5==0?u.save():null,u.nextLine();if(+new Date>f)return ra(o,o.options.workDelay),!0}),a.highlightFrontier=u.line,a.modeFrontier=Math.max(a.modeFrontier,u.line),g.length&&Li(o,function(){for(var $=0;$<g.length;$++)Ci(o,g[$],"text")})}}var Sr=function(o,a,f){var u=o.display;this.viewport=a,this.visible=su(u,o.doc,a),this.editorIsHidden=!u.wrapper.offsetWidth,this.wrapperHeight=u.wrapper.clientHeight,this.wrapperWidth=u.wrapper.clientWidth,this.oldDisplayWidth=Dt(o),this.force=f,this.dims=Ma(o),this.events=[]};function Kl(o,a){var f=o.display,u=o.doc;if(a.editorIsHidden)return di(o),!1;if(!a.force&&a.visible.from>=f.viewFrom&&a.visible.to<=f.viewTo&&(null==f.updateLineNumbers||f.updateLineNumbers>=f.viewTo)&&f.renderedView==f.view&&0==al(o))return!1;co(o)&&(di(o),a.dims=Ma(o));var g=u.first+u.size,$=Math.max(a.visible.from-o.options.viewportMargin,u.first),le=Math.min(g,a.visible.to+o.options.viewportMargin);f.viewFrom<$&&$-f.viewFrom<20&&($=Math.max(u.first,f.viewFrom)),f.viewTo>le&&f.viewTo-le<20&&(le=Math.min(g,f.viewTo)),ir&&($=Br(o.doc,$),le=ro(o.doc,le));var Ye,Ke,tt,Xe,fe=$!=f.viewFrom||le!=f.viewTo||f.lastWrapHeight!=a.wrapperHeight||f.lastWrapWidth!=a.wrapperWidth;Ke=$,tt=le,0==(Xe=(Ye=o).display).view.length||Ke>=Xe.viewTo||tt<=Xe.viewFrom?(Xe.view=Lr(Ye,Ke,tt),Xe.viewFrom=Ke):(Xe.viewFrom>Ke?Xe.view=Lr(Ye,Ke,Xe.viewFrom).concat(Xe.view):Xe.viewFrom<Ke&&(Xe.view=Xe.view.slice(Hr(Ye,Ke))),Xe.viewFrom=Ke,Xe.viewTo<tt?Xe.view=Xe.view.concat(Lr(Ye,Xe.viewTo,tt)):Xe.viewTo>tt&&(Xe.view=Xe.view.slice(0,Hr(Ye,tt)))),Xe.viewTo=tt,f.viewOffset=Gr(Wt(o.doc,f.viewFrom)),o.display.mover.style.top=f.viewOffset+"px";var Se=al(o);if(!fe&&0==Se&&!a.force&&f.renderedView==f.view&&(null==f.updateLineNumbers||f.updateLineNumbers>=f.viewTo))return!1;var Te=function(Ye){if(Ye.hasFocus())return null;var Ke=ue();if(!Ke||!$e(Ye.display.lineDiv,Ke))return null;var tt={activeElt:Ke};if(window.getSelection){var Xe=window.getSelection();Xe.anchorNode&&Xe.extend&&$e(Ye.display.lineDiv,Xe.anchorNode)&&(tt.anchorNode=Xe.anchorNode,tt.anchorOffset=Xe.anchorOffset,tt.focusNode=Xe.focusNode,tt.focusOffset=Xe.focusOffset)}return tt}(o);return Se>4&&(f.lineDiv.style.display="none"),function(Ye,Ke,tt){var Xe=Ye.display,vt=Ye.options.lineNumbers,ut=Xe.lineDiv,bt=ut.firstChild;function Tt(en){var Sn=en.nextSibling;return v&&A&&Ye.display.currentWheelTarget==en?en.style.display="none":en.parentNode.removeChild(en),Sn}for(var At=Xe.view,zt=Xe.viewFrom,Zt=0;Zt<At.length;Zt++){var $t=At[Zt];if(!$t.hidden)if($t.node&&$t.node.parentNode==ut){for(;bt!=$t.node;)bt=Tt(bt);var Kt=vt&&null!=Ke&&Ke<=zt&&$t.lineNumber;$t.changes&&(ne($t.changes,"gutter")>-1&&(Kt=!1),or(Ye,$t,zt,tt)),Kt&&(C($t.lineNumber),$t.lineNumber.appendChild(document.createTextNode(q(Ye.options,zt)))),bt=$t.node.nextSibling}else{var bn=Xs(Ye,$t,zt,tt);ut.insertBefore(bn,bt)}zt+=$t.size}for(;bt;)bt=Tt(bt)}(o,f.updateLineNumbers,a.dims),Se>4&&(f.lineDiv.style.display=""),f.renderedView=f.view,function(Ye){if(Ye&&Ye.activeElt&&Ye.activeElt!=ue()&&(Ye.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Ye.activeElt.nodeName)&&Ye.anchorNode&&$e(document.body,Ye.anchorNode)&&$e(document.body,Ye.focusNode))){var Ke=window.getSelection(),tt=document.createRange();tt.setEnd(Ye.anchorNode,Ye.anchorOffset),tt.collapse(!1),Ke.removeAllRanges(),Ke.addRange(tt),Ke.extend(Ye.focusNode,Ye.focusOffset)}}(Te),C(f.cursorDiv),C(f.selectionDiv),f.gutters.style.height=f.sizer.style.minHeight=0,fe&&(f.lastWrapHeight=a.wrapperHeight,f.lastWrapWidth=a.wrapperWidth,ra(o,400)),f.updateLineNumbers=null,!0}function Bd(o,a){for(var f=a.viewport,u=!0;;u=!1){if(u&&o.options.lineWrapping&&a.oldDisplayWidth!=Dt(o))u&&(a.visible=su(o.display,o.doc,f));else if(f&&null!=f.top&&(f={top:Math.min(o.doc.height+ct(o.display)-Ht(o),f.top)}),a.visible=su(o.display,o.doc,f),a.visible.from>=o.display.viewFrom&&a.visible.to<=o.display.viewTo)break;if(!Kl(o,a))break;ou(o);var g=Gl(o);Es(o),_o(o,g),Ud(o,g),a.force=!1}a.signal(o,"update",o),o.display.viewFrom==o.display.reportedViewFrom&&o.display.viewTo==o.display.reportedViewTo||(a.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function zr(o,a){var f=new Sr(o,a);if(Kl(o,f)){ou(o),Bd(o,f);var u=Gl(o);Es(o),_o(o,u),Ud(o,u),f.finish()}}function fu(o){o.sizer.style.marginLeft=o.gutters.offsetWidth+"px",_r(o,"gutterChanged",o)}function Ud(o,a){o.display.sizer.style.minHeight=a.docHeight+"px",o.display.heightForcer.style.top=a.docHeight+"px",o.display.gutters.style.height=a.docHeight+o.display.barHeight+ht(o)+"px"}function ul(o){var a=o.display,f=a.view;if(a.alignWidgets||a.gutters.firstChild&&o.options.fixedGutter){for(var u=sl(a)-a.scroller.scrollLeft+o.doc.scrollLeft,g=a.gutters.offsetWidth,$=u+"px",le=0;le<f.length;le++)if(!f[le].hidden){o.options.fixedGutter&&(f[le].gutter&&(f[le].gutter.style.left=$),f[le].gutterBackground&&(f[le].gutterBackground.style.left=$));var fe=f[le].alignable;if(fe)for(var Se=0;Se<fe.length;Se++)fe[Se].style.left=$}o.options.fixedGutter&&(a.gutters.style.left=u+g+"px")}}function co(o){if(!o.options.lineNumbers)return!1;var a=o.doc,f=q(o.options,a.first+a.size-1),u=o.display;if(f.length!=u.lineNumChars){var g=u.measure.appendChild(K("div",[K("div",f)],"CodeMirror-linenumber CodeMirror-gutter-elt")),$=g.firstChild.offsetWidth,le=g.offsetWidth-$;return u.lineGutter.style.width="",u.lineNumInnerWidth=Math.max($,u.lineGutter.offsetWidth-le)+1,u.lineNumWidth=u.lineNumInnerWidth+le,u.lineNumChars=u.lineNumInnerWidth?f.length:-1,u.lineGutter.style.width=u.lineNumWidth+"px",fu(o.display),!0}return!1}function hu(o,a){for(var f=[],u=!1,g=0;g<o.length;g++){var $=o[g],le=null;if("string"!=typeof $&&(le=$.style,$=$.className),"CodeMirror-linenumbers"==$){if(!a)continue;u=!0}f.push({className:$,style:le})}return a&&!u&&f.push({className:"CodeMirror-linenumbers",style:null}),f}function Zl(o){var a=o.gutters,f=o.gutterSpecs;C(a),o.lineGutter=null;for(var u=0;u<f.length;++u){var g=f[u],$=g.className,le=g.style,fe=a.appendChild(K("div",null,"CodeMirror-gutter "+$));le&&(fe.style.cssText=le),"CodeMirror-linenumbers"==$&&(o.lineGutter=fe,fe.style.width=(o.lineNumWidth||1)+"px")}a.style.display=f.length?"":"none",fu(o)}function Uo(o){Zl(o.display),Ni(o),ul(o)}function uo(o,a,f,u){var g=this;this.input=f,g.scrollbarFiller=K("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=K("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=te("div",null,"CodeMirror-code"),g.selectionDiv=K("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=K("div",null,"CodeMirror-cursors"),g.measure=K("div",null,"CodeMirror-measure"),g.lineMeasure=K("div",null,"CodeMirror-measure"),g.lineSpace=te("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var $=te("div",[g.lineSpace],"CodeMirror-lines");g.mover=K("div",[$],null,"position: relative"),g.sizer=K("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=K("div",null,null,"position: absolute; height: 50px; width: 1px;"),g.gutters=K("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=K("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=K("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),g.wrapper.setAttribute("translate","no"),U&&T<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),v||de&&M||(g.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(g.wrapper):o(g.wrapper)),g.viewFrom=g.viewTo=a.first,g.reportedViewFrom=g.reportedViewTo=a.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=hu(u.gutters,u.lineNumbers),Zl(g),f.init(g)}Sr.prototype.signal=function(o,a){mt(o,a)&&this.events.push(arguments)},Sr.prototype.finish=function(){for(var o=0;o<this.events.length;o++)Be.apply(null,this.events[o])};var dl=0,Fi=null;function Hd(o){var a=o.wheelDeltaX,f=o.wheelDeltaY;return null==a&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(a=o.detail),null==f&&o.detail&&o.axis==o.VERTICAL_AXIS?f=o.detail:null==f&&(f=o.wheelDelta),{x:a,y:f}}function ks(o){var a=Hd(o);return a.x*=Fi,a.y*=Fi,a}function pu(o,a){var f=Hd(a),u=f.x,g=f.y,$=o.display,le=$.scroller,Se=le.scrollHeight>le.clientHeight;if(u&&le.scrollWidth>le.clientWidth||g&&Se){if(g&&A&&v)e:for(var Te=a.target,Ye=$.view;Te!=le;Te=Te.parentNode)for(var Ke=0;Ke<Ye.length;Ke++)if(Ye[Ke].node==Te){o.display.currentWheelTarget=Te;break e}if(u&&!de&&!D&&null!=Fi)return g&&Se&&ql(o,Math.max(0,le.scrollTop+g*Fi)),os(o,Math.max(0,le.scrollLeft+u*Fi)),(!g||g&&Se)&&dt(a),void($.wheelStartX=null);if(g&&null!=Fi){var tt=g*Fi,Xe=o.doc.scrollTop,vt=Xe+$.wrapper.clientHeight;tt<0?Xe=Math.max(0,Xe+tt-50):vt=Math.min(o.doc.height,vt+tt+50),zr(o,{top:Xe,bottom:vt})}dl<20&&(null==$.wheelStartX?($.wheelStartX=le.scrollLeft,$.wheelStartY=le.scrollTop,$.wheelDX=u,$.wheelDY=g,setTimeout(function(){if(null!=$.wheelStartX){var ut=le.scrollLeft-$.wheelStartX,bt=le.scrollTop-$.wheelStartY,Tt=bt&&$.wheelDY&&bt/$.wheelDY||ut&&$.wheelDX&&ut/$.wheelDX;$.wheelStartX=$.wheelStartY=null,Tt&&(Fi=(Fi*dl+Tt)/(dl+1),++dl)}},200)):($.wheelDX+=u,$.wheelDY+=g))}}U?Fi=-.53:de?Fi=15:E?Fi=-.7:x&&(Fi=-1/3);var Vi=function(o,a){this.ranges=o,this.primIndex=a};Vi.prototype.primary=function(){return this.ranges[this.primIndex]},Vi.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var a=0;a<this.ranges.length;a++){var f=this.ranges[a],u=o.ranges[a];if(!je(f.anchor,u.anchor)||!je(f.head,u.head))return!1}return!0},Vi.prototype.deepCopy=function(){for(var o=[],a=0;a<this.ranges.length;a++)o[a]=new tn(wt(this.ranges[a].anchor),wt(this.ranges[a].head));return new Vi(o,this.primIndex)},Vi.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},Vi.prototype.contains=function(o,a){a||(a=o);for(var f=0;f<this.ranges.length;f++){var u=this.ranges[f];if(xe(a,u.from())>=0&&xe(o,u.to())<=0)return f}return-1};var tn=function(o,a){this.anchor=o,this.head=a};function Ho(o,a,f){var u=o&&o.options.selectionsMayTouch,g=a[f];a.sort(function(tt,Xe){return xe(tt.from(),Xe.from())}),f=ne(a,g);for(var $=1;$<a.length;$++){var le=a[$],fe=a[$-1],Se=xe(fe.to(),le.from());if(u&&!le.empty()?Se>0:Se>=0){var Te=Vt(fe.from(),le.from()),Ye=Rt(fe.to(),le.to()),Ke=fe.empty()?le.from()==le.head:fe.from()==fe.head;$<=f&&--f,a.splice(--$,2,new tn(Ke?Ye:Te,Ke?Te:Ye))}}return new Vi(a,f)}function Ts(o,a){return new Vi([new tn(o,a||o)],0)}function Ps(o){return o.text?J(o.from.line+o.text.length-1,V(o.text).length+(1==o.text.length?o.from.ch:0)):o.to}function zd(o,a){if(xe(o,a.from)<0)return o;if(xe(o,a.to)<=0)return Ps(a);var f=o.line+a.text.length-(a.to.line-a.from.line)-1,u=o.ch;return o.line==a.to.line&&(u+=Ps(a).ch-a.to.ch),J(f,u)}function Ql(o,a){for(var f=[],u=0;u<o.sel.ranges.length;u++){var g=o.sel.ranges[u];f.push(new tn(zd(g.anchor,a),zd(g.head,a)))}return Ho(o.cm,f,o.sel.primIndex)}function $d(o,a,f){return o.line==a.line?J(f.line,o.ch-a.ch+f.ch):J(f.line+(o.line-a.line),o.ch)}function gu(o){o.doc.mode=pn(o.options,o.doc.modeOption),qt(o)}function qt(o){o.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,ra(o,100),o.state.modeGen++,o.curOp&&Ni(o)}function Jn(o,a){return 0==a.from.ch&&0==a.to.ch&&""==V(a.text)&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function mu(o,a,f,u){function g(At){return f?f[At]:null}function $(At,zt,Zt){(function($t,Kt,bn,en){$t.text=Kt,$t.stateAfter&&($t.stateAfter=null),$t.styles&&($t.styles=null),null!=$t.order&&($t.order=null),wo($t),yi($t,bn);var Sn=en?en($t):1;Sn!=$t.height&&Jt($t,Sn)})(At,zt,Zt,u),_r(At,"change",At,a)}function le(At,zt){for(var Zt=[],$t=At;$t<zt;++$t)Zt.push(new rn(Te[$t],g($t),u));return Zt}var fe=a.from,Se=a.to,Te=a.text,Ye=Wt(o,fe.line),Ke=Wt(o,Se.line),tt=V(Te),Xe=g(Te.length-1),vt=Se.line-fe.line;if(a.full)o.insert(0,le(0,Te.length)),o.remove(Te.length,o.size-Te.length);else if(Jn(o,a)){var ut=le(0,Te.length-1);$(Ke,Ke.text,Xe),vt&&o.remove(fe.line,vt),ut.length&&o.insert(fe.line,ut)}else if(Ye==Ke)if(1==Te.length)$(Ye,Ye.text.slice(0,fe.ch)+tt+Ye.text.slice(Se.ch),Xe);else{var bt=le(1,Te.length-1);bt.push(new rn(tt+Ye.text.slice(Se.ch),Xe,u)),$(Ye,Ye.text.slice(0,fe.ch)+Te[0],g(0)),o.insert(fe.line+1,bt)}else if(1==Te.length)$(Ye,Ye.text.slice(0,fe.ch)+Te[0]+Ke.text.slice(Se.ch),g(0)),o.remove(fe.line+1,vt);else{$(Ye,Ye.text.slice(0,fe.ch)+Te[0],g(0)),$(Ke,tt+Ke.text.slice(Se.ch),Xe);var Tt=le(1,Te.length-1);vt>1&&o.remove(fe.line+1,vt-1),o.insert(fe.line+1,Tt)}_r(o,"change",o,a)}function vr(o,a,f){!function u(g,$,le){if(g.linked)for(var fe=0;fe<g.linked.length;++fe){var Se=g.linked[fe];if(Se.doc!=$){var Te=le&&Se.sharedHist;f&&!Te||(a(Se.doc,Te),u(Se.doc,g,Te))}}}(o,null,!0)}function vu(o,a){if(a.cm)throw new Error("This document is already in use.");o.doc=a,a.cm=o,Ia(o),gu(o),Na(o),o.options.direction=a.direction,o.options.lineWrapping||oo(o),o.options.mode=a.modeOption,Ni(o)}function Na(o){("rtl"==o.doc.direction?ye:y)(o.display.lineDiv,"CodeMirror-rtl")}function fo(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function fl(o,a){var f={from:wt(a.from),to:Ps(a),text:vn(o,a.from,a.to)};return hl(o,f,a.from.line,a.to.line+1),vr(o,function(u){return hl(u,f,a.from.line,a.to.line+1)},!0),f}function Xl(o){for(;o.length&&V(o).ranges;)o.pop()}function Yh(o,a,f,u){var g=o.history;g.undone.length=0;var $,le,Te,fe=+new Date;if((g.lastOp==u||g.lastOrigin==a.origin&&a.origin&&("+"==a.origin.charAt(0)&&g.lastModTime>fe-(o.cm?o.cm.options.historyEventDelay:500)||"*"==a.origin.charAt(0)))&&(Te=g,$=g.lastOp==u?(Xl(Te.done),V(Te.done)):Te.done.length&&!V(Te.done).ranges?V(Te.done):Te.done.length>1&&!Te.done[Te.done.length-2].ranges?(Te.done.pop(),V(Te.done)):void 0))le=V($.changes),0==xe(a.from,a.to)&&0==xe(a.from,le.to)?le.to=Ps(a):$.changes.push(fl(o,a));else{var Se=V(g.done);for(Se&&Se.ranges||ia(o.sel,g.done),$={changes:[fl(o,a)],generation:g.generation},g.done.push($);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(f),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=fe,g.lastOp=g.lastSelOp=u,g.lastOrigin=g.lastSelOrigin=a.origin,le||Be(o,"historyAdded")}function ia(o,a){var f=V(a);f&&f.ranges&&f.equals(o)||a.push(o)}function hl(o,a,f,u){var g=a["spans_"+o.id],$=0;o.iter(Math.max(o.first,f),Math.min(o.first+o.size,u),function(le){le.markedSpans&&((g||(g=a["spans_"+o.id]={}))[$]=le.markedSpans),++$})}function Bi(o){if(!o)return null;for(var a,f=0;f<o.length;++f)o[f].marker.explicitlyCleared?a||(a=o.slice(0,f)):a&&a.push(o[f]);return a?a.length?a:null:o}function zo(o,a){var f=function(Ye,Ke){var tt=Ke["spans_"+Ye.id];if(!tt)return null;for(var Xe=[],vt=0;vt<Ke.text.length;++vt)Xe.push(Bi(tt[vt]));return Xe}(o,a),u=Vo(o,a);if(!f)return u;if(!u)return f;for(var g=0;g<f.length;++g){var $=f[g],le=u[g];if($&&le)e:for(var fe=0;fe<le.length;++fe){for(var Se=le[fe],Te=0;Te<$.length;++Te)if($[Te].marker==Se.marker)continue e;$.push(Se)}else le&&(f[g]=le)}return f}function oa(o,a,f){for(var u=[],g=0;g<o.length;++g){var $=o[g];if($.ranges)u.push(f?Vi.prototype.deepCopy.call($):$);else{var le=$.changes,fe=[];u.push({changes:fe});for(var Se=0;Se<le.length;++Se){var Te=le[Se],Ye=void 0;if(fe.push({from:Te.from,to:Te.to,text:Te.text}),a)for(var Ke in Te)(Ye=Ke.match(/^spans_(\d+)$/))&&ne(a,Number(Ye[1]))>-1&&(V(fe)[Ke]=Te[Ke],delete Te[Ke])}}}return u}function Ms(o,a,f,u){if(u){var g=o.anchor;if(f){var $=xe(a,g)<0;$!=xe(f,g)<0?(g=a,a=f):$!=xe(a,f)<0&&(a=f)}return new tn(g,a)}return new tn(f||a,a)}function Oo(o,a,f,u,g){null==g&&(g=o.cm&&(o.cm.display.shift||o.extend)),oi(o,new Vi([Ms(o.sel.primary(),a,f,g)],0),u)}function Wd(o,a,f){for(var u=[],g=o.cm&&(o.cm.display.shift||o.extend),$=0;$<o.sel.ranges.length;$++)u[$]=Ms(o.sel.ranges[$],a[$],null,g);oi(o,Ho(o.cm,u,o.sel.primIndex),f)}function Jl(o,a,f,u){var g=o.sel.ranges.slice(0);g[a]=f,oi(o,Ho(o.cm,g,o.sel.primIndex),u)}function qd(o,a,f,u){oi(o,Ts(a,f),u)}function Gd(o,a,f){var u=o.history.done,g=V(u);g&&g.ranges?(u[u.length-1]=a,La(o,a,f)):oi(o,a,f)}function oi(o,a,f){La(o,a,f),function(o,a,f,u){var le,fe,Se,Te,Ye,g=o.history,$=u&&u.origin;f==g.lastSelOp||$&&g.lastSelOrigin==$&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==$||(le=o,fe=$,Se=V(g.done),Te=a,"*"==(Ye=fe.charAt(0))||"+"==Ye&&Se.ranges.length==Te.ranges.length&&Se.somethingSelected()==Te.somethingSelected()&&new Date-le.history.lastSelTime<=(le.cm?le.cm.options.historyEventDelay:500)))?g.done[g.done.length-1]=a:ia(a,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=$,g.lastSelOp=f,u&&!1!==u.clearRedo&&Xl(g.undone)}(o,o.sel,o.cm?o.cm.curOp.id:NaN,f)}function La(o,a,f){var g,$,le,fe;(mt(o,"beforeSelectionChange")||o.cm&&mt(o.cm,"beforeSelectionChange"))&&(Be(g=o,"beforeSelectionChange",g,fe={ranges:($=a).ranges,update:function(Se){this.ranges=[];for(var Te=0;Te<Se.length;Te++)this.ranges[Te]=new tn(Bt(g,Se[Te].anchor),Bt(g,Se[Te].head))},origin:(le=f)&&le.origin}),g.cm&&Be(g.cm,"beforeSelectionChange",g.cm,fe),a=fe.ranges!=$.ranges?Ho(g.cm,fe.ranges,fe.ranges.length-1):$);var u=f&&f.bias||(xe(a.primary().head,o.sel.primary().head)<0?-1:1);yu(o,Yd(o,a,u,!0)),f&&!1===f.scroll||!o.cm||"nocursor"==o.cm.getOption("readOnly")||cl(o.cm)}function yu(o,a){a.equals(o.sel)||(o.sel=a,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,st(o.cm)),_r(o,"cursorActivity",o))}function ec(o){yu(o,Yd(o,o.sel,null,!1))}function Yd(o,a,f,u){for(var g,$=0;$<a.ranges.length;$++){var le=a.ranges[$],fe=a.ranges.length==o.sel.ranges.length&&o.sel.ranges[$],Se=aa(o,le.anchor,fe&&fe.anchor,f,u),Te=aa(o,le.head,fe&&fe.head,f,u);(g||Se!=le.anchor||Te!=le.head)&&(g||(g=a.ranges.slice(0,$)),g[$]=new tn(Se,Te))}return g?Ho(o.cm,g,a.primIndex):a}function sa(o,a,f,u,g){var $=Wt(o,a.line);if($.markedSpans)for(var le=0;le<$.markedSpans.length;++le){var fe=$.markedSpans[le],Se=fe.marker,Te="selectLeft"in Se?!Se.selectLeft:Se.inclusiveLeft,Ye="selectRight"in Se?!Se.selectRight:Se.inclusiveRight;if((null==fe.from||(Te?fe.from<=a.ch:fe.from<a.ch))&&(null==fe.to||(Ye?fe.to>=a.ch:fe.to>a.ch))){if(g&&(Be(Se,"beforeCursorEnter"),Se.explicitlyCleared)){if($.markedSpans){--le;continue}break}if(!Se.atomic)continue;if(f){var Ke=Se.find(u<0?1:-1),tt=void 0;if((u<0?Ye:Te)&&(Ke=bu(o,Ke,-u,Ke&&Ke.line==a.line?$:null)),Ke&&Ke.line==a.line&&(tt=xe(Ke,f))&&(u<0?tt<0:tt>0))return sa(o,Ke,a,u,g)}var Xe=Se.find(u<0?-1:1);return(u<0?Te:Ye)&&(Xe=bu(o,Xe,u,Xe.line==a.line?$:null)),Xe?sa(o,Xe,a,u,g):null}}return a}function aa(o,a,f,u,g){var $=u||1;return sa(o,a,f,$,g)||!g&&sa(o,a,f,$,!0)||sa(o,a,f,-$,g)||!g&&sa(o,a,f,-$,!0)||(o.cantEdit=!0,J(o.first,0))}function bu(o,a,f,u){return f<0&&0==a.ch?a.line>o.first?Bt(o,J(a.line-1)):null:f>0&&a.ch==(u||Wt(o,a.line)).text.length?a.line<o.first+o.size-1?J(a.line+1,0):null:new J(a.line,a.ch+f)}function wu(o){o.setSelection(J(o.firstLine(),0),J(o.lastLine()),_)}function Cu(o,a,f){var u={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){return u.canceled=!0}};return f&&(u.update=function(g,$,le,fe){g&&(u.from=Bt(o,g)),$&&(u.to=Bt(o,$)),le&&(u.text=le),void 0!==fe&&(u.origin=fe)}),Be(o,"beforeChange",o,u),o.cm&&Be(o.cm,"beforeChange",o.cm,u),u.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:u.from,to:u.to,text:u.text,origin:u.origin}}function la(o,a,f){if(o.cm){if(!o.cm.curOp)return ei(o.cm,la)(o,a,f);if(o.cm.state.suppressEdits)return}if(!(mt(o,"beforeChange")||o.cm&&mt(o.cm,"beforeChange"))||(a=Cu(o,a,!0))){var u=Di&&!f&&function($,le,fe){var Se=null;if($.iter(le.line,fe.line+1,function(At){if(At.markedSpans)for(var zt=0;zt<At.markedSpans.length;++zt){var Zt=At.markedSpans[zt].marker;!Zt.readOnly||Se&&-1!=ne(Se,Zt)||(Se||(Se=[])).push(Zt)}}),!Se)return null;for(var Te=[{from:le,to:fe}],Ye=0;Ye<Se.length;++Ye)for(var Ke=Se[Ye],tt=Ke.find(0),Xe=0;Xe<Te.length;++Xe){var vt=Te[Xe];if(!(xe(vt.to,tt.from)<0||xe(vt.from,tt.to)>0)){var ut=[Xe,1],bt=xe(vt.from,tt.from),Tt=xe(vt.to,tt.to);(bt<0||!Ke.inclusiveLeft&&!bt)&&ut.push({from:vt.from,to:tt.from}),(Tt>0||!Ke.inclusiveRight&&!Tt)&&ut.push({from:tt.to,to:vt.to}),Te.splice.apply(Te,ut),Xe+=ut.length-3}}return Te}(o,a.from,a.to);if(u)for(var g=u.length-1;g>=0;--g)pl(o,{from:u[g].from,to:u[g].to,text:g?[""]:a.text,origin:a.origin});else pl(o,a)}}function pl(o,a){if(1!=a.text.length||""!=a.text[0]||0!=xe(a.from,a.to)){var f=Ql(o,a);Yh(o,a,f,o.cm?o.cm.curOp.id:NaN),si(o,a,f,Vo(o,a));var u=[];vr(o,function(g,$){$||-1!=ne(u,g.history)||(Zd(g.history,a),u.push(g.history)),si(g,a,null,Vo(g,a))})}}function tc(o,a,f){var u=o.cm&&o.cm.state.suppressEdits;if(!u||f){for(var g,$=o.history,le=o.sel,fe="undo"==a?$.done:$.undone,Se="undo"==a?$.undone:$.done,Te=0;Te<fe.length&&(g=fe[Te],f?!g.ranges||g.equals(o.sel):g.ranges);Te++);if(Te!=fe.length){for($.lastOrigin=$.lastSelOrigin=null;;){if(!(g=fe.pop()).ranges){if(u)return void fe.push(g);break}if(ia(g,Se),f&&!g.equals(o.sel))return void oi(o,g,{clearRedo:!1});le=g}var Ye=[];ia(le,Se),Se.push({changes:Ye,generation:$.generation}),$.generation=g.generation||++$.maxGeneration;for(var Ke=mt(o,"beforeChange")||o.cm&&mt(o.cm,"beforeChange"),tt=function(ut){var bt=g.changes[ut];if(bt.origin=a,Ke&&!Cu(o,bt,!1))return fe.length=0,{};Ye.push(fl(o,bt));var Tt=ut?Ql(o,bt):V(fe);si(o,bt,Tt,zo(o,bt)),!ut&&o.cm&&o.cm.scrollIntoView({from:bt.from,to:Ps(bt)});var At=[];vr(o,function(zt,Zt){Zt||-1!=ne(At,zt.history)||(Zd(zt.history,bt),At.push(zt.history)),si(zt,bt,null,zo(zt,bt))})},Xe=g.changes.length-1;Xe>=0;--Xe){var vt=tt(Xe);if(vt)return vt.v}}}}function Kd(o,a){if(0!=a&&(o.first+=a,o.sel=new Vi(X(o.sel.ranges,function(g){return new tn(J(g.anchor.line+a,g.anchor.ch),J(g.head.line+a,g.head.ch))}),o.sel.primIndex),o.cm)){Ni(o.cm,o.first,o.first-a,a);for(var f=o.cm.display,u=f.viewFrom;u<f.viewTo;u++)Ci(o.cm,u,"gutter")}}function si(o,a,f,u){if(o.cm&&!o.cm.curOp)return ei(o.cm,si)(o,a,f,u);if(a.to.line<o.first)Kd(o,a.text.length-1-(a.to.line-a.from.line));else if(!(a.from.line>o.lastLine())){if(a.from.line<o.first){var g=a.text.length-1-(o.first-a.from.line);Kd(o,g),a={from:J(o.first,0),to:J(a.to.line+g,a.to.ch),text:[V(a.text)],origin:a.origin}}var $=o.lastLine();a.to.line>$&&(a={from:a.from,to:J($,Wt(o,$).text.length),text:[a.text[0]],origin:a.origin}),a.removed=vn(o,a.from,a.to),f||(f=Ql(o,a)),o.cm?function(le,fe,Se){var Te=le.doc,Ye=le.display,Ke=fe.from,tt=fe.to,Xe=!1,vt=Ke.line;le.options.lineWrapping||(vt=ln(Zn(Wt(Te,Ke.line))),Te.iter(vt,tt.line+1,function(zt){if(zt==Ye.maxLine)return Xe=!0,!0})),Te.sel.contains(fe.from,fe.to)>-1&&st(le),mu(Te,fe,Se,Aa(le)),le.options.lineWrapping||(Te.iter(vt,Ke.line+fe.text.length,function(zt){var Zt=io(zt);Zt>Ye.maxLineLength&&(Ye.maxLine=zt,Ye.maxLineLength=Zt,Ye.maxLineChanged=!0,Xe=!1)}),Xe&&(le.curOp.updateMaxLine=!0)),function(zt,Zt){if(zt.modeFrontier=Math.min(zt.modeFrontier,Zt),!(zt.highlightFrontier<Zt-10)){for(var $t=zt.first,Kt=Zt-1;Kt>$t;Kt--){var bn=Wt(zt,Kt).stateAfter;if(bn&&(!(bn instanceof Pn)||Kt+bn.lookAhead<Zt)){$t=Kt+1;break}}zt.highlightFrontier=Math.min(zt.highlightFrontier,$t)}}(Te,Ke.line),ra(le,400);var ut=fe.text.length-(tt.line-Ke.line)-1;fe.full?Ni(le):Ke.line!=tt.line||1!=fe.text.length||Jn(le.doc,fe)?Ni(le,Ke.line,tt.line+1,ut):Ci(le,Ke.line,"text");var bt=mt(le,"changes"),Tt=mt(le,"change");if(Tt||bt){var At={from:Ke,to:tt,text:fe.text,removed:fe.removed,origin:fe.origin};Tt&&_r(le,"change",le,At),bt&&(le.curOp.changeObjs||(le.curOp.changeObjs=[])).push(At)}le.display.selForContextMenu=null}(o.cm,a,u):mu(o,a,u),La(o,f,_),o.cantEdit&&aa(o,J(o.firstLine(),0))&&(o.cantEdit=!1)}}function ho(o,a,f,u,g){var $;u||(u=f),xe(u,f)<0&&(f=($=[u,f])[0],u=$[1]),"string"==typeof a&&(a=o.splitLines(a)),la(o,{from:f,to:u,text:a,origin:g})}function Fr(o,a,f,u){f<o.line?o.line+=u:a<o.line&&(o.line=a,o.ch=0)}function As(o,a,f,u){for(var g=0;g<o.length;++g){var $=o[g],le=!0;if($.ranges){$.copied||(($=o[g]=$.deepCopy()).copied=!0);for(var fe=0;fe<$.ranges.length;fe++)Fr($.ranges[fe].anchor,a,f,u),Fr($.ranges[fe].head,a,f,u)}else{for(var Se=0;Se<$.changes.length;++Se){var Te=$.changes[Se];if(f<Te.from.line)Te.from=J(Te.from.line+u,Te.from.ch),Te.to=J(Te.to.line+u,Te.to.ch);else if(a<=Te.to.line){le=!1;break}}le||(o.splice(0,g+1),g=0)}}}function Zd(o,a){var f=a.from.line,u=a.to.line,g=a.text.length-(u-f)-1;As(o.done,f,u,g),As(o.undone,f,u,g)}function $o(o,a,f,u){var g=a,$=a;return"number"==typeof a?$=Wt(o,yt(o,a)):g=ln(a),null==g?null:(u($,g)&&o.cm&&Ci(o.cm,g,f),$)}function gl(o){this.lines=o,this.parent=null;for(var a=0,f=0;f<o.length;++f)o[f].parent=this,a+=o[f].height;this.height=a}function ml(o){this.children=o;for(var a=0,f=0,u=0;u<o.length;++u){var g=o[u];a+=g.chunkSize(),f+=g.height,g.parent=this}this.size=a,this.height=f,this.parent=null}tn.prototype.from=function(){return Vt(this.anchor,this.head)},tn.prototype.to=function(){return Rt(this.anchor,this.head)},tn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},gl.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,a){for(var f=o,u=o+a;f<u;++f){var g=this.lines[f];this.height-=g.height,un(g),_r(g,"delete")}this.lines.splice(o,a)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,a,f){this.height+=f,this.lines=this.lines.slice(0,o).concat(a).concat(this.lines.slice(o));for(var u=0;u<a.length;++u)a[u].parent=this},iterN:function(o,a,f){for(var u=o+a;o<u;++o)if(f(this.lines[o]))return!0}},ml.prototype={chunkSize:function(){return this.size},removeInner:function(o,a){this.size-=a;for(var f=0;f<this.children.length;++f){var u=this.children[f],g=u.chunkSize();if(o<g){var $=Math.min(a,g-o),le=u.height;if(u.removeInner(o,$),this.height-=le-u.height,g==$&&(this.children.splice(f--,1),u.parent=null),0==(a-=$))break;o=0}else o-=g}if(this.size-a<25&&(this.children.length>1||!(this.children[0]instanceof gl))){var fe=[];this.collapse(fe),this.children=[new gl(fe)],this.children[0].parent=this}},collapse:function(o){for(var a=0;a<this.children.length;++a)this.children[a].collapse(o)},insertInner:function(o,a,f){this.size+=a.length,this.height+=f;for(var u=0;u<this.children.length;++u){var g=this.children[u],$=g.chunkSize();if(o<=$){if(g.insertInner(o,a,f),g.lines&&g.lines.length>50){for(var le=g.lines.length%25+25,fe=le;fe<g.lines.length;){var Se=new gl(g.lines.slice(fe,fe+=25));g.height-=Se.height,this.children.splice(++u,0,Se),Se.parent=this}g.lines=g.lines.slice(0,le),this.maybeSpill()}break}o-=$}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var a=new ml(o.children.splice(o.children.length-5,5));if(o.parent){o.size-=a.size,o.height-=a.height;var f=ne(o.parent.children,o);o.parent.children.splice(f+1,0,a)}else{var u=new ml(o.children);u.parent=o,o.children=[u,a],o=u}a.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,a,f){for(var u=0;u<this.children.length;++u){var g=this.children[u],$=g.chunkSize();if(o<$){var le=Math.min(a,$-o);if(g.iterN(o,le,f))return!0;if(0==(a-=le))break;o=0}else o-=$}}};var vl=function(o,a,f){if(f)for(var u in f)f.hasOwnProperty(u)&&(this[u]=f[u]);this.doc=o,this.node=a};function yl(o,a,f){Gr(a)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Fd(o,f)}vl.prototype.clear=function(){var o=this.doc.cm,a=this.line.widgets,f=this.line,u=ln(f);if(null!=u&&a){for(var g=0;g<a.length;++g)a[g]==this&&a.splice(g--,1);a.length||(f.widgets=null);var $=Ie(this);Jt(f,Math.max(0,f.height-$)),o&&(Li(o,function(){yl(o,f,-$),Ci(o,u,"widget")}),_r(o,"lineWidgetCleared",o,this,u))}},vl.prototype.changed=function(){var o=this,a=this.height,f=this.doc.cm,u=this.line;this.height=null;var g=Ie(this)-a;g&&(Gi(this.doc,u)||Jt(u,u.height+g),f&&Li(f,function(){f.curOp.forceUpdate=!0,yl(f,u,g),_r(f,"lineWidgetChanged",f,o,ln(u))}))},De(vl);var bl=0,To=function(o,a){this.lines=[],this.type=a,this.doc=o,this.id=++bl};function Is(o,a,f,u,g){if(u&&u.shared)return function(Ke,tt,Xe,vt,ut){(vt=Le(vt)).shared=!1;var bt=[Is(Ke,tt,Xe,vt,ut)],Tt=bt[0],At=vt.widgetNode;return vr(Ke,function(zt){At&&(vt.widgetNode=At.cloneNode(!0)),bt.push(Is(zt,Bt(zt,tt),Bt(zt,Xe),vt,ut));for(var Zt=0;Zt<zt.linked.length;++Zt)if(zt.linked[Zt].isParent)return;Tt=V(bt)}),new Fa(bt,Tt)}(o,a,f,u,g);if(o.cm&&!o.cm.curOp)return ei(o.cm,Is)(o,a,f,u,g);var $=new To(o,g),le=xe(a,f);if(u&&Le(u,$,!1),le>0||0==le&&!1!==$.clearWhenEmpty)return $;if($.replacedWith&&($.collapsed=!0,$.widgetNode=te("span",[$.replacedWith],"CodeMirror-widget"),u.handleMouseEvents||$.widgetNode.setAttribute("cm-ignore-events","true"),u.insertLeft&&($.widgetNode.insertLeft=!0)),$.collapsed){if(no(o,a.line,a,f,$)||a.line!=f.line&&no(o,f.line,a,f,$))throw new Error("Inserting collapsed marker partially overlapping an existing one");ir=!0}$.addToHistory&&Yh(o,{from:a,to:f,origin:"markText"},o.sel,NaN);var fe,Se=a.line,Te=o.cm;if(o.iter(Se,f.line+1,function(Ke){var tt,Xe,vt,ut;Te&&$.collapsed&&!Te.options.lineWrapping&&Zn(Ke)==Te.display.maxLine&&(fe=!0),$.collapsed&&Se!=a.line&&Jt(Ke,0),tt=Ke,Xe=new ji($,Se==a.line?a.ch:null,Se==f.line?f.ch:null),(ut=(vt=o.cm&&o.cm.curOp)&&window.WeakSet&&(vt.markedSpans||(vt.markedSpans=new WeakSet)))&&ut.has(tt.markedSpans)?tt.markedSpans.push(Xe):(tt.markedSpans=tt.markedSpans?tt.markedSpans.concat([Xe]):[Xe],ut&&ut.add(tt.markedSpans)),Xe.marker.attachLine(tt),++Se}),$.collapsed&&o.iter(a.line,f.line+1,function(Ke){Gi(o,Ke)&&Jt(Ke,0)}),$.clearOnEnter&&et($,"beforeCursorEnter",function(){return $.clear()}),$.readOnly&&(Di=!0,(o.history.done.length||o.history.undone.length)&&o.clearHistory()),$.collapsed&&($.id=++bl,$.atomic=!0),Te){if(fe&&(Te.curOp.updateMaxLine=!0),$.collapsed)Ni(Te,a.line,f.line+1);else if($.className||$.startStyle||$.endStyle||$.css||$.attributes||$.title)for(var Ye=a.line;Ye<=f.line;Ye++)Ci(Te,Ye,"text");$.atomic&&ec(Te.doc),_r(Te,"markerAdded",Te,$)}return $}To.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,a=o&&!o.curOp;if(a&&na(o),mt(this,"clear")){var f=this.find();f&&_r(this,"clear",f.from,f.to)}for(var u=null,g=null,$=0;$<this.lines.length;++$){var le=this.lines[$],fe=Vr(le.markedSpans,this);o&&!this.collapsed?Ci(o,ln(le),"text"):o&&(null!=fe.to&&(g=ln(le)),null!=fe.from&&(u=ln(le))),le.markedSpans=vi(le.markedSpans,fe),null==fe.from&&this.collapsed&&!Gi(this.doc,le)&&o&&Jt(le,Ta(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var Se=0;Se<this.lines.length;++Se){var Te=Zn(this.lines[Se]),Ye=io(Te);Ye>o.display.maxLineLength&&(o.display.maxLine=Te,o.display.maxLineLength=Ye,o.display.maxLineChanged=!0)}null!=u&&o&&this.collapsed&&Ni(o,u,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&ec(o.doc)),o&&_r(o,"markerCleared",o,this,u,g),a&&Ds(o),this.parent&&this.parent.clear()}},To.prototype.find=function(o,a){var f,u;null==o&&"bookmark"==this.type&&(o=1);for(var g=0;g<this.lines.length;++g){var $=this.lines[g],le=Vr($.markedSpans,this);if(null!=le.from&&(f=J(a?$:ln($),le.from),-1==o))return f;if(null!=le.to&&(u=J(a?$:ln($),le.to),1==o))return u}return f&&{from:f,to:u}},To.prototype.changed=function(){var o=this,a=this.find(-1,!0),f=this,u=this.doc.cm;a&&u&&Li(u,function(){var g=a.line,$=ln(a.line),le=Rn(u,$);if(le&&($n(le),u.curOp.selectionChanged=u.curOp.forceUpdate=!0),u.curOp.updateMaxLine=!0,!Gi(f.doc,g)&&null!=f.height){var fe=f.height;f.height=null;var Se=Ie(f)-fe;Se&&Jt(g,g.height+Se)}_r(u,"markerChanged",u,o)})},To.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;a.maybeHiddenMarkers&&-1!=ne(a.maybeHiddenMarkers,this)||(a.maybeUnhiddenMarkers||(a.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},To.prototype.detachLine=function(o){if(this.lines.splice(ne(this.lines,o),1),!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this)}},De(To);var Fa=function(o,a){this.markers=o,this.primary=a;for(var f=0;f<o.length;++f)o[f].parent=this};function Qd(o){return o.findMarks(J(o.first,0),o.clipPos(J(o.lastLine())),function(a){return a.parent})}function js(o){for(var a=function(u){var g=o[u],$=[g.primary.doc];vr(g.primary.doc,function(Se){return $.push(Se)});for(var le=0;le<g.markers.length;le++){var fe=g.markers[le];-1==ne($,fe.doc)&&(fe.parent=null,g.markers.splice(le--,1))}},f=0;f<o.length;f++)a(f)}Fa.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();_r(this,"clear")}},Fa.prototype.find=function(o,a){return this.primary.find(o,a)},De(Fa);var wl=0,Ui=function(o,a,f,u,g){if(!(this instanceof Ui))return new Ui(o,a,f,u,g);null==f&&(f=0),ml.call(this,[new gl([new rn("",null)])]),this.first=f,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=f;var $=J(f,0);this.sel=Ts($),this.history=new fo(null),this.id=++wl,this.modeOption=a,this.lineSep=u,this.direction="rtl"==g?"rtl":"ltr",this.extend=!1,"string"==typeof o&&(o=this.splitLines(o)),mu(this,{from:$,to:$,text:o}),oi(this,Ts($),_)};Ui.prototype=He(ml.prototype,{constructor:Ui,iter:function(o,a,f){f?this.iterN(o-this.first,a-o,f):this.iterN(this.first,this.first+this.size,o)},insert:function(o,a){for(var f=0,u=0;u<a.length;++u)f+=a[u].height;this.insertInner(o-this.first,a,f)},remove:function(o,a){this.removeInner(o-this.first,a)},getValue:function(o){var a=rr(this,this.first,this.first+this.size);return!1===o?a:a.join(o||this.lineSeparator())},setValue:ii(function(o){var a=J(this.first,0),f=this.first+this.size-1;la(this,{from:a,to:J(f,Wt(this,f).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&Wl(this.cm,0,0),oi(this,Ts(a),_)}),replaceRange:function(o,a,f,u){ho(this,o,a=Bt(this,a),f=f?Bt(this,f):a,u)},getRange:function(o,a,f){var u=vn(this,Bt(this,o),Bt(this,a));return!1===f?u:u.join(""===f?"":f||this.lineSeparator())},getLine:function(o){var a=this.getLineHandle(o);return a&&a.text},getLineHandle:function(o){if(dr(this,o))return Wt(this,o)},getLineNumber:function(o){return ln(o)},getLineHandleVisualStart:function(o){return"number"==typeof o&&(o=Wt(this,o)),Zn(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return Bt(this,o)},getCursor:function(o){var a=this.sel.primary();return null==o||"head"==o?a.head:"anchor"==o?a.anchor:"end"==o||"to"==o||!1===o?a.to():a.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ii(function(o,a,f){qd(this,Bt(this,"number"==typeof o?J(o,a||0):o),null,f)}),setSelection:ii(function(o,a,f){qd(this,Bt(this,o),Bt(this,a||o),f)}),extendSelection:ii(function(o,a,f){Oo(this,Bt(this,o),a&&Bt(this,a),f)}),extendSelections:ii(function(o,a){Wd(this,xn(this,o),a)}),extendSelectionsBy:ii(function(o,a){Wd(this,xn(this,X(this.sel.ranges,o)),a)}),setSelections:ii(function(o,a,f){if(o.length){for(var u=[],g=0;g<o.length;g++)u[g]=new tn(Bt(this,o[g].anchor),Bt(this,o[g].head||o[g].anchor));null==a&&(a=Math.min(o.length-1,this.sel.primIndex)),oi(this,Ho(this.cm,u,a),f)}}),addSelection:ii(function(o,a,f){var u=this.sel.ranges.slice(0);u.push(new tn(Bt(this,o),Bt(this,a||o))),oi(this,Ho(this.cm,u,u.length-1),f)}),getSelection:function(o){for(var a,f=this.sel.ranges,u=0;u<f.length;u++){var g=vn(this,f[u].from(),f[u].to());a=a?a.concat(g):g}return!1===o?a:a.join(o||this.lineSeparator())},getSelections:function(o){for(var a=[],f=this.sel.ranges,u=0;u<f.length;u++){var g=vn(this,f[u].from(),f[u].to());!1!==o&&(g=g.join(o||this.lineSeparator())),a[u]=g}return a},replaceSelection:function(o,a,f){for(var u=[],g=0;g<this.sel.ranges.length;g++)u[g]=o;this.replaceSelections(u,a,f||"+input")},replaceSelections:ii(function(o,a,f){for(var u=[],g=this.sel,$=0;$<g.ranges.length;$++){var le=g.ranges[$];u[$]={from:le.from(),to:le.to(),text:this.splitLines(o[$]),origin:f}}for(var fe=a&&"end"!=a&&function(Te,Ye,Ke){for(var tt=[],Xe=J(Te.first,0),vt=Xe,ut=0;ut<Ye.length;ut++){var bt=Ye[ut],Tt=$d(bt.from,Xe,vt),At=$d(Ps(bt),Xe,vt);if(Xe=bt.to,vt=At,"around"==Ke){var zt=Te.sel.ranges[ut],Zt=xe(zt.head,zt.anchor)<0;tt[ut]=new tn(Zt?At:Tt,Zt?Tt:At)}else tt[ut]=new tn(Tt,Tt)}return new Vi(tt,Te.sel.primIndex)}(this,u,a),Se=u.length-1;Se>=0;Se--)la(this,u[Se]);fe?Gd(this,fe):this.cm&&cl(this.cm)}),undo:ii(function(){tc(this,"undo")}),redo:ii(function(){tc(this,"redo")}),undoSelection:ii(function(){tc(this,"undo",!0)}),redoSelection:ii(function(){tc(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,a=0,f=0,u=0;u<o.done.length;u++)o.done[u].ranges||++a;for(var g=0;g<o.undone.length;g++)o.undone[g].ranges||++f;return{undo:a,redo:f}},clearHistory:function(){var o=this;this.history=new fo(this.history),vr(this,function(a){return a.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:oa(this.history.done),undone:oa(this.history.undone)}},setHistory:function(o){var a=this.history=new fo(this.history);a.done=oa(o.done.slice(0),null,!0),a.undone=oa(o.undone.slice(0),null,!0)},setGutterMarker:ii(function(o,a,f){return $o(this,o,"gutter",function(u){var g=u.gutterMarkers||(u.gutterMarkers={});return g[a]=f,!f&&Ue(g)&&(u.gutterMarkers=null),!0})}),clearGutter:ii(function(o){var a=this;this.iter(function(f){f.gutterMarkers&&f.gutterMarkers[o]&&$o(a,f,"gutter",function(){return f.gutterMarkers[o]=null,Ue(f.gutterMarkers)&&(f.gutterMarkers=null),!0})})}),lineInfo:function(o){var a;if("number"==typeof o){if(!(dr(this,o)&&(a=o,o=Wt(this,o))))return null}else if(null==(a=ln(o)))return null;return{line:a,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:ii(function(o,a,f){return $o(this,o,"gutter"==a?"gutter":"class",function(u){var g="text"==a?"textClass":"background"==a?"bgClass":"gutter"==a?"gutterClass":"wrapClass";if(u[g]){if(I(f).test(u[g]))return!1;u[g]+=" "+f}else u[g]=f;return!0})}),removeLineClass:ii(function(o,a,f){return $o(this,o,"gutter"==a?"gutter":"class",function(u){var g="text"==a?"textClass":"background"==a?"bgClass":"gutter"==a?"gutterClass":"wrapClass",$=u[g];if(!$)return!1;if(null==f)u[g]=null;else{var le=$.match(I(f));if(!le)return!1;var fe=le.index+le[0].length;u[g]=$.slice(0,le.index)+(le.index&&fe!=$.length?" ":"")+$.slice(fe)||null}return!0})}),addLineWidget:ii(function(o,a,f){return g=o,fe=new vl(u=this,a,f),(Se=u.cm)&&fe.noHScroll&&(Se.display.alignWidgets=!0),$o(u,g,"widget",function(Te){var Ye=Te.widgets||(Te.widgets=[]);if(null==fe.insertAt?Ye.push(fe):Ye.splice(Math.min(Ye.length,Math.max(0,fe.insertAt)),0,fe),fe.line=Te,Se&&!Gi(u,Te)){var Ke=Gr(Te)<u.scrollTop;Jt(Te,Te.height+Ie(fe)),Ke&&Fd(Se,fe.height),Se.curOp.forceUpdate=!0}return!0}),Se&&_r(Se,"lineWidgetAdded",Se,fe,"number"==typeof g?g:ln(g)),fe;var u,g,fe,Se}),removeLineWidget:function(o){o.clear()},markText:function(o,a,f){return Is(this,Bt(this,o),Bt(this,a),f,f&&f.type||"range")},setBookmark:function(o,a){var f={replacedWith:a&&(null==a.nodeType?a.widget:a),insertLeft:a&&a.insertLeft,clearWhenEmpty:!1,shared:a&&a.shared,handleMouseEvents:a&&a.handleMouseEvents};return Is(this,o=Bt(this,o),o,f,"bookmark")},findMarksAt:function(o){var a=[],f=Wt(this,(o=Bt(this,o)).line).markedSpans;if(f)for(var u=0;u<f.length;++u){var g=f[u];(null==g.from||g.from<=o.ch)&&(null==g.to||g.to>=o.ch)&&a.push(g.marker.parent||g.marker)}return a},findMarks:function(o,a,f){o=Bt(this,o),a=Bt(this,a);var u=[],g=o.line;return this.iter(o.line,a.line+1,function($){var le=$.markedSpans;if(le)for(var fe=0;fe<le.length;fe++){var Se=le[fe];null!=Se.to&&g==o.line&&o.ch>=Se.to||null==Se.from&&g!=o.line||null!=Se.from&&g==a.line&&Se.from>=a.ch||f&&!f(Se.marker)||u.push(Se.marker.parent||Se.marker)}++g}),u},getAllMarks:function(){var o=[];return this.iter(function(a){var f=a.markedSpans;if(f)for(var u=0;u<f.length;++u)null!=f[u].from&&o.push(f[u].marker)}),o},posFromIndex:function(o){var a,f=this.first,u=this.lineSeparator().length;return this.iter(function(g){var $=g.text.length+u;if($>o)return a=o,!0;o-=$,++f}),Bt(this,J(f,a))},indexFromPos:function(o){var a=(o=Bt(this,o)).ch;if(o.line<this.first||o.ch<0)return 0;var f=this.lineSeparator().length;return this.iter(this.first,o.line,function(u){a+=u.text.length+f}),a},copy:function(o){var a=new Ui(rr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return a.scrollTop=this.scrollTop,a.scrollLeft=this.scrollLeft,a.sel=this.sel,a.extend=!1,o&&(a.history.undoDepth=this.history.undoDepth,a.setHistory(this.getHistory())),a},linkedDoc:function(o){o||(o={});var a=this.first,f=this.first+this.size;null!=o.from&&o.from>a&&(a=o.from),null!=o.to&&o.to<f&&(f=o.to);var u=new Ui(rr(this,a,f),o.mode||this.modeOption,a,this.lineSep,this.direction);return o.sharedHist&&(u.history=this.history),(this.linked||(this.linked=[])).push({doc:u,sharedHist:o.sharedHist}),u.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],function(g,$){for(var le=0;le<$.length;le++){var fe=$[le],Se=fe.find(),Te=g.clipPos(Se.from),Ye=g.clipPos(Se.to);if(xe(Te,Ye)){var Ke=Is(g,Te,Ye,fe.primary,fe.primary.type);fe.markers.push(Ke),Ke.parent=fe}}}(u,Qd(this)),u},unlinkDoc:function(o){if(o instanceof Mr&&(o=o.doc),this.linked)for(var a=0;a<this.linked.length;++a)if(this.linked[a].doc==o){this.linked.splice(a,1),o.unlinkDoc(this),js(Qd(this));break}if(o.history==this.history){var f=[o.id];vr(o,function(u){return f.push(u.id)},!0),o.history=new fo(null),o.history.done=oa(this.history.done,f),o.history.undone=oa(this.history.undone,f)}},iterLinkedDocs:function(o){vr(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):ee(o)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ii(function(o){var a;"rtl"!=o&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(f){return f.order=null}),this.cm&&Li(a=this.cm,function(){Na(a),Ni(a)}))})}),Ui.prototype.eachLine=Ui.prototype.iter;var Xd=0;function Cl(o){var a=this;if(nc(a),!Je(a,o)&&!We(a.display,o)){dt(o),U&&(Xd=+new Date);var f=lo(a,o,!0),u=o.dataTransfer.files;if(f&&!a.isReadOnly())if(u&&u.length&&window.FileReader&&window.File)for(var g=u.length,$=Array(g),le=0,fe=function(){++le==g&&ei(a,function(){var Xe={from:f=Bt(a.doc,f),to:f,text:a.doc.splitLines($.filter(function(vt){return null!=vt}).join(a.doc.lineSeparator())),origin:"paste"};la(a.doc,Xe),Gd(a.doc,Ts(Bt(a.doc,f),Bt(a.doc,Ps(Xe))))})()},Se=function(Xe,vt){if(a.options.allowDropFileTypes&&-1==ne(a.options.allowDropFileTypes,Xe.type))fe();else{var ut=new FileReader;ut.onerror=function(){return fe()},ut.onload=function(){var bt=ut.result;/[\x00-\x08\x0e-\x1f]{2}/.test(bt)||($[vt]=bt),fe()},ut.readAsText(Xe)}},Te=0;Te<u.length;Te++)Se(u[Te],Te);else{if(a.state.draggingText&&a.doc.sel.contains(f)>-1)return a.state.draggingText(o),void setTimeout(function(){return a.display.input.focus()},20);try{var Ye=o.dataTransfer.getData("Text");if(Ye){var Ke;if(a.state.draggingText&&!a.state.draggingText.copy&&(Ke=a.listSelections()),La(a.doc,Ts(f,f)),Ke)for(var tt=0;tt<Ke.length;++tt)ho(a.doc,"",Ke[tt].anchor,Ke[tt].head,"drag");a.replaceSelection(Ye,"around","paste"),a.display.input.focus()}}catch(Xe){}}}}function nc(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function Jd(o){if(document.getElementsByClassName){for(var a=document.getElementsByClassName("CodeMirror"),f=[],u=0;u<a.length;u++){var g=a[u].CodeMirror;g&&f.push(g)}f.length&&f[0].operation(function(){for(var $=0;$<f.length;$++)o(f[$])})}}var ef=!1;function xv(o){var a=o.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.scrollbarsClipped=!1,o.setSize()}for(var Po={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Va=0;Va<10;Va++)Po[Va+48]=Po[Va+96]=String(Va);for(var Ba=65;Ba<=90;Ba++)Po[Ba]=String.fromCharCode(Ba);for(var Rs=1;Rs<=12;Rs++)Po[Rs+111]=Po[Rs+63235]="F"+Rs;var Wo={};function tf(o){var a,f,u,g,$=o.split(/-(?!$)/);o=$[$.length-1];for(var le=0;le<$.length-1;le++){var fe=$[le];if(/^(cmd|meta|m)$/i.test(fe))g=!0;else if(/^a(lt)?$/i.test(fe))a=!0;else if(/^(c|ctrl|control)$/i.test(fe))f=!0;else{if(!/^s(hift)?$/i.test(fe))throw new Error("Unrecognized modifier name: "+fe);u=!0}}return a&&(o="Alt-"+o),f&&(o="Ctrl-"+o),g&&(o="Cmd-"+o),u&&(o="Shift-"+o),o}function Ua(o){var a={};for(var f in o)if(o.hasOwnProperty(f)){var u=o[f];if(/^(name|fallthrough|(de|at)tach)$/.test(f))continue;if("..."==u){delete o[f];continue}for(var g=X(f.split(" "),tf),$=0;$<g.length;$++){var le=void 0,fe=void 0;$==g.length-1?(fe=g.join(" "),le=u):(fe=g.slice(0,$+1).join(" "),le="...");var Se=a[fe];if(Se){if(Se!=le)throw new Error("Inconsistent bindings for "+fe)}else a[fe]=le}delete o[f]}for(var Te in a)o[Te]=a[Te];return o}function Ha(o,a,f,u){var g=(a=_u(a)).call?a.call(o,u):a[o];if(!1===g)return"nothing";if("..."===g)return"multi";if(null!=g&&f(g))return"handled";if(a.fallthrough){if("[object Array]"!=Object.prototype.toString.call(a.fallthrough))return Ha(o,a.fallthrough,f,u);for(var $=0;$<a.fallthrough.length;$++){var le=Ha(o,a.fallthrough[$],f,u);if(le)return le}}}function ca(o){var a="string"==typeof o?o:Po[o.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function rc(o,a,f){var u=o;return a.altKey&&"Alt"!=u&&(o="Alt-"+o),(W?a.metaKey:a.ctrlKey)&&"Ctrl"!=u&&(o="Ctrl-"+o),(W?a.ctrlKey:a.metaKey)&&"Mod"!=u&&(o="Cmd-"+o),!f&&a.shiftKey&&"Shift"!=u&&(o="Shift-"+o),o}function _l(o,a){if(D&&34==o.keyCode&&o.char)return!1;var f=Po[o.keyCode];return null!=f&&!o.altGraphKey&&(3==o.keyCode&&o.code&&(f=o.code),rc(f,o,a))}function _u(o){return"string"==typeof o?Wo[o]:o}function ua(o,a){for(var f=o.doc.sel.ranges,u=[],g=0;g<f.length;g++){for(var $=a(f[g]);u.length&&xe($.from,V(u).to)<=0;){var le=u.pop();if(xe(le.from,$.from)<0){$.from=le.from;break}}u.push($)}Li(o,function(){for(var fe=u.length-1;fe>=0;fe--)ho(o.doc,"",u[fe].from,u[fe].to,"+delete");cl(o)})}function ic(o,a,f){var u=pt(o.text,a+f,f);return u<0||u>o.text.length?null:u}function xu(o,a,f){var u=ic(o,a.ch,f);return null==u?null:new J(a.line,u,f<0?"after":"before")}function Ou(o,a,f,u,g){if(o){"rtl"==a.doc.direction&&(g=-g);var $=Ve(f,a.doc.direction);if($){var le,fe=g<0?V($):$[0],Se=g<0==(1==fe.level)?"after":"before";if(fe.level>0||"rtl"==a.doc.direction){var Te=Qn(a,f),Ye=xr(a,Te,le=g<0?f.text.length-1:0).top;le=kt(function(Ke){return xr(a,Te,Ke).top==Ye},g<0==(1==fe.level)?fe.from:fe.to-1,le),"before"==Se&&(le=ic(f,le,1))}else le=g<0?fe.to:fe.from;return new J(u,le,Se)}}return new J(u,g<0?f.text.length:0,g<0?"before":"after")}Wo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Wo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Wo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Wo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Wo.default=A?Wo.macDefault:Wo.pcDefault;var ss={selectAll:wu,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),_)},killLine:function(o){return ua(o,function(a){if(a.empty()){var f=Wt(o.doc,a.head.line).text.length;return a.head.ch==f&&a.head.line<o.lastLine()?{from:a.head,to:J(a.head.line+1,0)}:{from:a.head,to:J(a.head.line,f)}}return{from:a.from(),to:a.to()}})},deleteLine:function(o){return ua(o,function(a){return{from:J(a.from().line,0),to:Bt(o.doc,J(a.to().line+1,0))}})},delLineLeft:function(o){return ua(o,function(a){return{from:J(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(o){return ua(o,function(a){var f=o.charCoords(a.head,"div").top+5;return{from:o.coordsChar({left:0,top:f},"div"),to:a.from()}})},delWrappedLineRight:function(o){return ua(o,function(a){var f=o.charCoords(a.head,"div").top+5,u=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:f},"div");return{from:a.from(),to:u}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(J(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(J(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(a){return oc(o,a.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(a){return sc(o,a.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(a){return($=function(le){for(var fe;fe=bi(le);)le=fe.find(1,!0).line;return le}(g=Wt((f=o).doc,u=a.head.line)))!=g&&(u=ln($)),Ou(!0,f,g,u,-1);var f,u,g,$},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(a){var f=o.cursorCoords(a.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:f},"div")},G)},goLineLeft:function(o){return o.extendSelectionsBy(function(a){var f=o.cursorCoords(a.head,"div").top+5;return o.coordsChar({left:0,top:f},"div")},G)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(a){var f=o.cursorCoords(a.head,"div").top+5,u=o.coordsChar({left:0,top:f},"div");return u.ch<o.getLine(u.line).search(/\S/)?sc(o,a.head):u},G)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("\t")},insertSoftTab:function(o){for(var a=[],f=o.listSelections(),u=o.options.tabSize,g=0;g<f.length;g++){var $=f[g].from(),le=_e(o.getLine($.line),$.ch,u);a.push(m(u-le%u))}o.replaceSelections(a)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Li(o,function(){for(var a=o.listSelections(),f=[],u=0;u<a.length;u++)if(a[u].empty()){var g=a[u].head,$=Wt(o.doc,g.line).text;if($)if(g.ch==$.length&&(g=new J(g.line,g.ch-1)),g.ch>0)g=new J(g.line,g.ch+1),o.replaceRange($.charAt(g.ch-1)+$.charAt(g.ch-2),J(g.line,g.ch-2),g,"+transpose");else if(g.line>o.doc.first){var le=Wt(o.doc,g.line-1).text;le&&(g=new J(g.line,1),o.replaceRange($.charAt(0)+o.doc.lineSeparator()+le.charAt(le.length-1),J(g.line-1,le.length-1),g,"+transpose"))}f.push(new tn(g,g))}o.setSelections(f)})},newlineAndIndent:function(o){return Li(o,function(){for(var a=o.listSelections(),f=a.length-1;f>=0;f--)o.replaceRange(o.doc.lineSeparator(),a[f].anchor,a[f].head,"+input");a=o.listSelections();for(var u=0;u<a.length;u++)o.indentLine(a[u].from().line,null,!0);cl(o)})},openLine:function(o){return o.replaceSelection("\n","start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function oc(o,a){var f=Wt(o.doc,a),u=Zn(f);return u!=f&&(a=ln(u)),Ou(!0,o,u,a,1)}function sc(o,a){var f=oc(o,a.line),u=Wt(o.doc,f.line),g=Ve(u,o.doc.direction);if(!g||0==g[0].level){var $=Math.max(f.ch,u.text.search(/\S/));return J(f.line,a.line==f.line&&a.ch<=$&&a.ch?0:$,f.sticky)}return f}function da(o,a,f){if("string"==typeof a&&!(a=ss[a]))return!1;o.display.input.ensurePolled();var u=o.display.shift,g=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),f&&(o.display.shift=!1),g=a(o)!=me}finally{o.display.shift=u,o.state.suppressEdits=!1}return g}var ac=new ie;function xl(o,a,f,u){var g=o.state.keySeq;if(g){if(ca(a))return"handled";if(/\'$/.test(a)?o.state.keySeq=null:ac.set(50,function(){o.state.keySeq==g&&(o.state.keySeq=null,o.display.input.reset())}),Eu(o,g+" "+a,f,u))return!0}return Eu(o,a,f,u)}function Eu(o,a,f,u){var g=function($,le,fe){for(var Se=0;Se<$.state.keyMaps.length;Se++){var Te=Ha(le,$.state.keyMaps[Se],fe,$);if(Te)return Te}return $.options.extraKeys&&Ha(le,$.options.extraKeys,fe,$)||Ha(le,$.options.keyMap,fe,$)}(o,a,u);return"multi"==g&&(o.state.keySeq=a),"handled"==g&&_r(o,"keyHandled",o,a,f),"handled"!=g&&"multi"!=g||(dt(f),iu(o)),!!g}function Su(o,a){var f=_l(a,!0);return!!f&&(a.shiftKey&&!o.state.keySeq?xl(o,"Shift-"+f,a,function(u){return da(o,u,!0)})||xl(o,f,a,function(u){if("string"==typeof u?/^go[A-Z]/.test(u):u.motion)return da(o,u)}):xl(o,f,a,function(u){return da(o,u)}))}var lc=null;function Du(o){var a=this;if(!(o.target&&o.target!=a.display.input.getField()||(a.curOp.focus=ue(),Je(a,o)))){U&&T<11&&27==o.keyCode&&(o.returnValue=!1);var f=o.keyCode;a.display.shift=16==f||o.shiftKey;var u=Su(a,o);D&&(lc=u?f:null,u||88!=f||qe||!(A?o.metaKey:o.ctrlKey)||a.replaceSelection("",null,"cut")),de&&!A&&!u&&46==f&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=f||/\bCodeMirror-crosshair\b/.test(a.display.lineDiv.className)||function(g){var $=g.display.lineDiv;function le(fe){18!=fe.keyCode&&fe.altKey||(y($,"CodeMirror-crosshair"),ke(document,"keyup",le),ke(document,"mouseover",le))}ye($,"CodeMirror-crosshair"),et(document,"keyup",le),et(document,"mouseover",le)}(a)}}function nf(o){16==o.keyCode&&(this.doc.sel.shift=!1),Je(this,o)}function rf(o){var $,a=this;if(!(o.target&&o.target!=a.display.input.getField()||We(a.display,o)||Je(a,o)||o.ctrlKey&&!o.altKey||A&&o.metaKey)){var f=o.keyCode,u=o.charCode;if(D&&f==lc)return lc=null,void dt(o);if(!D||o.which&&!(o.which<10)||!Su(a,o)){var g=String.fromCharCode(null==u?f:u);"\b"!=g&&(xl($=a,"'"+g+"'",o,function(Se){return da($,Se,!0)})||a.display.input.onKeyPress(o))}}}var Ns,as,cc=function(o,a,f){this.time=o,this.pos=a,this.button=f};function ku(o){var le,fe,Se,a=this,f=a.display;if(!(Je(a,o)||f.activeTouch&&f.input.supportsTouch()))if(f.input.ensurePolled(),f.shift=o.shiftKey,We(f,o))v||(f.scroller.draggable=!1,setTimeout(function(){return f.scroller.draggable=!0},100));else if(!Ol(a,o)){var u=lo(a,o),g=lt(o),$=u?(le=u,fe=g,Se=+new Date,as&&as.compare(Se,le,fe)?(Ns=as=null,"triple"):Ns&&Ns.compare(Se,le,fe)?(as=new cc(Se,le,fe),Ns=null,"double"):(Ns=new cc(Se,le,fe),as=null,"single")):"single";window.focus(),1==g&&a.state.selectingText&&a.state.selectingText(o),u&&function(le,fe,Se,Te,Ye){var Ke="Click";return"double"==Te?Ke="Double"+Ke:"triple"==Te&&(Ke="Triple"+Ke),xl(le,rc(Ke=(1==fe?"Left":2==fe?"Middle":"Right")+Ke,Ye),Ye,function(tt){if("string"==typeof tt&&(tt=ss[tt]),!tt)return!1;var Xe=!1;try{le.isReadOnly()&&(le.state.suppressEdits=!0),Xe=tt(le,Se)!=me}finally{le.state.suppressEdits=!1}return Xe})}(a,g,u,$,o)||(1==g?u?function(le,fe,Se,Te){U?setTimeout(Me(Hh,le),0):le.curOp.focus=ue();var Ye,Xe,vt,ut,bt,Tt,At,zt,Zt,$t,Ke=function(Xe,vt,ut){var bt=Xe.getOption("configureMouse"),Tt=bt?bt(Xe,vt,ut):{};return null==Tt.unit&&(Tt.unit=(z?ut.shiftKey&&ut.metaKey:ut.altKey)?"rectangle":"single"==vt?"char":"double"==vt?"word":"line"),(null==Tt.extend||Xe.doc.extend)&&(Tt.extend=Xe.doc.extend||ut.shiftKey),null==Tt.addNew&&(Tt.addNew=A?ut.metaKey:ut.ctrlKey),null==Tt.moveOnDrag&&(Tt.moveOnDrag=!(A?ut.altKey:ut.ctrlKey)),Tt}(le,Se,Te),tt=le.doc.sel;le.options.dragDrop&&Lt&&!le.isReadOnly()&&"single"==Se&&(Ye=tt.contains(fe))>-1&&(xe((Ye=tt.ranges[Ye]).from(),fe)<0||fe.xRel>0)&&(xe(Ye.to(),fe)>0||fe.xRel<0)?(vt=Te,ut=fe,bt=Ke,Tt=(Xe=le).display,At=!1,zt=ei(Xe,function(Kt){v&&(Tt.scroller.draggable=!1),Xe.state.draggingText=!1,Xe.state.delayingBlurEvent&&(Xe.hasFocus()?Xe.state.delayingBlurEvent=!1:Rd(Xe)),ke(Tt.wrapper.ownerDocument,"mouseup",zt),ke(Tt.wrapper.ownerDocument,"mousemove",Zt),ke(Tt.scroller,"dragstart",$t),ke(Tt.scroller,"drop",zt),At||(dt(Kt),bt.addNew||Oo(Xe.doc,ut,null,null,bt.extend),v&&!x||U&&9==T?setTimeout(function(){Tt.wrapper.ownerDocument.body.focus({preventScroll:!0}),Tt.input.focus()},20):Tt.input.focus())}),Zt=function(Kt){At=At||Math.abs(vt.clientX-Kt.clientX)+Math.abs(vt.clientY-Kt.clientY)>=10},$t=function(){return At=!0},v&&(Tt.scroller.draggable=!0),Xe.state.draggingText=zt,zt.copy=!bt.moveOnDrag,et(Tt.wrapper.ownerDocument,"mouseup",zt),et(Tt.wrapper.ownerDocument,"mousemove",Zt),et(Tt.scroller,"dragstart",$t),et(Tt.scroller,"drop",zt),Xe.state.delayingBlurEvent=!0,setTimeout(function(){return Tt.input.focus()},20),Tt.scroller.dragDrop&&Tt.scroller.dragDrop()):function(Xe,vt,ut,bt){U&&Rd(Xe);var Tt=Xe.display,At=Xe.doc;dt(vt);var zt,Zt,$t=At.sel,Kt=$t.ranges;if(bt.addNew&&!bt.extend?(Zt=At.sel.contains(ut),zt=Zt>-1?Kt[Zt]:new tn(ut,ut)):(zt=At.sel.primary(),Zt=At.sel.primIndex),"rectangle"==bt.unit)bt.addNew||(zt=new tn(ut,ut)),ut=lo(Xe,vt,!0,!0),Zt=-1;else{var bn=fa(Xe,ut,bt.unit);zt=bt.extend?Ms(zt,bn.anchor,bn.head,bt.extend):bn}bt.addNew?-1==Zt?(Zt=Kt.length,oi(At,Ho(Xe,Kt.concat([zt]),Zt),{scroll:!1,origin:"*mouse"})):Kt.length>1&&Kt[Zt].empty()&&"char"==bt.unit&&!bt.extend?(oi(At,Ho(Xe,Kt.slice(0,Zt).concat(Kt.slice(Zt+1)),0),{scroll:!1,origin:"*mouse"}),$t=At.sel):Jl(At,Zt,zt,b):(Zt=0,oi(At,new Vi([zt],0),b),$t=At.sel);var en=ut;var sn=Tt.wrapper.getBoundingClientRect(),tr=0;function cr(En){Xe.state.selectingText=!1,tr=1/0,En&&(dt(En),Tt.input.focus()),ke(Tt.wrapper.ownerDocument,"mousemove",Wn),ke(Tt.wrapper.ownerDocument,"mouseup",Yn),At.history.lastSelOrigin=null}var Wn=ei(Xe,function(En){0!==En.buttons&&lt(En)?function Nn(Dn){var Vn=++tr,Yt=lo(Xe,Dn,!0,"rectangle"==bt.unit);if(Yt)if(0!=xe(Yt,en)){Xe.curOp.focus=ue(),function(En){if(0!=xe(en,En))if(en=En,"rectangle"==bt.unit){for(var Nn=[],Dn=Xe.options.tabSize,Vn=_e(Wt(At,ut.line).text,ut.ch,Dn),Yt=_e(Wt(At,En.line).text,En.ch,Dn),Zr=Math.min(Vn,Yt),Dr=Math.max(Vn,Yt),Kn=Math.min(ut.line,En.line),Bn=Math.min(Xe.lastLine(),Math.max(ut.line,En.line));Kn<=Bn;Kn++){var zi=Wt(At,Kn).text,Ir=c(zi,Zr,Dn);Zr==Dr?Nn.push(new tn(J(Kn,Ir),J(Kn,Ir))):zi.length>Ir&&Nn.push(new tn(J(Kn,Ir),J(Kn,c(zi,Dr,Dn))))}Nn.length||Nn.push(new tn(ut,ut)),oi(At,Ho(Xe,$t.ranges.slice(0,Zt).concat(Nn),Zt),{origin:"*mouse",scroll:!1}),Xe.scrollIntoView(En)}else{var hi,jr=zt,Un=fa(Xe,En,bt.unit),$r=jr.anchor;xe(Un.anchor,$r)>0?(hi=Un.head,$r=Vt(jr.from(),Un.anchor)):(hi=Un.anchor,$r=Rt(jr.to(),Un.head));var Ti=$t.ranges.slice(0);Ti[Zt]=function(dc,Fs){var Pi=Fs.anchor,Ao=Fs.head,cf=Wt(dc.doc,Pi.line);if(0==xe(Pi,Ao)&&Pi.sticky==Ao.sticky)return Fs;var Wa=Ve(cf);if(!Wa)return Fs;var Pu=ae(Wa,Pi.ch,Pi.sticky),Go=Wa[Pu];if(Go.from!=Pi.ch&&Go.to!=Pi.ch)return Fs;var Vs,Dl=Pu+(Go.from==Pi.ch==(1!=Go.level)?0:1);if(0==Dl||Dl==Wa.length)return Fs;if(Ao.line!=Pi.line)Vs=(Ao.line-Pi.line)*("ltr"==dc.doc.direction?1:-1)>0;else{var uf=ae(Wa,Ao.ch,Ao.sticky),Mu=uf-Pu||(Ao.ch-Pi.ch)*(1==Go.level?-1:1);Vs=uf==Dl-1||uf==Dl?Mu<0:Mu>0}var Au=Wa[Dl+(Vs?-1:0)],ip=Vs==(1==Au.level),df=ip?Au.from:Au.to,ff=ip?"after":"before";return Pi.ch==df&&Pi.sticky==ff?Fs:new tn(new J(Pi.line,df,ff),Ao)}(Xe,new tn(Bt(At,$r),hi)),oi(At,Ho(Xe,Ti,Zt),b)}}(Yt);var Zr=su(Tt,At);(Yt.line>=Zr.to||Yt.line<Zr.from)&&setTimeout(ei(Xe,function(){tr==Vn&&Nn(Dn)}),150)}else{var Dr=Dn.clientY<sn.top?-20:Dn.clientY>sn.bottom?20:0;Dr&&setTimeout(ei(Xe,function(){tr==Vn&&(Tt.scroller.scrollTop+=Dr,Nn(Dn))}),50)}}(En):cr(En)}),Yn=ei(Xe,cr);Xe.state.selectingText=Yn,et(Tt.wrapper.ownerDocument,"mousemove",Wn),et(Tt.wrapper.ownerDocument,"mouseup",Yn)}(le,Te,fe,Ke)}(a,u,$,o):jt(o)==f.scroller&&dt(o):2==g?(u&&Oo(a.doc,u),setTimeout(function(){return f.input.focus()},20)):3==g&&(k?a.display.input.onContextMenu(o):Rd(a)))}}function fa(o,a,f){if("char"==f)return new tn(a,a);if("word"==f)return o.findWordAt(a);if("line"==f)return new tn(J(a.line,0),Bt(o.doc,J(a.line+1,0)));var u=f(o,a);return new tn(u.from,u.to)}function of(o,a,f,u){var g,$;if(a.touches)g=a.touches[0].clientX,$=a.touches[0].clientY;else try{g=a.clientX,$=a.clientY}catch(Ye){return!1}if(g>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;u&&dt(a);var le=o.display,fe=le.lineDiv.getBoundingClientRect();if($>fe.bottom||!mt(o,f))return It(a);$-=fe.top-le.viewOffset;for(var Se=0;Se<o.display.gutterSpecs.length;++Se){var Te=le.gutters.childNodes[Se];if(Te&&Te.getBoundingClientRect().right>=g)return Be(o,f,o,An(o.doc,$),o.display.gutterSpecs[Se].className,a),It(a)}}function Ol(o,a){return of(o,a,"gutterClick",!0)}function za(o,a){var f,u;We(o.display,a)||(u=a,mt(f=o,"gutterContextMenu")&&of(f,u,"gutterContextMenu",!1))||Je(o,a,"contextmenu")||k||o.display.input.onContextMenu(a)}function ha(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),wi(o)}cc.prototype.compare=function(o,a,f){return this.time+400>o&&0==xe(a,this.pos)&&f==this.button};var Mo={toString:function(){return"CodeMirror.Init"}},pa={},Ls={};function Tu(o,a,f){if(!a!=!(f&&f!=Mo)){var u=o.display.dragFunctions,g=a?et:ke;g(o.display.scroller,"dragstart",u.start),g(o.display.scroller,"dragenter",u.enter),g(o.display.scroller,"dragover",u.over),g(o.display.scroller,"dragleave",u.leave),g(o.display.scroller,"drop",u.drop)}}function ga(o){o.options.lineWrapping?(ye(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(y(o.display.wrapper,"CodeMirror-wrap"),oo(o)),Ia(o),Ni(o),wi(o),setTimeout(function(){return _o(o)},100)}function Mr(o,a){var f=this;if(!(this instanceof Mr))return new Mr(o,a);this.options=a=a?Le(a):{},Le(pa,a,!1);var u=a.value;"string"==typeof u?u=new Ui(u,a.mode,null,a.lineSeparator,a.direction):a.mode&&(u.modeOption=a.mode),this.doc=u;var g=new Mr.inputStyles[a.inputStyle](this),$=this.display=new uo(o,u,g,a);for(var le in $.wrapper.CodeMirror=this,ha(this),a.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),uu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ie,keySeq:null,specialChars:null},a.autofocus&&!M&&$.input.focus(),U&&T<11&&setTimeout(function(){return f.display.input.reset(!0)},20),function(Se){var Te=Se.display;et(Te.scroller,"mousedown",ei(Se,ku)),et(Te.scroller,"dblclick",U&&T<11?ei(Se,function(ut){if(!Je(Se,ut)){var bt=lo(Se,ut);if(bt&&!Ol(Se,ut)&&!We(Se.display,ut)){dt(ut);var Tt=Se.findWordAt(bt);Oo(Se.doc,Tt.anchor,Tt.head)}}}):function(ut){return Je(Se,ut)||dt(ut)}),et(Te.scroller,"contextmenu",function(ut){return za(Se,ut)}),et(Te.input.getField(),"contextmenu",function(ut){Te.scroller.contains(ut.target)||za(Se,ut)});var Ye,Ke={end:0};function tt(){Te.activeTouch&&(Ye=setTimeout(function(){return Te.activeTouch=null},1e3),(Ke=Te.activeTouch).end=+new Date)}function Xe(ut,bt){if(null==bt.left)return!0;var Tt=bt.left-ut.left,At=bt.top-ut.top;return Tt*Tt+At*At>400}et(Te.scroller,"touchstart",function(ut){if(!Je(Se,ut)&&!function(Tt){if(1!=Tt.touches.length)return!1;var At=Tt.touches[0];return At.radiusX<=1&&At.radiusY<=1}(ut)&&!Ol(Se,ut)){Te.input.ensurePolled(),clearTimeout(Ye);var bt=+new Date;Te.activeTouch={start:bt,moved:!1,prev:bt-Ke.end<=300?Ke:null},1==ut.touches.length&&(Te.activeTouch.left=ut.touches[0].pageX,Te.activeTouch.top=ut.touches[0].pageY)}}),et(Te.scroller,"touchmove",function(){Te.activeTouch&&(Te.activeTouch.moved=!0)}),et(Te.scroller,"touchend",function(ut){var bt=Te.activeTouch;if(bt&&!We(Te,ut)&&null!=bt.left&&!bt.moved&&new Date-bt.start<300){var Tt,At=Se.coordsChar(Te.activeTouch,"page");Tt=!bt.prev||Xe(bt,bt.prev)?new tn(At,At):!bt.prev.prev||Xe(bt,bt.prev.prev)?Se.findWordAt(At):new tn(J(At.line,0),Bt(Se.doc,J(At.line+1,0))),Se.setSelection(Tt.anchor,Tt.head),Se.focus(),dt(ut)}tt()}),et(Te.scroller,"touchcancel",tt),et(Te.scroller,"scroll",function(){Te.scroller.clientHeight&&(ql(Se,Te.scroller.scrollTop),os(Se,Te.scroller.scrollLeft,!0),Be(Se,"scroll",Se))}),et(Te.scroller,"mousewheel",function(ut){return pu(Se,ut)}),et(Te.scroller,"DOMMouseScroll",function(ut){return pu(Se,ut)}),et(Te.wrapper,"scroll",function(){return Te.wrapper.scrollTop=Te.wrapper.scrollLeft=0}),Te.dragFunctions={enter:function(ut){Je(Se,ut)||Ft(ut)},over:function(ut){Je(Se,ut)||(function(bt,Tt){var At=lo(bt,Tt);if(At){var zt=document.createDocumentFragment();jd(bt,At,zt),bt.display.dragCursor||(bt.display.dragCursor=K("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),bt.display.lineSpace.insertBefore(bt.display.dragCursor,bt.display.cursorDiv)),B(bt.display.dragCursor,zt)}}(Se,ut),Ft(ut))},start:function(ut){return function(bt,Tt){if(U&&(!bt.state.draggingText||+new Date-Xd<100))Ft(Tt);else if(!Je(bt,Tt)&&!We(bt.display,Tt)&&(Tt.dataTransfer.setData("Text",bt.getSelection()),Tt.dataTransfer.effectAllowed="copyMove",Tt.dataTransfer.setDragImage&&!x)){var At=K("img",null,null,"position: fixed; left: 0; top: 0;");At.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",D&&(At.width=At.height=1,bt.display.wrapper.appendChild(At),At._top=At.offsetTop),Tt.dataTransfer.setDragImage(At,0,0),D&&At.parentNode.removeChild(At)}}(Se,ut)},drop:ei(Se,Cl),leave:function(ut){Je(Se,ut)||nc(Se)}};var vt=Te.input.getField();et(vt,"keyup",function(ut){return nf.call(Se,ut)}),et(vt,"keydown",ei(Se,Du)),et(vt,"keypress",ei(Se,rf)),et(vt,"focus",function(ut){return Nd(Se,ut)}),et(vt,"blur",function(ut){return ll(Se,ut)})}(this),function(){var o;ef||(et(window,"resize",function(){null==o&&(o=setTimeout(function(){o=null,Jd(xv)},100))}),et(window,"blur",function(){return Jd(ll)}),ef=!0)}(),na(this),this.curOp.forceUpdate=!0,vu(this,u),a.autofocus&&!M||this.hasFocus()?setTimeout(function(){f.hasFocus()&&!f.state.focused&&Nd(f)},20):ll(this),Ls)Ls.hasOwnProperty(le)&&Ls[le](this,a[le],Mo);co(this),a.finishInit&&a.finishInit(this);for(var fe=0;fe<sf.length;++fe)sf[fe](this);Ds(this),v&&a.lineWrapping&&"optimizelegibility"==getComputedStyle($.lineDiv).textRendering&&($.lineDiv.style.textRendering="auto")}Mr.defaults=pa,Mr.optionHandlers=Ls;var sf=[];function El(o,a,f,u){var g,$=o.doc;null==f&&(f="add"),"smart"==f&&($.mode.indent?g=fr(o,a).state:f="prev");var le=o.options.tabSize,fe=Wt($,a),Se=_e(fe.text,null,le);fe.stateAfter&&(fe.stateAfter=null);var Te,Ye=fe.text.match(/^\s*/)[0];if(u||/\S/.test(fe.text)){if("smart"==f&&((Te=$.mode.indent(g,fe.text.slice(Ye.length),fe.text))==me||Te>150)){if(!u)return;f="prev"}}else Te=0,f="not";"prev"==f?Te=a>$.first?_e(Wt($,a-1).text,null,le):0:"add"==f?Te=Se+o.options.indentUnit:"subtract"==f?Te=Se-o.options.indentUnit:"number"==typeof f&&(Te=Se+f),Te=Math.max(0,Te);var Ke="",tt=0;if(o.options.indentWithTabs)for(var Xe=Math.floor(Te/le);Xe;--Xe)tt+=le,Ke+="\t";if(tt<Te&&(Ke+=m(Te-tt)),Ke!=Ye)return ho($,Ke,J(a,0),J(a,Ye.length),"+input"),fe.stateAfter=null,!0;for(var vt=0;vt<$.sel.ranges.length;vt++){var ut=$.sel.ranges[vt];if(ut.head.line==a&&ut.head.ch<Ye.length){var bt=J(a,Ye.length);Jl($,vt,new tn(bt,bt));break}}}Mr.defineInitHook=function(o){return sf.push(o)};var qo=null;function uc(o){qo=o}function er(o,a,f,u,g){var $=o.doc;o.display.shift=!1,u||(u=$.sel);var le=+new Date-200,fe="paste"==g||o.state.pasteIncoming>le,Se=ee(a),Te=null;if(fe&&u.ranges.length>1)if(qo&&qo.text.join("\n")==a){if(u.ranges.length%qo.text.length==0){Te=[];for(var Ye=0;Ye<qo.text.length;Ye++)Te.push($.splitLines(qo.text[Ye]))}}else Se.length==u.ranges.length&&o.options.pasteLinesPerSelection&&(Te=X(Se,function(Tt){return[Tt]}));for(var Ke=o.curOp.updateInput,tt=u.ranges.length-1;tt>=0;tt--){var Xe=u.ranges[tt],vt=Xe.from(),ut=Xe.to();Xe.empty()&&(f&&f>0?vt=J(vt.line,vt.ch-f):o.state.overwrite&&!fe?ut=J(ut.line,Math.min(Wt($,ut.line).text.length,ut.ch+V(Se).length)):fe&&qo&&qo.lineWise&&qo.text.join("\n")==Se.join("\n")&&(vt=ut=J(vt.line,0)));var bt={from:vt,to:ut,text:Te?Te[tt%Te.length]:Se,origin:g||(fe?"paste":o.state.cutIncoming>le?"cut":"+input")};la(o.doc,bt),_r(o,"inputRead",o,bt)}a&&!fe&&Qh(o,a),cl(o),o.curOp.updateInput<2&&(o.curOp.updateInput=Ke),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function af(o,a){var f=o.clipboardData&&o.clipboardData.getData("Text");if(f)return o.preventDefault(),a.isReadOnly()||a.options.disableInput||Li(a,function(){return er(a,f,0,null,"paste")}),!0}function Qh(o,a){if(o.options.electricChars&&o.options.smartIndent)for(var f=o.doc.sel,u=f.ranges.length-1;u>=0;u--){var g=f.ranges[u];if(!(g.head.ch>100||u&&f.ranges[u-1].head.line==g.head.line)){var $=o.getModeAt(g.head),le=!1;if($.electricChars){for(var fe=0;fe<$.electricChars.length;fe++)if(a.indexOf($.electricChars.charAt(fe))>-1){le=El(o,g.head.line,"smart");break}}else $.electricInput&&$.electricInput.test(Wt(o.doc,g.head.line).text.slice(0,g.head.ch))&&(le=El(o,g.head.line,"smart"));le&&_r(o,"electricInput",o,g.head.line)}}}function Xh(o){for(var a=[],f=[],u=0;u<o.doc.sel.ranges.length;u++){var g=o.doc.sel.ranges[u].head.line,$={anchor:J(g,0),head:J(g+1,0)};f.push($),a.push(o.getRange($.anchor,$.head))}return{text:a,ranges:f}}function Jh(o,a,f,u){o.setAttribute("autocorrect",f?"":"off"),o.setAttribute("autocapitalize",u?"":"off"),o.setAttribute("spellcheck",!!a)}function ep(){var o=K("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),a=K("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return v?o.style.width="1000px":o.setAttribute("wrap","off"),N&&(o.style.border="1px solid black"),Jh(o),a}function lf(o,a,f,u,g){var $=a,le=f,fe=Wt(o,a.line),Se=g&&"rtl"==o.direction?-f:f;function Te(Tt){var At,zt;if("codepoint"==u){var Zt=fe.text.charCodeAt(a.ch+(f>0?0:-1));At=isNaN(Zt)?null:new J(a.line,Math.max(0,Math.min(fe.text.length,a.ch+f*((f>0?Zt>=55296&&Zt<56320:Zt>=56320&&Zt<57343)?2:1))),-f)}else At=g?function(Kt,bn,en,Sn){var sn=Ve(bn,Kt.doc.direction);if(!sn)return xu(bn,en,Sn);en.ch>=bn.text.length?(en.ch=bn.text.length,en.sticky="before"):en.ch<=0&&(en.ch=0,en.sticky="after");var tr=ae(sn,en.ch,en.sticky),cr=sn[tr];if("ltr"==Kt.doc.direction&&cr.level%2==0&&(Sn>0?cr.to>en.ch:cr.from<en.ch))return xu(bn,en,Sn);var Wn,Yn=function(Bn,zi){return ic(bn,Bn instanceof J?Bn.ch:Bn,zi)},En=function(Bn){return Kt.options.lineWrapping?(Wn=Wn||Qn(Kt,bn),Ri(Kt,bn,Wn,Bn)):{begin:0,end:bn.text.length}},Nn=En("before"==en.sticky?Yn(en,-1):en.ch);if("rtl"==Kt.doc.direction||1==cr.level){var Dn=1==cr.level==Sn<0,Vn=Yn(en,Dn?1:-1);if(null!=Vn&&(Dn?Vn<=cr.to&&Vn<=Nn.end:Vn>=cr.from&&Vn>=Nn.begin))return new J(en.line,Vn,Dn?"before":"after")}var Zr=function(Bn,zi,Ir){for(;Bn>=0&&Bn<sn.length;Bn+=zi){var jr=sn[Bn],Un=zi>0==(1!=jr.level),$r=Un?Ir.begin:Yn(Ir.end,-1);if(jr.from<=$r&&$r<jr.to||($r=Un?jr.from:Yn(jr.to,-1),Ir.begin<=$r&&$r<Ir.end))return Ti=$r,Un?new J(en.line,Yn(Ti,1),"before"):new J(en.line,Ti,"after")}var Ti},Dr=Zr(tr+Sn,Sn,Nn);if(Dr)return Dr;var Kn=Sn>0?Nn.end:Yn(Nn.begin,-1);return null==Kn||Sn>0&&Kn==bn.text.length||!(Dr=Zr(Sn>0?0:sn.length-1,Sn,En(Kn)))?null:Dr}(o.cm,fe,a,f):xu(fe,a,f);if(null==At){if(Tt||(zt=a.line+Se)<o.first||zt>=o.first+o.size||(a=new J(zt,a.ch,a.sticky),!(fe=Wt(o,zt))))return!1;a=Ou(g,o.cm,fe,a.line,Se)}else a=At;return!0}if("char"==u||"codepoint"==u)Te();else if("column"==u)Te(!0);else if("word"==u||"group"==u)for(var Ye=null,Ke="group"==u,tt=o.cm&&o.cm.getHelper(a,"wordChars"),Xe=!0;!(f<0)||Te(!Xe);Xe=!1){var vt=fe.text.charAt(a.ch)||"\n",ut=Fe(vt,tt)?"w":Ke&&"\n"==vt?"n":!Ke||/\s/.test(vt)?null:"p";if(!Ke||Xe||ut||(ut="s"),Ye&&Ye!=ut){f<0&&(f=1,Te(),a.sticky="after");break}if(ut&&(Ye=ut),f>0&&!Te(!Xe))break}var bt=aa(o,a,$,le,!0);return je($,bt)&&(bt.hitSide=!0),bt}function tp(o,a,f,u){var g,$,le=o.doc,fe=a.left;if("page"==u){var Se=Math.min(o.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),Te=Math.max(Se-.5*Ta(o.display),3);g=(f>0?a.bottom:a.top)+f*Te}else"line"==u&&(g=f>0?a.bottom+3:a.top-3);for(;($=ol(o,fe,g)).outside;){if(f<0?g<=0:g>=le.height){$.hitSide=!0;break}g+=5*f}return $}var sr=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ie,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function np(o,a){var f=Rn(o,a.line);if(!f||f.hidden)return null;var u=Wt(o.doc,a.line),g=yn(f,u,a.line),$=Ve(u,o.doc.direction),le="left";$&&(le=ae($,a.ch)%2?"right":"left");var fe=ui(g.map,a.ch,le);return fe.offset="right"==fe.collapse?fe.end:fe.start,fe}function Ar(o,a){return a&&(o.bad=!0),o}function $a(o,a,f){var u;if(a==o.display.lineDiv){if(!(u=o.display.lineDiv.childNodes[f]))return Ar(o.clipPos(J(o.display.viewTo-1)),!0);a=null,f=0}else for(u=a;;u=u.parentNode){if(!u||u==o.display.lineDiv)return null;if(u.parentNode&&u.parentNode==o.display.lineDiv)break}for(var g=0;g<o.display.view.length;g++){var $=o.display.view[g];if($.node==u)return Sl($,a,f)}}function Sl(o,a,f){var u=o.text.firstChild,g=!1;if(!a||!$e(u,a))return Ar(J(ln(o.line),0),!0);if(a==u&&(g=!0,a=u.childNodes[f],f=0,!a)){var $=o.rest?V(o.rest):o.line;return Ar(J(ln($),$.text.length),g)}var le=3==a.nodeType?a:null,fe=a;for(le||1!=a.childNodes.length||3!=a.firstChild.nodeType||(le=a.firstChild,f&&(f=le.nodeValue.length));fe.parentNode!=u;)fe=fe.parentNode;var Se=o.measure,Te=Se.maps;function Ye(bt,Tt,At){for(var zt=-1;zt<(Te?Te.length:0);zt++)for(var Zt=zt<0?Se.map:Te[zt],$t=0;$t<Zt.length;$t+=3){var Kt=Zt[$t+2];if(Kt==bt||Kt==Tt){var bn=ln(zt<0?o.line:o.rest[zt]),en=Zt[$t]+At;return(At<0||Kt!=bt)&&(en=Zt[$t+(At?1:0)]),J(bn,en)}}}var Ke=Ye(le,fe,f);if(Ke)return Ar(Ke,g);for(var tt=fe.nextSibling,Xe=le?le.nodeValue.length-f:0;tt;tt=tt.nextSibling){if(Ke=Ye(tt,tt.firstChild,0))return Ar(J(Ke.line,Ke.ch-Xe),g);Xe+=tt.textContent.length}for(var vt=fe.previousSibling,ut=f;vt;vt=vt.previousSibling){if(Ke=Ye(vt,vt.firstChild,-1))return Ar(J(Ke.line,Ke.ch+ut),g);ut+=vt.textContent.length}}sr.prototype.init=function(o){var a=this,f=this,u=f.cm,g=f.div=o.lineDiv;function $(fe){for(var Se=fe.target;Se;Se=Se.parentNode){if(Se==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Se.className))break}return!1}function le(fe){if($(fe)&&!Je(u,fe)){if(u.somethingSelected())uc({lineWise:!1,text:u.getSelections()}),"cut"==fe.type&&u.replaceSelection("",null,"cut");else{if(!u.options.lineWiseCopyCut)return;var Se=Xh(u);uc({lineWise:!0,text:Se.text}),"cut"==fe.type&&u.operation(function(){u.setSelections(Se.ranges,0,_),u.replaceSelection("",null,"cut")})}if(fe.clipboardData){fe.clipboardData.clearData();var Te=qo.text.join("\n");if(fe.clipboardData.setData("Text",Te),fe.clipboardData.getData("Text")==Te)return void fe.preventDefault()}var Ye=ep(),Ke=Ye.firstChild;u.display.lineSpace.insertBefore(Ye,u.display.lineSpace.firstChild),Ke.value=qo.text.join("\n");var tt=ue();Pe(Ke),setTimeout(function(){u.display.lineSpace.removeChild(Ye),tt.focus(),tt==g&&f.showPrimarySelection()},50)}}g.contentEditable=!0,Jh(g,u.options.spellcheck,u.options.autocorrect,u.options.autocapitalize),et(g,"paste",function(fe){!$(fe)||Je(u,fe)||af(fe,u)||T<=11&&setTimeout(ei(u,function(){return a.updateFromDOM()}),20)}),et(g,"compositionstart",function(fe){a.composing={data:fe.data,done:!1}}),et(g,"compositionupdate",function(fe){a.composing||(a.composing={data:fe.data,done:!1})}),et(g,"compositionend",function(fe){a.composing&&(fe.data!=a.composing.data&&a.readFromDOMSoon(),a.composing.done=!0)}),et(g,"touchstart",function(){return f.forceCompositionEnd()}),et(g,"input",function(){a.composing||a.readFromDOMSoon()}),et(g,"copy",le),et(g,"cut",le)},sr.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},sr.prototype.prepareSelection=function(){var o=Co(this.cm,!1);return o.focus=ue()==this.div,o},sr.prototype.showSelection=function(o,a){o&&this.cm.display.view.length&&((o.focus||a)&&this.showPrimarySelection(),this.showMultipleSelections(o))},sr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},sr.prototype.showPrimarySelection=function(){var o=this.getSelection(),a=this.cm,f=a.doc.sel.primary(),u=f.from(),g=f.to();if(a.display.viewTo==a.display.viewFrom||u.line>=a.display.viewTo||g.line<a.display.viewFrom)o.removeAllRanges();else{var $=$a(a,o.anchorNode,o.anchorOffset),le=$a(a,o.focusNode,o.focusOffset);if(!$||$.bad||!le||le.bad||0!=xe(Vt($,le),u)||0!=xe(Rt($,le),g)){var fe=a.display.view,Se=u.line>=a.display.viewFrom&&np(a,u)||{node:fe[0].measure.map[2],offset:0},Te=g.line<a.display.viewTo&&np(a,g);if(!Te){var Ye=fe[fe.length-1].measure,Ke=Ye.maps?Ye.maps[Ye.maps.length-1]:Ye.map;Te={node:Ke[Ke.length-1],offset:Ke[Ke.length-2]-Ke[Ke.length-3]}}if(Se&&Te){var tt,Xe=o.rangeCount&&o.getRangeAt(0);try{tt=p(Se.node,Se.offset,Te.offset,Te.node)}catch(vt){}tt&&(!de&&a.state.focused?(o.collapse(Se.node,Se.offset),tt.collapsed||(o.removeAllRanges(),o.addRange(tt))):(o.removeAllRanges(),o.addRange(tt)),Xe&&null==o.anchorNode?o.addRange(Xe):de&&this.startGracePeriod()),this.rememberSelection()}else o.removeAllRanges()}}},sr.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},sr.prototype.showMultipleSelections=function(o){B(this.cm.display.cursorDiv,o.cursors),B(this.cm.display.selectionDiv,o.selection)},sr.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},sr.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var a=o.getRangeAt(0).commonAncestorContainer;return $e(this.div,a)},sr.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&ue()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},sr.prototype.blur=function(){this.div.blur()},sr.prototype.getField=function(){return this.div},sr.prototype.supportsTouch=function(){return!0},sr.prototype.receivedFocus=function(){var o=this,a=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Li(this.cm,function(){return a.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function f(){a.cm.state.focused&&(a.pollSelection(),a.polling.set(a.cm.options.pollInterval,f))})},sr.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},sr.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var o=this.getSelection(),a=this.cm;if(R&&E&&this.cm.display.gutterSpecs.length&&function(g){for(var $=g;$;$=$.parentNode)if(/CodeMirror-gutter-wrapper/.test($.className))return!0;return!1}(o.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var f=$a(a,o.anchorNode,o.anchorOffset),u=$a(a,o.focusNode,o.focusOffset);f&&u&&Li(a,function(){oi(a.doc,Ts(f,u),_),(f.bad||u.bad)&&(a.curOp.selectionChanged=!0)})}}},sr.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o,a,f,u=this.cm,g=u.display,$=u.doc.sel.primary(),le=$.from(),fe=$.to();if(0==le.ch&&le.line>u.firstLine()&&(le=J(le.line-1,Wt(u.doc,le.line-1).length)),fe.ch==Wt(u.doc,fe.line).text.length&&fe.line<u.lastLine()&&(fe=J(fe.line+1,0)),le.line<g.viewFrom||fe.line>g.viewTo-1)return!1;le.line==g.viewFrom||0==(o=Hr(u,le.line))?(a=ln(g.view[0].line),f=g.view[0].node):(a=ln(g.view[o].line),f=g.view[o-1].node.nextSibling);var Se,Te,Ye=Hr(u,fe.line);if(Ye==g.view.length-1?(Se=g.viewTo-1,Te=g.lineDiv.lastChild):(Se=ln(g.view[Ye+1].line)-1,Te=g.view[Ye+1].node.previousSibling),!f)return!1;for(var Ke=u.doc.splitLines(function(bn,en,Sn,sn,tr){var cr="",Wn=!1,Yn=bn.doc.lineSeparator(),En=!1;function Nn(){Wn&&(cr+=Yn,En&&(cr+=Yn),Wn=En=!1)}function Dn(Yt){Yt&&(Nn(),cr+=Yt)}function Vn(Yt){if(1==Yt.nodeType){var Zr=Yt.getAttribute("cm-text");if(Zr)return void Dn(Zr);var Dr,Kn=Yt.getAttribute("cm-marker");if(Kn){var Bn=bn.findMarks(J(sn,0),J(tr+1,0),(hi=+Kn,function(jr){return jr.id==hi}));return void(Bn.length&&(Dr=Bn[0].find(0))&&Dn(vn(bn.doc,Dr.from,Dr.to).join(Yn)))}if("false"==Yt.getAttribute("contenteditable"))return;var zi=/^(pre|div|p|li|table|br)$/i.test(Yt.nodeName);if(!/^br$/i.test(Yt.nodeName)&&0==Yt.textContent.length)return;zi&&Nn();for(var Ir=0;Ir<Yt.childNodes.length;Ir++)Vn(Yt.childNodes[Ir]);/^(pre|p)$/i.test(Yt.nodeName)&&(En=!0),zi&&(Wn=!0)}else 3==Yt.nodeType&&Dn(Yt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var hi}for(;Vn(en),en!=Sn;)en=en.nextSibling,En=!1;return cr}(u,f,Te,a,Se)),tt=vn(u.doc,J(a,0),J(Se,Wt(u.doc,Se).text.length));Ke.length>1&&tt.length>1;)if(V(Ke)==V(tt))Ke.pop(),tt.pop(),Se--;else{if(Ke[0]!=tt[0])break;Ke.shift(),tt.shift(),a++}for(var Xe=0,vt=0,ut=Ke[0],bt=tt[0],Tt=Math.min(ut.length,bt.length);Xe<Tt&&ut.charCodeAt(Xe)==bt.charCodeAt(Xe);)++Xe;for(var At=V(Ke),zt=V(tt),Zt=Math.min(At.length-(1==Ke.length?Xe:0),zt.length-(1==tt.length?Xe:0));vt<Zt&&At.charCodeAt(At.length-vt-1)==zt.charCodeAt(zt.length-vt-1);)++vt;if(1==Ke.length&&1==tt.length&&a==le.line)for(;Xe&&Xe>le.ch&&At.charCodeAt(At.length-vt-1)==zt.charCodeAt(zt.length-vt-1);)Xe--,vt++;Ke[Ke.length-1]=At.slice(0,At.length-vt).replace(/^\u200b+/,""),Ke[0]=Ke[0].slice(Xe).replace(/\u200b+$/,"");var $t=J(a,Xe),Kt=J(Se,tt.length?V(tt).length-vt:0);return Ke.length>1||Ke[0]||xe($t,Kt)?(ho(u.doc,Ke,$t,Kt,"+input"),!0):void 0},sr.prototype.ensurePolled=function(){this.forceCompositionEnd()},sr.prototype.reset=function(){this.forceCompositionEnd()},sr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},sr.prototype.readFromDOMSoon=function(){var o=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing){if(!o.composing.done)return;o.composing=null}o.updateFromDOM()},80))},sr.prototype.updateFromDOM=function(){var o=this;!this.cm.isReadOnly()&&this.pollContent()||Li(this.cm,function(){return Ni(o.cm)})},sr.prototype.setUneditable=function(o){o.contentEditable="false"},sr.prototype.onKeyPress=function(o){0==o.charCode||this.composing||(o.preventDefault(),this.cm.isReadOnly()||ei(this.cm,er)(this.cm,String.fromCharCode(null==o.charCode?o.keyCode:o.charCode),0))},sr.prototype.readOnlyChanged=function(o){this.div.contentEditable=String("nocursor"!=o)},sr.prototype.onContextMenu=function(){},sr.prototype.resetPosition=function(){},sr.prototype.needsContentAttribute=!0;var o,a,f,Kr=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new ie,this.hasSelection=!1,this.composing=null};Kr.prototype.init=function(o){var a=this,f=this,u=this.cm;this.createField(o);var g=this.textarea;function $(le){if(!Je(u,le)){if(u.somethingSelected())uc({lineWise:!1,text:u.getSelections()});else{if(!u.options.lineWiseCopyCut)return;var fe=Xh(u);uc({lineWise:!0,text:fe.text}),"cut"==le.type?u.setSelections(fe.ranges,null,_):(f.prevInput="",g.value=fe.text.join("\n"),Pe(g))}"cut"==le.type&&(u.state.cutIncoming=+new Date)}}o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),N&&(g.style.width="0px"),et(g,"input",function(){U&&T>=9&&a.hasSelection&&(a.hasSelection=null),f.poll()}),et(g,"paste",function(le){Je(u,le)||af(le,u)||(u.state.pasteIncoming=+new Date,f.fastPoll())}),et(g,"cut",$),et(g,"copy",$),et(o.scroller,"paste",function(le){if(!We(o,le)&&!Je(u,le)){if(!g.dispatchEvent)return u.state.pasteIncoming=+new Date,void f.focus();var fe=new Event("paste");fe.clipboardData=le.clipboardData,g.dispatchEvent(fe)}}),et(o.lineSpace,"selectstart",function(le){We(o,le)||dt(le)}),et(g,"compositionstart",function(){var le=u.getCursor("from");f.composing&&f.composing.range.clear(),f.composing={start:le,range:u.markText(le,u.getCursor("to"),{className:"CodeMirror-composing"})}}),et(g,"compositionend",function(){f.composing&&(f.poll(),f.composing.range.clear(),f.composing=null)})},Kr.prototype.createField=function(o){this.wrapper=ep(),this.textarea=this.wrapper.firstChild},Kr.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},Kr.prototype.prepareSelection=function(){var o=this.cm,a=o.display,f=o.doc,u=Co(o);if(o.options.moveInputWithCursor){var g=_n(o,f.sel.primary().head,"div"),$=a.wrapper.getBoundingClientRect(),le=a.lineDiv.getBoundingClientRect();u.teTop=Math.max(0,Math.min(a.wrapper.clientHeight-10,g.top+le.top-$.top)),u.teLeft=Math.max(0,Math.min(a.wrapper.clientWidth-10,g.left+le.left-$.left))}return u},Kr.prototype.showSelection=function(o){var a=this.cm.display;B(a.cursorDiv,o.cursors),B(a.selectionDiv,o.selection),null!=o.teTop&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},Kr.prototype.reset=function(o){if(!this.contextMenuPending&&!this.composing){var a=this.cm;if(a.somethingSelected()){this.prevInput="";var f=a.getSelection();this.textarea.value=f,a.state.focused&&Pe(this.textarea),U&&T>=9&&(this.hasSelection=f)}else o||(this.prevInput=this.textarea.value="",U&&T>=9&&(this.hasSelection=null))}},Kr.prototype.getField=function(){return this.textarea},Kr.prototype.supportsTouch=function(){return!1},Kr.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!M||ue()!=this.textarea))try{this.textarea.focus()}catch(o){}},Kr.prototype.blur=function(){this.textarea.blur()},Kr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Kr.prototype.receivedFocus=function(){this.slowPoll()},Kr.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},Kr.prototype.fastPoll=function(){var o=!1,a=this;a.pollingFast=!0,a.polling.set(20,function f(){a.poll()||o?(a.pollingFast=!1,a.slowPoll()):(o=!0,a.polling.set(60,f))})},Kr.prototype.poll=function(){var o=this,a=this.cm,f=this.textarea,u=this.prevInput;if(this.contextMenuPending||!a.state.focused||Ge(f)&&!u&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq)return!1;var g=f.value;if(g==u&&!a.somethingSelected())return!1;if(U&&T>=9&&this.hasSelection===g||A&&/[\uf700-\uf7ff]/.test(g))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var $=g.charCodeAt(0);if(8203!=$||u||(u="\u200b"),8666==$)return this.reset(),this.cm.execCommand("undo")}for(var le=0,fe=Math.min(u.length,g.length);le<fe&&u.charCodeAt(le)==g.charCodeAt(le);)++le;return Li(a,function(){er(a,g.slice(le),u.length-le,null,o.composing?"*compose":null),g.length>1e3||g.indexOf("\n")>-1?f.value=o.prevInput="":o.prevInput=g,o.composing&&(o.composing.range.clear(),o.composing.range=a.markText(o.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Kr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Kr.prototype.onKeyPress=function(){U&&T>=9&&(this.hasSelection=null),this.fastPoll()},Kr.prototype.onContextMenu=function(o){var a=this,f=a.cm,u=f.display,g=a.textarea;a.contextMenuPending&&a.contextMenuPending();var $=lo(f,o),le=u.scroller.scrollTop;if($&&!D){f.options.resetSelectionOnContextMenu&&-1==f.doc.sel.contains($)&&ei(f,oi)(f.doc,Ts($),_);var fe,Se=g.style.cssText,Te=a.wrapper.style.cssText,Ye=a.wrapper.offsetParent.getBoundingClientRect();if(a.wrapper.style.cssText="position: static",g.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(o.clientY-Ye.top-5)+"px; left: "+(o.clientX-Ye.left-5)+"px;\n      z-index: 1000; background: "+(U?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",v&&(fe=window.scrollY),u.input.focus(),v&&window.scrollTo(null,fe),u.input.reset(),f.somethingSelected()||(g.value=a.prevInput=" "),a.contextMenuPending=Xe,u.selForContextMenu=f.doc.sel,clearTimeout(u.detectingSelectAll),U&&T>=9&&tt(),k){Ft(o);var Ke=function(){ke(window,"mouseup",Ke),setTimeout(Xe,20)};et(window,"mouseup",Ke)}else setTimeout(Xe,50)}function tt(){if(null!=g.selectionStart){var vt=f.somethingSelected(),ut="\u200b"+(vt?g.value:"");g.value="\u21da",g.value=ut,a.prevInput=vt?"":"\u200b",g.selectionStart=1,g.selectionEnd=ut.length,u.selForContextMenu=f.doc.sel}}function Xe(){if(a.contextMenuPending==Xe&&(a.contextMenuPending=!1,a.wrapper.style.cssText=Te,g.style.cssText=Se,U&&T<9&&u.scrollbars.setScrollTop(u.scroller.scrollTop=le),null!=g.selectionStart)){(!U||U&&T<9)&&tt();var vt=0,ut=function(){u.selForContextMenu==f.doc.sel&&0==g.selectionStart&&g.selectionEnd>0&&"\u200b"==a.prevInput?ei(f,wu)(f):vt++<10?u.detectingSelectAll=setTimeout(ut,500):(u.selForContextMenu=null,u.input.reset())};u.detectingSelectAll=setTimeout(ut,200)}}},Kr.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled="nocursor"==o,this.textarea.readOnly=!!o},Kr.prototype.setUneditable=function(){},Kr.prototype.needsContentAttribute=!1,function(o){var a=o.optionHandlers;function f(u,g,$,le){o.defaults[u]=g,$&&(a[u]=le?function(fe,Se,Te){Te!=Mo&&$(fe,Se,Te)}:$)}o.defineOption=f,o.Init=Mo,f("value","",function(u,g){return u.setValue(g)},!0),f("mode",null,function(u,g){u.doc.modeOption=g,gu(u)},!0),f("indentUnit",2,gu,!0),f("indentWithTabs",!1),f("smartIndent",!0),f("tabSize",4,function(u){qt(u),wi(u),Ni(u)},!0),f("lineSeparator",null,function(u,g){if(u.doc.lineSep=g,g){var $=[],le=u.doc.first;u.doc.iter(function(Se){for(var Te=0;;){var Ye=Se.text.indexOf(g,Te);if(-1==Ye)break;Te=Ye+g.length,$.push(J(le,Ye))}le++});for(var fe=$.length-1;fe>=0;fe--)ho(u.doc,g,$[fe],J($[fe].line,$[fe].ch+g.length))}}),f("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(u,g,$){u.state.specialChars=new RegExp(g.source+(g.test("\t")?"":"|\t"),"g"),$!=Mo&&u.refresh()}),f("specialCharPlaceholder",Yi,function(u){return u.refresh()},!0),f("electricChars",!0),f("inputStyle",M?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),f("spellcheck",!1,function(u,g){return u.getInputField().spellcheck=g},!0),f("autocorrect",!1,function(u,g){return u.getInputField().autocorrect=g},!0),f("autocapitalize",!1,function(u,g){return u.getInputField().autocapitalize=g},!0),f("rtlMoveVisually",!H),f("wholeLineUpdateBefore",!0),f("theme","default",function(u){ha(u),Uo(u)},!0),f("keyMap","default",function(u,g,$){var le=_u(g),fe=$!=Mo&&_u($);fe&&fe.detach&&fe.detach(u,le),le.attach&&le.attach(u,fe||null)}),f("extraKeys",null),f("configureMouse",null),f("lineWrapping",!1,ga,!0),f("gutters",[],function(u,g){u.display.gutterSpecs=hu(g,u.options.lineNumbers),Uo(u)},!0),f("fixedGutter",!0,function(u,g){u.display.gutters.style.left=g?sl(u.display)+"px":"0",u.refresh()},!0),f("coverGutterNextToScrollbar",!1,function(u){return _o(u)},!0),f("scrollbarStyle","native",function(u){uu(u),_o(u),u.display.scrollbars.setScrollTop(u.doc.scrollTop),u.display.scrollbars.setScrollLeft(u.doc.scrollLeft)},!0),f("lineNumbers",!1,function(u,g){u.display.gutterSpecs=hu(u.options.gutters,g),Uo(u)},!0),f("firstLineNumber",1,Uo,!0),f("lineNumberFormatter",function(u){return u},Uo,!0),f("showCursorWhenSelecting",!1,Es,!0),f("resetSelectionOnContextMenu",!0),f("lineWiseCopyCut",!0),f("pasteLinesPerSelection",!0),f("selectionsMayTouch",!1),f("readOnly",!1,function(u,g){"nocursor"==g&&(ll(u),u.display.input.blur()),u.display.input.readOnlyChanged(g)}),f("screenReaderLabel",null,function(u,g){u.display.input.screenReaderLabelChanged(g=""===g?null:g)}),f("disableInput",!1,function(u,g){g||u.display.input.reset()},!0),f("dragDrop",!0,Tu),f("allowDropFileTypes",null),f("cursorBlinkRate",530),f("cursorScrollMargin",0),f("cursorHeight",1,Es,!0),f("singleCursorHeightPerLine",!0,Es,!0),f("workTime",100),f("workDelay",100),f("flattenSpans",!0,qt,!0),f("addModeClass",!1,qt,!0),f("pollInterval",100),f("undoDepth",200,function(u,g){return u.doc.history.undoDepth=g}),f("historyEventDelay",1250),f("viewportMargin",10,function(u){return u.refresh()},!0),f("maxHighlightLength",1e4,qt,!0),f("moveInputWithCursor",!0,function(u,g){g||u.display.input.resetPosition()}),f("tabindex",null,function(u,g){return u.display.input.getField().tabIndex=g||""}),f("autofocus",null),f("direction","ltr",function(u,g){return u.doc.setDirection(g)},!0),f("phrases",null)}(Mr),a=(o=Mr).optionHandlers,f=o.helpers={},o.prototype={constructor:o,focus:function(){window.focus(),this.display.input.focus()},setOption:function(u,g){var $=this.options,le=$[u];$[u]==g&&"mode"!=u||($[u]=g,a.hasOwnProperty(u)&&ei(this,a[u])(this,g,le),Be(this,"optionChange",this,u))},getOption:function(u){return this.options[u]},getDoc:function(){return this.doc},addKeyMap:function(u,g){this.state.keyMaps[g?"push":"unshift"](_u(u))},removeKeyMap:function(u){for(var g=this.state.keyMaps,$=0;$<g.length;++$)if(g[$]==u||g[$].name==u)return g.splice($,1),!0},addOverlay:fi(function(u,g){var $=u.token?u:o.getMode(this.options,u);if($.startState)throw new Error("Overlays may not be stateful.");(function(le,fe,Se){for(var Te=0,Ye=Se(fe);Te<le.length&&Se(le[Te])<=Ye;)Te++;le.splice(Te,0,fe)})(this.state.overlays,{mode:$,modeSpec:u,opaque:g&&g.opaque,priority:g&&g.priority||0},function(le){return le.priority}),this.state.modeGen++,Ni(this)}),removeOverlay:fi(function(u){for(var g=this.state.overlays,$=0;$<g.length;++$){var le=g[$].modeSpec;if(le==u||"string"==typeof u&&le.name==u)return g.splice($,1),this.state.modeGen++,void Ni(this)}}),indentLine:fi(function(u,g,$){"string"!=typeof g&&"number"!=typeof g&&(g=null==g?this.options.smartIndent?"smart":"prev":g?"add":"subtract"),dr(this.doc,u)&&El(this,u,g,$)}),indentSelection:fi(function(u){for(var g=this.doc.sel.ranges,$=-1,le=0;le<g.length;le++){var fe=g[le];if(fe.empty())fe.head.line>$&&(El(this,fe.head.line,u,!0),$=fe.head.line,le==this.doc.sel.primIndex&&cl(this));else{var Se=fe.from(),Te=fe.to(),Ye=Math.max($,Se.line);$=Math.min(this.lastLine(),Te.line-(Te.ch?0:1))+1;for(var Ke=Ye;Ke<$;++Ke)El(this,Ke,u);var tt=this.doc.sel.ranges;0==Se.ch&&g.length==tt.length&&tt[le].from().ch>0&&Jl(this.doc,le,new tn(Se,tt[le].to()),_)}}}),getTokenAt:function(u,g){return gr(this,u,g)},getLineTokens:function(u,g){return gr(this,J(u),g,!0)},getTokenTypeAt:function(u){u=Bt(this.doc,u);var g,$=fn(this,Wt(this.doc,u.line)),le=0,fe=($.length-1)/2,Se=u.ch;if(0==Se)g=$[2];else for(;;){var Te=le+fe>>1;if((Te?$[2*Te-1]:0)>=Se)fe=Te;else{if(!($[2*Te+1]<Se)){g=$[2*Te+2];break}le=Te+1}}var Ye=g?g.indexOf("overlay "):-1;return Ye<0?g:0==Ye?null:g.slice(0,Ye-1)},getModeAt:function(u){var g=this.doc.mode;return g.innerMode?o.innerMode(g,this.getTokenAt(u).state).mode:g},getHelper:function(u,g){return this.getHelpers(u,g)[0]},getHelpers:function(u,g){var $=[];if(!f.hasOwnProperty(g))return $;var le=f[g],fe=this.getModeAt(u);if("string"==typeof fe[g])le[fe[g]]&&$.push(le[fe[g]]);else if(fe[g])for(var Se=0;Se<fe[g].length;Se++){var Te=le[fe[g][Se]];Te&&$.push(Te)}else fe.helperType&&le[fe.helperType]?$.push(le[fe.helperType]):le[fe.name]&&$.push(le[fe.name]);for(var Ye=0;Ye<le._global.length;Ye++){var Ke=le._global[Ye];Ke.pred(fe,this)&&-1==ne($,Ke.val)&&$.push(Ke.val)}return $},getStateAfter:function(u,g){var $=this.doc;return fr(this,(u=yt($,null==u?$.first+$.size-1:u))+1,g).state},cursorCoords:function(u,g){var $=this.doc.sel.primary();return _n(this,null==u?$.head:"object"==typeof u?Bt(this.doc,u):u?$.from():$.to(),g||"page")},charCoords:function(u,g){return is(this,Bt(this.doc,u),g||"page")},coordsChar:function(u,g){return ol(this,(u=Da(this,u,g||"page")).left,u.top)},lineAtHeight:function(u,g){return u=Da(this,{top:u,left:0},g||"page").top,An(this.doc,u+this.display.viewOffset)},heightAtLine:function(u,g,$){var le,fe=!1;if("number"==typeof u){var Se=this.doc.first+this.doc.size-1;u<this.doc.first?u=this.doc.first:u>Se&&(u=Se,fe=!0),le=Wt(this.doc,u)}else le=u;return Pr(this,le,{top:0,left:0},g||"page",$||fe).top+(fe?this.doc.height-Gr(le):0)},defaultTextHeight:function(){return Ta(this.display)},defaultCharWidth:function(){return Pa(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(u,g,$,le,fe){var Ye,Ke=this.display,tt=(u=_n(this,Bt(this.doc,u))).bottom,Xe=u.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),Ke.sizer.appendChild(g),"over"==le)tt=u.top;else if("above"==le||"near"==le){var vt=Math.max(Ke.wrapper.clientHeight,this.doc.height),ut=Math.max(Ke.sizer.clientWidth,Ke.lineSpace.clientWidth);("above"==le||u.bottom+g.offsetHeight>vt)&&u.top>g.offsetHeight?tt=u.top-g.offsetHeight:u.bottom+g.offsetHeight<=vt&&(tt=u.bottom),Xe+g.offsetWidth>ut&&(Xe=ut-g.offsetWidth)}g.style.top=tt+"px",g.style.left=g.style.right="","right"==fe?(Xe=Ke.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):("left"==fe?Xe=0:"middle"==fe&&(Xe=(Ke.sizer.clientWidth-g.offsetWidth)/2),g.style.left=Xe+"px"),$&&(null!=(Ye=Ld(this,{left:Xe,top:tt,right:Xe+g.offsetWidth,bottom:tt+g.offsetHeight})).scrollTop&&ql(this,Ye.scrollTop),null!=Ye.scrollLeft&&os(this,Ye.scrollLeft))},triggerOnKeyDown:fi(Du),triggerOnKeyPress:fi(rf),triggerOnKeyUp:nf,triggerOnMouseDown:fi(ku),execCommand:function(u){if(ss.hasOwnProperty(u))return ss[u].call(null,this)},triggerElectric:fi(function(u){Qh(this,u)}),findPosH:function(u,g,$,le){var fe=1;g<0&&(fe=-1,g=-g);for(var Se=Bt(this.doc,u),Te=0;Te<g&&!(Se=lf(this.doc,Se,fe,$,le)).hitSide;++Te);return Se},moveH:fi(function(u,g){var $=this;this.extendSelectionsBy(function(le){return $.display.shift||$.doc.extend||le.empty()?lf($.doc,le.head,u,g,$.options.rtlMoveVisually):u<0?le.from():le.to()},G)}),deleteH:fi(function(u,g){var le=this.doc;this.doc.sel.somethingSelected()?le.replaceSelection("",null,"+delete"):ua(this,function(fe){var Se=lf(le,fe.head,u,g,!1);return u<0?{from:Se,to:fe.head}:{from:fe.head,to:Se}})}),findPosV:function(u,g,$,le){var fe=1,Se=le;g<0&&(fe=-1,g=-g);for(var Te=Bt(this.doc,u),Ye=0;Ye<g;++Ye){var Ke=_n(this,Te,"div");if(null==Se?Se=Ke.left:Ke.left=Se,(Te=tp(this,Ke,fe,$)).hitSide)break}return Te},moveV:fi(function(u,g){var $=this,le=this.doc,fe=[],Se=!this.display.shift&&!le.extend&&le.sel.somethingSelected();if(le.extendSelectionsBy(function(Ye){if(Se)return u<0?Ye.from():Ye.to();var Ke=_n($,Ye.head,"div");null!=Ye.goalColumn&&(Ke.left=Ye.goalColumn),fe.push(Ke.left);var tt=tp($,Ke,u,g);return"page"==g&&Ye==le.sel.primary()&&Fd($,is($,tt,"div").top-Ke.top),tt},G),fe.length)for(var Te=0;Te<le.sel.ranges.length;Te++)le.sel.ranges[Te].goalColumn=fe[Te]}),findWordAt:function(u){var g=Wt(this.doc,u.line).text,$=u.ch,le=u.ch;if(g){var fe=this.getHelper(u,"wordChars");"before"!=u.sticky&&le!=g.length||!$?++le:--$;for(var Se=g.charAt($),Te=Fe(Se,fe)?function(Ye){return Fe(Ye,fe)}:/\s/.test(Se)?function(Ye){return/\s/.test(Ye)}:function(Ye){return!/\s/.test(Ye)&&!Fe(Ye)};$>0&&Te(g.charAt($-1));)--$;for(;le<g.length&&Te(g.charAt(le));)++le}return new tn(J(u.line,$),J(u.line,le))},toggleOverwrite:function(u){null!=u&&u==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ye(this.display.cursorDiv,"CodeMirror-overwrite"):y(this.display.cursorDiv,"CodeMirror-overwrite"),Be(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ue()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:fi(function(u,g){Wl(this,u,g)}),getScrollInfo:function(){var u=this.display.scroller;return{left:u.scrollLeft,top:u.scrollTop,height:u.scrollHeight-ht(this)-this.display.barHeight,width:u.scrollWidth-ht(this)-this.display.barWidth,clientHeight:Ht(this),clientWidth:Dt(this)}},scrollIntoView:fi(function(u,g){var le;null==u?(u={from:this.doc.sel.primary().head,to:null},null==g&&(g=this.options.cursorScrollMargin)):"number"==typeof u?u={from:J(u,0),to:null}:null==u.from&&(u={from:u,to:null}),u.to||(u.to=u.from),u.margin=g||0,null!=u.from.line?(le=u,au(this),this.curOp.scrollToPos=le):$h(this,u.from,u.to,u.margin)}),setSize:fi(function(u,g){var $=this,le=function(Se){return"number"==typeof Se||/^\d+$/.test(String(Se))?Se+"px":Se};null!=u&&(this.display.wrapper.style.width=le(u)),null!=g&&(this.display.wrapper.style.height=le(g)),this.options.lineWrapping&&Er(this);var fe=this.display.viewFrom;this.doc.iter(fe,this.display.viewTo,function(Se){if(Se.widgets)for(var Te=0;Te<Se.widgets.length;Te++)if(Se.widgets[Te].noHScroll){Ci($,fe,"widget");break}++fe}),this.curOp.forceUpdate=!0,Be(this,"refresh",this)}),operation:function(u){return Li(this,u)},startOperation:function(){return na(this)},endOperation:function(){return Ds(this)},refresh:fi(function(){var u=this.display.cachedTextHeight;Ni(this),this.curOp.forceUpdate=!0,wi(this),Wl(this,this.doc.scrollLeft,this.doc.scrollTop),fu(this.display),(null==u||Math.abs(u-Ta(this.display))>.5||this.options.lineWrapping)&&Ia(this),Be(this,"refresh",this)}),swapDoc:fi(function(u){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),vu(this,u),wi(this),this.display.input.reset(),Wl(this,u.scrollLeft,u.scrollTop),this.curOp.forceScroll=!0,_r(this,"swapDoc",this,g),g}),phrase:function(u){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,u)?g[u]:u},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},De(o),o.registerHelper=function(u,g,$){f.hasOwnProperty(u)||(f[u]=o[u]={_global:[]}),f[u][g]=$},o.registerGlobalHelper=function(u,g,$,le){o.registerHelper(u,g,le),f[u]._global.push({pred:$,val:le})};var rp="iter insert remove copy getEditor constructor".split(" ");for(var Hi in Ui.prototype)Ui.prototype.hasOwnProperty(Hi)&&ne(rp,Hi)<0&&(Mr.prototype[Hi]=function(o){return function(){return o.apply(this.doc,arguments)}}(Ui.prototype[Hi]));return De(Ui),Mr.inputStyles={textarea:Kr,contenteditable:sr},Mr.defineMode=function(o){Mr.defaults.mode||"null"==o||(Mr.defaults.mode=o),St.apply(this,arguments)},Mr.defineMIME=function(o,a){Mt[o]=a},Mr.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),Mr.defineMIME("text/plain","null"),Mr.defineExtension=function(o,a){Mr.prototype[o]=a},Mr.defineDocExtension=function(o,a){Ui.prototype[o]=a},Mr.fromTextArea=function(o,a){if((a=a?Le(a):{}).value=o.value,!a.tabindex&&o.tabIndex&&(a.tabindex=o.tabIndex),!a.placeholder&&o.placeholder&&(a.placeholder=o.placeholder),null==a.autofocus){var f=ue();a.autofocus=f==o||null!=o.getAttribute("autofocus")&&f==document.body}function u(){o.value=fe.getValue()}var g;if(o.form&&(et(o.form,"submit",u),!a.leaveSubmitMethodAlone)){var $=o.form;g=$.submit;try{var le=$.submit=function(){u(),$.submit=g,$.submit(),$.submit=le}}catch(Se){}}a.finishInit=function(Se){Se.save=u,Se.getTextArea=function(){return o},Se.toTextArea=function(){Se.toTextArea=isNaN,u(),o.parentNode.removeChild(Se.getWrapperElement()),o.style.display="",o.form&&(ke(o.form,"submit",u),a.leaveSubmitMethodAlone||"function"!=typeof o.form.submit||(o.form.submit=g))}},o.style.display="none";var fe=Mr(function(Se){return o.parentNode.insertBefore(Se,o.nextSibling)},a);return fe},function(o){o.off=ke,o.on=et,o.wheelEventPixels=ks,o.Doc=Ui,o.splitLines=ee,o.countColumn=_e,o.findColumn=c,o.isWordChar=Ce,o.Pass=me,o.signal=Be,o.Line=rn,o.changeEnd=Ps,o.scrollbarModel=Ss,o.Pos=J,o.cmpPos=xe,o.modes=Ot,o.mimeModes=Mt,o.resolveMode=Xt,o.getMode=pn,o.modeExtensions=Qt,o.extendMode=wn,o.copyState=gn,o.startState=br,o.innerMode=Mn,o.commands=ss,o.keyMap=Wo,o.keyName=_l,o.isModifierKey=ca,o.lookupKey=Ha,o.normalizeKeyMap=Ua,o.StringStream=mn,o.SharedTextMarker=Fa,o.TextMarker=To,o.LineWidget=vl,o.e_preventDefault=dt,o.e_stopPropagation=Et,o.e_stop=Ft,o.addClass=ye,o.contains=$e,o.rmClass=y,o.keyNames=Po}(Mr),Mr.version="5.63.0",Mr}()},function(nt,ve,h){"use strict";h.r(ve);var ce=h(2),he=h.n(ce),de=h(13);ve.default=he.a.View.extend({initialize:function(se){this.config=se.config||{},this.pfx=this.config.stylePrefix||"",this.target=se.target||{},this.propTarget=se.propTarget||{},this.onChange=se.onChange,this.onInputRender=se.onInputRender||{},this.customValue=se.customValue||{},this.properties=[];var re=this.collection;this.listenTo(re,"add",this.addTo),this.listenTo(re,"reset",this.render)},addTo:function(se,re,Q){this.add(se,null,Q)},add:function(se,re){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},U=re||this.el,T=new se.typeView({model:se,name:se.get("name"),id:this.pfx+se.get("property"),target:this.target,propTarget:this.propTarget,onChange:this.onChange,onInputRender:this.onInputRender,config:this.config});"composite"!=se.get("type")&&(T.customValue=this.customValue),T.render();var v=T.el;this.properties.push(T),T.updateVisibility(),Object(de.b)(U,v,Q.at)},render:function(){var se=this,re=this.$el;this.clearItems();var Q=document.createDocumentFragment();return this.collection.each(function(U){return se.add(U,Q)}),re.empty(),re.append(Q),re.attr("class","".concat(this.pfx,"properties")),this},remove:function(){he.a.View.prototype.remove.apply(this,arguments),this.clearItems()},clearItems:function(){this.properties.forEach(function(se){return se.remove()}),this.properties=[]}})},function(nt,ve,h){"use strict";var ce=h(0),he=h(2),de=h.n(he);ve.a=de.a.View.extend({itemView:"",itemsView:"",itemType:"type",autoAdd:0,initialize:function(){this.config=(arguments.length>1?arguments[1]:void 0)||(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config||{},this.autoAdd&&this.listenTo(this.collection,"add",this.addTo),this.items=[],this.init()},init:function(){},addTo:function(se){this.add(se)},itemViewNotFound:function(se){var Q=this.ns,U=this.config.em,T="".concat(Q?"[".concat(Q,"]: "):"","'").concat(se,"' type not found");U&&U.logWarning(T)},add:function(se,re){var Q,U=this.config,T=this.reuseView,v=this.items,S=this.itemsView,E=void 0===S?{}:S,D=re||null,x=this.itemView,P=se.get(this.itemType);E[P]?x=E[P]:!P||E[P]||Object(ce.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],P)||this.itemViewNotFound(P),Q=se.view&&T?se.view:new x({model:se,config:U},U),v&&v.push(Q);var L=Q.render().el;D?D.appendChild(L):this.$el.append(L)},render:function(){var se=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(re){this.add(re,se)},this),this.$el.append(se),this.onRender(),this},onRender:function(){},onRemoveBefore:function(){},onRemove:function(){},remove:function(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},re=this.items;this.onRemoveBefore(re,se),this.clearItems(),de.a.View.prototype.remove.apply(this,arguments),this.onRemove(re,se)},clearItems:function(){}})},function(nt,ve,h){"use strict";var ce=h(14),he=h.n(ce),de=h(11),se=h.n(de),re=h(3),Q=h.n(re),U=h(22),T=h.n(U),v=h(2),S=h.n(v),E=h(0),D=h(10),x=["at"];function P(M,A){var z=Object.keys(M);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(M);A&&(H=H.filter(function(F){return Object.getOwnPropertyDescriptor(M,F).enumerable})),z.push.apply(z,H)}return z}function L(M){for(var A=1;A<arguments.length;A++){var z=null!=arguments[A]?arguments[A]:{};A%2?P(Object(z),!0).forEach(function(H){Q()(M,H,z[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(z)):P(Object(z)).forEach(function(H){Object.defineProperty(M,H,Object.getOwnPropertyDescriptor(z,H))})}return M}var N=function M(A){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(A||[]).forEach(function(F){z.push(F.getId()),M(F.components(),z)}),z},R=function M(A){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return A.map(function(H){z.push(H.getId()),M(H.components(),z)}),z};ve.a=S.a.Collection.extend({initialize:function(M){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opt=A,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var z=A.em;this.config=A.config,this.em=z,this.domc=A.domc||z&&z.get("DomComponents")},resetChildren:function(M){var A=this,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=this,F=z.previousModels||[],W=F.filter(function(I){return!M.get(I.cid)}),k=R(M);z.keepIds=N(F).filter(function(I){return k.indexOf(I)>=0}),W.forEach(function(I){return A.removeChildren(I,H,z)}),M.each(function(I){return A.onAdd(I)})},removeChildren:function(M,A){var z=this,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(M){var F=this.domc,W=this.em,k=F?F.allById():{},I=H.temporary;if(M.prevColl=this,!I){var p=M.getId(),y=W.get("SelectorManager").getAll(),C=W.get("CssComposer").getAll(),B=(H.keepIds||[]).indexOf(p)<0;delete k[p];var K=B?C.remove(C.filter(function(ue){return ue.getSelectors().getFullString()==="#".concat(p)}),H):[];y.remove(K.map(function(ue){return ue.getSelectors().at(0)})),M.opt.temporary||(W.get("Commands").run("core:component-style-clear",{target:M}),M.removed(),M.trigger("removed"),W.trigger("component:remove",M)),M.components().forEach(function(ue){return z.removeChildren(ue,A,H)})}var $e=M.components();W.stopListening($e),W.stopListening(M),W.stopListening(M.get("classes")),M.__postRemove()}},model:function(M,A){var z,H=A.collection.opt,F=H.em,W=F.get("DomComponents").componentTypes;A.em=F,A.config=H.config,A.componentTypes=W,A.domc=H.domc;for(var k=0;k<W.length;k++)if(W[k].id==M.type){z=W[k].model;break}return z||(z=W[W.length-1].model,F&&M.type&&F.logWarning("Component type '".concat(M.type,"' not found"),{attrs:M,options:A})),new z(M,A)},parseString:function(M){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=this.em,H=this.domc,F=z.get("CssComposer"),W=z.get("Parser").parseHtml(M);if(D.a.checkId(W.html,W.css,H.componentsById,A),W.css&&F&&!A.temporary){var k=T()(A,x);F.addCollection(W.css,L(L({},k),{},{extend:1}))}return W.html},add:function(M){var A=this,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};z.keepIds=N(z.previousModels),Object(E.isString)(M)?M=this.parseString(M,z):Object(E.isArray)(M)&&(M=se()(M)).forEach(function(W,k){if(Object(E.isString)(W)){var I=A.parseString(W,z);M[k]=Object(E.isArray)(I)&&!I.length?null:I}});var H=Object(E.isArray)(M);M=(H?M:[M]).filter(function(W){return W}).map(function(W){return A.processDef(W)}),M=H?Object(E.flatten)(M,1):M[0];var F=S.a.Collection.prototype.add.apply(this,[M,z]);return this.__firstAdd=F,F},processDef:function(M){if(M.cid&&M.ccid)return M;var A=this.em,z=this.config,H=(void 0===z?{}:z).processor,F=M;if(H){var W=H(F=L({},F));W&&(Object(E.each)(F,function(B,K){return delete F[K]}),Object(E.extend)(F,W))}if(F.$$typeof&&"object"==he()(F.props)){(F=L({},F)).props=L({},F.props);var k=A.get("DomComponents"),I=A.get("Parser").parserHtml;Object(E.each)(F,function(B,K){Object(E.includes)(["props","type"],K)||delete F[K]});var p=F.props,y=p.children;delete p.children,delete F.props;var C=I.splitPropsFromAttr(p);F.attributes=C.attrs,y&&(F.components=y),F.type?k.getType(F.type)||(F.tagName=F.type,delete F.type):F.type="textnode",Object(E.extend)(F,C.props)}return F},onAdd:function(M,A){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},H=this.domc,F=this.em,W=M.getStyle(),k=F&&F.getConfig("avoidInlineStyle");if(H&&H.Component.ensureInList(M),!Object(E.isEmpty)(W)&&!k&&F&&F.get&&F.getConfig("forceClass")&&!z.temporary){var I=M.cid;F.get("CssComposer").setClassRule(I,W),M.setStyle({}),M.addClass(I)}M.__postAdd({recursive:1}),this.__onAddEnd()},__onAddEnd:Object(E.debounce)(function(){})})},function(nt,ve,h){"use strict";h.r(ve);var ce=h(2);ve.default=ce.Model.extend({initialize:function(he){this.config=he||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.init(this.config)},onFrameScroll:function(he){},getCanvas:function(){return this.canvas.getElement()},getCanvasBody:function(){return this.canvas.getBody()},getCanvasTools:function(){return this.canvas.getToolsEl()},offset:function(he){var de=he.getBoundingClientRect();return{top:de.top+he.ownerDocument.body.scrollTop,left:de.left+he.ownerDocument.body.scrollLeft}},init:function(he){},callRun:function(he){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},se=this.id;if(he.trigger("run:".concat(se,":before"),de),!de||!de.abort){var Q=this.run(he,de.sender||he,de);return he.trigger("run:".concat(se),Q,de),he.trigger("run",se,Q,de),Q}he.trigger("abort:".concat(se),de)},callStop:function(he){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},se=this.id,re=de.sender||he;he.trigger("stop:".concat(se,":before"),de);var Q=this.stop(he,re,de);return he.trigger("stop:".concat(se),Q,de),he.trigger("stop",se,Q,de),Q},stopCommand:function(){this.em.get("Commands").stop(this.id)},run:function(he,de){},stop:function(he,de){}})},function(nt,ve,h){"use strict";var ce=h(3),he=h.n(ce),de=h(0),se=h(1),re=h(44);function Q(v,S){var E=Object.keys(v);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(v);S&&(D=D.filter(function(x){return Object.getOwnPropertyDescriptor(v,x).enumerable})),E.push.apply(E,D)}return E}function U(v){for(var S=1;S<arguments.length;S++){var E=null!=arguments[S]?arguments[S]:{};S%2?Q(Object(E),!0).forEach(function(D){he()(v,D,E[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(E)):Q(Object(E)).forEach(function(D){Object.defineProperty(v,D,Object.getOwnPropertyDescriptor(E,D))})}return v}var T=Object(re.a)().parseStyle;ve.a={parseStyle:T,extendStyle:function(v){return U(U({},this.getStyle()),v)},getStyle:function(v){var S=U({},this.get("style")||{});return v&&Object(de.isString)(v)?S[v]:S},setStyle:function(){var v=this,S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(de.isString)(S)&&(S=T(S));var D=this.getStyle(E),x=U({},S);this.set("style",x,E);var P=Object(se.shallowDiff)(D,x);return Object(de.keys)(P).forEach(function(L){var N=v.em;v.trigger("change:style:".concat(L)),N&&(N.trigger("styleable:change",v,L),N.trigger("styleable:change:".concat(L),v,L))}),x},addStyle:function(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof v?v={prop:S}:E=S||{},v=this.extendStyle(v),this.setStyle(v,E)},removeStyle:function(v){var S=this.getStyle();delete S[v],this.setStyle(S)},styleToString:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=[],E=this.getStyle(v);for(var D in E){var x=v.important,P=Object(de.isArray)(x)?x.indexOf(D)>=0:x,L="".concat(E[D]).concat(P?" !important":""),N="__"==D.substr(0,2);L&&!N&&S.push("".concat(D,":").concat(L,";"))}return S.join("")},getSelectors:function(){return this.get("selectors")||this.get("classes")},getSelectorsString:function(){return this.selectorsToString?this.selectorsToString():this.getSelectors().getFullString()}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(2),se=h.n(de),re=h(38),Q=h(5),U=h.n(Q),T=h(6),v=h.n(T),S=h(8),E=h.n(S),D=h(9),x=h.n(D),P=h(4),L=h.n(P),N=h(0),R=h(1);function M(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function A(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?M(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):M(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var H=function(w){E()(we,w);var oe=function(w){var oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(we){return!1}}();return function(){var we,ee=L()(w);if(oe){var Ge=L()(this).constructor;we=Reflect.construct(ee,arguments,Ge)}else we=ee.apply(this,arguments);return x()(this,we)}}(we);function we(){return U()(this,we),oe.apply(this,arguments)}return v()(we,[{key:"initialize",value:function(){var ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},qe=this.get("id")||"",Qe=this.get("name")||"";!this.get("property")&&this.set("property",(Qe||qe).replace(/ /g,"-"));var Ot=this.get("property");!this.get("id")&&this.set("id",Ot),!Qe&&this.set("name",Object(R.capitalize)(Ot).replace(/-/g," ")),we.callInit(this,ee,Ge)}},{key:"init",value:function(){}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("property")}},{key:"getLabel",value:function(){return this.get("name")}},{key:"getValue",value:function(){var ee=this.get("value");return Object(N.isUndefined)(ee)?this.getDefaultValue():ee}},{key:"clearValue",value:function(){return this.set({value:void 0,status:""},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this}},{key:"setValue",value:function(ee){var Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,qe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Qe=this.parseValue(ee),Ot=!Ge;!Ot&&this.set({value:void 0},{avoidStore:Ot,silent:!0}),this.set(Qe,A({avoidStore:Ot},qe))}},{key:"setValueFromInput",value:function(ee,Ge){this.setValue(ee,Ge,A(A({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),{},{fromInput:1}))}},{key:"parseValue",value:function(ee){var Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},qe={value:ee},Qe="!important";if(Object(N.isString)(ee)&&-1!==ee.indexOf(Qe)&&(qe.value=ee.replace(Qe,"").trim(),qe.important=1),!this.get("functionName")&&!Ge.complete)return qe;var Ot=[],Mt="".concat(qe.value),St=Mt.indexOf("(")+1,Xt=Mt.lastIndexOf(")"),pn=Mt.substring(0,St-1);if(pn&&(qe.functionName=pn),Ot.push(St),Xt>=0&&Ot.push(Xt),qe.value=String.prototype.substring.apply(Mt,Ot),Ge.numeric){var Qt=parseFloat(qe.value);qe.unit=qe.value.replace(Qt,""),qe.value=Qt}return qe}},{key:"splitValues",value:function(ee){var Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",qe=[],Qe="(",Ot=")",Mt="",St=0;return(ee||"").split("").forEach(function(Xt){Xt==Qe?(St++,Mt+=Qe):Xt==Ot&&St>0?(St--,Mt+=Ot):Xt===Ge&&0==St?(qe.push(Mt),Mt=""):Mt+=Xt}),""!==Mt&&qe.push(Mt),qe.map(function(Xt){return Xt.trim()})}},{key:"getDefaultValue",value:function(){return this.get("defaults")}},{key:"getFullValue",value:function(ee){var Ge=this.get("functionName"),qe=this.getDefaultValue(),Qe=Object(N.isUndefined)(ee)?this.get("value"):ee,Ot=!Object(N.isUndefined)(Qe)&&""!==Qe;if(Qe&&qe&&Qe===qe)return qe;if(Ge&&Ot){var Mt="url"===Ge?"'".concat(Qe.replace(/'/g,""),"'"):Qe;Qe="".concat(Ge,"(").concat(Mt,")")}return Ot&&this.get("important")&&(Qe="".concat(Qe," !important")),Qe||""}}]),we}(de.Model);function F(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function W(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?F(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):F(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}H.callParentInit=function(w,oe,we){w.prototype.initialize.apply(oe,[we,A(A({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},{skipInit:1})])},H.callInit=function(w,oe){var we=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!we.skipInit&&w.init(oe,we)},H.getDefaults=function(){return Object(N.result)(this.prototype,"defaults")},H.prototype.defaults={name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:0,important:0,toRequire:0,requires:null,requiresParent:null};var k=H.extend({defaults:W(W({},H.prototype.defaults),{},{detached:0,properties:[],separator:" "}),initialize:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H.callParentInit(H,this,w,oe);var we=this.get("properties")||[],ee=h(33).default;this.set("properties",new ee(we)),this.listenTo(this,"change:value",this.updateValues),H.callInit(this,w,oe)},clearValue:function(){return this.get("properties").each(function(w){return w.clearValue()}),H.prototype.clearValue.apply(this,arguments)},updateValues:function(){this.getFullValue().split(this.getSplitSeparator()),this.get("properties").each(function(oe,we){})},getSplitSeparator:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},getDefaultValue:function(w){var oe=this.get("defaults");return oe&&!w?oe:(oe="",this.get("properties").each(function(we,ee){return oe+="".concat(we.getDefaultValue()," ")}),oe.trim())},getFullValue:function(){return this.get("detached")?"":this.get("properties").getFullValue()},getPropertyAt:function(w){return this.get("properties").at(w)}}),I=se.a.Model.extend({defaults:{index:"",value:"",values:{},active:!1,preview:!1,properties:[]},initialize:function(){var w=this.get("properties"),oe=this.get("value");this.set("properties",w instanceof Lt?w:new Lt(w));var we=this.get("properties");if(we.forEach(this.onPropAdd,this),this.listenTo(we,"add",this.onPropAdd),!oe){var ee="",Ge=this.get("values");for(var qe in Ge)ee+=" "+Ge[qe];this.set("value",ee.trim())}},onPropAdd:function(w){var oe=this.collection;w.parent=oe&&oe.property},getPropertyAt:function(w){return this.get("properties").at(w)},getPropertyValue:function(w){var oe="";return this.get("properties").each(function(we){we.get("property")==w&&(oe=we.getFullValue())}),oe},getFullValue:function(){var w=[];return this.get("properties").each(function(oe){return w.push(oe.getFullValue())}),w.join(" ").trim()}});function p(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function y(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?p(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):p(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var C=se.a.Collection.extend({model:I,initialize:function(){this.idx=1,this.on("add",this.onAdd),this.on("reset",this.onReset)},onAdd:function(w,oe,we){we.noIncrement||w.set("index",this.idx++),we.active&&this.active(this.indexOf(w))},onReset:function(){this.idx=1},getSeparator:function(){var w=this.property;return w?w.get("layerSeparator"):", "},getLayersFromValue:function(w){var oe=this,we=[];return w.replace(/\(([\w\s,.]*)\)/g,function(ee){var Ge=ee.replace(/,\s*/g,",");w=w.replace(ee,Ge)}),(w?w.split(this.getSeparator()):[]).forEach(function(ee){we.push({properties:oe.properties.parseValue(ee)})}),we},getLayersFromStyle:function(w){var oe=[],we=this.properties;return we.each(function(ee){var Ge=w[ee.get("property")];(Ge?Ge.split(", "):[]).forEach(function(qe,Qe){qe=ee.parseValue(qe.trim()).value;var Ot=oe[Qe],Mt=y(y({},ee.attributes),{value:qe});Ot?Ot.properties.push(Mt):oe[Qe]={properties:[Mt]}})}),oe.forEach(function(ee){var Ge=ee.properties.map(function(qe){return qe.property});we.each(function(qe){var Qe=qe.get("property");Ge.indexOf(Qe)<0&&ee.properties.push(y({},qe.attributes))})}),oe},active:function(w){this.each(function(we){return we.set("active",0)});var oe=this.at(w);oe&&oe.set("active",1)},getFullValue:function(){var w=[];return this.each(function(oe){return w.push(oe.getFullValue())}),w.join(this.getSeparator())},getPropertyValues:function(w,oe){var we=[];return this.each(function(ee){var Ge=ee.getPropertyValue(w);Ge?we.push(Ge):!Object(N.isUndefined)(oe)&&we.push(oe)}),we.join(", ")}});function B(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function K(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?B(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):B(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var te=k.extend({defaults:K(K({},k.prototype.defaults),{},{layers:[],layerSeparator:", ",prepend:0,preview:0}),initialize:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k.callParentInit(k,this,w,oe);var we=this.get("layers"),ee=new C(we);ee.property=this,ee.properties=this.get("properties"),this.set("layers",ee),k.callInit(this,w,oe)},getLayers:function(){return this.get("layers")},getCurrentLayer:function(){return this.getLayers().filter(function(w){return w.get("active")})[0]},getFullValue:function(){return this.get("detached")?"":this.get("layers").getFullValue()},getValueFromStyle:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=this.getLayers().getLayersFromStyle(w);return new C(oe).getFullValue()},clearValue:function(){return this.getLayers().reset(),k.prototype.clearValue.apply(this,arguments)},getValueFromTarget:function(w){var oe=this.attributes,we=oe.detached,ee=oe.property,Ge=oe.properties,qe=w.getStyle(),Qe={};return Ge.forEach(function(Ot){var Mt=Ot.get("property"),St=qe[Mt];St&&(Qe[Mt]=St)}),we?Object(N.keys)(Qe).length?Qe:"":qe[ee]},getLayersFromTarget:function(w){}}),$e=h(22),ue=h.n($e),ye=["status","value"],Re=["complete"];function Pe(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function Me(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?Pe(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):Pe(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var Le="data-clear-style",_e="component:styleUpdate",ie=se.a.View.extend({template:function(){var oe=this.ppfx;return'\n      <div class="'.concat(this.pfx,'label" data-sm-label></div>\n      <div class="').concat(oe,'fields" data-sm-fields></div>\n    ')},templateLabel:function(w){var oe=this.pfx,we=this.em,ee=w.parent,Ge=w.attributes,qe=Ge.icon,Qe=void 0===qe?"":qe,Ot=Ge.info,Mt=void 0===Ot?"":Ot,Xt=Ge.name,pn=we&&we.t("styleManager.properties.".concat(Ge.id))||Xt;return'\n      <span class="'.concat(oe,"icon ").concat(Qe,'" title="').concat(Mt,'">\n        ').concat(pn,"\n      </span>\n      ").concat(ee?"":'<b class="'.concat(oe,'clear" ').concat(Le,">&Cross;</b>"),"\n    ")},templateInput:function(w){return'\n      <div class="'.concat(this.ppfx,'field">\n        <input placeholder="').concat(w.getDefaultValue(),'"/>\n      </div>\n    ')},events:he()({change:"inputValueChanged"},"click [".concat(Le,"]"),"clear"),initialize:function(){var w=this,oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(N.bindAll)(this,"targetUpdated","__change","__updateStyle"),this.config=oe.config||{};var we=this.config.em;this.em=we,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.target=oe.target||{},this.propTarget=oe.propTarget||{},this.onChange=oe.onChange,this.onInputRender=oe.onInputRender||{},this.customValue=oe.customValue||{};var ee=this.model;if(this.property=ee.get("property"),this.input=null,this.inputHolderId="#"+this.pfx+"input-holder",this.sector=ee.collection&&ee.collection.sector,this.__destroyFn=this.destroy?this.destroy.bind(this):function(){},ee.view=this,ee.get("value")||ee.set("value",ee.getDefaultValue()),we){this.listenTo(we,"update:component:style:".concat(this.property),this.targetUpdated);var qe=ee.get("requires")||{};Object.keys(qe).forEach(function(Ot){w.listenTo(we,"component:styleUpdate:".concat(Ot),w.targetUpdated)})}this.listenTo(this.propTarget,"update",this.targetUpdated),this.listenTo(ee,"destroy remove",this.remove),this.listenTo(ee,"change:value",this.modelValueChanged),this.listenTo(ee,"targetUpdated",this.targetUpdated),this.listenTo(ee,"change:visible",this.updateVisibility),this.listenTo(ee,"change:status",this.updateStatus),this.listenTo(ee,"change:name change:className change:full",this.render);var Qe=this.init&&this.init.bind(this);Qe&&Qe()},remove:function(){var w=this;se.a.View.prototype.remove.apply(this,arguments),["em","target","input","$input","propTarget","sector"].forEach(function(oe){return w[oe]={}}),this.__destroyFn(this._getClbOpts())},updateStatus:function(){var w=this.model,oe=w.get("status"),we=w.parent,ee=this.pfx,Ge=this.ppfx,qe=this.config,Qe="".concat(Ge,"four-color"),Ot="".concat(Ge,"color-warn"),Mt=this.$el.children(".".concat(ee,"label")),St=this.getClearEl(),Xt=St?St.style:{};switch(Mt.removeClass("".concat(Qe," ").concat(Ot)),Xt.display="none",oe){case"updated":!we&&Mt.addClass(Qe),qe.clearProperties&&(Xt.display="inline");break;case"computed":Mt.addClass(Ot)}},clear:function(w){var oe=this;w&&w.stopPropagation(),this.model.clearValue(),this.__unset(),setTimeout(function(){return oe.targetUpdated()})},getClearEl:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Le,"]"))),this.clearEl},getTarget:function(){return this.getTargetModel()},getTargets:function(){return this.propTarget.targets||[this.getTarget()]},getFirstTarget:function(){return this.getTargets()[0]},getTargetModel:function(){return this.propTarget&&this.propTarget.model},getHelperModel:function(){return this.propTarget&&this.propTarget.helper},inputValueChanged:function(w){w&&w.stopPropagation(),this.emit||(this.model.setValueFromInput(this.getInputValue()),this.elementUpdated())},elementUpdated:function(){this.setStatus("updated")},setStatus:function(w){this.model.set("status",w);var oe=this.model.parent;oe&&"updated"==w&&oe.set("status",w)},emitUpdateTarget:Object(N.debounce)(function(){var w=this.config.em;w&&w.trigger("styleManager:update:target",this.getFirstTarget())}),_getTargetData:function(){var w=this.model,oe=this.config,we=this.getTargetValue({ignoreDefault:1}),ee=w.getDefaultValue(),Ge=this.getComputedValue(),qe="",Qe="";return we?(qe=we,oe.highlightChanged&&(Qe="updated")):Ge&&oe.showComputed&&Ge!=ee?(qe=Ge,oe.highlightComputed&&(Qe="computed")):(qe=ee,Qe=""),{value:qe,status:Qe,targetValue:we,defaultValue:ee,computedValue:Ge}},targetUpdated:function(w,oe){var we=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.config.fromLayer&&(this.emitUpdateTarget(),this.checkVisibility())){var Ge=this.config.em,qe=this.model,Qe=qe.get("property"),Ot=this._getTargetData(),Mt=Ot.status,St=Ot.value,pn=Me({status:Mt,value:St},ue()(Ot,ye));return this.setStatus(Mt),qe.setValue(St,0,Me({fromTarget:1},we)),this.__update(St),Ge&&(Ge.trigger("styleManager:change",this,Qe,St,pn),Ge.trigger("styleManager:change:".concat(Qe),this,St,pn),this._emitUpdate(pn)),pn}},_emitUpdate:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=this.em;if(oe){var ee=this.model.get("property"),Ge=Me(Me({},this._getEventData()),w),qe=Ge.id;oe.trigger("style:update",Ge),oe.trigger("style:update:".concat(ee),Ge),ee!==qe&&oe.trigger("style:update:".concat(qe),Ge)}},_getEventData:function(){var w=this.model;return{propertyView:this,targets:this.getTargets(),value:w.getFullValue(),property:w,id:w.get("id"),name:w.get("property")}},checkVisibility:function(){var w=1;return this.config.hideNotStylable&&(this.isTargetStylable()&&this.isComponentStylable()?this.show():(this.hide(),w=0),this.sector&&this.sector.trigger("updateVisibility")),w},getTargetValue:function(){var w,oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},we=this.model,ee=this.getFirstTarget(),Ge=this.customValue;if(!ee)return w;if((w=ee.getStyle()[we.get("property")])||oe.ignoreDefault||(w=we.getDefaultValue()),"function"==typeof Ge&&!oe.ignoreCustomValue){var Qe=Ge(this,we.collection.indexOf(we),w);Qe&&(w=Qe)}return w},getComputedValue:function(){var w=this.propTarget,oe=w.computed||{},we=w.computedDefault||{},ee=this.config.avoidComputed||[],Ge=this.model.get("property"),qe=ee.indexOf(Ge)<0,Qe=oe[Ge],Ot=we[Object(R.camelCase)(Ge)];return oe&&qe&&Ot!==Qe&&Qe||""},getInputValue:function(){var w=this.getInputEl();return w?w.value:""},modelValueChanged:function(w,oe){var we=this,ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ge=this.model,qe=Ge.getFullValue();if(ee.fromInput||this.setValue(qe),!ee.fromTarget){this.getTargets().forEach(function(St){return we.__updateTarget(St,ee)});var Qe=this.config.em;if(!Qe)return;var Ot=Ge.get("property"),Mt=he()({},Ot,qe);Qe.getSelectedAll().forEach(function(St){!ee.noEmit&&Qe.trigger("component:update",St,Mt,ee),Qe.trigger(_e,St,Ot,ee),Qe.trigger("".concat(_e,":").concat(Ot),St,qe,ee),St.trigger("change:style",St,Mt,ee),St.trigger("change:style:".concat(Ot),St,qe,ee)})}},__updateTarget:function(w){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ee=this.model.getFullValue(),Ge=this.onChange;w&&this.isComponentStylable()&&(oe.fromTarget||(Ge&&!oe.fromParent?Ge(w,this,oe):this.updateTargetStyle(ee,null,Me(Me({},oe),{},{target:w}))),this._emitUpdate())},updateTargetStyle:function(w){var we=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ee=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")||this.model.get("property"),Ge=we.target||this.getFirstTarget(),qe=Ge.getStyle();w?qe[ee]=w:delete qe[ee],we.avoidStore?qe.__=1:delete qe.__,Ge.setStyle(qe,we);var Qe=this.getHelperModel();Qe&&Qe.setStyle(qe,we)},isTargetStylable:function(w){var oe=w||this.getFirstTarget(),we=this.model,ee=we.get("id"),Ge=we.get("property"),qe=we.get("toRequire"),Qe=oe.get("unstylable"),Ot=oe.get("stylable-require"),Mt=we.get("requires"),St=we.get("requiresParent"),Xt=this.sector?this.sector.collection:null,pn=this.em?this.em.getSelected():null,Qt=oe.get("stylable");if(Object(N.isArray)(Qt)&&(Qt=Qt.indexOf(Ge)>=0),Object(N.isArray)(Qe)&&(Qt=Qe.indexOf(Ge)<0),qe&&(Qt=!w||Ot&&(Ot.indexOf(ee)>=0||Ot.indexOf(Ge)>=0)),Xt&&Mt){var wn=Object.keys(Mt);Xt.each(function(mn){mn.get("properties").each(function(Wt){if(Object(N.includes)(wn,Wt.id)){var vn=Mt[Wt.id];Qt=Qt&&Object(N.includes)(vn,Wt.get("value"))}})})}if(St){var gn=pn&&pn.parent(),Mn=gn&&gn.getEl();if(Mn){var br=window.getComputedStyle(Mn);Object(N.each)(St,function(mn,Wt){Qt=Qt&&br[Wt]&&Object(N.includes)(mn,br[Wt])})}else Qt=!1}return Qt},isComponentStylable:function(){var w=this.em,oe=w&&w.getSelected();return!oe||this.isTargetStylable(oe)},setRawValue:function(w){this.setValue(this.model.parseValue(w))},setValue:function(w){var oe=this.model,we=Object(N.isUndefined)(w)?oe.getDefaultValue():w;if(this.update)return this.__update(we);var ee=this.getInputEl();ee&&(ee.value=we)},getInputEl:function(){return this.input||(this.input=this.el.querySelector("input")),this.input},updateVisibility:function(){this.el.style.display=this.model.get("visible")?"":"none"},show:function(){this.model.set("visible",1)},hide:function(){this.model.set("visible",0)},cleanValue:function(){this.setValue("")},clearCached:function(){this.clearEl=null,this.input=null,this.$input=null},__unset:function(){var w=this.unset&&this.unset.bind(this);w&&w(this._getClbOpts())},__update:function(w){var oe=this.update&&this.update.bind(this);oe&&oe(Me(Me({},this._getClbOpts()),{},{value:w}))},__change:function(){for(var w=this.emit&&this.emit.bind(this),oe=arguments.length,we=new Array(oe),ee=0;ee<oe;ee++)we[ee]=arguments[ee];w&&w.apply(void 0,[this._getClbOpts()].concat(we))},__updateStyle:function(w){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},we=oe.complete,ee=ue()(oe,Re),Ge=this.em,qe=this.model,Qe=qe.get("property"),Ot=!1!==we;Object(R.isObject)(w)?this.getTargets().forEach(function(Mt){Mt.addStyle(w,{avoidStore:!Ot}),Ge&&Ge.trigger(_e,Mt,Qe,ee)}):qe.setValueFromInput(w,we,ee),Ot&&this.elementUpdated()},_getClbOpts:function(){var w=this.model,oe=this.el,we=this.createdEl,ee=this.propTarget,Ge=w.get("property"),qe=ee.computed||{},Qe=ee.parentRules||[],Ot=Object(R.find)(Qe,function(Mt){return!!Mt.getStyle()[Ge]});return{el:oe,createdEl:we,props:w.attributes,setProps:function(){return w.set.apply(w,arguments)},change:this.__change,updateStyle:this.__updateStyle,targets:this.getTargets(),target:this.getFirstTarget(),computed:qe,parentRules:Qe,parentRule:Ot}},render:function(){this.clearCached();var w=this.pfx,oe=this.model,we=this.el,ee=this.$el,Ge=oe.get("property"),qe=oe.get("full"),Qe=oe.get("className")||"",Ot="".concat(w,"property");this.createdEl&&this.__destroyFn(this._getClbOpts()),ee.empty().append(this.template(oe)),ee.find("[data-sm-label]").append(this.templateLabel(oe));var Mt=this.create&&this.create.bind(this);this.createdEl=Mt&&Mt(this._getClbOpts()),ee.find("[data-sm-fields]").append(this.createdEl||this.templateInput(oe)),we.className="".concat(Ot," ").concat(w).concat(oe.get("type")," ").concat(Ot,"__").concat(Ge," ").concat(Qe).trim(),we.className+=qe?" ".concat(Ot,"--full"):"",this.updateStatus();var St=this.onRender&&this.onRender.bind(this);St&&St(),this.setValue(oe.get("value"),{fromTarget:1})}});function ne(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function ge(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?ne(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):ne(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var me=se.a.$,_=ie.extend({templateInput:function(){var w=this.pfx;return'\n      <div class="'.concat(w,"field ").concat(w,'composite">\n        <span id="').concat(w,'input-holder"></span>\n      </div>\n    ')},inputValueChanged:function(){if(!this.model.get("detached")){for(var w=arguments.length,oe=new Array(w),we=0;we<w;we++)oe[we]=arguments[we];ie.prototype.inputValueChanged.apply(this,oe)}},clear:function(w){var oe=this.properties;oe&&oe.forEach(function(we){return we.clear()}),ie.prototype.clear.apply(this,arguments)},remove:function(){var w=this;this.model.get("properties").reset(),ie.prototype.remove.apply(this,arguments),["properties","props","$props"].forEach(function(oe){return w[oe]={}})},onRender:function(){var w=this.model,oe=w.get("properties")||[];if(this.properties=[],oe.length&&(this.$input||(this.$input=me('<input type="hidden" value="0">'),this.input=this.$input.get(0)),this.props||(this.props=w.get("properties")),!this.$props)){this.props.each(function(ee,Ge){ee&&"composite"==ee.get("type")&&(this.props.remove(ee),console.warn("Nested composite types not yet allowed.")),ee.parent=w},this);var we=new(h(28).default)(this.getPropsConfig());this.$props=we.render().$el,this.properties=we.properties,this.$el.find("#".concat(this.pfx,"input-holder")).append(this.$props)}},getPropsConfig:function(w){var oe=this,we=this.model,ee={config:ge(ge({},this.config),{},{highlightComputed:0}),collection:this.props,target:this.target,propTarget:this.propTarget,onChange:function(Ge,qe,Qe){we.set("value",we.getFullValue(),Qe)},customValue:function(Ge,qe){return oe.valueOnIndex(qe,Ge)}};return we.get("detached")&&delete ee.onChange,ee},valueOnIndex:function(w,oe){var ee=this.getTargetValue({ignoreDefault:1});return ee?ee.split(this.model.getSplitSeparator())[w]:oe&&oe.getTargetValue({ignoreCustomValue:1,ignoreDefault:1})},clearCached:function(){ie.prototype.clearCached.apply(this,arguments),this.$input=null,this.props=null,this.$props=null}}),b=h(28);function G(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function c(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?G(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):G(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var O=se.a.View.extend({events:{click:"active","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"},template:function(w){var oe=this.pfx,we=this.ppfx,ee=this.em,Ge="".concat(ee&&ee.t("styleManager.layer")," ").concat(w.get("index"));return'\n      <div id="'.concat(oe,'move" class="').concat(we,'no-touch-actions" data-move-layer>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div id="').concat(oe,'label">').concat(Ge,'</div>\n      <div id="').concat(oe,'preview-box">\n      \t<div id="').concat(oe,'preview" data-preview></div>\n      </div>\n      <div id="').concat(oe,'close-layer" class="').concat(oe,'btn-close" data-close-layer>\n        &Cross;\n      </div>\n      <div id="').concat(oe,'inputs" data-properties></div>\n      <div style="clear:both"></div>\n    ')},initialize:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=this.model;this.stackModel=w.stackModel,this.config=w.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.sorter=w.sorter||null,this.propsConfig=w.propsConfig||{},this.customPreview=w.onPreview,this.listenTo(oe,"destroy remove",this.remove),this.listenTo(oe,"change:active",this.updateVisibility),this.listenTo(oe.get("properties"),"change",this.updatePreview),oe.view=this,oe.set({droppable:0,draggable:1}),this.$el.data("model",oe)},initSorter:function(w){this.sorter&&this.sorter.startSort(this.el)},removeItem:function(w){w&&w.stopPropagation(),this.remove()},remove:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=this.model,we=this.props,ee=oe.collection,Ge=this.stackModel;se.a.View.prototype.remove.apply(this,arguments),ee&&ee.contains(oe)&&ee.remove(oe),Ge&&Ge.set&&(Ge.set({stackIndex:null},{silent:!0}),!w.fromTarget&&Ge.trigger("updateValue")),we&&we.remove()},onPreview:function(w){var oe=this.stackModel,we=oe&&oe.get("detached"),ee=w.split(" "),qe=[],Qe={};return this.model.get("properties").each(function(Ot,Mt){var St=Ot.get("property"),Xt=we?Ot.getFullValue():ee[Mt]||"";if(Xt&&"integer"==Ot.get("type")){var pn=parseInt(Xt,10),Qt=Xt.replace(pn,"");Xt=(pn=(pn=(pn=isNaN(pn)?0:pn)>3?3:pn)<-3?-3:pn)+Qt}qe.push(Xt),Qe[St]=Xt}),we?Qe:qe.join(" ")},updatePreview:function(){var w=this.stackModel,oe=this.customPreview,we=this.getPreviewEl(),ee=this.model.getFullValue(),Ge=oe?oe(ee):this.onPreview(ee);if(Ge&&w&&we){var qe=we.style;if(Object(N.isString)(Ge))qe[w.get("property")]=Ge;else{var Qe=[];Object(N.each)(Ge,function(Ot,Mt){return Qe.push("".concat(Mt,":").concat(Ot))}),we.setAttribute("style",Qe.join(";"))}}},getPropertiesWrapper:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},getPreviewEl:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},active:function(){var w=this.model,oe=w.collection;oe.active(oe.indexOf(w))},updateVisibility:function(){var w=this.pfx,oe=this.getPropertiesWrapper(),we=this.model.get("active");oe.style.display=we?"":"none",this.$el[we?"addClass":"removeClass"]("".concat(w,"active"))},render:function(){var w=this.propsConfig,oe=this.model,we=this.el,ee=this.pfx,Ge=oe.get("preview"),qe=new b.default({collection:oe.get("properties"),config:c(c({},this.config),{},{fromLayer:1}),target:w.target,customValue:w.customValue,propTarget:w.propTarget,onChange:w.onChange}),Qe=qe.render().el;return we.innerHTML=this.template(oe),we.className="".concat(ee,"layer").concat(Ge?"":" ".concat(ee,"no-preview")),this.props=qe,this.getPropertiesWrapper().appendChild(Qe),this.updateVisibility(),this.updatePreview(),this}}),m=se.a.View.extend({initialize:function(w){this.config=w.config||{},this.stackModel=w.stackModel,this.preview=w.preview,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.propsConfig=w.propsConfig;var oe=this.pfx,we=this.ppfx,ee=this.collection;this.className="".concat(oe,"layers ").concat(we,"field"),this.listenTo(ee,"add",this.addTo),this.listenTo(ee,"deselectAll",this.deselectAll),this.listenTo(ee,"reset",this.reset),this.items=[];var Ge=this.config.em||"",qe=Ge?Ge.get("Utils"):"";this.sorter=qe?new qe.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(oe,"layers"),itemSel:".".concat(oe,"layer"),pfx:this.config.pStylePrefix}):"",ee.view=this,this.$el.data("model",ee),this.$el.data("collection",ee)},addTo:function(w){var oe=this.collection.indexOf(w);this.addToCollection(w,null,oe)},addToCollection:function(w,oe,we){var ee=oe||null,Ge=this.stackModel,qe=this.config,Qe=this.sorter,Ot=this.propsConfig;void 0!==this.preview&&w.set("preview",this.preview);var Mt=new O({model:w,config:qe,sorter:Qe,stackModel:Ge,propsConfig:Ot}),St=Mt.render().el;if(this.items.push(Mt),ee)ee.appendChild(St);else if(void 0!==we){var Xt="before";this.$el.children().length==we&&(we--,Xt="after"),we<0?this.$el.append(St):this.$el.children().eq(we)[Xt](St)}else this.$el.append(St);return St},deselectAll:function(){this.$el.find("."+this.pfx+"layer").removeClass(this.pfx+"active")},reset:function(w,oe){this.clearItems(oe),this.render()},render:function(){var w=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(oe){this.addToCollection(oe,w)},this),this.$el.append(w),this.$el.attr("class",this.className),this.sorter&&(this.sorter.plh=null),this},remove:function(){this.clearItems(),se.a.View.prototype.remove.apply(this,arguments)},clearItems:function(w){this.items.forEach(function(oe){return oe.remove(w)}),this.items=[]}});function V(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}var X=new(h(39).a),Ee=_.extend({templateInput:function(){var w=this.pfx;return'\n      <div class="'.concat(w,"field ").concat(w,'stack">\n        <button type="button" id="').concat(w,'add" data-add-layer>+</button>\n        <div data-layers-wrapper></div>\n      </div>\n    ')},init:function(){var w=this.model;w.set("stackIndex",null),this.events["click [data-add-layer]"]="addLayer",this.listenTo(w,"change:stackIndex",this.indexChanged),this.listenTo(w,"updateValue",this.inputValueChanged),this.delegateEvents();var oe=this.getPropsConfig();this.layers=new m({collection:this.getLayers(),stackModel:w,preview:w.get("preview"),config:this.config,propsConfig:oe});var we=h(28).default;this.propsView=new we({target:this.target,collection:w.get("properties"),stackModel:w,config:this.config,onChange:oe.onChange,propTarget:oe.propTarget})},targetUpdated:function(){var w,oe=this;if(this.model.get("detached"))w=this._getTargetData(),this.setStatus(w.status),this.checkVisibility();else{for(var we=arguments.length,ee=new Array(we),Ge=0;Ge<we;Ge++)ee[Ge]=arguments[Ge];w=_.prototype.targetUpdated.apply(this,ee)}setTimeout(function(){return oe.refreshLayers(w)})},getLayers:function(){return this.model.get("layers")},indexChanged:function(w){var oe=this.model;this.getLayers().active(oe.get("stackIndex"))},addLayer:function(){var w=this.model,oe=this.getLayers(),we=w.get("prepend"),ee=w.get("properties").deepClone();ee.each(function(qe){return qe.set("value","")});var Ge=oe.add({properties:ee},function(qe){for(var Qe=1;Qe<arguments.length;Qe++){var Ot=null!=arguments[Qe]?arguments[Qe]:{};Qe%2?V(Object(Ot),!0).forEach(function(Mt){he()(qe,Mt,Ot[Mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qe,Object.getOwnPropertyDescriptors(Ot)):V(Object(Ot)).forEach(function(Mt){Object.defineProperty(qe,Mt,Object.getOwnPropertyDescriptor(Ot,Mt))})}return qe}({active:1},we&&{at:0}));this.inputValueChanged({up:1}),w.set("stackIndex",oe.indexOf(Ge))},inputValueChanged:function(){var oe=this.model;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).up&&this.elementUpdated(),oe.get("detached")?oe.get("properties").each(function(we){return we.trigger("change:value")}):oe.set("value",this.getLayerValues())},setValue:function(){},getLayerValues:function(){return this.getLayers().getFullValue()},_getClassRule:function(){var oe=this.em,we=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).skipAdd,ee=void 0===we?1:we,Ge=oe.getSelected(),qe=oe.get("StyleManager").getModelToStyle(Ge,{skipAdd:ee,useClasses:1});return qe!==Ge&&qe},_getParentTarget:function(w){for(var oe,we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ee=this.em,qe=this.model.get("property"),Qe=we.isValid||function(Mn){return Mn.getStyle()[qe]},Mt=ee.get("CssComposer").getAll().filter(function(Mn){return Mn.selectorsToString()===w.getSelectorsString()}).reduce(function(Mn,br){return Mn[br.getAtRule()]=br,Mn},{}),Xt=X.sortMediaObject(Mt).map(function(Mn){return Mn.value}),pn=Xt.indexOf(w),Qt=Xt.splice(0,pn),wn=Qt.length-1;wn>-1;wn--){var gn=Qt[wn];if(Qe(gn)){oe=gn;break}}return oe},refreshLayers:function(){var w,oe,we,ee,Ge,qe,Qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ot=[],Mt=this.model,St=this.em,Xt=this.getLayers(),pn=Mt.get("detached"),Qt=Mt.get("property"),wn=this.getFirstTarget(),gn=this.getComputedValue(),Mn=St.getSelected(),br={fromTarget:1};if(pn){oe=Qe.targetValue||{};var mn=function(ln){var An=Mt.get("properties").at(0).get("property");return ln&&!Object(N.isUndefined)(ln.getStyle()[An])};if(!Object(N.keys)(oe).length&&gn&&Mn){var Wt={isValid:function(ln){return mn(ln)}};(ee=this._getParentTarget(wn,Wt))?oe=ee.getStyle():(we=this._getClassRule(),ee=!(Ge=mn(we)&&we.getStyle())&&this._getParentTarget(this._getClassRule({skipAdd:0}),Wt),qe=mn(ee)&&ee.getStyle(),oe=Ge||qe||{})}w=oe,Ot=Xt.getLayersFromStyle(oe)}else{var rr=this.getTargetValue({ignoreDefault:1});!rr&&gn&&((ee=this._getParentTarget(wn))?rr=ee.getStyle()[Qt]:(qe=(ee=!(Ge=(we=this._getClassRule())&&we.getStyle()[Qt])&&this._getParentTarget(this._getClassRule({skipAdd:0})))&&ee.getStyle()[Qt],rr=Ge||qe||gn)),w=rr=rr==Mt.getDefaultValue()?"":rr,Ot=Xt.getLayersFromValue(rr)}var Jt=Mt.getLayersFromTarget(wn,{resultValue:w,layersObj:Ot})||Ot;Xt.reset(null,br),Xt.add(Jt,br),Mt.set({stackIndex:null},{silent:!0})},getTargetValue:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=this.model,we=oe.attributes.detached,ee=this.getFirstTarget(),Ge=_.prototype.getTargetValue.call(this,w);return Object(N.isUndefined)(Ge)&&!we?Ge=oe.getValueFromStyle(ee.getStyle()):we&&(Ge=oe.getValueFromTarget(ee)),Ge},getPropsConfig:function(){var w=this,oe=w.model;return{target:w.target,propTarget:w.propTarget,onChange:function(we,ee,Ge){var qe=ee.model,Qe=oe.get("status");if(oe.get("detached")){var Ot=qe.get("property"),Mt=qe.getDefaultValue(),St=w.getLayers(),Xt=St.getPropertyValues(Ot,Mt);ee.updateTargetStyle(Xt,null,Ge),"background-image"!=Ot||Ge.avoidStore||"computed"!=Qe||oe.get("properties").filter(function(Qt){return"__"==Qt.get("property").substr(0,2)}).forEach(function(Qt){var wn=Qt.get("property"),gn=St.getPropertyValues(wn,Qt.getDefaultValue());w.getTargets().forEach(function(Mn){return Mn.addStyle(he()({},wn,gn),Ge)})})}else if("updated"==Qe){var pn=oe.getFullValue();oe.set("value",pn,Ge),!pn&&ee.updateTargetStyle(pn,null,Ge)}}}},onRender:function(){var oe=this.layers,we=this.propsView,ee=this.el.querySelector("[data-layers-wrapper]");we.render(),ee.appendChild(oe.render().el)}}),He=se.a.$,Oe=ie.extend({templateInput:function(){var w=this.pfx,oe=this.em;return'\n    <div class="'.concat(w,"field ").concat(w,"file\">\n      <div id='").concat(w,"input-holder'>\n        <div class=\"").concat(w,'btn-c">\n          <button class="').concat(w,'btn" id="').concat(w,'images" type="button">\n            ').concat(oe.t("styleManager.fileButton"),'\n          </button>\n        </div>\n        <div style="clear:both;"></div>\n      </div>\n      <div id="').concat(w,'preview-box">\n        <div id="').concat(w,'preview-file"></div>\n        <div id="').concat(w,'close">&Cross;</div>\n      </div>\n    </div>\n    ')},init:function(){var w=this.em;this.modal=w.get("Modal"),this.am=w.get("AssetManager"),this.events["click #"+this.pfx+"close"]="removeFile",this.events["click #"+this.pfx+"images"]="openAssetManager",this.delegateEvents()},onRender:function(){if(!this.$input){var w=this.model.getDefaultValue();this.$input=He('<input placeholder="'.concat(w,'">'))}this.$preview||(this.$preview=this.$el.find("#"+this.pfx+"preview-file")),this.$previewBox||(this.$previewBox=this.$el.find("#"+this.pfx+"preview-box")),this.setValue(this.componentValue,0)},clearCached:function(){ie.prototype.clearCached.apply(this,arguments),this.$preview=null,this.$previewBox=null},setValue:function(w,oe){ie.prototype.setValue.apply(this,arguments),this.setPreviewView(w&&w!=this.model.getDefaultValue()),this.setPreview(w)},setPreviewView:function(w){var oe=this.$previewBox;oe&&oe[w?"addClass":"removeClass"]("".concat(this.pfx,"show")),oe&&oe.css({display:w?"block":"none"})},spreadUrl:function(w){this.model.set("value",w),this.setPreviewView(1)},setPreview:function(w){var oe=this.$preview;w=w&&w.indexOf("url(")<0?"url(".concat(w,")"):w,oe&&oe.css("background-image",w)},cleanValue:function(){this.setPreviewView(0),this.model.set({value:""},{silent:!0})},removeFile:function(){this.model.set("value",this.model.getDefaultValue());for(var w=arguments.length,oe=new Array(w),we=0;we<w;we++)oe[we]=arguments[we];ie.prototype.cleanValue.apply(this,oe),this.setPreviewView(0)},openAssetManager:function(){var w=this,oe=this.em,we=oe&&oe.get("AssetManager");we&&we.open({select:function(ee,Ge){var qe;qe=ee,w.spreadUrl(Object(N.isString)(qe)?qe:qe.get("src")),Ge&&we.close()},target:this.getTargetModel(),types:["image"],accept:"image/*"})}}),Ce=se.a.$,Fe=ie.extend({templateInput:function(){return""},init:function(){var w=this.model;this.listenTo(w,"change:unit",this.modelValueChanged),this.listenTo(w,"el:change",this.elementUpdated),this.listenTo(w,"change:units",this.render)},setValue:function(w){var oe=this.model.parseValue(w);w="".concat(oe.value).concat(oe.unit),this.inputInst.setValue(w,{silent:1})},onRender:function(){var w=this.ppfx;if(!this.input){var oe=this.model.input;oe.ppfx=w,oe.render(),this.el.querySelector(".".concat(w,"fields")).appendChild(oe.el),this.$input=oe.inputEl,this.unit=oe.unitEl,this.$unit=Ce(this.unit),this.input=this.$input.get(0),this.inputInst=oe}},clearCached:function(){ie.prototype.clearCached.apply(this,arguments),this.unit=null,this.$unit=null}}),Ue=h(45);function it(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function xt(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?it(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):it(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var pt=Fe.extend({setValue:function(w){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};oe=xt(xt({},oe),{},{silent:1}),this.inputInst.setValue(w,oe)},remove:function(){var w=this;Fe.prototype.remove.apply(this,arguments);var oe=this.inputInst;oe&&oe.remove&&oe.remove(),["inputInst","$color"].forEach(function(we){return w[we]={}})},onRender:function(){if(!this.input){var w=this.ppfx,oe=new Ue.a({target:this.target,model:this.model,ppfx:w}).render();this.el.querySelector(".".concat(w,"fields")).appendChild(oe.el),this.$input=oe.inputEl,this.$color=oe.colorEl,this.input=this.$input.get(0),this.inputInst=oe}}}),kt=h(11),Nt=h.n(kt);function ae(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function be(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?ae(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):ae(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var Ve=H.extend({defaults:function(){return be(be({},H.prototype.defaults),{},{options:[],full:1})},initialize:function(){for(var w=arguments.length,oe=new Array(w),we=0;we<w;we++)oe[we]=arguments[we];H.prototype.initialize.apply(this,oe),this.listenTo(this,"change:options",this.onOptionChange)},onOptionChange:function(){this.set("list",this.get("options"))},getOptions:function(){var w=this.attributes,oe=w.options;return oe&&oe.length?oe:w.list},setOptions:function(){return this.set("options",arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),this},addOption:function(w){if(w){var oe=this.getOptions();this.setOptions([].concat(Nt()(oe),[w]))}return this}});function ot(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function et(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?ot(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):ot(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var Z=Ve.extend({defaults:function(){return et(et({},Ve.prototype.defaults()),{},{full:0})}}),ke=ie.extend({templateInput:function(){var w=this.pfx,oe=this.ppfx;return'\n      <div class="'.concat(oe,"field ").concat(oe,'select">\n        <span id="').concat(w,'input-holder"></span>\n        <div class="').concat(oe,'sel-arrow">\n          <div class="').concat(oe,'d-s-arrow"></div>\n        </div>\n      </div>\n    ')},initialize:function(){for(var w=arguments.length,oe=new Array(w),we=0;we<w;we++)oe[we]=arguments[we];ie.prototype.initialize.apply(this,oe),this.listenTo(this.model,"change:options",this.updateOptions)},updateOptions:function(){this.input=null,this.onRender()},onRender:function(){var w=this.pfx,oe=this.model.getOptions();if(!this.input){var we="";oe.forEach(function(Ge){var qe=Ge.name||Ge.value,Qe=Ge.style?Ge.style.replace(/"/g,"&quot;"):"",Ot=Qe?'style="'.concat(Qe,'"'):"",Mt=Ge.value.replace(/"/g,"&quot;");we+='<option value="'.concat(Mt,'" ').concat(Ot,">").concat(qe,"</option>")});var ee=this.el.querySelector("#".concat(w,"input-holder"));ee.innerHTML="<select>".concat(we,"</select>"),this.input=ee.firstChild}}}),Be=ie.extend({templateInput:function(){var w=this.ppfx;return'\n      <div class="'.concat(w,"field ").concat(w,'field-radio">\n      </div>\n    ')},onRender:function(){var w=this.pfx,oe=this.ppfx,we="".concat(oe,"radio-item-label"),ee=this.model,Ge=ee.get("property"),qe=ee.get("list")||ee.get("options")||[],Qe=ee.cid,Ot="".concat(w,"radio ").concat(w,"radio-").concat(Ge);if(!this.input&&qe&&qe.length){var Mt="";qe.forEach(function(Xt){var pn=Xt.className?"".concat(Xt.className," ").concat(w,"icon ").concat(we):"",Qt="".concat(Ge,"-").concat(Xt.value,"-").concat(Qe),wn=Xt.name||Xt.value,gn=Xt.title?'title="'.concat(Xt.title,'"'):"";Mt+='\n            <div class="'.concat(oe,'radio-item">\n              <input type="radio" class="').concat(Ot,'" id="').concat(Qt,'" name="').concat(Ge,"-").concat(Qe,'" value="').concat(Xt.value,'"/>\n              <label class="').concat(pn||we,'" ').concat(gn,' for="').concat(Qt,'">').concat(pn?"":wn,"</label>\n            </div>\n          ")});var St=this.el.querySelector(".".concat(oe,"field"));St.innerHTML='<div class="'.concat(oe,'radio-items">').concat(Mt,"</div>"),this.input=St.firstChild}},getInputValue:function(){var w=this.getCheckedEl();return w?w.value:""},getCheckedEl:function(){var w=this.getInputEl();return w?w.querySelector("input:checked"):""},setValue:function(w){var oe=this.model,we=w||oe.get("value")||oe.getDefaultValue(),ee=this.getInputEl(),Ge=ee?ee.querySelector('[value="'.concat(we,'"]')):"";if(Ge)Ge.checked=!0;else{var qe=this.getCheckedEl();qe&&(qe.checked=!1)}}}),Je=h(40);function st(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function mt(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?st(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):st(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var De=H.extend({defaults:mt(mt({},H.prototype.defaults),{},{units:[],unit:"",step:1,min:"",max:""}),getUnits:function(){return this.get("units")||[]},getValueUnit:function(){return this.get("unit")},initialize:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H.callParentInit(H,this,w,oe);var we=this.get("unit"),ee=this.get("units");this.input=Object(R.hasWin)()&&new Je.a({model:this}),ee.length&&!we&&this.set("unit",ee[0]),H.callInit(this,w,oe)},clearValue:function(){return this.set({value:void 0,unit:void 0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this},parseValue:function(w){var oe=H.prototype.parseValue.apply(this,arguments),we=this.input.validateInputValue(oe.value,{deepCheck:1}),Ge=we.unit;return oe.value=we.value,oe.unit=Ge,oe},getFullValue:function(){var w=this.get("value"),oe=this.get("unit");return w=Object(N.isUndefined)(w)?"":w,oe=!Object(N.isUndefined)(oe)&&w?oe:"",w="".concat(w).concat(oe),H.prototype.getFullValue.apply(this,[w])}});function dt(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function Et(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?dt(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):dt(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var It=De.extend({defaults:Et(Et({},De.prototype.defaults),{},{showInput:1})});function Ft(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function jt(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?Ft(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):Ft(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var lt=Fe.extend({events:function(){return jt(jt({},Fe.prototype.events),{},{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},templateInput:function(w){var oe=this.ppfx;return'\n      <div class="'.concat(oe,"field ").concat(oe,'field-range">\n        <input type="range"\n          min="').concat(w.get("min"),'"\n          max="').concat(w.get("max"),'"\n          step="').concat(w.get("step"),'"/>\n      </div>\n    ')},getSliderEl:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},inputValueChanged:function(){var w=this.model,oe=w.get("step");this.getInputEl().value=this.getSliderEl().value;var we=this.getInputValue()-oe;w.set("value",we,{avoidStore:1}).set("value",we+oe),this.elementUpdated()},inputValueChangedSoft:function(){this.getInputEl().value=this.getSliderEl().value,this.model.set("value",this.getInputValue(),{avoidStore:1}),this.elementUpdated()},setValue:function(w){var oe=this.model.parseValue(w);this.getSliderEl().value=parseFloat(oe.value),Fe.prototype.setValue.apply(this,arguments)},onRender:function(){Fe.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},clearCached:function(){Fe.prototype.clearCached.apply(this,arguments),this.slider=null}});function ft(w,oe){var we=Object.keys(w);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(w);oe&&(ee=ee.filter(function(Ge){return Object.getOwnPropertyDescriptor(w,Ge).enumerable})),we.push.apply(we,ee)}return we}function Ne(w){for(var oe=1;oe<arguments.length;oe++){var we=null!=arguments[oe]?arguments[oe]:{};oe%2?ft(Object(we),!0).forEach(function(ee){he()(w,ee,we[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(we)):ft(Object(we)).forEach(function(ee){Object.defineProperty(w,ee,Object.getOwnPropertyDescriptor(we,ee))})}return w}var Lt=ve.default=se.a.Collection.extend(re.a).extend({extendViewApi:1,types:[{id:"stack",model:te,view:Ee,isType:function(w){if(w&&"stack"==w.type)return w}},{id:"composite",model:k,view:_,isType:function(w){if(w&&"composite"==w.type)return w}},{id:"file",model:H,view:Oe,isType:function(w){if(w&&"file"==w.type)return w}},{id:"color",model:H,view:pt,isType:function(w){if(w&&"color"==w.type)return w}},{id:"select",model:Z,view:ke,isType:function(w){if(w&&"select"==w.type)return w}},{id:"radio",model:Ve,view:Be,isType:function(w){if(w&&"radio"==w.type)return w}},{id:"slider",model:It,view:lt,isType:function(w){if(w&&"slider"==w.type)return w}},{id:"integer",model:De,view:Fe,isType:function(w){if(w&&"integer"==w.type)return w}},{id:"base",model:H,view:ie,isType:function(w){return w.type="base",w}}],deepClone:function(){var w=this.clone();return w.reset(w.map(function(oe){var we=oe.clone();return we.typeView=oe.typeView,we})),w},parseValue:function(w){var oe=this,we=[];return w.split(" ").forEach(function(ee,Ge){var qe=oe.at(Ge);qe&&we.push(Ne(Ne({},qe.attributes),{value:ee}))}),we},getFullValue:function(){var w="";return this.each(function(oe){return w+="".concat(oe.getFullValue()," ")}),w.trim()}})},function(nt,ve){function h(ce,he,de,se,re,Q,U){try{var T=ce[Q](U),v=T.value}catch(S){return void de(S)}T.done?he(v):Promise.resolve(v).then(se,re)}nt.exports=function(ce){return function(){var he=this,de=arguments;return new Promise(function(se,re){var Q=ce.apply(he,de);function U(v){h(Q,se,re,U,T,"next",v)}function T(v){h(Q,se,re,U,T,"throw",v)}U(void 0)})}},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve){var h;h=function(){return this}();try{h=h||new Function("return this")()}catch(ce){"object"==typeof window&&(h=window)}nt.exports=h},function(nt,ve,h){"use strict";h.r(ve);var ce=h(2),he=h.n(ce).a.$;ve.default={startSelectPosition:function(de,se){var re=this,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isPointed=!1;var U=this.editorModel.get("Utils"),T=de.ownerDocument.body;U&&!this.sorter&&(this.sorter=new U.Sorter({container:T,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:se,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return re.em.getZoomDecimal()}})),Q.onStart&&(this.sorter.onStart=Q.onStart),de&&this.sorter.startSort(de,{container:T})},getOffsetDim:function(){var de=this.offset(this.canvas.getFrameEl()),se=this.offset(this.canvas.getElement());return{top:de.top-se.top,left:de.left-se.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex="after"==this.posMethod&&0!==this.cDim.length?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=0!==this.cDim.length&&"after"==this.posMethod&&this.posIndex==this.cDim.length,this.posTargetEl=0===this.cDim.length?he(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?he(this.cDim[this.posIndex][5]).parent():he(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(de,se,re){var Q=de||0,T=re.length,v=0!==T&&"after"==(se||"before")&&Q==T;return 0!==T&&(!v&&!re[Q][4]||re[Q-1]&&!re[Q-1][4]||v&&!re[Q-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},function(nt,ve,h){"use strict";var ce=h(46),he=h(1);Object(he.hasWin)()&&(window.Promise=window.Promise||ce.a),ve.a="function"==typeof fetch?fetch.bind():function(de,se){return new ce.a(function(re,Q){var U=new XMLHttpRequest;for(var T in U.open(se.method||"get",de),U.withCredentials="include"==se.credentials,se.headers||{})U.setRequestHeader(T,se.headers[T]);U.onload=function(v){return re({status:U.status,statusText:U.statusText,text:function(){return ce.a.resolve(U.responseText)}})},U.onerror=Q,U.upload&&se.onProgress&&(U.upload.onprogress=se.onProgress),se.body?U.send(se.body):U.send()})}},function(nt,ve,h){"use strict";var ce=h(0),he=h(2),de=h.n(he),se=de.a.Model,re=de.a.View;ve.a={types:[],initialize:function(Q,U){var T=this;this.model=function(){var S,E,D,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x&&x.type){var L=T.getBaseType();S=(D=T.getType(x.type))?D.model:L.model,E=D?D.view:L.view}else{var N=T.recognizeType(x);S=(D=N.type).model,E=D.view,x=N.attributes}var R=new S(x,P);return R.typeView=E,R};var v=this.init&&this.init.bind(this);v&&v()},recognizeType:function(Q){for(var U=this.getTypes(),T=0;T<U.length;T++){var v=U[T],S=v.isType(Q);if(S="boolean"==typeof S&&S?{type:v.id}:S)return{type:v,attributes:S}}return{type:this.getBaseType(),attributes:Q}},getBaseType:function(){var Q=this.getTypes();return Q[Q.length-1]},getTypes:function(){return this.types},getType:function(Q){for(var U=this.getTypes(),T=0;T<U.length;T++){var v=U[T];if(v.id===Q)return v}},addType:function(Q,U){var T=this.getType(Q),v=this.getBaseType(),S=T?T.model:v.model,E=T?T.view:v.view,D=U.model,x=U.view,P=U.isType;D=D instanceof se||Object(ce.isFunction)(D)?D:S.extend(D||{}),x=x instanceof re||Object(ce.isFunction)(x)?x:E.extend(x||{}),!this.extendViewApi||U.model||U.view||(x=x.extend(U)),T?(T.model=D,T.view=x,T.isType=P||T.isType):(U.id=Q,U.model=D,U.view=x,U.isType=P||function(L){if(L&&L.type==Q)return!0},this.getTypes().unshift(U))}}},function(nt,ve,h){"use strict";var ce=h(2),he=h.n(ce),de=h(0),se=Number.MAX_VALUE;ve.a=he.a.Model.extend({initialize:function(){Object(de.bindAll)(this,"sortRules"),this.compCls=[],this.ids=[]},buildFromModel:function(re){var Q=this,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T="",v=this.em,S=v&&v.getConfig("avoidInlineStyle"),E=re.styleToString(),D=re.get("classes"),x=U.wrapperIsBody,P=re.get("wrapper");if(this.ids.push("#".concat(re.getId())),D.each(function(R){return Q.compCls.push(R.getFullName())}),!S&&E){var L="#".concat(re.getId());T="".concat(L=x&&P?"body":L,"{").concat(E,"}")}return re.components().each(function(R){return T+=Q.buildFromModel(R,U)}),T},build:function(re){var Q=this,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=U.json,v=U.em||"",S=U.cssc||v&&v.get("CssComposer");this.em=v,this.compCls=[],this.ids=[],this.model=re;var E=[],D=re?this.buildFromModel(re,U):"",x=Object(de.isUndefined)(U.clearStyles)&&v?v.getConfig("clearStyles"):U.clearStyles;if(S){var P=U.rules||S.getAll(),L={},N=[];P.forEach(function(R){var M=R.getAtRule();if(M){var A=L[M];A?A.push(R):L[M]=[R]}else{var z=Q.buildFromRule(R,N,U);T?E.push(z):D+=z}}),this.sortMediaObject(L).forEach(function(R){var M="",A=R.key;R.value.forEach(function(z){var H=Q.buildFromRule(z,N,U);z.get("singleAtRule")?D+="".concat(A,"{").concat(H,"}"):M+=H,T&&E.push(H)}),M&&(D+="".concat(A,"{").concat(M,"}"))}),v&&x&&P.remove&&P.remove(N)}return T?E.filter(function(R){return R}):D},buildFromRule:function(re,Q){var U,T=this,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},S="",E=this.model,D=re.selectorsToString({skipAdd:1}),x=re.get("selectorsAdd"),P=re.get("singleAtRule");if(re.get("selectors").each(function(N){var R=N.getFullName();(T.compCls.indexOf(R)>=0||T.ids.indexOf(R)>=0||v.keepUnusedStyles)&&(U=1)}),D&&U||x||P||!E){var L=re.getDeclaration({body:1});L&&(v.json?S=re:S+=L)}else Q.push(re);return S},getQueryLength:function(re){var Q=/(-?\d*\.?\d+)\w{0,}/.exec(re);return Q?parseFloat(Q[1]):se},sortMediaObject:function(){var re=this,Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},U=[];return Object(de.each)(Q,function(T,v){return U.push({key:v,value:T})}),U.sort(function(T,v){var S=[T.key,v.key].every(function(x){return-1!==x.indexOf("min-width")}),D=S?v.key:T.key;return re.getQueryLength(S?T.key:v.key)-re.getQueryLength(D)})},sortRules:function(re,Q){var U=function(E){return E.get("mediaText")},T=[U(re),U(Q)].every(function(E){return-1!==E.indexOf("min-width")}),v=U(T?re:Q),S=U(T?Q:re);return this.getQueryLength(v)-this.getQueryLength(S)}})},function(nt,ve,h){"use strict";var ce=h(2),de=(h.n(ce),h(0)),se=h(1),re=h(25);ve.a=re.a.extend({events:{"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"},template:function(){var Q=this.ppfx;return'\n      <span class="'.concat(Q,'input-holder"></span>\n      <span class="').concat(Q,'field-units"></span>\n      <div class="').concat(Q,'field-arrows" data-arrows>\n        <div class="').concat(Q,'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(Q,'field-arrow-d" data-arrow-down></div>\n      </div>\n    ')},inputClass:function(){var Q=this.ppfx;return this.opts.contClass||"".concat(Q,"field ").concat(Q,"field-integer")},initialize:function(){re.a.prototype.initialize.apply(this,arguments),Object(de.bindAll)(this,"moveIncrement","upIncrement"),this.doc=document,this.listenTo(this.model,"change:unit",this.handleModelChange)},setValue:function(Q,U){var T=U||{},v=this.validateInputValue(Q,{deepCheck:1}),S={value:v.value};(v.unit||v.force)&&(S.unit=v.unit),this.model.set(S,T),T.silent&&this.handleModelChange()},handleChange:function(Q){Q.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},handleUnitChange:function(Q){Q.stopPropagation();var U=this.getUnitEl().value;this.model.set("unit",U),this.elementUpdated()},handleKeyDown:function(Q){"ArrowUp"===Q.key&&(Q.preventDefault(),this.upArrowClick()),"ArrowDown"===Q.key&&(Q.preventDefault(),this.downArrowClick())},elementUpdated:function(){this.model.trigger("el:change")},handleModelChange:function(){var Q=this.model;this.getInputEl().value=Q.get("value");var U=this.getUnitEl();U&&(U.value=Q.get("unit")||"")},getUnitEl:function(){if(!this.unitEl){var Q=this.model,U=Q.get("units")||[];if(U.length){var T=[];U.forEach(function(S){var E=S==Q.get("unit")?"selected":"";T.push("<option ".concat(E,">").concat(S,"</option>"))});var v=document.createElement("div");v.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(T.join(""),"</select>"),this.unitEl=v.firstChild}}return this.unitEl},upArrowClick:function(){var Q=this.model,U=Q.get("step"),T=parseFloat(Q.get("value"));T=this.normalizeValue(T+U);var v=this.validateInputValue(T);Q.set("value",v.value),this.elementUpdated()},downArrowClick:function(){var Q=this.model,U=Q.get("step"),T=parseFloat(Q.get("value")),v=this.normalizeValue(T-U),S=this.validateInputValue(v);Q.set("value",S.value),this.elementUpdated()},downIncrement:function(Q){Q.preventDefault(),this.moved=0;var U=this.model.get("value");U=this.normalizeValue(U),this.current={y:Q.pageY,val:U},Object(se.on)(this.doc,"mousemove",this.moveIncrement),Object(se.on)(this.doc,"mouseup",this.upIncrement)},moveIncrement:function(Q){this.moved=1;var U=this.model,T=U.get("step"),v=this.current,S=this.normalizeValue(v.val+(v.y-Q.pageY)*T);return this.prValue=this.validateInputValue(S).value,U.set("value",this.prValue,{avoidStore:1}),!1},upIncrement:function(){var Q=this.model,U=Q.get("step");if(Object(se.off)(this.doc,"mouseup",this.upIncrement),Object(se.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var T=this.prValue-U;Q.set("value",T,{avoidStore:1}).set("value",T+U),this.elementUpdated()}},normalizeValue:function(Q){var U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=this.model.get("step"),S=0;if(isNaN(Q))return U;if(Q=parseFloat(Q),Math.floor(Q)!==Q){var E=v.toString().split(".")[1];S=E?E.length:0}return S?parseFloat(Q.toFixed(S)):Q},validateInputValue:function(Q,U){var T=0,v=U||{},S=this.model,D=Object(de.isUndefined)(Q)?"":Q,x=S.get("units")||[],P=S.get("unit")||x.length&&x[0]||"",L=S.get("max"),N=S.get("min"),R=!!S.get("limitlessMax"),M=!!S.get("limitlessMin");if(v.deepCheck){var A=S.get("fixedValues")||[];if(D){var z=new RegExp("^"+A.join("|"),"g");if(A.length&&z.test(D))D=D.match(z)[0],P="",T=1;else{var H=D+"";D+="",D=parseFloat(D.replace(",",".")),D=isNaN(D)?"":D;var F=H.replace(D,"");Object(de.indexOf)(x,F)>=0&&(P=F)}}}return R||Object(de.isUndefined)(L)||""===L||(D=D>L?L:D),M||Object(de.isUndefined)(N)||""===N||(D=D<N?N:D),{force:T,value:D,unit:P}},render:function(){re.a.prototype.render.call(this),this.unitEl=null;var Q=this.getUnitEl();return Q&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(Q),this}})},function(nt,ve,h){var ce=h(94),he=h(95),de=h(50),se=h(96);nt.exports=function(re,Q){return ce(re)||he(re,Q)||de(re,Q)||se()},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){"use strict";var ce=h(2),he=h.n(ce),de=h(0);ve.a=he.a.View.extend({initialize:function(se){this.opts=se||{},this.config=se.config||{},this.em=this.config.em;var re=this.collection;this.listenTo(re,"add",this.addTo),this.listenTo(re,"reset",this.resetChildren),this.listenTo(re,"remove",this.removeChildren)},removeChildren:function(se,re){var Q=this,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};se.views.forEach(function(v){if(v){var S=v.childrenView,E=v.scriptContainer;S&&S.stopListening(),E&&E.remove(),v.remove.apply(v)}}),se.components().forEach(function(v){return Q.removeChildren(v,re,U)})},addTo:function(se){var re=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Q=this.config.em,U=this.collection.indexOf(se);this.addToCollection(se,null,U),Q&&!re.temporary&&function v(S){Q.trigger("component:add",S),S.components().forEach(function(E){return v(E)})}(se)},addToCollection:function(se,re,Q){this.compView||(this.compView=h(12).default);for(var U=this.config,T=this.opts,v=this.em,S=re||null,E=U.frameView,D=void 0===E?{}:E,x=D.model&&se.getView(D.model),P=T.componentTypes||v&&v.get("DomComponents").getTypes(),L=se.get("type")||"default",N=this.compView,R=0;R<P.length;R++)if(P[R].id==L){N=P[R].view;break}var M,A=x||new N({model:se,config:U,componentTypes:P});try{M=A.render().el}catch(W){M=document.createTextNode(""),v.logError(W)}if(S)S.appendChild(M);else{var z=this.parentEl,H=z.childNodes;if(Object(de.isUndefined)(Q))z.appendChild(M);else{var F=H.length==Q;F&&Q--,F||!H.length?z.appendChild(M):z.insertBefore(M,H[Q])}}return M},resetChildren:function(se){var re=this,U=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels,T=void 0===U?[]:U;this.parentEl.innerHTML="",T.forEach(function(v){return re.removeChildren(v,re.collection)}),se.each(function(v){return re.addToCollection(v)})},render:function(se){var re=this,Q=this.el,U=document.createDocumentFragment();return this.parentEl=se||this.el,this.collection.each(function(T){return re.addToCollection(T,U)}),Q.innerHTML="",Q.appendChild(U),this}})},function(nt,ve,h){"use strict";var ce=h(2),he=h.n(ce),de=he.a.View.extend({tagName:"style",initialize:function(){this.config=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config||{};var T=this.model;this.listenTo(T,"change",this.render),this.listenTo(T,"destroy remove",this.remove),this.listenTo(T.get("selectors"),"change",this.render)},render:function(){var U=this.model,T=this.el,v=U.get("important");return T.innerHTML=U.toCSS({important:v}),this}}),se=de.extend({_createElement:function(U){return document.createTextNode("")},render:function(){var U=this.model,T=U.get("important");return this.el.textContent=U.getDeclaration({important:T}),this}}),re=he.a.$,Q=function(U,T){return"".concat(U).concat(T?"-".concat(parseFloat(T)):"")};ve.a=he.a.View.extend({initialize:function(U){var T=U.config||{};this.atRules={},this.config=T,this.em=T.em,this.pfx=T.stylePrefix||"",this.className=this.pfx+"rules";var v=this.collection;this.listenTo(v,"add",this.addTo),this.listenTo(v,"reset",this.render)},addTo:function(U){this.addToCollection(U)},addToCollection:function(U,T){if(this.renderStarted){var v,S,E=T||null,D={model:U,config:this.config};if("keyframes"===U.get("atRuleType")){var x=U.getAtRule(),P=this.atRules[x];if(!P){var L=document.createElement("style");P=document.createTextNode(""),L.appendChild(document.createTextNode("".concat(x,"{"))),L.appendChild(P),L.appendChild(document.createTextNode("}")),this.atRules[x]=P,v=L}S=new se(D),P.appendData(S.render().el.textContent)}else v=(S=new de(D)).render().el;var N=this.className,R=U.get("mediaText"),M=Q(N),A=M;if(R&&(A=Q(N,this.getMediaWidth(R))),v){var z,H=E||this.el;try{z=H.querySelector("#".concat(A))}catch(F){}z||(z=H.querySelector("#".concat(M))),z.appendChild(v)}return v}},getMediaWidth:function(U){return U&&U.replace("(".concat(this.em.getConfig("mediaCondition"),": "),"").replace(")","")},render:function(){var U=this;this.renderStarted=1,this.atRules={};var T=this.em,v=this.$el,S=this.className,E=this.collection,D=document.createDocumentFragment();v.empty();var x=T.get("DeviceManager").getAll().pluck("priority");return x.every(function(P){return P})&&x.unshift(0),x.forEach(function(P){return re('<div id="'.concat(Q(S,P),'"></div>')).appendTo(D)}),E.each(function(P){return U.addToCollection(P,D)}),v.append(D),v.attr("class",S),this}})},function(nt,ve,h){"use strict";var ce=h(3),he=h.n(ce),de=h(14),se=h.n(de),re=h(0),Q="text/html",U=Q,T=function(E){var D,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=new DOMParser,L=x.htmlType||U,N=L===Q,R=N?E:"<div>".concat(E,"</div>"),M=P.parseFromString(R,L);if(N){var A=M.head,z=M.body,H=A.querySelectorAll("script");Object(re.each)(H,function(W){return z.appendChild(W)});var F=[];Object(re.each)(A.children,function(W){return F.push(W)}),Object(re.each)(F,function(W,k){return z.insertBefore(W,z.children[k])}),D=z}else D=M.firstChild;return D};function v(E,D){var x=Object.keys(E);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(E);D&&(P=P.filter(function(L){return Object.getOwnPropertyDescriptor(E,L).enumerable})),x.push.apply(x,P)}return x}function S(E){for(var D=1;D<arguments.length;D++){var x=null!=arguments[D]?arguments[D]:{};D%2?v(Object(x),!0).forEach(function(P){he()(E,P,x[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(x)):v(Object(x)).forEach(function(P){Object.defineProperty(E,P,Object.getOwnPropertyDescriptor(x,P))})}return E}ve.a=function(E){var D=E,x="data-gjs-",P="parse:html";return{compTypes:"",modelAttrStart:x,splitPropsFromAttr:function(){var L=this,N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},R={},M={};return Object(re.each)(N,function(A,z){if(0===z.indexOf(L.modelAttrStart)){var H=z.replace(x,""),F=A.length,W=A&&Object(re.isString)(A),k=W&&A.substr(0,1),I=W&&A.substr(F-1);A="false"!==(A="true"===A||A)&&A;try{A="{"==k&&"}"==I||"["==k&&"]"==I?JSON.parse(A):A}catch(p){}R[H]=A}else M[z]=A}),{props:R,attrs:M}},parseStyle:function(L){for(var N={},R=L.split(";"),M=0,A=R.length;M<A;M++){var z=R[M].trim();if(z){var H=z.split(":");N[H[0].trim()]=H.slice(1).join(":").trim()}}return N},parseClass:function(L){for(var N=[],R=L.split(" "),M=0,A=R.length;M<A;M++){var z=R[M].trim();z&&N.push(z)}return N},parseNode:function(L){for(var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=[],M=L.childNodes,A=0,z=M.length;A<z;A++){var H=M[A],F=H.attributes||[],W=F.length,k=R[R.length-1],I=H.childNodes.length,p=this.compTypes,y={};if(p){var C="",B=H.getAttribute&&H.getAttribute("".concat(x,"type"));if(B)y={type:B};else{for(var K=0;K<p.length;K++){var te=p[K];if(C=te.model.isComponent(H,N)){"object"!==se()(C)&&(C={type:te.id});break}}y=C}}y.tagName||(y.tagName=H.tagName?H.tagName.toLowerCase():""),W&&(y.attributes={});for(var $e=0;$e<W;$e++){var ue=F[$e].nodeName,ye=F[$e].nodeValue;if("style"==ue)y.style=this.parseStyle(ye);else if("class"==ue)y.classes=this.parseClass(ye);else{if("contenteditable"==ue)continue;if(0===ue.indexOf(x)){var Re=ue.replace(x,""),Pe=ye.length,Me=ye&&ye.substr(0,1),Le=ye&&ye.substr(Pe-1);ye="false"!==(ye="true"===ye||ye)&&ye;try{ye="{"==Me&&"}"==Le||"["==Me&&"]"==Le?JSON.parse(ye):ye}catch(c){}y[Re]=ye}else""===ye&&!0===H[ue]&&(ye=!0),y.attributes[ue]=ye}}if(I&&!y.components){var _e=H.childNodes[0];1===I&&3===_e.nodeType?(!y.type&&(y.type="text"),y.components={type:"textnode",content:_e.nodeValue}):y.components=this.parseNode(H,S(S({},N),{},{inSvg:N.inSvg||"svg"===y.type}))}if("textnode"==y.type){if(k&&"textnode"==k.type){k.content+=y.content;continue}if(!E.keepEmptyTextNodes){var ie=H.nodeValue;if(" "!=ie&&!ie.trim())continue}}I||"/>"!=="".concat(H.outerHTML).slice(-2)||(y.void=!0);var ne=y.components;if(!y.type&&ne){for(var ge=1,me=0,_=0;_<ne.length;_++){var b=ne[_],G=b.type;if(["text","textnode"].indexOf(G)<0&&D.textTags.indexOf(b.tagName)<0){ge=0;break}"textnode"==G&&(me=1)}ge&&me&&(y.type="text")}(y.tagName||"textnode"==y.type)&&R.push(y)}return R},parse:function(L,N){var R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},M=D.em,A=M&&M.get("Config")||{},z={html:null,css:null},H=S(S({},E),R),F=Object(re.isFunction)(H.parserHtml)?H.parserHtml(L,H):T(L,H),W=F.querySelectorAll("script"),k=W.length;if(!A.allowScripts)for(;k--;)W[k].parentNode.removeChild(W[k]);if(N){for(var I=F.querySelectorAll("style"),p=I.length,y="";p--;)y=I[p].innerHTML+y,I[p].parentNode.removeChild(I[p]);y&&(z.css=N.parse(y))}M&&M.trigger("".concat(P,":root"),{input:L,root:F});var C=this.parseNode(F);return z.html=1!==C.length||D.returnArray?C:C[0],M&&M.trigger(P,{input:L,output:z}),z}}}},function(nt,ve,h){"use strict";var ce=h(3),he=h.n(ce),de=h(2),se=h.n(de),re=h(0),Q=h(14),U=h.n(Q),T=h(1),v=h(25);function S(P,L){var N=Object.keys(P);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(P);L&&(R=R.filter(function(M){return Object.getOwnPropertyDescriptor(P,M).enumerable})),N.push.apply(N,R)}return N}function E(P){for(var L=1;L<arguments.length;L++){var N=null!=arguments[L]?arguments[L]:{};L%2?S(Object(N),!0).forEach(function(R){he()(P,R,N[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(N)):S(Object(N)).forEach(function(R){Object.defineProperty(P,R,Object.getOwnPropertyDescriptor(N,R))})}return P}var D=se.a.$;D&&function(P,L){if(Object(T.hasWin)()){var N={beforeShow:ie,move:ie,change:ie,show:ie,hide:ie,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},R=[],M=!!/msie/i.exec(window.navigator.userAgent),A=function(){function Z(Be,Je){return!!~(""+Be).indexOf(Je)}var ke=document.createElement("div").style;return ke.cssText="background-color:rgba(0,0,0,.5)",Z(ke.backgroundColor,"rgba")||Z(ke.backgroundColor,"hsla")}(),z=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),H=function(){var Z="";if(M)for(var ke=1;ke<=6;ke++)Z+="<div class='sp-"+ke+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Z,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),F="spectrum.id";P.fn.spectrum=function(Z,ke){if("string"==typeof Z){var Be=this,Je=Array.prototype.slice.call(arguments,1);return this.each(function(){var st=R[P(this).data(F)];if(st){var mt=st[Z];if(!mt)throw new Error("Spectrum: no such method: '"+Z+"'");"get"==Z?Be=st.get():"container"==Z?Be=st.container:"option"==Z?Be=st.option.apply(st,Je):"destroy"==Z?(st.destroy(),P(this).removeData(F)):mt.apply(st,Je)}}),Be}return this.spectrum("destroy").each(function(){var st=_e(this,P.extend({},Z,P(this).data()));P(this).data(F,st.id)})},P.fn.spectrum.load=!0,P.fn.spectrum.loadOpts={},P.fn.spectrum.draggable=me,P.fn.spectrum.defaults=N,P.fn.spectrum.inputTypeColorSupport=function Z(){if(void 0===Z._cachedResult){var ke=P("<input type='color'/>")[0];Z._cachedResult="color"===ke.type&&""!==ke.value}return Z._cachedResult},P.spectrum={},P.spectrum.localization={},P.spectrum.palettes={},P.fn.spectrum.processNativeColorInputs=function(){var Z=P("input[type=color]");Z.length&&!_()&&Z.spectrum({preferredFormat:"hex6"})};var W=/^[\s,#]+/,k=/\s+$/,I=0,p=Math,y=p.round,C=p.min,B=p.max,K=p.random,te=function Z(ke,Be){if(Be=Be||{},(ke=ke||"")instanceof Z)return ke;if(!(this instanceof Z))return new Z(ke,Be);var st,Ft,jt,mt,De,dt,Et,Je=(mt={r:0,g:0,b:0},De=1,dt=!1,Et=!1,"string"==typeof(st=ke)&&(st=function(lt){lt=lt.replace(W,"").replace(k,"").toLowerCase();var ft,Lt,Ne=!1;if(Re[lt])lt=Re[lt],Ne=!0;else if("transparent"==lt)return{r:0,g:0,b:0,a:0,format:"name"};return(ft=Me.rgb.exec(lt))?{r:ft[1],g:ft[2],b:ft[3]}:(ft=Me.rgba.exec(lt))?{r:ft[1],g:ft[2],b:ft[3],a:ft[4]}:(ft=Me.hsl.exec(lt))?{h:ft[1],s:ft[2],l:ft[3]}:(ft=Me.hsla.exec(lt))?{h:ft[1],s:ft[2],l:ft[3],a:ft[4]}:(ft=Me.hsv.exec(lt))?{h:ft[1],s:ft[2],v:ft[3]}:(ft=Me.hsva.exec(lt))?{h:ft[1],s:ft[2],v:ft[3],a:ft[4]}:(ft=Me.hex8.exec(lt))?{a:(Lt=ft[1],Ve(Lt)/255),r:Ve(ft[2]),g:Ve(ft[3]),b:Ve(ft[4]),format:Ne?"name":"hex8"}:(ft=Me.hex6.exec(lt))?{r:Ve(ft[1]),g:Ve(ft[2]),b:Ve(ft[3]),format:Ne?"name":"hex"}:!!(ft=Me.hex3.exec(lt))&&{r:Ve(ft[1]+""+ft[1]),g:Ve(ft[2]+""+ft[2]),b:Ve(ft[3]+""+ft[3]),format:Ne?"name":"hex"}}(st)),"object"==U()(st)&&(st.hasOwnProperty("r")&&st.hasOwnProperty("g")&&st.hasOwnProperty("b")?(Ft=st.g,jt=st.b,mt={r:255*ae(st.r,255),g:255*ae(Ft,255),b:255*ae(jt,255)},dt=!0,Et="%"===String(st.r).substr(-1)?"prgb":"rgb"):st.hasOwnProperty("h")&&st.hasOwnProperty("s")&&st.hasOwnProperty("v")?(st.s=et(st.s),st.v=et(st.v),mt=function(lt,ft,Ne){lt=6*ae(lt,360),ft=ae(ft,100),Ne=ae(Ne,100);var Lt=p.floor(lt),w=lt-Lt,oe=Ne*(1-ft),we=Ne*(1-w*ft),ee=Ne*(1-(1-w)*ft),Ge=Lt%6;return{r:255*[Ne,we,oe,oe,ee,Ne][Ge],g:255*[ee,Ne,Ne,we,oe,oe][Ge],b:255*[oe,oe,ee,Ne,Ne,we][Ge]}}(st.h,st.s,st.v),dt=!0,Et="hsv"):st.hasOwnProperty("h")&&st.hasOwnProperty("s")&&st.hasOwnProperty("l")&&(st.s=et(st.s),st.l=et(st.l),mt=function(lt,ft,Ne){var Lt,w,oe;function we(qe,Qe,Ot){return Ot<0&&(Ot+=1),Ot>1&&(Ot-=1),Ot<1/6?qe+6*(Qe-qe)*Ot:Ot<.5?Qe:Ot<2/3?qe+(Qe-qe)*(2/3-Ot)*6:qe}if(lt=ae(lt,360),ft=ae(ft,100),Ne=ae(Ne,100),0===ft)Lt=w=oe=Ne;else{var ee=Ne<.5?Ne*(1+ft):Ne+ft-Ne*ft,Ge=2*Ne-ee;Lt=we(Ge,ee,lt+1/3),w=we(Ge,ee,lt),oe=we(Ge,ee,lt-1/3)}return{r:255*Lt,g:255*w,b:255*oe}}(st.h,st.s,st.l),dt=!0,Et="hsl"),st.hasOwnProperty("a")&&(De=st.a)),De=Nt(De),{ok:dt,format:st.format||Et,r:C(255,B(mt.r,0)),g:C(255,B(mt.g,0)),b:C(255,B(mt.b,0)),a:De});this._originalInput=ke,this._r=Je.r,this._g=Je.g,this._b=Je.b,this._a=Je.a,this._roundA=y(100*this._a)/100,this._format=Be.format||Je.format,this._gradientType=Be.gradientType,this._r<1&&(this._r=y(this._r)),this._g<1&&(this._g=y(this._g)),this._b<1&&(this._b=y(this._b)),this._ok=Je.ok,this._tc_id=I++};te.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Z=this.toRgb();return(299*Z.r+587*Z.g+114*Z.b)/1e3},setAlpha:function(Z){return this._a=Nt(Z),this._roundA=y(100*this._a)/100,this},toHsv:function(){var Z=G(this._r,this._g,this._b);return{h:360*Z.h,s:Z.s,v:Z.v,a:this._a}},toHsvString:function(){var Z=G(this._r,this._g,this._b),ke=y(360*Z.h),Be=y(100*Z.s),Je=y(100*Z.v);return 1==this._a?"hsv("+ke+", "+Be+"%, "+Je+"%)":"hsva("+ke+", "+Be+"%, "+Je+"%, "+this._roundA+")"},toHsl:function(){var Z=b(this._r,this._g,this._b);return{h:360*Z.h,s:Z.s,l:Z.l,a:this._a}},toHslString:function(){var Z=b(this._r,this._g,this._b),ke=y(360*Z.h),Be=y(100*Z.s),Je=y(100*Z.l);return 1==this._a?"hsl("+ke+", "+Be+"%, "+Je+"%)":"hsla("+ke+", "+Be+"%, "+Je+"%, "+this._roundA+")"},toHex:function(Z){return c(this._r,this._g,this._b,Z)},toHexString:function(Z){return"#"+this.toHex(Z)},toHex8:function(){return O(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:y(this._r),g:y(this._g),b:y(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+y(this._r)+", "+y(this._g)+", "+y(this._b)+")":"rgba("+y(this._r)+", "+y(this._g)+", "+y(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:y(100*ae(this._r,255))+"%",g:y(100*ae(this._g,255))+"%",b:y(100*ae(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+y(100*ae(this._r,255))+"%, "+y(100*ae(this._g,255))+"%, "+y(100*ae(this._b,255))+"%)":"rgba("+y(100*ae(this._r,255))+"%, "+y(100*ae(this._g,255))+"%, "+y(100*ae(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Pe[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Z){var ke="#"+O(this._r,this._g,this._b,this._a),Be=ke,Je=this._gradientType?"GradientType = 1, ":"";return Z&&(Be=te(Z).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+Je+"startColorstr="+ke+",endColorstr="+Be+")"},toString:function(Z){var ke=!!Z;Z=Z||this._format;var Be=!1;return ke||!(this._a<1&&this._a>=0)||"hex"!==Z&&"hex6"!==Z&&"hex3"!==Z&&"name"!==Z?("rgb"===Z&&(Be=this.toRgbString()),"prgb"===Z&&(Be=this.toPercentageRgbString()),"hex"!==Z&&"hex6"!==Z||(Be=this.toHexString()),"hex3"===Z&&(Be=this.toHexString(!0)),"hex8"===Z&&(Be=this.toHex8String()),"name"===Z&&(Be=this.toName()),"hsl"===Z&&(Be=this.toHslString()),"hsv"===Z&&(Be=this.toHsvString()),Be||this.toHexString()):"name"===Z&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(Z,ke){var Be=Z.apply(null,[this].concat([].slice.call(ke)));return this._r=Be._r,this._g=Be._g,this._b=Be._b,this.setAlpha(Be._a),this},lighten:function(){return this._applyModification(Ee,arguments)},brighten:function(){return this._applyModification(He,arguments)},darken:function(){return this._applyModification(Oe,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(V,arguments)},greyscale:function(){return this._applyModification(X,arguments)},spin:function(){return this._applyModification(Ce,arguments)},_applyCombination:function(Z,ke){return Z.apply(null,[this].concat([].slice.call(ke)))},analogous:function(){return this._applyCombination(pt,arguments)},complement:function(){return this._applyCombination(Fe,arguments)},monochromatic:function(){return this._applyCombination(kt,arguments)},splitcomplement:function(){return this._applyCombination(xt,arguments)},triad:function(){return this._applyCombination(Ue,arguments)},tetrad:function(){return this._applyCombination(it,arguments)}},te.fromRatio=function(Z,ke){if("object"==U()(Z)){var Be={};for(var Je in Z)Z.hasOwnProperty(Je)&&(Be[Je]="a"===Je?Z[Je]:et(Z[Je]));Z=Be}return te(Z,ke)},te.equals=function(Z,ke){return!(!Z||!ke)&&te(Z).toRgbString()==te(ke).toRgbString()},te.random=function(){return te.fromRatio({r:K(),g:K(),b:K()})},te.mix=function(Z,ke,Be){Be=0===Be?0:Be||50;var Je,st=te(Z).toRgb(),mt=te(ke).toRgb(),De=Be/100,dt=2*De-1,Et=mt.a-st.a,It=1-(Je=((Je=dt*Et==-1?dt:(dt+Et)/(1+dt*Et))+1)/2);return te({r:mt.r*Je+st.r*It,g:mt.g*Je+st.g*It,b:mt.b*Je+st.b*It,a:mt.a*De+st.a*(1-De)})},te.readability=function(Z,ke){var Be=te(Z),Je=te(ke),st=Be.toRgb(),mt=Je.toRgb(),De=Be.getBrightness(),dt=Je.getBrightness(),Et=Math.max(st.r,mt.r)-Math.min(st.r,mt.r)+Math.max(st.g,mt.g)-Math.min(st.g,mt.g)+Math.max(st.b,mt.b)-Math.min(st.b,mt.b);return{brightness:Math.abs(De-dt),color:Et}},te.isReadable=function(Z,ke){var Be=te.readability(Z,ke);return Be.brightness>125&&Be.color>500},te.mostReadable=function(Z,ke){for(var Be=null,Je=0,st=!1,mt=0;mt<ke.length;mt++){var De=te.readability(Z,ke[mt]),dt=De.brightness>125&&De.color>500,Et=De.brightness/125*3+De.color/500;(dt&&!st||dt&&st&&Et>Je||!dt&&!st&&Et>Je)&&(st=dt,Je=Et,Be=te(ke[mt]))}return Be};var $e,ue,ye,Re=te.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Pe=te.hexNames=function(Z){var ke={};for(var Be in Z)Z.hasOwnProperty(Be)&&(ke[Z[Be]]=Be);return ke}(Re),Me=(ue="[\\s|\\(]+("+($e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+$e+")[,|\\s]+("+$e+")\\s*\\)?",ye="[\\s|\\(]+("+$e+")[,|\\s]+("+$e+")[,|\\s]+("+$e+")[,|\\s]+("+$e+")\\s*\\)?",{rgb:new RegExp("rgb"+ue),rgba:new RegExp("rgba"+ye),hsl:new RegExp("hsl"+ue),hsla:new RegExp("hsla"+ye),hsv:new RegExp("hsv"+ue),hsva:new RegExp("hsva"+ye),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=te,P(function(){P.fn.spectrum.load&&P.fn.spectrum.processNativeColorInputs()})}function Le(Z,ke,Be,Je){for(var st=[],mt=0;mt<Z.length;mt++){var De=Z[mt];if(De){var dt=te(De),Et=dt.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Et+=te.equals(ke,De)?" sp-thumb-active":"";var It=dt.toString(Je.preferredFormat||"rgb"),Ft=A?"background-color:"+dt.toRgbString():"filter:"+dt.toFilter();st.push('<span title="'+It+'" data-color="'+dt.toRgbString()+'" class="'+Et+'"><span class="sp-thumb-inner" style="'+Ft+';"></span></span>')}else st.push(P("<div />").append(P('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",Je.noColorSelectedText)).html())}return"<div class='sp-cf "+Be+"'>"+st.join("")+"</div>"}function _e(Z,ke){var Be,mt,un,Gt,De=(un=Z,(Gt=P.extend({},N,ke)).callbacks={move:ge(Gt.move,un),change:ge(Gt.change,un),show:ge(Gt.show,un),hide:ge(Gt.hide,un),beforeShow:ge(Gt.beforeShow,un)},Gt),dt=De.flat,Et=De.showSelectionPalette,It=De.localStorageKey,Ft=De.theme,jt=De.callbacks,lt=(Be=Gr,10,function(){var rn=this,un=arguments,Gt=function(){mt=null,Be.apply(rn,un)};mt||(mt=setTimeout(Gt,10))}),ft=!1,Ne=!1,Lt=!0,w=0,oe=0,we=0,ee=0,Ge=0,qe=0,Qe=0,Ot=0,Mt=0,St=0,Xt=1,pn=[],Qt=[],wn={},gn=De.selectionPalette.slice(0),Mn=De.maxSelectionSize,br="sp-dragging",mn=null,Wt=Z.ownerDocument,vn=P(Z),rr=!1,Jt=P(H,Wt).addClass(Ft),ln=Jt.find(".sp-picker-container"),An=Jt.find(".sp-color"),dr=Jt.find(".sp-dragger"),q=Jt.find(".sp-hue"),J=Jt.find(".sp-slider"),xe=Jt.find(".sp-alpha-inner"),je=Jt.find(".sp-alpha"),wt=Jt.find(".sp-alpha-handle"),Rt=Jt.find(".sp-input"),Vt=Jt.find(".sp-palette"),yt=Jt.find(".sp-initial"),Bt=Jt.find(".sp-cancel"),xn=Jt.find(".sp-clear"),Pn=Jt.find(".sp-choose"),ur=Jt.find(".sp-palette-toggle"),wr=vn.is("input"),fn=wr&&"color"===vn.attr("type")&&_(),fr=wr&&!dt,Ei=fr?P(z).addClass(Ft).addClass(De.className).addClass(De.replacerClassName):P([]),eo=fr?Ei:vn,Si=Ei.find(".sp-preview-inner"),li=De.color||wr&&vn.val(),gr=!1,ni=De.preferredFormat,Do=!De.showButtons||De.clickoutFiresChange,Di=!li,ir=De.allowEmpty&&!fn;function ji(){if(De.showPaletteOnly&&(De.showPalette=!0),ur.text(De.showPaletteOnly?De.togglePaletteMoreText:De.togglePaletteLessText),De.palette){pn=De.palette.slice(0),Qt=P.isArray(pn[0])?pn:[pn],wn={};for(var rn=0;rn<Qt.length;rn++)for(var un=0;un<Qt[rn].length;un++){var Gt=te(Qt[rn][un]).toRgbString();wn[Gt]=!0}}Jt.toggleClass("sp-flat",dt),Jt.toggleClass("sp-input-disabled",!De.showInput),Jt.toggleClass("sp-alpha-enabled",De.showAlpha),Jt.toggleClass("sp-clear-enabled",ir),Jt.toggleClass("sp-buttons-disabled",!De.showButtons),Jt.toggleClass("sp-palette-buttons-disabled",!De.togglePaletteOnly),Jt.toggleClass("sp-palette-disabled",!De.showPalette),Jt.toggleClass("sp-palette-only",De.showPaletteOnly),Jt.toggleClass("sp-initial-disabled",!De.showInitial),Jt.addClass(De.className).addClass(De.containerClassName),Gr()}function Vr(){if(It&&window.localStorage){try{var rn=window.localStorage[It].split(",#");rn.length>1&&(delete window.localStorage[It],P.each(rn,function(un,Gt){vi(Gt)}))}catch(un){}try{gn=window.localStorage[It].split(";")}catch(un){}}}function vi(rn){if(Et){var un=te(rn).toRgbString();if(!wn[un]&&-1===P.inArray(un,gn))for(gn.push(un);gn.length>Mn;)gn.shift();if(It&&window.localStorage)try{window.localStorage[It]=gn.join(";")}catch(Gt){}}}function Vo(){var rn=Zn(),un=P.map(Qt,function(Gt,dn){return Le(Gt,rn,"sp-palette-row sp-palette-row-"+dn,De)});Vr(),gn&&un.push(Le(function(){var Gt=[];if(De.showPalette)for(var dn=0;dn<gn.length;dn++){var Ur=te(gn[dn]).toRgbString();wn[Ur]||Gt.push(gn[dn])}return Gt.reverse().slice(0,De.maxSelectionSize)}(),rn,"sp-palette-row sp-palette-row-selection",De)),Vt.html(un.join(""))}function qi(){if(De.showInitial){var rn=gr,un=Zn();yt.html(Le([rn,un],un,"sp-palette-row-initial",De))}}function wo(){(oe<=0||w<=0||ee<=0)&&Gr(),Ne=!0,Jt.addClass(br),mn=null,vn.trigger("dragstart.spectrum",[Zn()])}function yi(){Ne=!1,Jt.removeClass(br),vn.trigger("dragstop.spectrum",[Zn()])}function to(){var rn=Rt.val();if(null!==rn&&""!==rn||!ir){var un=te(rn);un.isValid()?(no(un),ki(!0)):Rt.addClass("sp-validation-error")}else no(null),ki(!0)}function hr(){ft?bi():zn()}function zn(){var rn=P.Event("beforeShow.spectrum");if(ft)Gr();else if(vn.trigger("beforeShow.spectrum",[Zn()]),!1!==jt.beforeShow(Zn())&&!rn.isDefaultPrevented()){(function(){for(var Gt=0;Gt<R.length;Gt++)R[Gt]&&R[Gt].hide()})(),ft=!0;var un=P(Wt);un.bind("keydown.spectrum",Jr),un.bind("click.spectrum",Zs),P(window).bind("resize.spectrum",lt),Ei.addClass("sp-active"),Jt.removeClass("sp-hidden"),Gr(),ro(),gr=Zn(),qi(),jt.show(gr),vn.trigger("show.spectrum",[gr])}}function Jr(rn){27===rn.keyCode&&bi()}function Zs(rn){2!=rn.button&&(Ne||(Do?ki(!0):In(),bi()))}function bi(){ft&&!dt&&(ft=!1,P(Wt).unbind("keydown.spectrum",Jr),P(Wt).unbind("click.spectrum",Zs),P(window).unbind("resize.spectrum",lt),Ei.removeClass("sp-active"),Jt.addClass("sp-hidden"),jt.hide(Zn()),vn.trigger("hide.spectrum",[Zn()]))}function In(){no(gr,!0)}function no(rn,un){var Gt,dn;te.equals(rn,Zn())?ro():(!rn&&ir?Di=!0:(Di=!1,Lt=!rn,dn=(Gt=te(rn)).toHsv(),Ot=dn.h%360/360,Mt=dn.s,St=dn.v,Xt=dn.a),ro(),Gt&&Gt.isValid()&&!un&&(ni=De.preferredFormat||Gt.getFormat()))}function Zn(rn){return rn=rn||{},ir&&Di?null:te.fromRatio({h:Ot,s:Mt,v:St,a:Math.round(100*Xt)/100},{format:rn.format||ni})}function Br(){ro(),jt.move(Zn()),vn.trigger("move.spectrum",[Zn()])}function ro(){Rt.removeClass("sp-validation-error"),Gi();var rn=te.fromRatio({h:Ot,s:1,v:1});An.css("background-color",rn.toHexString());var un=ni;Xt<1&&(0!==Xt||"name"!==un)&&("hex"!==un&&"hex3"!==un&&"hex6"!==un&&"name"!==un||(un="rgb"));var Gt=Zn({format:un}),dn="";if(Si.removeClass("sp-clear-display"),Si.css("background-color","transparent"),!Gt&&ir)Si.addClass("sp-clear-display");else{var Ur=Gt.toHexString(),Tr=Gt.toRgbString();if(A||1===Gt.alpha?Si.css("background-color",Tr):(Si.css("background-color","transparent"),Si.css("filter",Gt.toFilter())),De.showAlpha){var Yi=Gt.toRgb();Yi.a=0;var so=te(Yi).toRgbString(),Nr="linear-gradient(left, "+so+", "+Ur+")";M?xe.css("filter",te(so).toFilter({gradientType:1},Ur)):(xe.css("background","-webkit-"+Nr),xe.css("background","-moz-"+Nr),xe.css("background","-ms-"+Nr),xe.css("background","linear-gradient(to right, "+so+", "+Ur+")"))}dn=Gt.toString(un)}De.showInput&&Rt.val(dn),De.showPalette&&Vo(),qi()}function Gi(){var rn=Mt,un=St;if(ir&&Di)wt.hide(),J.hide(),dr.hide();else{wt.show(),J.show(),dr.show();var Gt=rn*w,dn=oe-un*oe;Gt=Math.max(-we,Math.min(w-we,Gt-we)),dn=Math.max(-we,Math.min(oe-we,dn-we)),dr.css({top:dn+"px",left:Gt+"px"}),wt.css({left:Xt*Ge-qe/2+"px"}),J.css({top:Ot*ee-Qe+"px"})}}function ki(rn){var un=Zn(),Gt="",dn=!!Lt||!te.equals(un,gr);un&&(Gt=un.toString(ni),vi(un)),wr&&vn.val(Gt),rn&&dn&&(jt.change(un),vn.trigger("change",[un]))}function Gr(){ft&&(w=An.width(),oe=An.height(),we=dr.height(),q.width(),ee=q.height(),Qe=J.height(),Ge=je.width(),qe=wt.width(),dt||(Jt.css("position","absolute"),Jt.offset(De.offset?De.offset:function(rn,un){var dn=rn.outerWidth(),Ur=rn.outerHeight(),Tr=un.outerHeight(),Yi=rn[0].ownerDocument,so=Yi.documentElement,Cr=so.clientHeight,Lr=so.clientWidth+P(Yi).scrollLeft(),ao=Cr+P(Yi).scrollTop(),ci=un.offset();return ci.top+=Tr,ci.left-=Math.min(ci.left,ci.left+dn>Lr&&Lr>dn?Math.abs(ci.left+dn-Lr):0),ci.top-=Math.min(ci.top,ci.top+Ur>ao&&ao>Ur?Math.abs(Ur+Tr-0):0),ci}(Jt,eo))),Gi(),De.showPalette&&Vo(),vn.trigger("reflow.spectrum"))}function io(){bi(),rr=!0,vn.attr("disabled",!0),eo.addClass("sp-disabled")}!function(){if(M&&Jt.find("*:not(input)").attr("unselectable","on"),ji(),fr&&vn.after(Ei).hide(),ir||xn.hide(),dt)vn.after(Jt).hide();else{var rn="parent"===De.appendTo?vn.parent():P(De.appendTo);1!==rn.length&&(rn=P("body")),rn.append(Jt)}function un(dn){return dn.data&&dn.data.ignore?(no(P(dn.target).closest(".sp-thumb-el").data("color")),Br()):(no(P(dn.target).closest(".sp-thumb-el").data("color")),Br(),ki(!0),De.hideAfterPaletteSelect&&bi()),!1}Vr(),eo.bind("click.spectrum touchstart.spectrum",function(dn){rr||hr(),dn.stopPropagation(),P(dn.target).is("input")||dn.preventDefault()}),(vn.is(":disabled")||!0===De.disabled)&&io(),Jt.click(ne),Rt.change(to),Rt.bind("paste",function(){setTimeout(to,1)}),Rt.keydown(function(dn){13==dn.keyCode&&to()}),Bt.text(De.cancelText),Bt.bind("click.spectrum",function(dn){dn.stopPropagation(),dn.preventDefault(),In(),bi()}),xn.attr("title",De.clearText),xn.bind("click.spectrum",function(dn){dn.stopPropagation(),dn.preventDefault(),Di=!0,Br(),dt&&ki(!0)}),Pn.text(De.chooseText),Pn.bind("click.spectrum",function(dn){dn.stopPropagation(),dn.preventDefault(),M&&Rt.is(":focus")&&Rt.trigger("change"),Rt.hasClass("sp-validation-error")||(ki(!0),bi())}),ur.text(De.showPaletteOnly?De.togglePaletteMoreText:De.togglePaletteLessText),ur.bind("click.spectrum",function(dn){dn.stopPropagation(),dn.preventDefault(),De.showPaletteOnly=!De.showPaletteOnly,De.showPaletteOnly||dt||Jt.css("left","-="+(ln.outerWidth(!0)+5)),ji()}),me(je,function(dn,Ur,Tr){Xt=dn/Ge,Di=!1,Tr.shiftKey&&(Xt=Math.round(10*Xt)/10),Br()},wo,yi),me(q,function(dn,Ur){Ot=parseFloat(Ur/ee),Di=!1,De.showAlpha||(Xt=1),Br()},wo,yi),me(An,function(dn,Ur,Tr){if(Tr.shiftKey){if(!mn){var so=oe-St*oe,Nr=Math.abs(dn-Mt*w)>Math.abs(Ur-so);mn=Nr?"x":"y"}}else mn=null;var Cr=!mn||"y"===mn;(!mn||"x"===mn)&&(Mt=parseFloat(dn/w)),Cr&&(St=parseFloat((oe-Ur)/oe)),Di=!1,De.showAlpha||(Xt=1),Br()},wo,yi),li?(no(li),ro(),ni=De.preferredFormat||te(li).getFormat(),vi(li)):ro(),dt&&zn();var Gt=M?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Vt.delegate(".sp-thumb-el",Gt,un),yt.delegate(".sp-thumb-el:nth-child(1)",Gt,{ignore:!0},un)}();var oo={show:zn,hide:bi,toggle:hr,reflow:Gr,option:function(rn,un){return rn===L?P.extend({},De):un===L?De[rn]:(De[rn]=un,"preferredFormat"===rn&&(ni=De.preferredFormat),void ji())},enable:function(){rr=!1,vn.attr("disabled",!1),eo.removeClass("sp-disabled")},disable:io,offset:function(rn){De.offset=rn,Gr()},set:function(rn){no(rn),ki()},get:Zn,destroy:function(){vn.show(),eo.unbind("click.spectrum touchstart.spectrum"),Jt.remove(),Ei.remove(),R[oo.id]=null},container:Jt};return oo.id=R.push(oo)-1,oo}function ie(){}function ne(Z){Z.stopPropagation()}function ge(Z,ke){var Be=Array.prototype.slice,Je=Be.call(arguments,2);return function(){return Z.apply(ke,Je.concat(Be.call(arguments)))}}function me(Z,ke,Be,Je){ke=ke||function(){},Be=Be||function(){},Je=Je||function(){};var st=document,mt=!1,De={},dt=0,Et=0,It="ontouchstart"in window,Ft={};function jt(Ne){Ne.stopPropagation&&Ne.stopPropagation(),Ne.preventDefault&&Ne.preventDefault(),Ne.returnValue=!1}function lt(Ne){if(mt){if(M&&st.documentMode<9&&!Ne.button)return ft();var Lt=Ne&&Ne.touches&&Ne.touches[0],oe=Lt&&Lt.pageY||Ne.pageY,we=Math.max(0,Math.min((Lt&&Lt.pageX||Ne.pageX)-De.left,Et)),ee=Math.max(0,Math.min(oe-De.top,dt));It&&jt(Ne),ke.apply(Z,[we,ee,Ne])}}function ft(){mt&&(P(st).unbind(Ft),P(st.body).removeClass("sp-dragging"),setTimeout(function(){Je.apply(Z,arguments)},0)),mt=!1}Ft.selectstart=jt,Ft.dragstart=jt,Ft["touchmove mousemove"]=lt,Ft["touchend mouseup"]=ft,P(Z).bind("touchstart mousedown",function(Ne){(Ne.which?3==Ne.which:2==Ne.button)||mt||!1!==Be.apply(Z,arguments)&&(mt=!0,dt=P(Z).height(),Et=P(Z).width(),De=P(Z).offset(),P(st).bind(Ft),P(st.body).addClass("sp-dragging"),lt(Ne),jt(Ne))})}function _(){return P.fn.spectrum.inputTypeColorSupport()}function b(Z,ke,Be){Z=ae(Z,255),ke=ae(ke,255),Be=ae(Be,255);var Je,st,mt=B(Z,ke,Be),De=C(Z,ke,Be),dt=(mt+De)/2;if(mt==De)Je=st=0;else{var Et=mt-De;switch(st=dt>.5?Et/(2-mt-De):Et/(mt+De),mt){case Z:Je=(ke-Be)/Et+(ke<Be?6:0);break;case ke:Je=(Be-Z)/Et+2;break;case Be:Je=(Z-ke)/Et+4}Je/=6}return{h:Je,s:st,l:dt}}function G(Z,ke,Be){Z=ae(Z,255),ke=ae(ke,255),Be=ae(Be,255);var Je,st,mt=B(Z,ke,Be),De=C(Z,ke,Be),dt=mt,Et=mt-De;if(st=0===mt?0:Et/mt,mt==De)Je=0;else{switch(mt){case Z:Je=(ke-Be)/Et+(ke<Be?6:0);break;case ke:Je=(Be-Z)/Et+2;break;case Be:Je=(Z-ke)/Et+4}Je/=6}return{h:Je,s:st,v:dt}}function c(Z,ke,Be,Je){var st=[ot(y(Z).toString(16)),ot(y(ke).toString(16)),ot(y(Be).toString(16))];return Je&&st[0].charAt(0)==st[0].charAt(1)&&st[1].charAt(0)==st[1].charAt(1)&&st[2].charAt(0)==st[2].charAt(1)?st[0].charAt(0)+st[1].charAt(0)+st[2].charAt(0):st.join("")}function O(Z,ke,Be,Je){var st;return[ot((st=Je,Math.round(255*parseFloat(st)).toString(16))),ot(y(Z).toString(16)),ot(y(ke).toString(16)),ot(y(Be).toString(16))].join("")}function m(Z,ke){ke=0===ke?0:ke||10;var Be=te(Z).toHsl();return Be.s-=ke/100,Be.s=be(Be.s),te(Be)}function V(Z,ke){ke=0===ke?0:ke||10;var Be=te(Z).toHsl();return Be.s+=ke/100,Be.s=be(Be.s),te(Be)}function X(Z){return te(Z).desaturate(100)}function Ee(Z,ke){ke=0===ke?0:ke||10;var Be=te(Z).toHsl();return Be.l+=ke/100,Be.l=be(Be.l),te(Be)}function He(Z,ke){ke=0===ke?0:ke||10;var Be=te(Z).toRgb();return Be.r=B(0,C(255,Be.r-y(-ke/100*255))),Be.g=B(0,C(255,Be.g-y(-ke/100*255))),Be.b=B(0,C(255,Be.b-y(-ke/100*255))),te(Be)}function Oe(Z,ke){ke=0===ke?0:ke||10;var Be=te(Z).toHsl();return Be.l-=ke/100,Be.l=be(Be.l),te(Be)}function Ce(Z,ke){var Be=te(Z).toHsl(),Je=(y(Be.h)+ke)%360;return Be.h=Je<0?360+Je:Je,te(Be)}function Fe(Z){var ke=te(Z).toHsl();return ke.h=(ke.h+180)%360,te(ke)}function Ue(Z){var ke=te(Z).toHsl(),Be=ke.h;return[te(Z),te({h:(Be+120)%360,s:ke.s,l:ke.l}),te({h:(Be+240)%360,s:ke.s,l:ke.l})]}function it(Z){var ke=te(Z).toHsl(),Be=ke.h;return[te(Z),te({h:(Be+90)%360,s:ke.s,l:ke.l}),te({h:(Be+180)%360,s:ke.s,l:ke.l}),te({h:(Be+270)%360,s:ke.s,l:ke.l})]}function xt(Z){var ke=te(Z).toHsl(),Be=ke.h;return[te(Z),te({h:(Be+72)%360,s:ke.s,l:ke.l}),te({h:(Be+216)%360,s:ke.s,l:ke.l})]}function pt(Z,ke,Be){ke=ke||6,Be=Be||30;var Je=te(Z).toHsl(),st=360/Be,mt=[te(Z)];for(Je.h=(Je.h-(st*ke>>1)+720)%360;--ke;)Je.h=(Je.h+st)%360,mt.push(te(Je));return mt}function kt(Z,ke){ke=ke||6;for(var Be=te(Z).toHsv(),Je=Be.h,st=Be.s,mt=Be.v,De=[],dt=1/ke;ke--;)De.push(te({h:Je,s:st,v:mt})),mt=(mt+dt)%1;return De}function Nt(Z){return Z=parseFloat(Z),(isNaN(Z)||Z<0||Z>1)&&(Z=1),Z}function ae(Z,ke){var Je;"string"==typeof(Je=Z)&&-1!=Je.indexOf(".")&&1===parseFloat(Je)&&(Z="100%");var Be=function(Je){return"string"==typeof Je&&-1!=Je.indexOf("%")}(Z);return Z=C(ke,B(0,parseFloat(Z))),Be&&(Z=parseInt(Z*ke,10)/100),p.abs(Z-ke)<1e-6?1:Z%ke/parseFloat(ke)}function be(Z){return C(1,B(0,Z))}function Ve(Z){return parseInt(Z,16)}function ot(Z){return 1==Z.length?"0"+Z:""+Z}function et(Z){return Z<=1&&(Z=100*Z+"%"),Z}}(D);var x=function(P){var L="name"===P.getFormat()&&P.toName(),N=1==P.getAlpha()?P.toHexString():P.toRgbString();return L||N.replace(/ /g,"")};ve.a=v.a.extend({template:function(){var P=this.ppfx;return'\n      <div class="'.concat(this.holderClass(),'"></div>\n      <div class="').concat(P,'field-colorp">\n        <div class="').concat(P,'field-colorp-c" data-colorp-c>\n          <div class="').concat(P,'checker-bg"></div>\n        </div>\n      </div>\n    ')},inputClass:function(){var P=this.ppfx;return"".concat(P,"field ").concat(P,"field-color")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},remove:function(){v.a.prototype.remove.apply(this,arguments),this.colorEl.spectrum("destroy")},__onInputChange:function(P){var L=P,N=this.getColorEl();if(N){N.spectrum("set",L);var R=N.spectrum("get"),M=L&&x(R);M&&(L=M)}this.model.set({value:L},{fromInput:1})},setValue:function(P){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=this.model.get("defaults"),M=Object(re.isUndefined)(P)?Object(re.isUndefined)(R)?"":R:P,A=this.getInputEl(),z=this.getColorEl(),H="none"!=M?M:"";A.value=M,z.get(0).style.backgroundColor=H,(L.fromTarget||L.fromInput&&!L.avoidStore)&&(z.spectrum("set",H),this.noneColor="none"==M)},getColorEl:function(){if(!this.colorEl){var P,L=this.em,N=this,R=this.ppfx,M=this.model,A=D('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),z=A.get(0).style,H=L&&L.config?L.config.el:"",F=L&&L.getConfig&&L.getConfig("colorPicker")||{},W=0;this.$el.find("[data-colorp-c]").append(A),A.spectrum(E(E(E({color:M.getValue()||!1,containerClassName:"".concat(R,"one-bg ").concat(R,"two-color"),appendTo:H||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f",palette:[]},F),M.get("colorPicker")||{}),{},{move:function(k){var I=x(k);z.backgroundColor=I,M.setValueFromInput(I,0)},change:function(k){W=1;var I=x(k);z.backgroundColor=I,M.setValueFromInput(0,0),M.setValueFromInput(I),N.noneColor=0},show:function(k){W=0,P=x(k)},hide:function(k){!W&&P&&(N.noneColor&&(P=""),z.backgroundColor=P,A.spectrum("set",P),M.setValueFromInput(P,0))}})),L&&L.on&&this.listenTo(L,"component:selected",function(){W=1,A.spectrum("hide")}),this.colorEl=A}return this.colorEl},render:function(){return v.a.prototype.render.call(this),this.getColorEl(),this}})},function(nt,ve,h){"use strict";(function(ce){var he=h(14),de=h.n(he),se=h(77),re=h(78),Q=setTimeout;function U(N){return Boolean(N&&void 0!==N.length)}function T(){}function v(N){if(!(this instanceof v))throw new TypeError("Promises must be constructed via new");if("function"!=typeof N)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],L(N,this)}function S(N,R){for(;3===N._state;)N=N._value;0!==N._state?(N._handled=!0,v._immediateFn(function(){var M=1===N._state?R.onFulfilled:R.onRejected;if(null!==M){var A;try{A=M(N._value)}catch(z){return void D(R.promise,z)}E(R.promise,A)}else(1===N._state?E:D)(R.promise,N._value)})):N._deferreds.push(R)}function E(N,R){try{if(R===N)throw new TypeError("A promise cannot be resolved with itself.");if(R&&("object"===de()(R)||"function"==typeof R)){var M=R.then;if(R instanceof v)return N._state=3,N._value=R,void x(N);if("function"==typeof M)return void L((A=M,z=R,function(){A.apply(z,arguments)}),N)}N._state=1,N._value=R,x(N)}catch(H){D(N,H)}var A,z}function D(N,R){N._state=2,N._value=R,x(N)}function x(N){2===N._state&&0===N._deferreds.length&&v._immediateFn(function(){N._handled||v._unhandledRejectionFn(N._value)});for(var R=0,M=N._deferreds.length;R<M;R++)S(N,N._deferreds[R]);N._deferreds=null}function P(N,R,M){this.onFulfilled="function"==typeof N?N:null,this.onRejected="function"==typeof R?R:null,this.promise=M}function L(N,R){var M=!1;try{N(function(A){M||(M=!0,E(R,A))},function(A){M||(M=!0,D(R,A))})}catch(A){if(M)return;M=!0,D(R,A)}}v.prototype.catch=function(N){return this.then(null,N)},v.prototype.then=function(N,R){var M=new this.constructor(T);return S(this,new P(N,R,M)),M},v.prototype.finally=se.a,v.all=function(N){return new v(function(R,M){if(!U(N))return M(new TypeError("Promise.all accepts an array"));var A=Array.prototype.slice.call(N);if(0===A.length)return R([]);var z=A.length;function H(W,k){try{if(k&&("object"===de()(k)||"function"==typeof k)){var I=k.then;if("function"==typeof I)return void I.call(k,function(p){H(W,p)},M)}A[W]=k,0==--z&&R(A)}catch(p){M(p)}}for(var F=0;F<A.length;F++)H(F,A[F])})},v.allSettled=re.a,v.resolve=function(N){return N&&"object"===de()(N)&&N.constructor===v?N:new v(function(R){R(N)})},v.reject=function(N){return new v(function(R,M){M(N)})},v.race=function(N){return new v(function(R,M){if(!U(N))return M(new TypeError("Promise.race accepts an array"));for(var A=0,z=N.length;A<z;A++)v.resolve(N[A]).then(R,M)})},v._immediateFn="function"==typeof ce&&function(N){ce(N)}||function(N){Q(N,0)},v._unhandledRejectionFn=function(N){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",N)},ve.a=v}).call(this,h(84).setImmediate)},function(nt,ve,h){"use strict";h.r(ve),h.d(ve,"evAll",function(){return Pe}),h.d(ve,"evPfx",function(){return Me}),h.d(ve,"evPageSelect",function(){return Le}),h.d(ve,"evPageSelectBefore",function(){return _e}),h.d(ve,"evPageUpdate",function(){return ie}),h.d(ve,"evPageAdd",function(){return ne}),h.d(ve,"evPageAddBefore",function(){return ge}),h.d(ve,"evPageRemove",function(){return me}),h.d(ve,"evPageRemoveBefore",function(){return _});var ce=h(11),he=h.n(ce),de=h(3),se=h.n(de),re=h(0),Q=h(1),U=h(2),T=h(5),v=h.n(T),S=h(6),E=h.n(S),D=h(8),x=h.n(D),P=h(9),L=h.n(P),N=h(4),R=h.n(N);function M(c,O){var m=Object.keys(c);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(c);O&&(V=V.filter(function(X){return Object.getOwnPropertyDescriptor(c,X).enumerable})),m.push.apply(m,V)}return m}function A(c){for(var O=1;O<arguments.length;O++){var m=null!=arguments[O]?arguments[O]:{};O%2?M(Object(m),!0).forEach(function(V){se()(c,V,m[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(m)):M(Object(m)).forEach(function(V){Object.defineProperty(c,V,Object.getOwnPropertyDescriptor(m,V))})}return c}var H="__aw",F="__ah",W=function(c){x()(m,c);var O=function(c){var O=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(m){return!1}}();return function(){var m,V=R()(c);if(O){var X=R()(this).constructor;m=Reflect.construct(V,arguments,X)}else m=V.apply(this,arguments);return L()(this,m)}}(m);function m(){return v()(this,m),O.apply(this,arguments)}return E()(m,[{key:"defaults",value:function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}}},{key:"initialize",value:function(V){var He=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).config.em,Oe=this.attributes,Ce=Oe.styles,Fe=Oe.component,Ue=He.get("DomComponents"),it=Ue.getConfig(),xt=He.get("CssComposer").getAll(),pt={};this.em=He;var kt={em:He,config:it,frame:this,idMap:pt};if(!Object(Q.isComponent)(Fe)){var Nt=Object(Q.isObject)(Fe)?Fe:{components:Fe};!Nt.type&&(Nt.type="wrapper");var ae=Ue.getType("wrapper").model;this.set("component",new ae(Nt,kt))}Ce?Object(Q.isObject)(Ce)||(Object.keys(pt).length&&Array.isArray(Ce)&&Ce.forEach(function(Ve){var ot=Ve.selectors;if(ot&&1==ot.length){var et=ot[0],Z=et.name&&2===et.type&&et;if(Z&&pt[Z.name])Z.name=pt[Z.name];else if(Object(re.isString)(et)&&"#"===et[0]){var ke=et.substring(1);ke&&pt[ke]&&(ot[0]="#".concat(pt[ke]))}}}),xt.add(Ce),this.set("styles",xt)):this.set("styles",xt),!V.width&&this.set(H,1),!V.height&&this.set(F,1)}},{key:"onRemove",value:function(){this.getComponent().remove({root:1})}},{key:"changesUp",value:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};V.temporary||V.noCount||V.avoidStore||this.set("changesCount",this.get("changesCount")+1)}},{key:"getComponent",value:function(){return this.get("component")}},{key:"getStyles",value:function(){return this.get("styles")}},{key:"disable",value:function(){this.trigger("disable")}},{key:"remove",value:function(){this.view=0;var V=this.collection;return V&&V.remove(this)}},{key:"getHead",value:function(){var V=this.get("head")||[];return he()(V)}},{key:"setHead",value:function(V){return this.set("head",he()(V))}},{key:"addHeadItem",value:function(V){var X=this.getHead();X.push(V),this.setHead(X)}},{key:"getHeadByAttr",value:function(V,X,Ee){return this.getHead().filter(function(He){return He.attributes&&He.attributes[V]==X&&(!Ee||Ee===He.tag)})[0]}},{key:"removeHeadByAttr",value:function(V,X,Ee){var He=this.getHead(),Oe=this.getHeadByAttr(V,X,Ee),Ce=He.indexOf(Oe);Ce>=0&&(He.splice(Ce,1),this.setHead(He))}},{key:"addLink",value:function(V){var X="link";!this.getHeadByAttr("href",V,X)&&this.addHeadItem({tag:X,attributes:{href:V,rel:"stylesheet"}})}},{key:"removeLink",value:function(V){this.removeHeadByAttr("href",V,"link")}},{key:"addScript",value:function(V){var X="script";!this.getHeadByAttr("src",V,X)&&this.addHeadItem({tag:X,attributes:{src:V}})}},{key:"removeScript",value:function(V){this.removeHeadByAttr("src",V,"script")}},{key:"getPage",value:function(){var V=this.collection;return V&&V.page}},{key:"_emitUpdated",value:function(){this.em.trigger("frame:updated",A({frame:this},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}))}},{key:"toJSON",value:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},X=U.Model.prototype.toJSON.call(this,V),Ee=this.em,He=Ee&&Ee.get("StorageManager"),Oe=He&&He.getConfig(),Ce=Object(re.result)(this,"defaults");if(Oe&&!V.fromUndo){var Fe={component:this.getComponent()};Oe.storeHtml&&(X.html=Ee.getHtml(Fe)),Oe.storeCss&&(X.css=Ee.getCss(Fe))}return V.fromUndo&&delete X.component,delete X.styles,delete X.changesCount,X[H]&&delete X.width,X[F]&&delete X.height,Object(re.forEach)(X,function(Ue,it){0===it.indexOf("_")&&delete X[it]}),Object(re.forEach)(Ce,function(Ue,it){X[it]===Ue&&delete X[it]}),Object(re.forEach)(["attributes","head"],function(Ue){Object(re.isEmpty)(X[Ue])&&delete X[Ue]}),X}}]),m}(U.Model);function k(c,O){var m=Object.keys(c);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(c);O&&(V=V.filter(function(X){return Object.getOwnPropertyDescriptor(c,X).enumerable})),m.push.apply(m,V)}return m}function I(c){for(var O=1;O<arguments.length;O++){var m=null!=arguments[O]?arguments[O]:{};O%2?k(Object(m),!0).forEach(function(V){se()(c,V,m[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(m)):k(Object(m)).forEach(function(V){Object.defineProperty(c,V,Object.getOwnPropertyDescriptor(m,V))})}return c}var y=function(c){x()(m,c);var O=function(c){var O=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(m){return!1}}();return function(){var m,V=R()(c);if(O){var X=R()(this).constructor;m=Reflect.construct(V,arguments,X)}else m=V.apply(this,arguments);return L()(this,m)}}(m);function m(){return v()(this,m),O.apply(this,arguments)}return E()(m,[{key:"initialize",value:function(V){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(re.bindAll)(this,"itemLoaded"),this.config=X,this.on("reset",this.onReset),this.on("remove",this.onRemove)}},{key:"onReset",value:function(V){var X=this;((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels||[]).map(function(Oe){return X.onRemove(Oe)})}},{key:"onRemove",value:function(V){V&&V.onRemove()}},{key:"itemLoaded",value:function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(0))}},{key:"listenToLoad",value:function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(1)}},{key:"listenToLoadItems",value:function(V){var X=this;this.forEach(function(Ee){return Ee[V?"on":"off"]("loaded",X.itemLoaded)})}},{key:"add",value:function(V){var Ee=this.config;return U.Collection.prototype.add.call(this,V,I(I({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{config:Ee}))}}]),m}(U.Collection);y.prototype.model=W;var B=function(c){x()(m,c);var O=function(c){var O=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(m){return!1}}();return function(){var m,V=R()(c);if(O){var X=R()(this).constructor;m=Reflect.construct(V,arguments,X)}else m=V.apply(this,arguments);return L()(this,m)}}(m);function m(){return v()(this,m),O.apply(this,arguments)}return E()(m,[{key:"defaults",value:function(){return{frames:[],_undo:!0}}},{key:"initialize",value:function(V){var X=this,He=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).config,Oe=void 0===He?{}:He,Ce=Oe.em,Fe={};this.em=Ce,V.frames||(Fe.component=V.component,Fe.styles=V.styles,["component","styles"].map(function(pt){return X.unset(pt)}));var it=new y(V.frames||[Fe],Oe);it.page=this,this.set("frames",it);var xt=Ce&&Ce.get("UndoManager");xt&&xt.add(it)}},{key:"onRemove",value:function(){this.get("frames").reset()}},{key:"getFrames",value:function(){return this.get("frames")}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.get("name")}},{key:"setName",value:function(V){return this.get({name:V})}},{key:"getAllFrames",value:function(){return this.getFrames().models||[]}},{key:"getMainFrame",value:function(){return this.getFrames().at(0)}},{key:"getMainComponent",value:function(){var V=this.getMainFrame();return V&&V.getComponent()}},{key:"toJSON",value:function(){var X=U.Model.prototype.toJSON.call(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Ee=Object(re.result)(this,"defaults");return Object(re.forEach)(X,function(He,Oe){0===Oe.indexOf("_")&&delete X[Oe]}),Object(re.forEach)(Ee,function(He,Oe){X[Oe]===He&&delete X[Oe]}),X}}]),m}(U.Model);function K(c,O){var m=Object.keys(c);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(c);O&&(V=V.filter(function(X){return Object.getOwnPropertyDescriptor(c,X).enumerable})),m.push.apply(m,V)}return m}function te(c){for(var O=1;O<arguments.length;O++){var m=null!=arguments[O]?arguments[O]:{};O%2?K(Object(m),!0).forEach(function(V){se()(c,V,m[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(m)):K(Object(m)).forEach(function(V){Object.defineProperty(c,V,Object.getOwnPropertyDescriptor(m,V))})}return c}var ue=function(c){x()(m,c);var O=function(c){var O=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(m){return!1}}();return function(){var m,V=R()(c);if(O){var X=R()(this).constructor;m=Reflect.construct(V,arguments,X)}else m=V.apply(this,arguments);return L()(this,m)}}(m);function m(){return v()(this,m),O.apply(this,arguments)}return E()(m,[{key:"initialize",value:function(V){this.config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},this.on("reset",this.onReset),this.on("remove",this.onRemove)}},{key:"onReset",value:function(V){var X=this;((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels||[]).map(function(Oe){return X.onRemove(Oe)})}},{key:"onRemove",value:function(V){V&&V.onRemove()}},{key:"add",value:function(V){var Ee=this.config;return U.Collection.prototype.add.call(this,V,te(te({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{config:Ee}))}}]),m}(U.Collection);function ye(c,O){var m=Object.keys(c);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(c);O&&(V=V.filter(function(X){return Object.getOwnPropertyDescriptor(c,X).enumerable})),m.push.apply(m,V)}return m}function Re(c){for(var O=1;O<arguments.length;O++){var m=null!=arguments[O]?arguments[O]:{};O%2?ye(Object(m),!0).forEach(function(V){se()(c,V,m[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(m)):ye(Object(m)).forEach(function(V){Object.defineProperty(c,V,Object.getOwnPropertyDescriptor(m,V))})}return c}ue.prototype.model=B;var Pe="page",Me="".concat(Pe,":"),Le="".concat(Me,"select"),_e="".concat(Le,":before"),ie="".concat(Me,"update"),ne="".concat(Me,"add"),ge="".concat(ne,":before"),me="".concat(Me,"remove"),_="".concat(me,":before"),b="change:selected",G="main";ve.default=function(){return{name:"PageManager",storageKey:"pages",Page:B,Pages:ue,events:{all:Pe,select:Le,selectBefore:_e,update:ie,add:ne,addBefore:ge,remove:me,removeBefore:_},init:function(){var c=this,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(re.bindAll)(this,"_onPageChange");var m=O.em,V=Re({},O);this.config=V,this.em=m;var X=new ue([],V);this.pages=X;var Ee=new U.Model({_undo:!0});return this.model=Ee,X.on("add",function(He,Oe,Ce){return m.trigger(ne,He,Ce)}),X.on("remove",function(He,Oe,Ce){return m.trigger(me,He,Ce)}),X.on("change",function(He,Oe){m.trigger(ie,He,He.changedAttributes(),Oe)}),X.on("reset",function(He){return He.at(0)&&c.select(He.at(0))}),X.on("all",this.__onChange,this),Ee.on(b,this._onPageChange),this},__onChange:function(c,O,m,V){this.em.trigger(Pe,{event:c,page:O,options:V||m})},onLoad:function(){var c=this.pages,O={silent:!0};c.add(this.config.pages||[],O);var m=c.length?this.getMain():this.add({type:G},O);this.select(m,O)},_onPageChange:function(c,O,m){var V=this.em,X=V.get("LayerManager"),Ee=O.getMainComponent();X&&Ee&&X.setRoot(Ee),V.trigger(Le,O,c.previous("selected")),this.__onChange(b,O,m)},postLoad:function(){var O=this.model,m=this.em.get("UndoManager");m&&m.add(O),m&&m.add(this.pages)},add:function(c){var O=this,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=this.em;c.id=c.id||this._createId();var X=function(){var Ee=O.pages.add(c,m);return m.select&&O.select(Ee),Ee};return!m.silent&&V.trigger(ge,c,X,m),!m.abort&&X()},remove:function(c){var O=this,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=this.em,X=Object(re.isString)(c)?this.get(c):c,Ee=function(){return X&&O.pages.remove(X,m),X};return!m.silent&&V.trigger(_,X,Ee,m),!m.abort&&Ee()},get:function(c){return this.pages.filter(function(O){return O.get("id")===c})[0]},getMain:function(){var c=this.pages;return c.filter(function(O){return O.get("type")===G})[0]||c.at(0)},getAll:function(){return he()(this.pages.models)},getAllWrappers:function(){var c=this.getAll();return Object(re.unique)(Object(re.flatten)(c.map(function(O){return O.getAllFrames().map(function(m){return m.getComponent()})})))},getAllMap:function(){return this.getAll().reduce(function(c,O){return c[O.get("id")]=O,c},{})},select:function(c){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=Object(re.isString)(c)?this.get(c):c;return m&&(this.em.trigger(_e,m,O),this.model.set("selected",m,O)),this},getSelected:function(){return this.model.get("selected")},destroy:function(){var c=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","config","em","pages","model"].map(function(O){return c[O]=0})},store:function(c){if(!this.em.get("hasPages"))return{};var O={},m=this.config;return O[this.storageKey]=JSON.stringify(this.getAll()),!c&&m.stm&&m.stm.store(O),O},load:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.storageKey,m=c[O]||[];if("string"==typeof m)try{m=JSON.parse(c[O])}catch(V){}return m&&m.length&&this.pages.reset(m),m},_createId:function(){var c,O=this.getAll().length+16,m=this.getAllMap();do{c=Object(Q.createId)(O)}while(m[c]);return c}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(2),he=h.n(ce),de=he.a.Model.extend({defaults:{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1},initialize:function(se){if(this.get("buttons").length){var re=h(48).default;this.set("buttons",new re(this.get("buttons")))}}});ve.default=he.a.Collection.extend({model:de,deactivateAllExceptOne:function(se,re){this.forEach(function(Q,U){Q!==se&&(Q.set("active",!1),re&&Q.get("buttons").length&&Q.get("buttons").deactivateAllExceptOne(se,re))})},deactivateAll:function(se,re){var Q=se||"";this.forEach(function(U){U.get("context")==Q&&U!==re&&U.set("active",!1,{fromCollection:1})})},disableAllButtons:function(se){var re=se||"";this.forEach(function(Q,U){Q.get("context")==re&&Q.set("disable",!0)})},disableAllButtonsExceptOne:function(se,re){this.forEach(function(Q,U){Q!==se&&(Q.set("disable",!0),re&&Q.get("buttons").length&&Q.get("buttons").disableAllButtonsExceptOne(se,re))})}})},function(nt,ve){nt.exports=function(h,ce){(null==ce||ce>h.length)&&(ce=h.length);for(var he=0,de=new Array(ce);he<ce;he++)de[he]=h[he];return de},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){var ce=h(49);nt.exports=function(he,de){if(he){if("string"==typeof he)return ce(he,de);var se=Object.prototype.toString.call(he).slice(8,-1);return"Object"===se&&he.constructor&&(se=he.constructor.name),"Map"===se||"Set"===se?Array.from(he):"Arguments"===se||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se)?ce(he,de):void 0}},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){!function(ce){"use strict";function he(W){for(var k={},I=0;I<W.length;++I)k[W[I].toLowerCase()]=!0;return k}ce.defineMode("css",function(W,k){var I=k.inline;k.propertyKeywords||(k=ce.resolveMode("text/css"));var p,y,C=W.indentUnit,B=k.tokenHooks,K=k.documentTypes||{},te=k.mediaTypes||{},$e=k.mediaFeatures||{},ue=k.mediaValueKeywords||{},ye=k.propertyKeywords||{},Re=k.nonStandardPropertyKeywords||{},Pe=k.fontProperties||{},Me=k.counterDescriptors||{},Le=k.colorKeywords||{},_e=k.valueKeywords||{},ie=k.allowNested,ge=!0===k.supportsAtComponent,me=!1!==W.highlightNonStandardPropertyKeywords;function _(Ce,Fe){return p=Fe,Ce}function b(Ce,Fe){var Ue=Ce.next();if(B[Ue]){var it=B[Ue](Ce,Fe);if(!1!==it)return it}return"@"==Ue?(Ce.eatWhile(/[\w\\\-]/),_("def",Ce.current())):"="==Ue||("~"==Ue||"|"==Ue)&&Ce.eat("=")?_(null,"compare"):'"'==Ue||"'"==Ue?(Fe.tokenize=G(Ue),Fe.tokenize(Ce,Fe)):"#"==Ue?(Ce.eatWhile(/[\w\\\-]/),_("atom","hash")):"!"==Ue?(Ce.match(/^\s*\w*/),_("keyword","important")):/\d/.test(Ue)||"."==Ue&&Ce.eat(/\d/)?(Ce.eatWhile(/[\w.%]/),_("number","unit")):"-"!==Ue?/[,+>*\/]/.test(Ue)?_(null,"select-op"):"."==Ue&&Ce.match(/^-?[_a-z][_a-z0-9-]*/i)?_("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Ue)?_(null,Ue):Ce.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Ce.current())&&(Fe.tokenize=c),_("variable callee","variable")):/[\w\\\-]/.test(Ue)?(Ce.eatWhile(/[\w\\\-]/),_("property","word")):_(null,null):/[\d.]/.test(Ce.peek())?(Ce.eatWhile(/[\w.%]/),_("number","unit")):Ce.match(/^-[\w\\\-]*/)?(Ce.eatWhile(/[\w\\\-]/),Ce.match(/^\s*:/,!1)?_("variable-2","variable-definition"):_("variable-2","variable")):Ce.match(/^\w+-/)?_("meta","meta"):void 0}function G(Ce){return function(Fe,Ue){for(var it,xt=!1;null!=(it=Fe.next());){if(it==Ce&&!xt){")"==Ce&&Fe.backUp(1);break}xt=!xt&&"\\"==it}return(it==Ce||!xt&&")"!=Ce)&&(Ue.tokenize=null),_("string","string")}}function c(Ce,Fe){return Ce.next(),Fe.tokenize=Ce.match(/^\s*[\"\')]/,!1)?null:G(")"),_(null,"(")}function O(Ce,Fe,Ue){this.type=Ce,this.indent=Fe,this.prev=Ue}function m(Ce,Fe,Ue,it){return Ce.context=new O(Ue,Fe.indentation()+(!1===it?0:C),Ce.context),Ue}function V(Ce){return Ce.context.prev&&(Ce.context=Ce.context.prev),Ce.context.type}function X(Ce,Fe,Ue){return Oe[Ue.context.type](Ce,Fe,Ue)}function Ee(Ce,Fe,Ue,it){for(var xt=it||1;xt>0;xt--)Ue.context=Ue.context.prev;return X(Ce,Fe,Ue)}function He(Ce){var Fe=Ce.current().toLowerCase();y=_e.hasOwnProperty(Fe)?"atom":Le.hasOwnProperty(Fe)?"keyword":"variable"}var Oe={top:function(Ce,Fe,Ue){if("{"==Ce)return m(Ue,Fe,"block");if("}"==Ce&&Ue.context.prev)return V(Ue);if(ge&&/@component/i.test(Ce))return m(Ue,Fe,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Ce))return m(Ue,Fe,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Ce))return m(Ue,Fe,"atBlock");if(/^@(font-face|counter-style)/i.test(Ce))return Ue.stateArg=Ce,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Ce))return"keyframes";if(Ce&&"@"==Ce.charAt(0))return m(Ue,Fe,"at");if("hash"==Ce)y="builtin";else if("word"==Ce)y="tag";else{if("variable-definition"==Ce)return"maybeprop";if("interpolation"==Ce)return m(Ue,Fe,"interpolation");if(":"==Ce)return"pseudo";if(ie&&"("==Ce)return m(Ue,Fe,"parens")}return Ue.context.type},block:function(Ce,Fe,Ue){if("word"==Ce){var it=Fe.current().toLowerCase();return ye.hasOwnProperty(it)?(y="property","maybeprop"):Re.hasOwnProperty(it)?(y=me?"string-2":"property","maybeprop"):ie?(y=Fe.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(y+=" error","maybeprop")}return"meta"==Ce?"block":ie||"hash"!=Ce&&"qualifier"!=Ce?Oe.top(Ce,Fe,Ue):(y="error","block")},maybeprop:function(Ce,Fe,Ue){return":"==Ce?m(Ue,Fe,"prop"):X(Ce,Fe,Ue)},prop:function(Ce,Fe,Ue){if(";"==Ce)return V(Ue);if("{"==Ce&&ie)return m(Ue,Fe,"propBlock");if("}"==Ce||"{"==Ce)return Ee(Ce,Fe,Ue);if("("==Ce)return m(Ue,Fe,"parens");if("hash"!=Ce||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Fe.current())){if("word"==Ce)He(Fe);else if("interpolation"==Ce)return m(Ue,Fe,"interpolation")}else y+=" error";return"prop"},propBlock:function(Ce,Fe,Ue){return"}"==Ce?V(Ue):"word"==Ce?(y="property","maybeprop"):Ue.context.type},parens:function(Ce,Fe,Ue){return"{"==Ce||"}"==Ce?Ee(Ce,Fe,Ue):")"==Ce?V(Ue):"("==Ce?m(Ue,Fe,"parens"):"interpolation"==Ce?m(Ue,Fe,"interpolation"):("word"==Ce&&He(Fe),"parens")},pseudo:function(Ce,Fe,Ue){return"meta"==Ce?"pseudo":"word"==Ce?(y="variable-3",Ue.context.type):X(Ce,Fe,Ue)},documentTypes:function(Ce,Fe,Ue){return"word"==Ce&&K.hasOwnProperty(Fe.current())?(y="tag",Ue.context.type):Oe.atBlock(Ce,Fe,Ue)},atBlock:function(Ce,Fe,Ue){if("("==Ce)return m(Ue,Fe,"atBlock_parens");if("}"==Ce||";"==Ce)return Ee(Ce,Fe,Ue);if("{"==Ce)return V(Ue)&&m(Ue,Fe,ie?"block":"top");if("interpolation"==Ce)return m(Ue,Fe,"interpolation");if("word"==Ce){var it=Fe.current().toLowerCase();y="only"==it||"not"==it||"and"==it||"or"==it?"keyword":te.hasOwnProperty(it)?"attribute":$e.hasOwnProperty(it)?"property":ue.hasOwnProperty(it)?"keyword":ye.hasOwnProperty(it)?"property":Re.hasOwnProperty(it)?me?"string-2":"property":_e.hasOwnProperty(it)?"atom":Le.hasOwnProperty(it)?"keyword":"error"}return Ue.context.type},atComponentBlock:function(Ce,Fe,Ue){return"}"==Ce?Ee(Ce,Fe,Ue):"{"==Ce?V(Ue)&&m(Ue,Fe,ie?"block":"top",!1):("word"==Ce&&(y="error"),Ue.context.type)},atBlock_parens:function(Ce,Fe,Ue){return")"==Ce?V(Ue):"{"==Ce||"}"==Ce?Ee(Ce,Fe,Ue,2):Oe.atBlock(Ce,Fe,Ue)},restricted_atBlock_before:function(Ce,Fe,Ue){return"{"==Ce?m(Ue,Fe,"restricted_atBlock"):"word"==Ce&&"@counter-style"==Ue.stateArg?(y="variable","restricted_atBlock_before"):X(Ce,Fe,Ue)},restricted_atBlock:function(Ce,Fe,Ue){return"}"==Ce?(Ue.stateArg=null,V(Ue)):"word"==Ce?(y="@font-face"==Ue.stateArg&&!Pe.hasOwnProperty(Fe.current().toLowerCase())||"@counter-style"==Ue.stateArg&&!Me.hasOwnProperty(Fe.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(Ce,Fe,Ue){return"word"==Ce?(y="variable","keyframes"):"{"==Ce?m(Ue,Fe,"top"):X(Ce,Fe,Ue)},at:function(Ce,Fe,Ue){return";"==Ce?V(Ue):"{"==Ce||"}"==Ce?Ee(Ce,Fe,Ue):("word"==Ce?y="tag":"hash"==Ce&&(y="builtin"),"at")},interpolation:function(Ce,Fe,Ue){return"}"==Ce?V(Ue):"{"==Ce||";"==Ce?Ee(Ce,Fe,Ue):("word"==Ce?y="variable":"variable"!=Ce&&"("!=Ce&&")"!=Ce&&(y="error"),"interpolation")}};return{startState:function(Ce){return{tokenize:null,state:I?"block":"top",stateArg:null,context:new O(I?"block":"top",Ce||0,null)}},token:function(Ce,Fe){if(!Fe.tokenize&&Ce.eatSpace())return null;var Ue=(Fe.tokenize||b)(Ce,Fe);return Ue&&"object"==typeof Ue&&(p=Ue[1],Ue=Ue[0]),y=Ue,"comment"!=p&&(Fe.state=Oe[Fe.state](p,Ce,Fe)),y},indent:function(Ce,Fe){var Ue=Ce.context,it=Fe&&Fe.charAt(0),xt=Ue.indent;return"prop"!=Ue.type||"}"!=it&&")"!=it||(Ue=Ue.prev),Ue.prev&&("}"!=it||"block"!=Ue.type&&"top"!=Ue.type&&"interpolation"!=Ue.type&&"restricted_atBlock"!=Ue.type?(")"!=it||"parens"!=Ue.type&&"atBlock_parens"!=Ue.type)&&("{"!=it||"at"!=Ue.type&&"atBlock"!=Ue.type)||(xt=Math.max(0,Ue.indent-C)):xt=(Ue=Ue.prev).indent),xt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:k.lineComment,fold:"brace"}});var de=["domain","regexp","url","url-prefix"],se=he(de),re=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],Q=he(re),U=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],T=he(U),v=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],S=he(v),E=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],D=he(E),x=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],P=he(x),L=he(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),N=he(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),R=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],M=he(R),A=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],z=he(A),H=de.concat(re).concat(U).concat(v).concat(E).concat(x).concat(R).concat(A);function F(W,k){for(var I,p=!1;null!=(I=W.next());){if(p&&"/"==I){k.tokenize=null;break}p="*"==I}return["comment","comment"]}ce.registerHelper("hintWords","css",H),ce.defineMIME("text/css",{documentTypes:se,mediaTypes:Q,mediaFeatures:T,mediaValueKeywords:S,propertyKeywords:D,nonStandardPropertyKeywords:P,fontProperties:L,counterDescriptors:N,colorKeywords:M,valueKeywords:z,tokenHooks:{"/":function(W,k){return!!W.eat("*")&&(k.tokenize=F,F(W,k))}},name:"css"}),ce.defineMIME("text/x-scss",{mediaTypes:Q,mediaFeatures:T,mediaValueKeywords:S,propertyKeywords:D,nonStandardPropertyKeywords:P,colorKeywords:M,valueKeywords:z,fontProperties:L,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(W,k){return W.eat("/")?(W.skipToEnd(),["comment","comment"]):W.eat("*")?(k.tokenize=F,F(W,k)):["operator","operator"]},":":function(W){return!!W.match(/^\s*\{/,!1)&&[null,null]},$:function(W){return W.match(/^[\w-]+/),W.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(W){return!!W.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),ce.defineMIME("text/x-less",{mediaTypes:Q,mediaFeatures:T,mediaValueKeywords:S,propertyKeywords:D,nonStandardPropertyKeywords:P,colorKeywords:M,valueKeywords:z,fontProperties:L,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(W,k){return W.eat("/")?(W.skipToEnd(),["comment","comment"]):W.eat("*")?(k.tokenize=F,F(W,k)):["operator","operator"]},"@":function(W){return W.eat("{")?[null,"interpolation"]:!W.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(W.eatWhile(/[\w\\\-]/),W.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),ce.defineMIME("text/x-gss",{documentTypes:se,mediaTypes:Q,mediaFeatures:T,propertyKeywords:D,nonStandardPropertyKeywords:P,fontProperties:L,counterDescriptors:N,colorKeywords:M,valueKeywords:z,supportsAtComponent:!0,tokenHooks:{"/":function(W,k){return!!W.eat("*")&&(k.tokenize=F,F(W,k))}},name:"css",helperType:"gss"})}(h(27))},function(nt,ve,h){"use strict";h.r(ve),ve.default={run:function(ce){ce.DomComponents.clear(),ce.CssComposer.clear()}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(0),he=h(1),de=h(24);ve.default={run:function(se){Object(ce.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=se,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(se){this.toggleMove(),this.disableDragger()},onKeyUp:function(se){" "===Object(he.getKeyChar)(se)&&this.editor.stopCommand(this.id)},enableDragger:function(se){this.toggleDragger(1,se)},disableDragger:function(se){this.toggleDragger(0,se)},toggleDragger:function(se,re){var Q=this.canvasModel,U=this.em,T=this.dragger,v=se?"add":"remove";this.getCanvas().classList[v]("".concat(this.ppfx,"is__grabbing")),T||(T=new de.a({getPosition:function(){return{x:Q.get("x"),y:Q.get("y")}},setPosition:function(S){Q.set({x:S.x,y:S.y})},onStart:function(S,E){U.trigger("canvas:move:start",E)},onDrag:function(S,E){U.trigger("canvas:move",E)},onEnd:function(S,E){U.trigger("canvas:move:end",E)}}),this.dragger=T),se?T.start(re):T.stop()},toggleMove:function(se){var re=this.ppfx,Q=se?"add":"remove",U=se?"on":"off",T={on:he.on,off:he.off},v=this.getCanvas(),S=["".concat(re,"is__grab")];!se&&S.push("".concat(re,"is__grabbing")),S.forEach(function(E){return v.classList[Q](E)}),T[U](document,"keyup",this.onKeyUp),T[U](v,"mousedown",this.enableDragger),T[U](document,"mouseup",this.disableDragger)}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(11),he=h.n(ce),de=h(0);ve.default={run:function(se,re){var Q=this,T=[],v=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).component||se.getSelectedAll();return v=Object(de.isArray)(v)?he()(v):[v],se.select(null),v.forEach(function(S){if(!S||!S.get("removable"))return Q.em.logWarning("The element is not removable",{component:S});S.remove(),S.collection&&T.push(S)}),T.length&&se.select(T),v}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(0),se=h(24);function re(T,v){var S=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);v&&(E=E.filter(function(D){return Object.getOwnPropertyDescriptor(T,D).enumerable})),S.push.apply(S,E)}return S}function Q(T){for(var v=1;v<arguments.length;v++){var S=null!=arguments[v]?arguments[v]:{};v%2?re(Object(S),!0).forEach(function(E){he()(T,E,S[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(S)):re(Object(S)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(S,E))})}return T}var U="dmode";ve.default={run:function(T,v){var S=this,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(de.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var D=E.target,x=E.event,P=E.mode,L=E.dragger,N=void 0===L?{}:L,M=Q({doc:D.getEl().ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return S.guidesStatic},guidesTarget:function(){return S.guidesTarget}},N);this.setupGuides(),this.opts=E,this.editor=T,this.em=T.getModel(),this.target=D,this.isTran="translate"==P,this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var A=this.dragger;return A?A.setOptions(M):(A=new se.a(M),this.dragger=A),x&&A.start(x),this.toggleDrag(1),this.em.trigger("".concat(U,":start"),this.getEventOpts()),A},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(T){var v=T.guide;v&&v.parentNode.removeChild(v)}),this.guides=[]},getGuidesContainer:function(){var T=this,v=this.guidesEl;if(!v){var S=this.editor,E=this.em,D=this.opts,x=S.getConfig("stylePrefix"),P=document.createElement("div"),L=document.createElement("div"),N='<div class="'.concat(x,"guide-info__line ").concat(x,'danger-bg">\n        <div class="').concat(x,"guide-info__content ").concat(x,'danger-color"></div>\n      </div>');(v=document.createElement("div")).className="".concat(x,"guides"),P.className="".concat(x,"guide-info ").concat(x,"guide-info__x"),L.className="".concat(x,"guide-info ").concat(x,"guide-info__y"),P.innerHTML=N,L.innerHTML=N,v.appendChild(P),v.appendChild(L),S.Canvas.getGlobalToolsEl().appendChild(v),this.guidesEl=v,this.elGuideInfoX=P,this.elGuideInfoY=L,this.elGuideInfoContentX=P.querySelector(".".concat(x,"guide-info__content")),this.elGuideInfoContentY=L.querySelector(".".concat(x,"guide-info__content")),E.on("canvas:update frame:scroll",Object(de.debounce)(function(){T.updateGuides(),D.debug&&T.guides.forEach(function(R){return T.renderGuide(R)})},200))}return v},getGuidesStatic:function(){var T=this,v=[],S=this.target.getEl(),E=S.parentNode,D=void 0===E?{}:E;return Object(de.each)(D.children,function(x){return v=v.concat(S!==x?T.getElementGuides(x):[])}),v.concat(this.getElementGuides(D))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(T){var v,S,E=this;(T||this.guides).forEach(function(D){var x=D.origin,P=v===x?S:E.getElementPos(x);v=x,S=P,Object(de.each)(E.getGuidePosUpdate(D,P),function(L,N){return D[N]=L}),D.originRect=P})},getGuidePosUpdate:function(T,v){var S={},E=v.top,D=v.height,x=v.left,P=v.width;switch(T.type){case"t":S.y=E;break;case"b":S.y=E+D;break;case"l":S.x=x;break;case"r":S.x=x+P;break;case"x":S.x=x+P/2;break;case"y":S.y=E+D/2}return S},renderGuide:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=T.guide||document.createElement("div"),S="px",E=T.active?2:1,D=v.children[0];return v.style="position: absolute; background-color: ".concat(T.active?"green":"red",";"),v.children.length||((D=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",v.appendChild(D)),T.y?(v.style.width="100%",v.style.height="".concat(E).concat(S),v.style.top="".concat(T.y).concat(S),v.style.left=0):(v.style.width="".concat(E).concat(S),v.style.height="100%",v.style.left="".concat(T.x).concat(S),v.style.top="0".concat(S)),!T.guide&&this.guidesContainer.appendChild(v),v},getElementPos:function(T){return this.editor.Canvas.getElementPos(T,{noScroll:1})},getElementGuides:function(T){var v=this,S=this.opts,E=this.getElementPos(T),D=E.top,x=E.height,P=E.left,L=E.width,N=[{type:"t",y:D},{type:"b",y:D+x},{type:"l",x:P},{type:"r",x:P+L},{type:"x",x:P+L/2},{type:"y",y:D+x/2}].map(function(R){return Q(Q({},R),{},{origin:T,originRect:E,guide:S.debug&&v.renderGuide(R)})});return N.forEach(function(R){return v.guides.push(R)}),N},getTranslate:function(T){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",S=0;return(T||"").split(" ").forEach(function(E){var D=E.trim(),x="translate".concat(v.toUpperCase(),"(");0===D.indexOf(x)&&(S=parseFloat(D.replace(x,"")))}),S},setTranslate:function(T,v,S){var E="translate".concat(v.toUpperCase(),"("),D="".concat(E).concat(S,")"),x=(T||"").split(" ").map(function(P){return 0===P.trim().indexOf(E)&&(P=D),P}).join(" ");return x.indexOf(E)<0&&(x+=" ".concat(D)),x},getPosition:function(){var v=this.isTran,S=this.target.getStyle(),E=S.left,D=S.top,x=S.transform,P=0,L=0;return v?(P=this.getTranslate(x),L=this.getTranslate(x,"y")):(P=parseFloat(E||0),L=parseFloat(D||0)),{x:P,y:L}},setPosition:function(T){var S=T.y,E=T.end,D=T.position,x=T.width,P=T.height,L=this.target,N=this.isTran,R=this.em,A=E?"":1,z="".concat(T.x).concat("px"),H="".concat(S).concat("px"),F={};if(N){var W=L.getStyle().transform||"";W=this.setTranslate(W,"x",z),F={transform:W=this.setTranslate(W,"y",H),en:A},L.addStyle(F,{avoidStore:!E})}else{var k={position:D,width:x,height:P},I={left:z,top:H,en:A};Object(de.keys)(k).forEach(function(p){var y=k[p];y&&(I[p]=y)}),L.addStyle(F=I,{avoidStore:!E})}R.getSelected()&&Object(de.keys)(F).forEach(function(p){return R.trigger("update:component:style:".concat(p))})},_getDragData:function(){var T=this.target;return{target:T,parent:T.parent(),index:T.index()}},onStart:function(T){var v=this.target,E=this.isTran,D=this.opts,x=D.center,P=D.onStart,L=this.editor.Canvas,N=v.getStyle(),R="absolute";if(P&&P(this._getDragData()),!E&&N.position!==R){var M=L.offset(v.getEl()),A=M.left,z=M.top,H=M.width,F=M.height;if(x){var W=L.getMouseRelativeCanvas(T);A=W.x,z=W.y}this.setPosition({x:A,y:z,width:"".concat(H,"px"),height:"".concat(F,"px"),position:R})}},onDrag:function(){var T=this,v=this.guidesTarget,S=this.opts,E=S.onDrag;this.updateGuides(v),S.debug&&v.forEach(function(D){return T.renderGuide(D)}),S.guidesInfo&&this.renderGuideInfo(v.filter(function(D){return D.active})),E&&E(this._getDragData())},onEnd:function(T,v){var S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},E=this.editor,x=this.id,P=this.opts.onEnd;P&&P(T,S,Q(Q({event:T},S),this._getDragData())),E.stopCommand(x),this.hideGuidesInfo(),this.em.trigger("".concat(U,":end"),this.getEventOpts())},hideGuidesInfo:function(){var T=this;["X","Y"].forEach(function(v){var S=T["elGuideInfo".concat(v)];S&&(S.style.display="none")})},renderGuideInfo:function(){var T=this,v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],S=this.guidesStatic;this.hideGuidesInfo(),v.forEach(function(E){var x=E.x,P=T.getElementPos(E.origin),L=Object(de.isUndefined)(x)?"y":"x",N="y"===L,R=P[N?"left":"top"],M=P.rect[N?"left":"top"],A=N?R+P.width:R+P.height,z=N?M+P.rect.width:M+P.rect.height,H=T["elGuideInfo".concat(L.toUpperCase())],F=T["elGuideInfoContent".concat(L.toUpperCase())],W=H.style,k=S.filter(function(ne){return ne.type===E.type}).map(function(ne){var ge=ne.originRect,me=ge.left,b=ge.top,c=N?me+ge.width:b+ge.height;return{gap:c<R?R-c:(N?me:b)-A,guide:ne}}).filter(function(ne){return ne.gap>0}).sort(function(ne,ge){return ne.gap-ge.gap}).map(function(ne){return ne.guide})[0];if(k){var I=k.originRect,p=I.left,C=I.top,K=I.rect,te=N?p<P.left:C<P.top,$e=N?p:C,ue=N?K.left:K.top,ye=N?p+I.width:C+I.height,Re=N?K.left+K.width:K.top+K.height,Pe=N?E.y:E.x,Me=te?ye:A,Le="".concat(Pe,"px"),_e=te?R-ye:$e-A,ie=te?M-Re:ue-z;W.display="",W[N?"top":"left"]=Le,W[N?"left":"top"]="".concat(Me,"px"),W[N?"width":"height"]="".concat(_e,"px"),F.innerHTML="".concat(Math.round(ie),"px"),T.em.trigger("".concat(U,":active"),Q(Q({},T.getEventOpts()),{},{guide:E,guidesStatic:S,matched:k,posFirst:Pe,posSecond:Me,size:_e,sizeRaw:ie,elGuideInfo:H,elGuideInfoCnt:F}))}})},toggleDrag:function(T){var S=this.editor,E=T?"add":"remove",D=["".concat(this.ppfx,"is__grabbing")],x=S.Canvas,P=x.getBody();D.forEach(function(L){return P.classList[E](L)}),x[T?"startAutoscroll":"stopAutoscroll"]()}}},function(nt,ve,h){"use strict";h.r(ve),ve.default={run:function(ce){if(ce.Canvas.hasFocus()){var he=[];ce.getSelectedAll().forEach(function(de){var se=de.components(),re=se&&se.filter(function(Q){return Q.get("selectable")})[0];re&&he.push(re)}),he.length&&ce.select(he)}}}},function(nt,ve,h){"use strict";h.r(ve),ve.default={run:function(ce,he){var de=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(ce.Canvas.hasFocus()||de.force){var se=[];ce.getSelectedAll().forEach(function(re){for(var Q=re.parent();Q&&!Q.get("selectable");)Q=Q.parent();Q&&se.push(Q)}),se.length&&ce.select(se)}}}},function(nt,ve,h){"use strict";h.r(ve),ve.default={run:function(ce){if(ce.Canvas.hasFocus()){var he=[];ce.getSelectedAll().forEach(function(de){var se=de.parent();if(se){var re,Q=se.components().length,U=0,T=0;do{U++,re=(T=de.index()+U)<=Q?se.getChildAt(T):null}while(re&&!re.get("selectable"));he.push(re||de)}}),he.length&&ce.select(he)}}}},function(nt,ve,h){"use strict";h.r(ve),ve.default={run:function(ce){if(ce.Canvas.hasFocus()){var he=[];ce.getSelectedAll().forEach(function(de){var se=de.parent();if(se){var re,Q=0,U=0;do{Q++,re=(U=de.index()-Q)>=0?se.getChildAt(U):null}while(re&&!re.get("selectable"));he.push(re||de)}}),he.length&&ce.select(he)}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(0);ve.default={run:function(he,de){var re=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).target,Q=[];if(!re.get("styles"))return Q;var U=re.get("type"),T=he.Pages.getAllWrappers();if(!Object(ce.flatten)(T.map(function(E){return E.findType(U)})).length){var S=he.CssComposer.getAll();Q=S.filter(function(E){return E.get("group")==="cmp:".concat(U)}),S.remove(Q)}return Q}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(11),he=h.n(ce);ve.default={run:function(de){var se=de.getModel(),re=he()(de.getSelectedAll());re.length&&se.set("clipboard",re)}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(0),he=h(2),de=h.n(he),se=h(23),re=de.a.$;ve.default=Object(ce.extend)({},se.default,{init:function(Q){Object(ce.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(Q){Q.stopPropagation();var U=re(Q.target);U.data("model").get("removable")&&(U.addClass(this.hoverClass),this.attachBadge(U.get(0)))},stopDelete:function(Q){Q.stopPropagation(),re(Q.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(Q){Q.stopPropagation();var U=re(Q.target);U.data("model").get("removable")&&(U.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(Q){this.badge.html("Remove "+Q.getName())}})},function(nt,ve,h){"use strict";h.r(ve);var ce=h(2),he=h.n(ce).a.$;ve.default={run:function(de,se){var re=this;se&&se.set&&se.set("active",0);var Q=de.getConfig(),U=de.Modal,T=Q.stylePrefix;if(this.cm=de.CodeManager||null,!this.$editors){var v=this.buildEditor("htmlmixed","hopscotch","HTML"),S=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=v.el,this.cssEditor=S.el;var E=he('<div class="'.concat(T,'export-dl"></div>'));E.append(v.$el).append(S.$el),this.$editors=E}U.open({title:Q.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return de.stopCommand(re.id)}),this.htmlEditor.setContent(de.getHtml()),this.cssEditor.setContent(de.getCss())},stop:function(de){var se=de.Modal;se&&se.close()},buildEditor:function(de,se,re){var Q=document.createElement("textarea");!this.codeMirror&&(this.codeMirror=this.cm.getViewer("CodeMirror"));var U=this.codeMirror.clone().set({label:re,codeName:de,theme:se,input:Q}),T=new this.cm.EditorView({model:U,config:this.cm.getConfig()}).render().$el;return U.init(Q),{el:U,$el:T}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(0);ve.default={isEnabled:function(){var he=document;return he.fullscreenElement||he.webkitFullscreenElement||he.mozFullScreenElement?1:0},enable:function(he){var de="";return he.requestFullscreen?he.requestFullscreen():he.webkitRequestFullscreen?(de="webkit",he.webkitRequestFullscreen()):he.mozRequestFullScreen?(de="moz",he.mozRequestFullScreen()):he.msRequestFullscreen?he.msRequestFullscreen():console.warn("Fullscreen not supported"),de},disable:function(){var he=document;this.isEnabled()&&(he.exitFullscreen?he.exitFullscreen():he.webkitExitFullscreen?he.webkitExitFullscreen():he.mozCancelFullScreen?he.mozCancelFullScreen():he.msExitFullscreen&&he.msExitFullscreen())},fsChanged:function(he,de){var se=(he||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(se,this.fsChanged))},run:function(he,de){var se=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sender=de;var re=se.target,Q=Object(ce.isElement)(re)?re:document.querySelector(re),U=this.enable(Q||he.getContainer());this.fsChanged=this.fsChanged.bind(this,U),document.addEventListener(U+"fullscreenchange",this.fsChanged),he.trigger("change:canvasOffset")},stop:function(he,de){de&&de.set&&de.set("active",!1),this.disable(),he&&he.trigger("change:canvasOffset")}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(0),he=h(2),de=h.n(he),se=h(1),re=h(23),Q=h(36),U=de.a.$;ve.default=Object(ce.extend)({},Q.default,re.default,{init:function(T){re.default.init.apply(this,arguments),Object(ce.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=T,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var T=arguments.length,v=new Array(T),S=0;S<T;S++)v[S]=arguments[S];re.default.enable.apply(this,v),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var E=this.$wrapper;E.css("cursor","move"),E.on("mousedown",this.initSorter),E.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(T){var v=U(T.target).data("model").get("draggable");v&&(this.cacheEl=null,this.startSelectPosition(T.target,this.frameEl.contentDocument),this.sorter.draggable=v,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),Object(se.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(T){var v=T.get("draggable");v&&(this.cacheEl=null,this.startSelectPosition(T.view.el,this.frameEl.contentDocument),this.sorter.draggable=v,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(se.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModels:function(T){this.cacheEl=null;var v=T[T.length-1],S=(this.em.get("currentFrame")||{}).model,E=v.getEl(S);this.startSelectPosition(E,E.ownerDocument,{onStart:this.onStart}),this.sorter.draggable=v.get("draggable"),this.sorter.toMove=T,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(se.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){Object(se.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),Object(se.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(T,v){},rollback:function(T,v){(27==(T.which||T.keyCode)||v)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=U(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=U(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var T=arguments.length,v=new Array(T),S=0;S<T;S++)v[S]=arguments[S];re.default.stop.apply(this,v),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass),this.$wrapper.css("cursor","").unbind().removeClass(this.noSelClass)}})},function(nt,ve,h){"use strict";h.r(ve);var ce=h(0),he=h(13);ve.default={open:function(de){var se=this,re=this.editor,Q=this.title,T=this.am,v=this.config.custom;if(Object(ce.isFunction)(v.open))return v.open(T.__customData());re.Modal.open({title:Q,content:de}).onceClose(function(){return re.stopCommand(se.id)})},close:function(){var de=this.config.custom;if(Object(ce.isFunction)(de.close))return de.close(this.am.__customData());var se=this.editor.Modal;se&&se.close()},run:function(de,se){var re=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Q=de.AssetManager,U=Q.getConfig(),T=re.types,v=void 0===T?[]:T,S=re.accept,E=re.select;if(this.title=re.modalTitle||de.t("assetManager.modalTitle")||"",this.editor=de,this.config=U,this.am=Q,Q.setTarget(re.target),Q.onClick(re.onClick),Q.onDblClick(re.onDblClick),Q.onSelect(re.onSelect),Q.__behaviour({select:E,types:v,options:re}),U.custom)this.rendered=this.rendered||Object(he.f)("div"),this.rendered.className="".concat(U.stylePrefix,"custom-wrp"),Q.__behaviour({container:this.rendered}),Q.__trgCustom();else{if(!this.rendered||v){var D=Q.getAll().filter(function(P){return P});v&&v.length&&(D=D.filter(function(P){return-1!==v.indexOf(P.get("type"))})),Q.render(D),this.rendered=Q.getContainer()}if(S){var x=this.rendered.querySelector("input#".concat(U.stylePrefix,"uploadFile"));x&&x.setAttribute("accept",S)}}return this.open(this.rendered),this},stop:function(de){this.editor=de,this.close(this.rendered)}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(0),he=h(13);ve.default={open:function(){var de=this.container,se=this.editor,re=this.bm,Q=this.config,U=Q.custom,T=Q.appendTo;if(Object(ce.isFunction)(U.open))return U.open(re.__customData());if(this.firstRender&&!T){var v="views-container",S=se.Panels;(S.getPanel(v)||S.addPanel({id:v})).set("appendContent",de).trigger("change:appendContent"),U||de.appendChild(re.render())}de&&(de.style.display="block")},close:function(){var de=this.container,se=this.config.custom;if(Object(ce.isFunction)(se.close))return se.close(this.bm.__customData());de&&(de.style.display="none")},run:function(de){var se=de.Blocks;this.config=se.getConfig(),this.firstRender=!this.container,this.container=this.container||Object(he.f)("div"),this.editor=de,this.bm=se,se.__behaviour({container:this.container}),this.config.custom&&se.__trgCustom(),this.open()},stop:function(){this.close()}}},function(nt,ve,h){"use strict";h.r(ve),ve.default={run:function(ce){var he=ce.LayerManager,de=ce.Panels;if(!he.getConfig().appendTo){if(!this.layers){var se="views-container",re=document.createElement("div"),Q=de.getPanel(se)||de.addPanel({id:se});re.appendChild(he.render()),Q.set("appendContent",re).trigger("change:appendContent"),this.layers=re}this.layers.style.display="block"}},stop:function(){var ce=this.layers;ce&&(ce.style.display="none")}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(2),he=h.n(ce).a.$;ve.default={run:function(de,se){if(this.sender=se,!this.$cn){var re=de.getConfig(),Q=de.Panels,U="change:appendContent";this.$cn=he("<div></div>"),this.$cn2=he("<div></div>"),this.$cn.append(this.$cn2);var T=de.DeviceManager;if(T&&re.showDevices){var v=Q.addPanel({id:"devices-c"}),S=T.render();v.set("appendContent",S).trigger(U)}var E=de.SelectorManager,D=E.getConfig();D.custom?E.__trgCustom({container:this.$cn2.get(0)}):D.appendTo||this.$cn2.append(E.render([]));var x=de.StyleManager,P=x.getConfig();P.appendTo||(this.$cn2.append(x.render()),this.$header=he('<div class="'.concat(P.stylePrefix,'header">').concat(de.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header));var N="views-container";this.panel=Q.getPanel(N),this.panel||(this.panel=Q.addPanel({id:N})),this.panel.set("appendContent",this.$cn).trigger(U),this.target=de.editor,this.listenTo(this.target,"component:toggled",this.toggleSm)}this.toggleSm()},toggleSm:function(){var de=this.target,se=this.sender;if(!se||!se.get||se.get("active")){var re=de.get("SelectorManager").getConfig().componentFirst,Q=de.getSelectedAll().length;1===Q||Q>1&&re?(this.$cn2&&this.$cn2.show(),this.$header&&this.$header.hide()):(this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.show())}},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(2),he=h.n(ce).a.$;ve.default={run:function(de,se){this.sender=se;var re=de.getModel(),Q=de.Config.stylePrefix,U=de.TraitManager,T=U.getConfig();if(!T.appendTo){if(!this.$cn){this.$cn=he("<div></div>"),this.$cn2=he("<div></div>"),this.$cn.append(this.$cn2),this.$header=he("<div>").append('<div class="'.concat(T.stylePrefix,'header">').concat(re.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(Q,'traits-label">').concat(re.t("traitManager.label"),"</div>")),this.$cn2.append(U.render());var v=de.Panels;(v.getPanel("views-container")?v.getPanel("views-container"):v.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=de.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var de=this.sender;de&&de.get&&!de.get("active")||(1===this.target.getSelectedAll().length?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(0);ve.default={run:function(he){var de=he.getModel().get("clipboard"),se=he.getSelected();de&&se&&(he.getSelectedAll().forEach(function(re){if(re){var Q,U=re.collection,T=U.indexOf(re)+1,v=de.filter(function(S){return S.get("copyable")});Q=Object(ce.contains)(de,re)&&re.get("copyable")?U.add(re.clone(),{at:T}):U.add(v.map(function(S){return S.clone()}),{at:T}),(Q=Object(ce.isArray)(Q)?Q:[Q]).forEach(function(S){return he.trigger("component:paste",S)})}}),se.emitUpdate())}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(11),he=h.n(ce),de=h(0),se="sw-visibility";ve.default={getPanels:function(re){return this.panels||(this.panels=re.Panels.getPanels()),this.panels},preventDrag:function(re){re.abort=1},tglEffects:function(re){var Q=this.em,U=re?"on":"off";if(Q){var T=Q.get("Canvas"),v=T.getBody(),S=T.getToolbarEl();S&&(S.style.display=re?"none":"");var E=v.querySelectorAll(".".concat(this.ppfx,"no-pointer"));Object(de.each)(E,function(D){return D.style.pointerEvents=re?"all":""}),Q[U]("run:tlb-move:before",this.preventDrag)}},run:function(re,Q){var U=this;this.sender=Q,this.selected=he()(re.getSelectedAll()),re.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=re.Commands.isActive(se)),this.shouldRunSwVisibility&&re.stopCommand(se),re.getModel().stopDefault();var T=this.getPanels(re),v=re.Canvas.getElement(),S=re.getEl(),E=re.Config.stylePrefix;if(!this.helper){var D=document.createElement("span");D.className="".concat(E,"off-prv fa fa-eye-slash"),S.appendChild(D),D.onclick=function(){return U.stopCommand()},this.helper=D}this.helper.style.display="inline-block",T.forEach(function(P){return P.set("visible",!1)});var x=v.style;x.width="100%",x.height="100%",x.top="0",x.left="0",x.padding="0",x.margin="0",re.refresh(),this.tglEffects(1)},stop:function(re){var Q=this.sender,U=void 0===Q?{}:Q,T=this.selected;U.set&&U.set("active",0);var v=this.getPanels(re);this.shouldRunSwVisibility&&(re.runCommand(se),this.shouldRunSwVisibility=!1),re.getModel().runDefault(),v.forEach(function(S){return S.set("visible",!0)}),re.Canvas.getElement().setAttribute("style",""),T&&re.select(T),delete this.selected,this.helper&&(this.helper.style.display="none"),re.refresh(),this.tglEffects()}}},function(nt,ve,h){"use strict";h.r(ve),ve.default={run:function(ce,he,de){var se=de||{},re=se.el||"",Q=ce.Canvas,U=this.canvasResizer,T=se.options||{},v=Q.getCanvasView();return T.appendTo=Q.getResizerEl(),T.prefix=ce.getConfig().stylePrefix,T.posFetcher=v.getElementPos.bind(v),T.mousePosFetcher=Q.getMouseRelativePos,U&&!se.forceNew||(this.canvasResizer=ce.Utils.Resizer.init(T),U=this.canvasResizer),U.setOptions(T),U.blur(),U.focus(re),U},stop:function(){var ce=this.canvasResizer;ce&&ce.blur()}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(2),se=h.n(de),re=h(0),Q=h(1);function U(v,S){var E=Object.keys(v);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(v);S&&(D=D.filter(function(x){return Object.getOwnPropertyDescriptor(v,x).enumerable})),E.push.apply(E,D)}return E}var T=se.a.$;ve.default={getOffsetMethod:function(v){return"get"+(v||"")+"OffsetViewerEl"},run:function(v,S,E){var D=E||{},x=D.state||"",P=v.getConfig(),L=this.em.getZoomDecimal(),N=D.el||"";if(!P.showOffsets||Object(Q.isTextNode)(N)||!P.showOffsetsSelected&&"Fixed"==x)v.stopCommand(this.id,E);else{var R=v.Canvas,M=function(kt){for(var Nt=1;Nt<arguments.length;Nt++){var ae=null!=arguments[Nt]?arguments[Nt]:{};Nt%2?U(Object(ae),!0).forEach(function(be){he()(kt,be,ae[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kt,Object.getOwnPropertyDescriptors(ae)):U(Object(ae)).forEach(function(be){Object.defineProperty(kt,be,Object.getOwnPropertyDescriptor(ae,be))})}return kt}({},D.elPos||R.getElementPos(N));Object(re.isUndefined)(D.top)||(M.top=D.top),Object(re.isUndefined)(D.left)||(M.left=D.left);var A=window.getComputedStyle(N),z=this.ppfx,H=x+"State",F=R[this.getOffsetMethod(x)](E.view);F.style.opacity="";var W=this["marginT"+x],k=this["marginB"+x],I=this["marginL"+x],p=this["marginR"+x],y=this["padT"+x],C=this["padB"+x],B=this["padL"+x],K=this["padR"+x];if(F.childNodes.length&&(this[H]="1",W=F.querySelector("[data-offset-m-t]"),k=F.querySelector("[data-offset-m-b]"),I=F.querySelector("[data-offset-m-l]"),p=F.querySelector("[data-offset-m-r]"),y=F.querySelector("[data-offset-p-t]"),C=F.querySelector("[data-offset-p-b]"),B=F.querySelector("[data-offset-p-l]"),K=F.querySelector("[data-offset-p-r]")),!this[H]){var te=x.toLowerCase(),$e=te+"margin-v",ue=te+"padding-v",ye=T('<div class="'.concat(z,'marginName">')).get(0),Re=T('<div class="'.concat(z,'paddingName">')).get(0),Pe=z+ue+"-el",Me="".concat(z+$e+"-el"," ").concat(z+$e),Le="".concat(Pe," ").concat(z+ue);W=T('<div class="'.concat(Me,'-top"></div>')).get(0),k=T('<div class="'.concat(Me,'-bottom"></div>')).get(0),I=T('<div class="'.concat(Me,'-left"></div>')).get(0),p=T('<div class="'.concat(Me,'-right"></div>')).get(0),y=T('<div class="'.concat(Le,'-top"></div>')).get(0),C=T('<div class="'.concat(Le,'-bottom"></div>')).get(0),B=T('<div class="'.concat(Le,'-left"></div>')).get(0),K=T('<div class="'.concat(Le,'-right"></div>')).get(0),this["marginT"+x]=W,this["marginB"+x]=k,this["marginL"+x]=I,this["marginR"+x]=p,this["padT"+x]=y,this["padB"+x]=C,this["padL"+x]=B,this["padR"+x]=K,ye.appendChild(W),ye.appendChild(k),ye.appendChild(I),ye.appendChild(p),Re.appendChild(y),Re.appendChild(C),Re.appendChild(B),Re.appendChild(K),F.appendChild(ye),F.appendChild(Re),this[H]="1"}var _e="px",ie=parseFloat(A.marginLeft.replace(_e,""))*L,ne=parseFloat(A.marginRight.replace(_e,""))*L,ge=parseFloat(A.marginTop.replace(_e,""))*L,me=parseFloat(A.marginBottom.replace(_e,""))*L,_=W.style,b=k.style,G=I.style,c=p.style,O=y.style,m=C.style,V=B.style,X=K.style,Ee=parseFloat(M.left),He=parseFloat(A.width)*L+_e;_.height=ge+_e,_.width=He,_.top=M.top-ge+_e,_.left=Ee+_e,b.height=me+_e,b.width=He,b.top=M.top+M.height+_e,b.left=Ee+_e;var Oe=M.height+ge+me+_e,Ce=M.top-ge+_e;G.height=Oe,G.width=ie+_e,G.top=Ce,G.left=Ee-ie+_e,c.height=Oe,c.width=ne+_e,c.top=Ce,c.left=Ee+M.width+_e;var Fe=parseFloat(A.paddingTop)*L;O.height=Fe+_e;var Ue=parseFloat(A.paddingBottom)*L;m.height=Ue+_e;var it=M.height-Ue-Fe+_e,xt=M.top+Fe+_e;V.height=it,V.width=parseFloat(A.paddingLeft)*L+_e,V.top=xt;var pt=parseFloat(A.paddingRight)*L;X.height=it,X.width=pt+_e,X.top=xt}},stop:function(v,S){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},P=this.getOffsetMethod((E||{}).state||"");v.Canvas[P](E.view).style.opacity=0}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(0);ve.default={init:function(){Object(ce.bindAll)(this,"_onFramesChange")},run:function(he){this.toggleVis(he)},stop:function(he){this.toggleVis(he,0)},toggleVis:function(he){var de=this,se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!he.Commands.isActive("preview")){var re=he.Canvas,Q=se?"on":"off";re.getFrames().forEach(function(U){return de._upFrame(U,se)}),re.getModel()[Q]("change:frames",this._onFramesChange)}},_onFramesChange:function(he,de){var se=this;de.forEach(function(re){return se._upFrame(re,1)})},_upFrame:function(he,de){var se=de?"add":"remove";he.view.getBody().classList[se]("".concat(this.ppfx,"dashed"))}}},function(nt,ve,h){var ce,he,de;he=[h(0),h(2)],void 0===(de="function"==typeof(ce=function(se,re){var Q=Array.prototype.slice;function U(k,I,p){return p.length<=4?k.call(I,p[0],p[1],p[2],p[3]):k.apply(I,p)}function T(k,I){return Q.call(k,I)}function v(k,I){return null!=k&&(se.isArray(I)||(I=T(arguments,1)),se.all(I,function(p){return p in k}))}var S,E,D=(S=!1,E=-1,function(){return S||(E++,S=!0,se.defer(function(){S=!1})),E});function x(){this.registeredObjects=[],this.cidIndexes=[]}function P(k,I,p,y){for(var C,B=0,K=I.length;B<K;B++)if(C=I[B]){if("on"===k){if(!y.objectRegistry.register(C))continue}else if(!y.objectRegistry.unregister(C))continue;se.isFunction(C[k])&&C[k]("all",p,y)}}function L(k,I){var p=I.type,y=I.undoTypes,C=!y[p]||y[p][k];se.isFunction(C)&&C(I.object,I.before,I.after,I.options)}function N(k,I,p,y,C){if(!(p.isCurrentlyUndoRedoing||"undo"===k&&-1===p.pointer||"redo"===k&&p.pointer===p.length-1)){p.isCurrentlyUndoRedoing=!0;var B,K,te="undo"===k;for(C?K=te&&p.pointer===p.length-1||!te&&-1===p.pointer?se.clone(p.models):Q.apply(p.models,te?[0,p.pointer]:[p.pointer,p.length-1]):(B=p.at(te?p.pointer:p.pointer+1),K=y?p.where({magicFusionIndex:B.get("magicFusionIndex")}):[B]),p.pointer+=(te?-1:1)*K.length;B=te?K.pop():K.shift();)B[k]();p.isCurrentlyUndoRedoing=!1,I.trigger(k,I)}}function R(k,I,p,y){if(k.track&&!k.isCurrentlyUndoRedoing&&I in y&&("function"==(ue=typeof($e=(K=y[I]).condition))?U($e,K,p):"boolean"!==ue||$e)){var C=U(y[I].on,y[I],p);if(v(C,"object","before","after")){if(C.type=I,C.magicFusionIndex=D(),C.undoTypes=y,k.pointer<k.length-1)for(var B=k.length-k.pointer-1;B--;)k.pop();k.pointer=k.length,k.add(C),k.length>k.maximumStackLength&&(k.shift(),k.pointer--)}}var K,$e,ue}x.prototype={isRegistered:function(k){return k&&k.cid?this.registeredObjects[k.cid]:se.contains(this.registeredObjects,k)},register:function(k){return!this.isRegistered(k)&&(k&&k.cid?(this.registeredObjects[k.cid]=k,this.cidIndexes.push(k.cid)):this.registeredObjects.push(k),!0)},unregister:function(k){if(this.isRegistered(k)){if(k&&k.cid)delete this.registeredObjects[k.cid],this.cidIndexes.splice(se.indexOf(this.cidIndexes,k.cid),1);else{var I=se.indexOf(this.registeredObjects,k);this.registeredObjects.splice(I,1)}return!0}return!1},get:function(){return se.map(this.cidIndexes,function(k){return this.registeredObjects[k]},this).concat(this.registeredObjects)}};var M={add:{undo:function(k,I,p,y){k.remove(p,y)},redo:function(k,I,p,y){y.index&&(y.at=y.index),k.add(p,y)},on:function(k,I,p){return{object:I,before:void 0,after:k,options:se.clone(p)}}},remove:{undo:function(k,I,p,y){"index"in y&&(y.at=y.index),k.add(I,y)},redo:function(k,I,p,y){k.remove(I,y)},on:function(k,I,p){return{object:I,before:k,after:void 0,options:se.clone(p)}}},change:{undo:function(k,I,p,y){se.isEmpty(I)?se.each(se.keys(p),k.unset,k):(k.set(I),y&&y.unsetData&&y.unsetData.before&&y.unsetData.before.length&&se.each(y.unsetData.before,k.unset,k))},redo:function(k,I,p,y){se.isEmpty(p)?se.each(se.keys(I),k.unset,k):(k.set(p),y&&y.unsetData&&y.unsetData.after&&y.unsetData.after.length&&se.each(y.unsetData.after,k.unset,k))},on:function(k,I){var p=k.changedAttributes(),y=se.keys(p),C=se.pick(k.previousAttributes(),y),B=se.keys(C),K=(I||(I={})).unsetData={after:[],before:[]};return y.length!=B.length&&(y.length>B.length?se.each(y,function(te){te in C||K.before.push(te)},this):se.each(B,function(te){te in p||K.after.push(te)})),{object:k,before:C,after:p,options:se.clone(I)}}},reset:{undo:function(k,I,p){k.reset(I)},redo:function(k,I,p){k.reset(p)},on:function(k,I){return{object:k,before:I.previousModels,after:se.clone(k.models)}}}};function A(){}function z(k,I,p,y){if("object"==typeof I)return se.each(I,function(C,B){2===k?z(k,C,p,y):z(k,B,C,p)});switch(k){case 0:v(p,"undo","redo","on")&&se.all(se.pick(p,"undo","redo","on"),se.isFunction)&&(y[I]=p);break;case 1:y[I]&&se.isObject(p)&&(y[I]=se.extend({},y[I],p));break;case 2:delete y[I]}return this}A.prototype=M;var H=re.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(k){L("undo",this.attributes)},redo:function(k){L("redo",this.attributes)}}),F=re.Collection.extend({model:H,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(k){this.maximumStackLength=k}}),W=re.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(k){this.stack=new F,this.objectRegistry=new x,this.undoTypes=new A,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(I,p){this.stack.setMaxLength(p)},this),k&&k.track&&this.startTracking(),k&&k.register&&(se.isArray(k.register)||se.isArguments(k.register)?U(this.register,this,k.register):this.register(k.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(k){R(this.stack,k,T(arguments,1),this.undoTypes)},register:function(){P("on",arguments,this._addToStack,this)},unregister:function(){P("off",arguments,this._addToStack,this)},unregisterAll:function(){U(this.unregister,this,this.objectRegistry.get())},undo:function(k){N("undo",this,this.stack,k)},undoAll:function(){N("undo",this,this.stack,!1,!0)},redo:function(k){N("redo",this,this.stack,k)},redoAll:function(){N("redo",this,this.stack,!1,!0)},isAvailable:function(k){var I=this.stack,p=I.length;switch(k){case"undo":return p>0&&I.pointer>-1;case"redo":return p>0&&I.pointer<p-1;default:return!1}},merge:function(k){for(var I,p=se.isArray(k)?k:T(arguments);I=p.pop();)I instanceof W&&I.stack instanceof F&&(I.stack=this.stack)},addUndoType:function(k,I){z(0,k,I,this.undoTypes)},changeUndoType:function(k,I){z(1,k,I,this.undoTypes)},removeUndoType:function(k){z(2,k,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return se.extend(W,{defaults:function(k){se.extend(W.prototype.defaults,k)},addUndoType:function(k,I){z(0,k,I,M)},changeUndoType:function(k,I){z(1,k,I,M)},removeUndoType:function(k){z(2,k,void 0,M)}}),re.UndoManager=W})?ce.apply(ve,he):ce)||(nt.exports=de)},function(nt,ve,h){"use strict";ve.a=function(ce){var he=this.constructor;return this.then(function(de){return he.resolve(ce()).then(function(){return de})},function(de){return he.resolve(ce()).then(function(){return he.reject(de)})})}},function(nt,ve,h){"use strict";var ce=h(14),he=h.n(ce);ve.a=function(de){return new this(function(se,re){if(!de||void 0===de.length)return re(new TypeError(he()(de)+" "+de+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var Q=Array.prototype.slice.call(de);if(0===Q.length)return se([]);var U=Q.length;function T(S,E){if(E&&("object"===he()(E)||"function"==typeof E)){var D=E.then;if("function"==typeof D)return void D.call(E,function(x){T(S,x)},function(x){Q[S]={status:"rejected",reason:x},0==--U&&se(Q)})}Q[S]={status:"fulfilled",value:E},0==--U&&se(Q)}for(var v=0;v<Q.length;v++)T(v,Q[v])})}},function(nt,ve,h){var ce=h(49);nt.exports=function(he){if(Array.isArray(he))return ce(he)},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve){nt.exports=function(h){if("undefined"!=typeof Symbol&&null!=h[Symbol.iterator]||null!=h["@@iterator"])return Array.from(h)},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve){nt.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve){nt.exports=function(h,ce){if(null==h)return{};var he,de,se={},re=Object.keys(h);for(de=0;de<re.length;de++)ce.indexOf(he=re[de])>=0||(se[he]=h[he]);return se},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(76),se=h.n(de),re=h(0);function Q(T,v){var S=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);v&&(E=E.filter(function(D){return Object.getOwnPropertyDescriptor(T,D).enumerable})),S.push.apply(S,E)}return S}function U(T){for(var v=1;v<arguments.length;v++){var S=null!=arguments[v]?arguments[v]:{};v%2?Q(Object(S),!0).forEach(function(E){he()(T,E,S[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(S)):Q(Object(S)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(S,E))})}return T}ve.default=function(){var T,v,S,E,D={maximumStackLength:500,trackSelection:1},x=function(L){return L.avoidStore||L.noUndo},P=function(L){return Object.keys(L.changedAttributes())};return{name:"UndoManager",init:function(){var L=this,N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S=U(U({},D),N),this.em=T=S.em;var R=!0;return(v=new se.a(U({track:!0,register:[]},S))).changeUndoType("change",{condition:function(M){var A=M.get("_undo");if(A){var z=M.get("_undoexc");if(Object(re.isArray)(z)&&P(M).some(function(H){return z.indexOf(H)>=0}))return!1;if(Object(re.isBoolean)(A)||Object(re.isArray)(A)&&P(M).some(function(H){return A.indexOf(H)>=0}))return!0}return!1},on:function(M,A,z){!E&&(E=M.previousAttributes());var H=z||A||{};if(H.noUndo&&setTimeout(function(){E=null}),!x(H)){var F=M.toJSON({fromUndo:R}),W={object:M,before:E,after:F};if(E=null,!Object(re.isEmpty)(F))return W}}}),v.changeUndoType("add",{on:function(M,A){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!x(z)&&L.isRegistered(A))return{object:A,before:void 0,after:M,options:U(U({},z),{},{fromUndo:R})}}}),v.changeUndoType("remove",{on:function(M,A){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!x(z)&&L.isRegistered(A))return{object:A,before:M,after:void 0,options:U(U({},z),{},{fromUndo:R})}}}),v.on("undo redo",function(){T.trigger("component:toggled change:canvasOffset"),T.getSelectedAll().map(function(M){return M.trigger("rerender:layer")})}),["undo","redo"].forEach(function(M){return v.on(M,function(){return T.trigger(M)})}),this},postLoad:function(){S.trackSelection&&T&&this.add(T.get("selected"))},getConfig:function(){return S},add:function(L){return v.register(L),this},remove:function(L){return v.unregister(L),this},removeAll:function(){return v.unregisterAll(),this},start:function(){return v.startTracking(),this},stop:function(){return v.stopTracking(),this},undo:function(){var L=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!T.isEditing()&&v.undo(L),this},undoAll:function(){return v.undoAll(),this},redo:function(){var L=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!T.isEditing()&&v.redo(L),this},redoAll:function(){return v.redoAll(),this},hasUndo:function(){return v.isAvailable("undo")},hasRedo:function(){return v.isAvailable("redo")},isRegistered:function(L){return!!this.getInstance().objectRegistry.isRegistered(L)},getStack:function(){return v.stack},getStackGroup:function(){var L=[],N=[];return this.getStack().forEach(function(R){var M=R.get("magicFusionIndex");N.indexOf(M)<0&&(N.push(M),L.push(R))}),L},__getStackRead:function(){var L={};return this.getStack().forEach(function(N){var z,R=N.get("magicFusionIndex"),M={type:(z=N.attributes).type,after:z.after,before:z.before,object:z.object};L[R]?L[R].push(M):L[R]=[M]}),Object.keys(L).map(function(N){return L[N]})},getPointer:function(){return this.getStack().pointer},clear:function(){return v.clear(),this},getInstance:function(){return v},destroy:function(){this.clear().removeAll(),[T,v,S,E].forEach(function(L){return{}}),this.em={}}}}},function(nt,ve,h){(function(ce){var he=void 0!==ce&&ce||"undefined"!=typeof self&&self||window,de=Function.prototype.apply;function se(re,Q){this._id=re,this._clearFn=Q}ve.setTimeout=function(){return new se(de.call(setTimeout,he,arguments),clearTimeout)},ve.setInterval=function(){return new se(de.call(setInterval,he,arguments),clearInterval)},ve.clearTimeout=ve.clearInterval=function(re){re&&re.close()},se.prototype.unref=se.prototype.ref=function(){},se.prototype.close=function(){this._clearFn.call(he,this._id)},ve.enroll=function(re,Q){clearTimeout(re._idleTimeoutId),re._idleTimeout=Q},ve.unenroll=function(re){clearTimeout(re._idleTimeoutId),re._idleTimeout=-1},ve._unrefActive=ve.active=function(re){clearTimeout(re._idleTimeoutId);var Q=re._idleTimeout;Q>=0&&(re._idleTimeoutId=setTimeout(function(){re._onTimeout&&re._onTimeout()},Q))},h(85),ve.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==ce&&ce.setImmediate||this&&this.setImmediate,ve.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==ce&&ce.clearImmediate||this&&this.clearImmediate}).call(this,h(35))},function(nt,ve,h){(function(ce,he){!function(de,se){"use strict";if(!de.setImmediate){var re,Q,U,T,v,S=1,E={},D=!1,x=de.document,P=Object.getPrototypeOf&&Object.getPrototypeOf(de);P=P&&P.setTimeout?P:de,"[object process]"==={}.toString.call(de.process)?re=function(R){he.nextTick(function(){N(R)})}:function(){if(de.postMessage&&!de.importScripts){var R=!0,M=de.onmessage;return de.onmessage=function(){R=!1},de.postMessage("","*"),de.onmessage=M,R}}()?(T="setImmediate$"+Math.random()+"$",v=function(R){R.source===de&&"string"==typeof R.data&&0===R.data.indexOf(T)&&N(+R.data.slice(T.length))},de.addEventListener?de.addEventListener("message",v,!1):de.attachEvent("onmessage",v),re=function(R){de.postMessage(T+R,"*")}):de.MessageChannel?((U=new MessageChannel).port1.onmessage=function(R){N(R.data)},re=function(R){U.port2.postMessage(R)}):x&&"onreadystatechange"in x.createElement("script")?(Q=x.documentElement,re=function(R){var M=x.createElement("script");M.onreadystatechange=function(){N(R),M.onreadystatechange=null,Q.removeChild(M),M=null},Q.appendChild(M)}):re=function(R){setTimeout(N,0,R)},P.setImmediate=function(R){"function"!=typeof R&&(R=new Function(""+R));for(var M=new Array(arguments.length-1),A=0;A<M.length;A++)M[A]=arguments[A+1];return E[S]={callback:R,args:M},re(S),S++},P.clearImmediate=L}function L(R){delete E[R]}function N(R){if(D)setTimeout(N,0,R);else{var M=E[R];if(M){D=!0;try{!function(A){var z=A.callback,H=A.args;switch(H.length){case 0:z();break;case 1:z(H[0]);break;case 2:z(H[0],H[1]);break;case 3:z(H[0],H[1],H[2]);break;default:z.apply(undefined,H)}}(M)}finally{L(R),D=!1}}}}}("undefined"==typeof self?void 0===ce?this:ce:self)}).call(this,h(35),h(86))},function(nt,ve){var h,ce,he=nt.exports={};function de(){throw new Error("setTimeout has not been defined")}function se(){throw new Error("clearTimeout has not been defined")}function re(P){if(h===setTimeout)return setTimeout(P,0);if((h===de||!h)&&setTimeout)return h=setTimeout,setTimeout(P,0);try{return h(P,0)}catch(L){try{return h.call(null,P,0)}catch(N){return h.call(this,P,0)}}}!function(){try{h="function"==typeof setTimeout?setTimeout:de}catch(P){h=de}try{ce="function"==typeof clearTimeout?clearTimeout:se}catch(P){ce=se}}();var Q,U=[],T=!1,v=-1;function S(){T&&Q&&(T=!1,Q.length?U=Q.concat(U):v=-1,U.length&&E())}function E(){if(!T){var P=re(S);T=!0;for(var L=U.length;L;){for(Q=U,U=[];++v<L;)Q&&Q[v].run();v=-1,L=U.length}Q=null,T=!1,function(N){if(ce===clearTimeout)return clearTimeout(N);if((ce===se||!ce)&&clearTimeout)return ce=clearTimeout,clearTimeout(N);try{ce(N)}catch(R){try{return ce.call(null,N)}catch(M){return ce.call(this,N)}}}(P)}}function D(P,L){this.fun=P,this.array=L}function x(){}he.nextTick=function(P){var L=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)L[N-1]=arguments[N];U.push(new D(P,L)),1!==U.length||T||re(E)},D.prototype.run=function(){this.fun.apply(null,this.array)},he.title="browser",he.browser=!0,he.env={},he.argv=[],he.version="",he.versions={},he.on=x,he.addListener=x,he.once=x,he.off=x,he.removeListener=x,he.removeAllListeners=x,he.emit=x,he.prependListener=x,he.prependOnceListener=x,he.listeners=function(P){return[]},he.binding=function(P){throw new Error("process.binding is not supported")},he.cwd=function(){return"/"},he.chdir=function(P){throw new Error("process.chdir is not supported")},he.umask=function(){return 0}},function(nt,ve){function h(ce,he){return nt.exports=h=Object.setPrototypeOf||function(de,se){return de.__proto__=se,de},nt.exports.default=nt.exports,nt.exports.__esModule=!0,h(ce,he)}nt.exports=h,nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve){nt.exports=function(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){!function(ce){"use strict";var he={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},de={};function se(U,T){var S,v=U.match(de[S=T]||(de[S]=new RegExp("\\s+"+S+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")));return v?/^\s*(.*?)\s*$/.exec(v[2])[1]:""}function re(U,T){return new RegExp((T?"^":"")+"</s*"+U+"s*>","i")}function Q(U,T){for(var v in U)for(var S=T[v]||(T[v]=[]),E=U[v],D=E.length-1;D>=0;D--)S.unshift(E[D])}ce.defineMode("htmlmixed",function(U,T){var v=ce.getMode(U,{name:"xml",htmlMode:!0,multilineTagIndentFactor:T.multilineTagIndentFactor,multilineTagIndentPastTag:T.multilineTagIndentPastTag,allowMissingTagName:T.allowMissingTagName}),S={},E=T&&T.tags,D=T&&T.scriptTypes;if(Q(he,S),E&&Q(E,S),D)for(var x=D.length-1;x>=0;x--)S.script.unshift(["type",D[x].matches,D[x].mode]);function P(L,N){var R,M=v.token(L,N.htmlState),A=/\btag\b/.test(M);if(A&&!/[<>\s\/]/.test(L.current())&&(R=N.htmlState.tagName&&N.htmlState.tagName.toLowerCase())&&S.hasOwnProperty(R))N.inTag=R+" ";else if(N.inTag&&A&&/>$/.test(L.current())){var z=/^([\S]+) (.*)/.exec(N.inTag);N.inTag=null;var H=">"==L.current()&&function(I,p){for(var y=0;y<I.length;y++){var C=I[y];if(!C[0]||C[1].test(se(p,C[0])))return C[2]}}(S[z[1]],z[2]),F=ce.getMode(U,H),W=re(z[1],!0),k=re(z[1],!1);N.token=function(I,p){return I.match(W,!1)?(p.token=P,p.localState=p.localMode=null,null):(y=I,C=k,B=p.localMode.token(I,p.localState),(te=(K=y.current()).search(C))>-1?y.backUp(K.length-te):K.match(/<\/?$/)&&(y.backUp(K.length),y.match(C,!1)||y.match(K)),B);var y,C,B,K,te},N.localMode=F,N.localState=ce.startState(F,v.indent(N.htmlState,"",""))}else N.inTag&&(N.inTag+=L.current(),L.eol()&&(N.inTag+=" "));return M}return{startState:function(){return{token:P,inTag:null,localMode:null,localState:null,htmlState:ce.startState(v)}},copyState:function(L){var N;return L.localState&&(N=ce.copyState(L.localMode,L.localState)),{token:L.token,inTag:L.inTag,localMode:L.localMode,localState:N,htmlState:ce.copyState(v,L.htmlState)}},token:function(L,N){return N.token(L,N)},indent:function(L,N,R){return!L.localMode||/^\s*<\//.test(N)?v.indent(L.htmlState,N,R):L.localMode.indent?L.localMode.indent(L.localState,N,R):ce.Pass},innerMode:function(L){return{state:L.localState||L.htmlState,mode:L.localMode||v}}}},"xml","javascript","css"),ce.defineMIME("text/html","htmlmixed")}(h(27),h(90),h(91),h(51))},function(nt,ve,h){!function(ce){"use strict";var he={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},de={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};ce.defineMode("xml",function(se,re){var Q,U,T=se.indentUnit,v={},S=re.htmlMode?he:de;for(var E in S)v[E]=S[E];for(var E in re)v[E]=re[E];function D(C,B){function K($e){return B.tokenize=$e,$e(C,B)}var te=C.next();return"<"==te?C.eat("!")?C.eat("[")?C.match("CDATA[")?K(P("atom","]]>")):null:C.match("--")?K(P("comment","--\x3e")):C.match("DOCTYPE",!0,!0)?(C.eatWhile(/[\w\._\-]/),K(function $e(ue){return function(ye,Re){for(var Pe;null!=(Pe=ye.next());){if("<"==Pe)return Re.tokenize=$e(ue+1),Re.tokenize(ye,Re);if(">"==Pe){if(1==ue){Re.tokenize=D;break}return Re.tokenize=$e(ue-1),Re.tokenize(ye,Re)}}return"meta"}}(1))):null:C.eat("?")?(C.eatWhile(/[\w\._\-]/),B.tokenize=P("meta","?>"),"meta"):(Q=C.eat("/")?"closeTag":"openTag",B.tokenize=x,"tag bracket"):"&"==te?(C.eat("#")?C.eat("x")?C.eatWhile(/[a-fA-F\d]/)&&C.eat(";"):C.eatWhile(/[\d]/)&&C.eat(";"):C.eatWhile(/[\w\.\-:]/)&&C.eat(";"))?"atom":"error":(C.eatWhile(/[^&<]/),null)}function x(C,B){var K,te,$e=C.next();if(">"==$e||"/"==$e&&C.eat(">"))return B.tokenize=D,Q=">"==$e?"endTag":"selfcloseTag","tag bracket";if("="==$e)return Q="equals",null;if("<"==$e){B.tokenize=D,B.state=A,B.tagName=B.tagStart=null;var ue=B.tokenize(C,B);return ue?ue+" tag error":"tag error"}return/[\'\"]/.test($e)?(B.tokenize=(K=$e,(te=function(ye,Re){for(;!ye.eol();)if(ye.next()==K){Re.tokenize=x;break}return"string"}).isInAttribute=!0,te),B.stringStartCol=C.column(),B.tokenize(C,B)):(C.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function P(C,B){return function(K,te){for(;!K.eol();){if(K.match(B)){te.tokenize=D;break}K.next()}return C}}function L(C){return C&&C.toLowerCase()}function N(C,B,K){this.prev=C.context,this.tagName=B||"",this.indent=C.indented,this.startOfLine=K,(v.doNotIndent.hasOwnProperty(B)||C.context&&C.context.noIndent)&&(this.noIndent=!0)}function R(C){C.context&&(C.context=C.context.prev)}function M(C,B){for(var K;;){if(!C.context||!v.contextGrabbers.hasOwnProperty(L(K=C.context.tagName))||!v.contextGrabbers[L(K)].hasOwnProperty(L(B)))return;R(C)}}function A(C,B,K){return"openTag"==C?(K.tagStart=B.column(),z):"closeTag"==C?H:A}function z(C,B,K){return"word"==C?(K.tagName=B.current(),U="tag",k):v.allowMissingTagName&&"endTag"==C?(U="tag bracket",k(C,0,K)):(U="error",z)}function H(C,B,K){if("word"==C){var te=B.current();return K.context&&K.context.tagName!=te&&v.implicitlyClosed.hasOwnProperty(L(K.context.tagName))&&R(K),K.context&&K.context.tagName==te||!1===v.matchClosing?(U="tag",F):(U="tag error",W)}return v.allowMissingTagName&&"endTag"==C?(U="tag bracket",F(C,0,K)):(U="error",W)}function F(C,B,K){return"endTag"!=C?(U="error",F):(R(K),A)}function W(C,B,K){return U="error",F(C,0,K)}function k(C,B,K){if("word"==C)return U="attribute",I;if("endTag"==C||"selfcloseTag"==C){var te=K.tagName,$e=K.tagStart;return K.tagName=K.tagStart=null,"selfcloseTag"==C||v.autoSelfClosers.hasOwnProperty(L(te))?M(K,te):(M(K,te),K.context=new N(K,te,$e==K.indented)),A}return U="error",k}function I(C,B,K){return"equals"==C?p:(v.allowMissing||(U="error"),k(C,0,K))}function p(C,B,K){return"string"==C?y:"word"==C&&v.allowUnquoted?(U="string",k):(U="error",k(C,0,K))}function y(C,B,K){return"string"==C?y:k(C,0,K)}return D.isInText=!0,{startState:function(C){var B={tokenize:D,state:A,indented:C||0,tagName:null,tagStart:null,context:null};return null!=C&&(B.baseIndent=C),B},token:function(C,B){if(!B.tagName&&C.sol()&&(B.indented=C.indentation()),C.eatSpace())return null;Q=null;var K=B.tokenize(C,B);return(K||Q)&&"comment"!=K&&(U=null,B.state=B.state(Q||K,C,B),U&&(K="error"==U?K+" error":U)),K},indent:function(C,B,K){var te=C.context;if(C.tokenize.isInAttribute)return C.tagStart==C.indented?C.stringStartCol+1:C.indented+T;if(te&&te.noIndent)return ce.Pass;if(C.tokenize!=x&&C.tokenize!=D)return K?K.match(/^(\s*)/)[0].length:0;if(C.tagName)return!1!==v.multilineTagIndentPastTag?C.tagStart+C.tagName.length+2:C.tagStart+T*(v.multilineTagIndentFactor||1);if(v.alignCDATA&&/<!\[CDATA\[/.test(B))return 0;var $e=B&&/^<(\/)?([\w_:\.-]*)/.exec(B);if($e&&$e[1])for(;te;){if(te.tagName==$e[2]){te=te.prev;break}if(!v.implicitlyClosed.hasOwnProperty(L(te.tagName)))break;te=te.prev}else if($e)for(;te;){var ue=v.contextGrabbers[L(te.tagName)];if(!ue||!ue.hasOwnProperty(L($e[2])))break;te=te.prev}for(;te&&te.prev&&!te.startOfLine;)te=te.prev;return te?te.indent+T:C.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:v.htmlMode?"html":"xml",helperType:v.htmlMode?"html":"xml",skipAttribute:function(C){C.state==p&&(C.state=k)},xmlCurrentTag:function(C){return C.tagName?{name:C.tagName,close:"closeTag"==C.type}:null},xmlCurrentContext:function(C){for(var B=[],K=C.context;K;K=K.prev)B.push(K.tagName);return B.reverse()}}}),ce.defineMIME("text/xml","xml"),ce.defineMIME("application/xml","xml"),ce.mimeModes.hasOwnProperty("text/html")||ce.defineMIME("text/html",{name:"xml",htmlMode:!0})}(h(27))},function(nt,ve,h){!function(ce){"use strict";ce.defineMode("javascript",function(he,de){var se,re,Q=he.indentUnit,U=de.statementIndent,T=de.jsonld,v=de.json||T,S=!1!==de.trackScope,E=de.typescript,D=de.wordCharacters||/[\w$\xa1-\uffff]/,x=function(){function q(yt){return{type:yt,style:"keyword"}}var J=q("keyword a"),xe=q("keyword b"),je=q("keyword c"),wt=q("keyword d"),Rt=q("operator"),Vt={type:"atom",style:"atom"};return{if:q("if"),while:J,with:J,else:xe,do:xe,try:xe,finally:xe,return:wt,break:wt,continue:wt,new:q("new"),delete:je,void:je,throw:je,debugger:q("debugger"),var:q("var"),const:q("var"),let:q("var"),function:q("function"),catch:q("catch"),for:q("for"),switch:q("switch"),case:q("case"),default:q("default"),in:Rt,typeof:Rt,instanceof:Rt,true:Vt,false:Vt,null:Vt,undefined:Vt,NaN:Vt,Infinity:Vt,this:q("this"),class:q("class"),super:q("atom"),yield:je,export:q("export"),import:q("import"),extends:je,await:je}}(),P=/[+\-*&%=<>!?|~^@]/,L=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function N(q,J,xe){return se=q,re=xe,J}function R(q,J){var xe,je=q.next();if('"'==je||"'"==je)return J.tokenize=(xe=je,function(Vt,yt){var Bt,xn=!1;if(T&&"@"==Vt.peek()&&Vt.match(L))return yt.tokenize=R,N("jsonld-keyword","meta");for(;null!=(Bt=Vt.next())&&(Bt!=xe||xn);)xn=!xn&&"\\"==Bt;return xn||(yt.tokenize=R),N("string","string")}),J.tokenize(q,J);if("."==je&&q.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return N("number","number");if("."==je&&q.match(".."))return N("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(je))return N(je);if("="==je&&q.eat(">"))return N("=>","operator");if("0"==je&&q.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return N("number","number");if(/\d/.test(je))return q.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),N("number","number");if("/"==je)return q.eat("*")?(J.tokenize=M,M(q,J)):q.eat("/")?(q.skipToEnd(),N("comment","comment")):dr(q,J,1)?(function(Vt){for(var yt,Bt=!1,xn=!1;null!=(yt=Vt.next());){if(!Bt){if("/"==yt&&!xn)return;"["==yt?xn=!0:xn&&"]"==yt&&(xn=!1)}Bt=!Bt&&"\\"==yt}}(q),q.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),N("regexp","string-2")):(q.eat("="),N("operator","operator",q.current()));if("`"==je)return J.tokenize=A,A(q,J);if("#"==je&&"!"==q.peek())return q.skipToEnd(),N("meta","meta");if("#"==je&&q.eatWhile(D))return N("variable","property");if("<"==je&&q.match("!--")||"-"==je&&q.match("->")&&!/\S/.test(q.string.slice(0,q.start)))return q.skipToEnd(),N("comment","comment");if(P.test(je))return">"==je&&J.lexical&&">"==J.lexical.type||(q.eat("=")?"!"!=je&&"="!=je||q.eat("="):/[<>*+\-|&?]/.test(je)&&(q.eat(je),">"==je&&q.eat(je))),"?"==je&&q.eat(".")?N("."):N("operator","operator",q.current());if(D.test(je)){q.eatWhile(D);var wt=q.current();if("."!=J.lastType){if(x.propertyIsEnumerable(wt)){var Rt=x[wt];return N(Rt.type,Rt.style,wt)}if("async"==wt&&q.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return N("async","keyword",wt)}return N("variable","variable",wt)}}function M(q,J){for(var xe,je=!1;xe=q.next();){if("/"==xe&&je){J.tokenize=R;break}je="*"==xe}return N("comment","comment")}function A(q,J){for(var xe,je=!1;null!=(xe=q.next());){if(!je&&("`"==xe||"$"==xe&&q.eat("{"))){J.tokenize=R;break}je=!je&&"\\"==xe}return N("quasi","string-2",q.current())}function H(q,J){J.fatArrowAt&&(J.fatArrowAt=null);var xe=q.string.indexOf("=>",q.start);if(!(xe<0)){if(E){var je=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(q.string.slice(q.start,xe));je&&(xe=je.index)}for(var wt=0,Rt=!1,Vt=xe-1;Vt>=0;--Vt){var yt=q.string.charAt(Vt),Bt="([{}])".indexOf(yt);if(Bt>=0&&Bt<3){if(!wt){++Vt;break}if(0==--wt){"("==yt&&(Rt=!0);break}}else if(Bt>=3&&Bt<6)++wt;else if(D.test(yt))Rt=!0;else if(/["'\/`]/.test(yt))for(;;--Vt){if(0==Vt)return;if(q.string.charAt(Vt-1)==yt&&"\\"!=q.string.charAt(Vt-2)){Vt--;break}}else if(Rt&&!wt){++Vt;break}}Rt&&!wt&&(J.fatArrowAt=Vt)}}var F={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function W(q,J,xe,je,wt,Rt){this.indented=q,this.column=J,this.type=xe,this.prev=wt,this.info=Rt,null!=je&&(this.align=je)}function k(q,J){if(!S)return!1;for(var xe=q.localVars;xe;xe=xe.next)if(xe.name==J)return!0;for(var je=q.context;je;je=je.prev)for(xe=je.vars;xe;xe=xe.next)if(xe.name==J)return!0}function I(q,J,xe,je,wt){var Rt=q.cc;for(p.state=q,p.stream=wt,p.marked=null,p.cc=Rt,p.style=J,q.lexical.hasOwnProperty("align")||(q.lexical.align=!0);;)if((Rt.length?Rt.pop():v?me:ne)(xe,je)){for(;Rt.length&&Rt[Rt.length-1].lex;)Rt.pop()();return p.marked?p.marked:"variable"==xe&&k(q,je)?"variable-2":J}}var p={state:null,column:null,marked:null,cc:null};function y(){for(var q=arguments.length-1;q>=0;q--)p.cc.push(arguments[q])}function C(){return y.apply(null,arguments),!0}function B(q,J){for(var xe=J;xe;xe=xe.next)if(xe.name==q)return!0;return!1}function K(q){var J=p.state;if(p.marked="def",S){if(J.context)if("var"==J.lexical.info&&J.context&&J.context.block){var xe=function je(wt,Rt){if(Rt){if(Rt.block){var Vt=je(wt,Rt.prev);return Vt?Vt==Rt.prev?Rt:new $e(Vt,Rt.vars,!0):null}return B(wt,Rt.vars)?Rt:new $e(Rt.prev,new ue(wt,Rt.vars),!1)}return null}(q,J.context);if(null!=xe)return void(J.context=xe)}else if(!B(q,J.localVars))return void(J.localVars=new ue(q,J.localVars));de.globalVars&&!B(q,J.globalVars)&&(J.globalVars=new ue(q,J.globalVars))}}function te(q){return"public"==q||"private"==q||"protected"==q||"abstract"==q||"readonly"==q}function $e(q,J,xe){this.prev=q,this.vars=J,this.block=xe}function ue(q,J){this.name=q,this.next=J}var ye=new ue("this",new ue("arguments",null));function Re(){p.state.context=new $e(p.state.context,p.state.localVars,!1),p.state.localVars=ye}function Pe(){p.state.context=new $e(p.state.context,p.state.localVars,!0),p.state.localVars=null}function Me(){p.state.localVars=p.state.context.vars,p.state.context=p.state.context.prev}function Le(q,J){var xe=function(){var je=p.state,wt=je.indented;if("stat"==je.lexical.type)wt=je.lexical.indented;else for(var Rt=je.lexical;Rt&&")"==Rt.type&&Rt.align;Rt=Rt.prev)wt=Rt.indented;je.lexical=new W(wt,p.stream.column(),q,null,je.lexical,J)};return xe.lex=!0,xe}function _e(){var q=p.state;q.lexical.prev&&(")"==q.lexical.type&&(q.indented=q.lexical.indented),q.lexical=q.lexical.prev)}function ie(q){return function J(xe){return xe==q?C():";"==q||"}"==xe||")"==xe||"]"==xe?y():C(J)}}function ne(q,J){return"var"==q?C(Le("vardef",J),jt,ie(";"),_e):"keyword a"==q?C(Le("form"),b,ne,_e):"keyword b"==q?C(Le("form"),ne,_e):"keyword d"==q?p.stream.match(/^\s*$/,!1)?C():C(Le("stat"),c,ie(";"),_e):"debugger"==q?C(ie(";")):"{"==q?C(Le("}"),Pe,ae,_e,Me):";"==q?C():"if"==q?("else"==p.state.lexical.info&&p.state.cc[p.state.cc.length-1]==_e&&p.state.cc.pop()(),C(Le("form"),b,ne,_e,oe)):"function"==q?C(qe):"for"==q?C(Le("form"),Pe,we,ne,Me,_e):"class"==q||E&&"interface"==J?(p.marked="keyword",C(Le("form","class"==q?q:J),Xt,_e)):"variable"==q?E&&"declare"==J?(p.marked="keyword",C(ne)):E&&("module"==J||"enum"==J||"type"==J)&&p.stream.match(/^\s*\w/,!1)?(p.marked="keyword","enum"==J?C(ln):"type"==J?C(Ot,ie("operator"),Z,ie(";")):C(Le("form"),lt,ie("{"),Le("}"),ae,_e,_e)):E&&"namespace"==J?(p.marked="keyword",C(Le("form"),me,ne,_e)):E&&"abstract"==J?(p.marked="keyword",C(ne)):C(Le("stat"),Fe):"switch"==q?C(Le("form"),b,ie("{"),Le("}","switch"),Pe,ae,_e,_e,Me):"case"==q?C(me,ie(":")):"default"==q?C(ie(":")):"catch"==q?C(Le("form"),Re,ge,ne,_e,Me):"export"==q?C(Le("stat"),gn,_e):"import"==q?C(Le("stat"),br,_e):"async"==q?C(ne):"@"==J?C(me,ne):y(Le("stat"),me,ie(";"),_e)}function ge(q){if("("==q)return C(Mt,ie(")"))}function me(q,J){return G(q,J,!1)}function _(q,J){return G(q,J,!0)}function b(q){return"("!=q?y():C(Le(")"),c,ie(")"),_e)}function G(q,J,xe){if(p.state.fatArrowAt==p.stream.start){var je=xe?He:Ee;if("("==q)return C(Re,Le(")"),kt(Mt,")"),_e,ie("=>"),je,Me);if("variable"==q)return y(Re,lt,ie("=>"),je,Me)}var Rt,wt=xe?m:O;return F.hasOwnProperty(q)?C(wt):"function"==q?C(qe,wt):"class"==q||E&&"interface"==J?(p.marked="keyword",C(Le("form"),St,_e)):"keyword c"==q||"async"==q?C(xe?_:me):"("==q?C(Le(")"),c,ie(")"),_e,wt):"operator"==q||"spread"==q?C(xe?_:me):"["==q?C(Le("]"),Jt,_e,wt):"{"==q?Nt(it,"}",null,wt):"quasi"==q?y(V,wt):"new"==q?C((Rt=xe,function(Vt){return"."==Vt?C(Rt?Ce:Oe):"variable"==Vt&&E?C(Et,Rt?m:O):y(Rt?_:me)})):C()}function c(q){return q.match(/[;\}\)\],]/)?y():y(me)}function O(q,J){return","==q?C(c):m(q,J,!1)}function m(q,J,xe){var je=0==xe?O:m,wt=0==xe?me:_;return"=>"==q?C(Re,xe?He:Ee,Me):"operator"==q?/\+\+|--/.test(J)||E&&"!"==J?C(je):E&&"<"==J&&p.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?C(Le(">"),kt(Z,">"),_e,je):"?"==J?C(me,ie(":"),wt):C(wt):"quasi"==q?y(V,je):";"!=q?"("==q?Nt(_,")","call",je):"."==q?C(Ue,je):"["==q?C(Le("]"),c,ie("]"),_e,je):E&&"as"==J?(p.marked="keyword",C(Z,je)):"regexp"==q?(p.state.lastType=p.marked="operator",p.stream.backUp(p.stream.pos-p.stream.start-1),C(wt)):void 0:void 0}function V(q,J){return"quasi"!=q?y():"${"!=J.slice(J.length-2)?C(V):C(c,X)}function X(q){if("}"==q)return p.marked="string-2",p.state.tokenize=A,C(V)}function Ee(q){return H(p.stream,p.state),y("{"==q?ne:me)}function He(q){return H(p.stream,p.state),y("{"==q?ne:_)}function Oe(q,J){if("target"==J)return p.marked="keyword",C(O)}function Ce(q,J){if("target"==J)return p.marked="keyword",C(m)}function Fe(q){return":"==q?C(_e,ne):y(O,ie(";"),_e)}function Ue(q){if("variable"==q)return p.marked="property",C()}function it(q,J){return"async"==q?(p.marked="property",C(it)):"variable"==q||"keyword"==p.style?(p.marked="property","get"==J||"set"==J?C(xt):(E&&p.state.fatArrowAt==p.stream.start&&(xe=p.stream.match(/^\s*:\s*/,!1))&&(p.state.fatArrowAt=p.stream.pos+xe[0].length),C(pt))):"number"==q||"string"==q?(p.marked=T?"property":p.style+" property",C(pt)):"jsonld-keyword"==q?C(pt):E&&te(J)?(p.marked="keyword",C(it)):"["==q?C(me,be,ie("]"),pt):"spread"==q?C(_,pt):"*"==J?(p.marked="keyword",C(it)):":"==q?y(pt):void 0;var xe}function xt(q){return"variable"!=q?y(pt):(p.marked="property",C(qe))}function pt(q){return":"==q?C(_):"("==q?y(qe):void 0}function kt(q,J,xe){function je(wt,Rt){if(xe?xe.indexOf(wt)>-1:","==wt){var Vt=p.state.lexical;return"call"==Vt.info&&(Vt.pos=(Vt.pos||0)+1),C(function(yt,Bt){return yt==J||Bt==J?y():y(q)},je)}return wt==J||Rt==J?C():xe&&xe.indexOf(";")>-1?y(q):C(ie(J))}return function(wt,Rt){return wt==J||Rt==J?C():y(q,je)}}function Nt(q,J,xe){for(var je=3;je<arguments.length;je++)p.cc.push(arguments[je]);return C(Le(J,xe),kt(q,J),_e)}function ae(q){return"}"==q?C():y(ne,ae)}function be(q,J){if(E){if(":"==q)return C(Z);if("?"==J)return C(be)}}function Ve(q,J){if(E&&(":"==q||"in"==J))return C(Z)}function ot(q){if(E&&":"==q)return p.stream.match(/^\s*\w+\s+is\b/,!1)?C(me,et,Z):C(Z)}function et(q,J){if("is"==J)return p.marked="keyword",C()}function Z(q,J){return"keyof"==J||"typeof"==J||"infer"==J||"readonly"==J?(p.marked="keyword",C("typeof"==J?_:Z)):"variable"==q||"void"==J?(p.marked="type",C(dt)):"|"==J||"&"==J?C(Z):"string"==q||"number"==q||"atom"==q?C(dt):"["==q?C(Le("]"),kt(Z,"]",","),_e,dt):"{"==q?C(Le("}"),Be,_e,dt):"("==q?C(kt(De,")"),ke,dt):"<"==q?C(kt(Z,">"),Z):"quasi"==q?y(st,dt):void 0}function ke(q){if("=>"==q)return C(Z)}function Be(q){return q.match(/[\}\)\]]/)?C():","==q||";"==q?C(Be):y(Je,Be)}function Je(q,J){return"variable"==q||"keyword"==p.style?(p.marked="property",C(Je)):"?"==J||"number"==q||"string"==q?C(Je):":"==q?C(Z):"["==q?C(ie("variable"),Ve,ie("]"),Je):"("==q?y(Qe,Je):q.match(/[;\}\)\],]/)?void 0:C()}function st(q,J){return"quasi"!=q?y():"${"!=J.slice(J.length-2)?C(st):C(Z,mt)}function mt(q){if("}"==q)return p.marked="string-2",p.state.tokenize=A,C(st)}function De(q,J){return"variable"==q&&p.stream.match(/^\s*[?:]/,!1)||"?"==J?C(De):":"==q?C(Z):"spread"==q?C(De):y(Z)}function dt(q,J){return"<"==J?C(Le(">"),kt(Z,">"),_e,dt):"|"==J||"."==q||"&"==J?C(Z):"["==q?C(Z,ie("]"),dt):"extends"==J||"implements"==J?(p.marked="keyword",C(Z)):"?"==J?C(Z,ie(":"),Z):void 0}function Et(q,J){if("<"==J)return C(Le(">"),kt(Z,">"),_e,dt)}function It(){return y(Z,Ft)}function Ft(q,J){if("="==J)return C(Z)}function jt(q,J){return"enum"==J?(p.marked="keyword",C(ln)):y(lt,be,Lt,w)}function lt(q,J){return E&&te(J)?(p.marked="keyword",C(lt)):"variable"==q?(K(J),C()):"spread"==q?C(lt):"["==q?Nt(Ne,"]"):"{"==q?Nt(ft,"}"):void 0}function ft(q,J){return"variable"!=q||p.stream.match(/^\s*:/,!1)?("variable"==q&&(p.marked="property"),"spread"==q?C(lt):"}"==q?y():"["==q?C(me,ie("]"),ie(":"),ft):C(ie(":"),lt,Lt)):(K(J),C(Lt))}function Ne(){return y(lt,Lt)}function Lt(q,J){if("="==J)return C(_)}function w(q){if(","==q)return C(jt)}function oe(q,J){if("keyword b"==q&&"else"==J)return C(Le("form","else"),ne,_e)}function we(q,J){return"await"==J?C(we):"("==q?C(Le(")"),ee,_e):void 0}function ee(q){return"var"==q?C(jt,Ge):"variable"==q?C(Ge):y(Ge)}function Ge(q,J){return")"==q?C():";"==q?C(Ge):"in"==J||"of"==J?(p.marked="keyword",C(me,Ge)):y(me,Ge)}function qe(q,J){return"*"==J?(p.marked="keyword",C(qe)):"variable"==q?(K(J),C(qe)):"("==q?C(Re,Le(")"),kt(Mt,")"),_e,ot,ne,Me):E&&"<"==J?C(Le(">"),kt(It,">"),_e,qe):void 0}function Qe(q,J){return"*"==J?(p.marked="keyword",C(Qe)):"variable"==q?(K(J),C(Qe)):"("==q?C(Re,Le(")"),kt(Mt,")"),_e,ot,Me):E&&"<"==J?C(Le(">"),kt(It,">"),_e,Qe):void 0}function Ot(q,J){return"keyword"==q||"variable"==q?(p.marked="type",C(Ot)):"<"==J?C(Le(">"),kt(It,">"),_e):void 0}function Mt(q,J){return"@"==J&&C(me,Mt),"spread"==q?C(Mt):E&&te(J)?(p.marked="keyword",C(Mt)):E&&"this"==q?C(be,Lt):y(lt,be,Lt)}function St(q,J){return"variable"==q?Xt(q,J):pn(q,J)}function Xt(q,J){if("variable"==q)return K(J),C(pn)}function pn(q,J){return"<"==J?C(Le(">"),kt(It,">"),_e,pn):"extends"==J||"implements"==J||E&&","==q?("implements"==J&&(p.marked="keyword"),C(E?Z:me,pn)):"{"==q?C(Le("}"),Qt,_e):void 0}function Qt(q,J){return"async"==q||"variable"==q&&("static"==J||"get"==J||"set"==J||E&&te(J))&&p.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(p.marked="keyword",C(Qt)):"variable"==q||"keyword"==p.style?(p.marked="property",C(wn,Qt)):"number"==q||"string"==q?C(wn,Qt):"["==q?C(me,be,ie("]"),wn,Qt):"*"==J?(p.marked="keyword",C(Qt)):E&&"("==q?y(Qe,Qt):";"==q||","==q?C(Qt):"}"==q?C():"@"==J?C(me,Qt):void 0}function wn(q,J){if("!"==J||"?"==J)return C(wn);if(":"==q)return C(Z,Lt);if("="==J)return C(_);var xe=p.state.lexical.prev;return y(xe&&"interface"==xe.info?Qe:qe)}function gn(q,J){return"*"==J?(p.marked="keyword",C(rr,ie(";"))):"default"==J?(p.marked="keyword",C(me,ie(";"))):"{"==q?C(kt(Mn,"}"),rr,ie(";")):y(ne)}function Mn(q,J){return"as"==J?(p.marked="keyword",C(ie("variable"))):"variable"==q?y(_,Mn):void 0}function br(q){return"string"==q?C():"("==q?y(me):"."==q?y(O):y(mn,Wt,rr)}function mn(q,J){return"{"==q?Nt(mn,"}"):("variable"==q&&K(J),"*"==J&&(p.marked="keyword"),C(vn))}function Wt(q){if(","==q)return C(mn,Wt)}function vn(q,J){if("as"==J)return p.marked="keyword",C(mn)}function rr(q,J){if("from"==J)return p.marked="keyword",C(me)}function Jt(q){return"]"==q?C():y(kt(_,"]"))}function ln(){return y(Le("form"),lt,ie("{"),Le("}"),kt(An,"}"),_e,_e)}function An(){return y(lt,Lt)}function dr(q,J,xe){return J.tokenize==R&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(J.lastType)||"quasi"==J.lastType&&/\{\s*$/.test(q.string.slice(0,q.pos-(xe||0)))}return Me.lex=!0,_e.lex=!0,{startState:function(q){var J={tokenize:R,lastType:"sof",cc:[],lexical:new W((q||0)-Q,0,"block",!1),localVars:de.localVars,context:de.localVars&&new $e(null,null,!1),indented:q||0};return de.globalVars&&"object"==typeof de.globalVars&&(J.globalVars=de.globalVars),J},token:function(q,J){if(q.sol()&&(J.lexical.hasOwnProperty("align")||(J.lexical.align=!1),J.indented=q.indentation(),H(q,J)),J.tokenize!=M&&q.eatSpace())return null;var xe=J.tokenize(q,J);return"comment"==se?xe:(J.lastType="operator"!=se||"++"!=re&&"--"!=re?se:"incdec",I(J,xe,se,re,q))},indent:function(q,J){if(q.tokenize==M||q.tokenize==A)return ce.Pass;if(q.tokenize!=R)return 0;var xe,je=J&&J.charAt(0),wt=q.lexical;if(!/^\s*else\b/.test(J))for(var Rt=q.cc.length-1;Rt>=0;--Rt){var Vt=q.cc[Rt];if(Vt==_e)wt=wt.prev;else if(Vt!=oe&&Vt!=Me)break}for(;("stat"==wt.type||"form"==wt.type)&&("}"==je||(xe=q.cc[q.cc.length-1])&&(xe==O||xe==m)&&!/^[,\.=+\-*:?[\(]/.test(J));)wt=wt.prev;U&&")"==wt.type&&"stat"==wt.prev.type&&(wt=wt.prev);var xn,Pn,yt=wt.type,Bt=je==yt;return"vardef"==yt?wt.indented+("operator"==q.lastType||","==q.lastType?wt.info.length+1:0):"form"==yt&&"{"==je?wt.indented:"form"==yt?wt.indented+Q:"stat"==yt?wt.indented+(Pn=J,"operator"==(xn=q).lastType||","==xn.lastType||P.test(Pn.charAt(0))||/[,.]/.test(Pn.charAt(0))?U||Q:0):"switch"!=wt.info||Bt||0==de.doubleIndentSwitch?wt.align?wt.column+(Bt?0:1):wt.indented+(Bt?0:Q):wt.indented+(/^(?:case|default)\b/.test(J)?Q:2*Q)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:v?null:"/*",blockCommentEnd:v?null:"*/",blockCommentContinue:v?null:" * ",lineComment:v?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:v?"json":"javascript",jsonldMode:T,jsonMode:v,expressionAllowed:dr,skipExpression:function(q){I(q,"atom","atom","true",new ce.StringStream("",2,null))}}}),ce.registerHelper("wordChars","javascript",/[\w$]/),ce.defineMIME("text/javascript","javascript"),ce.defineMIME("text/ecmascript","javascript"),ce.defineMIME("application/javascript","javascript"),ce.defineMIME("application/x-javascript","javascript"),ce.defineMIME("application/ecmascript","javascript"),ce.defineMIME("application/json",{name:"javascript",json:!0}),ce.defineMIME("application/x-json",{name:"javascript",json:!0}),ce.defineMIME("application/manifest+json",{name:"javascript",json:!0}),ce.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),ce.defineMIME("text/typescript",{name:"javascript",typescript:!0}),ce.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(h(27))},function(nt,ve,h){!function(ce){ce.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(de,se){return/^[;{}]$/.test(se)}}),ce.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(de,se,re,Q){return this.jsonMode?/^[\[,{]$/.test(se)||/^}/.test(re):(";"!=se||!Q.lexical||")"!=Q.lexical.type)&&/^[;{}]$/.test(se)&&!/^;/.test(re)}});var he=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;ce.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(de,se,re,Q){var U=!1;return"html"==this.configuration&&(U=!!Q.context&&he.test(Q.context.tagName)),!U&&("tag"==de&&/>$/.test(se)&&Q.context||/^</.test(re))}}),ce.defineExtension("commentRange",function(de,se,re){var Q=this,U=ce.innerMode(Q.getMode(),Q.getTokenAt(se).state).mode;Q.operation(function(){if(de)Q.replaceRange(U.commentEnd,re),Q.replaceRange(U.commentStart,se),se.line==re.line&&se.ch==re.ch&&Q.setCursor(se.line,se.ch+U.commentStart.length);else{var T=Q.getRange(se,re),v=T.indexOf(U.commentStart),S=T.lastIndexOf(U.commentEnd);v>-1&&S>-1&&S>v&&(T=T.substr(0,v)+T.substring(v+U.commentStart.length,S)+T.substr(S+U.commentEnd.length)),Q.replaceRange(T,se,re)}})}),ce.defineExtension("autoIndentRange",function(de,se){var re=this;this.operation(function(){for(var Q=de.line;Q<=se.line;Q++)re.indentLine(Q,"smart")})}),ce.defineExtension("autoFormatRange",function(de,se){var re=this,Q=re.getMode(),U=re.getRange(de,se).split("\n"),T=ce.copyState(Q,re.getTokenAt(de).state),v=re.getOption("tabSize"),S="",E=0,D=0===de.ch;function x(){S+="\n",D=!0,++E}for(var P=0;P<U.length;++P){for(var L=new ce.StringStream(U[P],v);!L.eol();){var N=ce.innerMode(Q,T),R=Q.token(L,T),M=L.current();L.start=L.pos,D&&!/\S/.test(M)||(S+=M,D=!1),!D&&N.mode.newlineAfterToken&&N.mode.newlineAfterToken(R,M,L.string.slice(L.pos)||U[P+1]||"",N.state)&&x()}!L.pos&&Q.blankLine&&Q.blankLine(T),!D&&P<U.length-1&&x()}re.operation(function(){re.replaceRange(S,de,se);for(var A=de.line+1,z=de.line+E;A<=z;++A)re.indentLine(A,"smart");re.setSelection(de,re.getCursor(!1))})})}(h(27))},function(nt,ve,h){var ce=function(he){"use strict";var de,se=Object.prototype,re=se.hasOwnProperty,Q="function"==typeof Symbol?Symbol:{},U=Q.iterator||"@@iterator",T=Q.asyncIterator||"@@asyncIterator",v=Q.toStringTag||"@@toStringTag";function S(ue,ye,Re){return Object.defineProperty(ue,ye,{value:Re,enumerable:!0,configurable:!0,writable:!0}),ue[ye]}try{S({},"")}catch(ue){S=function(ye,Re,Pe){return ye[Re]=Pe}}function E(ue,ye,Re,Pe){var ie,ne,ge,me,Le=Object.create((ye&&ye.prototype instanceof M?ye:M).prototype),_e=new K(Pe||[]);return Le._invoke=(ie=ue,ne=Re,ge=_e,me=x,function(_,b){if(me===L)throw new Error("Generator is already running");if(me===N){if("throw"===_)throw b;return $e()}for(ge.method=_,ge.arg=b;;){var G=ge.delegate;if(G){var c=y(G,ge);if(c){if(c===R)continue;return c}}if("next"===ge.method)ge.sent=ge._sent=ge.arg;else if("throw"===ge.method){if(me===x)throw me=N,ge.arg;ge.dispatchException(ge.arg)}else"return"===ge.method&&ge.abrupt("return",ge.arg);me=L;var O=D(ie,ne,ge);if("normal"===O.type){if(me=ge.done?N:P,O.arg===R)continue;return{value:O.arg,done:ge.done}}"throw"===O.type&&(me=N,ge.method="throw",ge.arg=O.arg)}}),Le}function D(ue,ye,Re){try{return{type:"normal",arg:ue.call(ye,Re)}}catch(Pe){return{type:"throw",arg:Pe}}}he.wrap=E;var x="suspendedStart",P="suspendedYield",L="executing",N="completed",R={};function M(){}function A(){}function z(){}var H={};H[U]=function(){return this};var F=Object.getPrototypeOf,W=F&&F(F(te([])));W&&W!==se&&re.call(W,U)&&(H=W);var k=z.prototype=M.prototype=Object.create(H);function I(ue){["next","throw","return"].forEach(function(ye){S(ue,ye,function(Re){return this._invoke(ye,Re)})})}function p(ue,ye){var Re;this._invoke=function(Pe,Me){function Le(){return new ye(function(_e,ie){!function ne(ge,me,_,b){var G=D(ue[ge],ue,me);if("throw"!==G.type){var c=G.arg,O=c.value;return O&&"object"==typeof O&&re.call(O,"__await")?ye.resolve(O.__await).then(function(m){ne("next",m,_,b)},function(m){ne("throw",m,_,b)}):ye.resolve(O).then(function(m){c.value=m,_(c)},function(m){return ne("throw",m,_,b)})}b(G.arg)}(Pe,Me,_e,ie)})}return Re=Re?Re.then(Le,Le):Le()}}function y(ue,ye){var Re=ue.iterator[ye.method];if(Re===de){if(ye.delegate=null,"throw"===ye.method){if(ue.iterator.return&&(ye.method="return",ye.arg=de,y(ue,ye),"throw"===ye.method))return R;ye.method="throw",ye.arg=new TypeError("The iterator does not provide a 'throw' method")}return R}var Pe=D(Re,ue.iterator,ye.arg);if("throw"===Pe.type)return ye.method="throw",ye.arg=Pe.arg,ye.delegate=null,R;var Me=Pe.arg;return Me?Me.done?(ye[ue.resultName]=Me.value,ye.next=ue.nextLoc,"return"!==ye.method&&(ye.method="next",ye.arg=de),ye.delegate=null,R):Me:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,R)}function C(ue){var ye={tryLoc:ue[0]};1 in ue&&(ye.catchLoc=ue[1]),2 in ue&&(ye.finallyLoc=ue[2],ye.afterLoc=ue[3]),this.tryEntries.push(ye)}function B(ue){var ye=ue.completion||{};ye.type="normal",delete ye.arg,ue.completion=ye}function K(ue){this.tryEntries=[{tryLoc:"root"}],ue.forEach(C,this),this.reset(!0)}function te(ue){if(ue){var ye=ue[U];if(ye)return ye.call(ue);if("function"==typeof ue.next)return ue;if(!isNaN(ue.length)){var Re=-1,Pe=function Me(){for(;++Re<ue.length;)if(re.call(ue,Re))return Me.value=ue[Re],Me.done=!1,Me;return Me.value=de,Me.done=!0,Me};return Pe.next=Pe}}return{next:$e}}function $e(){return{value:de,done:!0}}return A.prototype=k.constructor=z,z.constructor=A,A.displayName=S(z,v,"GeneratorFunction"),he.isGeneratorFunction=function(ue){var ye="function"==typeof ue&&ue.constructor;return!!ye&&(ye===A||"GeneratorFunction"===(ye.displayName||ye.name))},he.mark=function(ue){return Object.setPrototypeOf?Object.setPrototypeOf(ue,z):(ue.__proto__=z,S(ue,v,"GeneratorFunction")),ue.prototype=Object.create(k),ue},he.awrap=function(ue){return{__await:ue}},I(p.prototype),p.prototype[T]=function(){return this},he.AsyncIterator=p,he.async=function(ue,ye,Re,Pe,Me){void 0===Me&&(Me=Promise);var Le=new p(E(ue,ye,Re,Pe),Me);return he.isGeneratorFunction(ye)?Le:Le.next().then(function(_e){return _e.done?_e.value:Le.next()})},I(k),S(k,v,"Generator"),k[U]=function(){return this},k.toString=function(){return"[object Generator]"},he.keys=function(ue){var ye=[];for(var Re in ue)ye.push(Re);return ye.reverse(),function Pe(){for(;ye.length;){var Me=ye.pop();if(Me in ue)return Pe.value=Me,Pe.done=!1,Pe}return Pe.done=!0,Pe}},he.values=te,K.prototype={constructor:K,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=de,this.done=!1,this.delegate=null,this.method="next",this.arg=de,this.tryEntries.forEach(B),!ue)for(var ye in this)"t"===ye.charAt(0)&&re.call(this,ye)&&!isNaN(+ye.slice(1))&&(this[ye]=de)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if("throw"===ue.type)throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var ye=this;function Re(ne,ge){return Le.type="throw",Le.arg=ue,ye.next=ne,ge&&(ye.method="next",ye.arg=de),!!ge}for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var Me=this.tryEntries[Pe],Le=Me.completion;if("root"===Me.tryLoc)return Re("end");if(Me.tryLoc<=this.prev){var _e=re.call(Me,"catchLoc"),ie=re.call(Me,"finallyLoc");if(_e&&ie){if(this.prev<Me.catchLoc)return Re(Me.catchLoc,!0);if(this.prev<Me.finallyLoc)return Re(Me.finallyLoc)}else if(_e){if(this.prev<Me.catchLoc)return Re(Me.catchLoc,!0)}else{if(!ie)throw new Error("try statement without catch or finally");if(this.prev<Me.finallyLoc)return Re(Me.finallyLoc)}}}},abrupt:function(ue,ye){for(var Re=this.tryEntries.length-1;Re>=0;--Re){var Pe=this.tryEntries[Re];if(Pe.tryLoc<=this.prev&&re.call(Pe,"finallyLoc")&&this.prev<Pe.finallyLoc){var Me=Pe;break}}Me&&("break"===ue||"continue"===ue)&&Me.tryLoc<=ye&&ye<=Me.finallyLoc&&(Me=null);var Le=Me?Me.completion:{};return Le.type=ue,Le.arg=ye,Me?(this.method="next",this.next=Me.finallyLoc,R):this.complete(Le)},complete:function(ue,ye){if("throw"===ue.type)throw ue.arg;return"break"===ue.type||"continue"===ue.type?this.next=ue.arg:"return"===ue.type?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):"normal"===ue.type&&ye&&(this.next=ye),R},finish:function(ue){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Re=this.tryEntries[ye];if(Re.finallyLoc===ue)return this.complete(Re.completion,Re.afterLoc),B(Re),R}},catch:function(ue){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Re=this.tryEntries[ye];if(Re.tryLoc===ue){var Pe=Re.completion;if("throw"===Pe.type){var Me=Pe.arg;B(Re)}return Me}}throw new Error("illegal catch attempt")},delegateYield:function(ue,ye,Re){return this.delegate={iterator:te(ue),resultName:ye,nextLoc:Re},"next"===this.method&&(this.arg=de),R}},he}(nt.exports);try{regeneratorRuntime=ce}catch(he){Function("r","regeneratorRuntime = r")(ce)}},function(nt,ve){nt.exports=function(h){if(Array.isArray(h))return h},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve){nt.exports=function(h,ce){var he=h&&("undefined"!=typeof Symbol&&h[Symbol.iterator]||h["@@iterator"]);if(null!=he){var de,se,re=[],Q=!0,U=!1;try{for(he=he.call(h);!(Q=(de=he.next()).done)&&(re.push(de.value),!ce||re.length!==ce);Q=!0);}catch(T){U=!0,se=T}finally{try{Q||null==he.return||he.return()}finally{if(U)throw se}}return re}},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve){nt.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},nt.exports.default=nt.exports,nt.exports.__esModule=!0},function(nt,ve,h){"use strict";h.r(ve);var ce=h(2),he=h(10);ve.default=ce.View.extend({initialize:function(){var de=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.items=[],this.opt=de;var se=de.config||{};this.level=de.level,this.config=se,this.preview=de.preview,this.ppfx=se.pStylePrefix||"",this.pfx=se.stylePrefix||"",this.parent=de.parent,this.parentView=de.parentView;var re=this.pfx,Q=this.ppfx,U=this.parent,T=this.collection;this.listenTo(T,"add",this.addTo),this.listenTo(T,"reset resetNavigator",this.render),this.listenTo(T,"remove",this.removeChildren),this.className="".concat(re,"layers");var v=se.em;if(se.sortable&&!this.opt.sorter){var S=v.get("Utils");this.opt.sorter=new S.Sorter({container:se.sortContainer||this.el,containerSel:".".concat(this.className),itemSel:".".concat(re,"layer"),ignoreViewChildren:1,onEndMove:function(E,D,x){var P=D.getSourceModel();v.setSelected(P,{forceChange:1}),v.trigger("".concat(he.b,":end"),x)},avoidSelectOnEnd:1,nested:1,ppfx:Q,pfx:re})}this.sorter=this.opt.sorter||"",this.$el.data("collection",T),U&&this.$el.data("model",U)},removeChildren:function(de){var se=de.viewLayer;se&&(se.remove(),de.viewLayer=0)},addTo:function(de){var se=this.collection.indexOf(de);this.addToCollection(de,null,se)},addToCollection:function(de,se,re){var T=this.opt.ItemView,v=se||null,S=new T({ItemView:T,level:this.level,model:de,parentView:this.parentView,config:this.config,sorter:this.sorter,isCountable:this.isCountable,opened:this.opt.opened}),E=S.render().el;if(v)v.appendChild(E);else if(void 0!==re){var D="before";this.$el.children().length==re&&(re--,D="after"),re<0?this.$el.append(E):this.$el.children().eq(re)[D](E)}else this.$el.append(E);return this.items.push(S),E},remove:function(){ce.View.prototype.remove.apply(this,arguments),this.items.map(function(de){return de.remove()})},isCountable:function(de,se){var re=de.get("type"),Q=de.get("tagName");return!(("textnode"==re||"br"==Q)&&se||!de.get("layerable"))},render:function(){var de=this,se=document.createDocumentFragment(),re=this.el;return re.innerHTML="",this.collection.each(function(Q){return de.addToCollection(Q,se)}),re.appendChild(se),re.className=this.className,this}})},function(nt,ve,h){var ce={"./CanvasClear":52,"./CanvasClear.js":52,"./CanvasMove":53,"./CanvasMove.js":53,"./CommandAbstract":31,"./CommandAbstract.js":31,"./ComponentDelete":54,"./ComponentDelete.js":54,"./ComponentDrag":55,"./ComponentDrag.js":55,"./ComponentEnter":56,"./ComponentEnter.js":56,"./ComponentExit":57,"./ComponentExit.js":57,"./ComponentNext":58,"./ComponentNext.js":58,"./ComponentPrev":59,"./ComponentPrev.js":59,"./ComponentStyleClear":60,"./ComponentStyleClear.js":60,"./CopyComponent":61,"./CopyComponent.js":61,"./DeleteComponent":62,"./DeleteComponent.js":62,"./ExportTemplate":63,"./ExportTemplate.js":63,"./Fullscreen":64,"./Fullscreen.js":64,"./MoveComponent":65,"./MoveComponent.js":65,"./OpenAssets":66,"./OpenAssets.js":66,"./OpenBlocks":67,"./OpenBlocks.js":67,"./OpenLayers":68,"./OpenLayers.js":68,"./OpenStyleManager":69,"./OpenStyleManager.js":69,"./OpenTraitManager":70,"./OpenTraitManager.js":70,"./PasteComponent":71,"./PasteComponent.js":71,"./Preview":72,"./Preview.js":72,"./Resize":73,"./Resize.js":73,"./SelectComponent":23,"./SelectComponent.js":23,"./SelectPosition":36,"./SelectPosition.js":36,"./ShowOffset":74,"./ShowOffset.js":74,"./SwitchVisibility":75,"./SwitchVisibility.js":75};function he(se){var re=de(se);return h(re)}function de(se){if(!h.o(ce,se)){var re=new Error("Cannot find module '"+se+"'");throw re.code="MODULE_NOT_FOUND",re}return ce[se]}he.keys=function(){return Object.keys(ce)},he.resolve=de,nt.exports=he,he.id=98},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(14),se=h.n(de),re=(h(2),h(0)),Q={stylePrefix:"comp-",components:[],draggableComponents:1,storeWrapper:0,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]},U=h(10),T=h(30),v=h(12),S=h(42),E=h(1);function D(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function x(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?D(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):D(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var P=U.a.extend({defaults:x(x({},U.a.prototype.defaults),{},{type:"cell",tagName:"td",draggable:["tr"]})},{isComponent:function(q){return["td","th"].indexOf(Object(E.toLowerCase)(q.tagName))>=0}}),L=v.default.extend({});function N(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function R(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?N(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):N(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var A=U.a.extend({defaults:R(R({},U.a.prototype.defaults),{},{tagName:"tr",draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},{isComponent:function(q){return"tr"===Object(E.toLowerCase)(q.tagName)}}),z=v.default.extend({});function H(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function F(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?H(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):H(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var W="table",k=U.a.extend({defaults:F(F({},U.a.prototype.defaults),{},{type:W,tagName:W,droppable:["tbody","thead","tfoot"]}),initialize:function(q,J){U.a.prototype.initialize.apply(this,arguments);var xe=this.get("components");!xe.length&&xe.add({type:"tbody"})}},{isComponent:function(q){return Object(E.toLowerCase)(q.tagName)===W}}),I=v.default.extend({events:{}});function p(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function y(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?p(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):p(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var C="tbody",B=U.a.extend({defaults:y(y({},U.a.prototype.defaults),{},{type:C,tagName:C,draggable:["table"],droppable:["tr"],columns:1,rows:1}),initialize:function(q,J){U.a.prototype.initialize.apply(this,arguments);var xe=this.get("components"),je=this.get("columns"),wt=this.get("rows");if(!xe.length){for(var Rt=[];wt--;){for(var Vt=[],yt=je;yt--;)Vt.push({type:"cell",classes:["cell"]});Rt.push({type:"row",classes:["row"],components:Vt})}xe.add(Rt)}}},{isComponent:function(q){return Object(E.toLowerCase)(q.tagName)===C}});function K(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function te(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?K(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):K(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var $e="thead",ue=B.extend({defaults:te(te({},B.prototype.defaults),{},{type:$e,tagName:$e})},{isComponent:function(q){return Object(E.toLowerCase)(q.tagName)===$e}}),ye=v.default.extend({}),Re=v.default.extend({});function Pe(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function Me(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?Pe(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):Pe(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var Le="tfoot",_e=B.extend({defaults:Me(Me({},B.prototype.defaults),{},{type:Le,tagName:Le})},{isComponent:function(q){return Object(E.toLowerCase)(q.tagName)===Le}}),ie=v.default.extend({});function ne(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function ge(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?ne(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):ne(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var me='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',_=U.a.extend({defaults:ge(ge({},U.a.prototype.defaults),{},{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(me,'>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'),fallback:"<svg ".concat(me,'>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'),file:""}),initialize:function(q,J){U.a.prototype.initialize.apply(this,arguments);var je=this.get("attributes").src;je&&this.set("src",je,{silent:1})},initToolbar:function(){for(var q=arguments.length,J=new Array(q),xe=0;xe<q;xe++)J[xe]=arguments[xe];U.a.prototype.initToolbar.apply(this,J);var je=this.em;if(je){var Rt="image-editor";if(je.get("Commands").has(Rt)){for(var Vt=!1,yt=this.get("toolbar"),Bt=0;Bt<yt.length;Bt++)if("image-editor"===yt[Bt].command){Vt=!0;break}Vt||(yt.push({attributes:{class:"fa fa-pencil"},command:Rt}),this.set("toolbar",yt))}}},getAttrToHTML:function(){for(var q=arguments.length,J=new Array(q),xe=0;xe<q;xe++)J[xe]=arguments[xe];var je=U.a.prototype.getAttrToHTML.apply(this,J),wt=this.getSrcResult();return wt&&(je.src=wt),je},getSrcResult:function(){var J=this.get((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fallback?"fallback":"src")||"",xe=J;return J&&"<svg"===J.substr(0,4)&&(xe="data:image/svg+xml;base64,".concat(window.btoa(J))),xe},isDefaultSrc:function(){return this.get("src")===Object(re.result)(this,"defaults").src},toJSON:function(){for(var q=arguments.length,J=new Array(q),xe=0;xe<q;xe++)J[xe]=arguments[xe];var je=U.a.prototype.toJSON.apply(this,J);return je.attributes&&je.src===je.attributes.src&&delete je.src,je},parseUri:function(q){var J=document.createElement("a");J.href=q;for(var xe={},je=J.search.substring(1).split("&"),wt=0;wt<je.length;wt++){var Rt=je[wt].split("="),Vt=decodeURIComponent(Rt[0]);Vt&&(xe[Vt]=decodeURIComponent(Rt[1]))}return{hostname:J.hostname,pathname:J.pathname,protocol:J.protocol,search:J.search,hash:J.hash,port:J.port,query:xe}}},{isComponent:function(q){return"img"===Object(E.toLowerCase)(q.tagName)}});function b(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function G(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?b(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):b(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var c=_.extend({defaults:G(G({},_.prototype.defaults),{},{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:U.a.prototype.defaults.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]}),initialize:function(q,J){this.get("src")?this.parseFromSrc():this.updateSrc(),_.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},updateSrc:function(){this.set("src",this.getMapUrl())},getMapUrl:function(){var q=this.get("address"),J=this.get("zoom"),xe=this.get("mapType");return q=q?"&q="+q:"",J=J?"&z="+J:"",xe=xe?"&t="+xe:"",this.get("mapUrl")+"?"+q+J+xe+"&output=embed"},parseFromSrc:function(){var q=this.parseUri(this.get("src")).query;q.q&&this.set("address",q.q),q.z&&this.set("zoom",q.z),q.t&&this.set("mapType",q.t)}},{isComponent:function(q){var J="";return"iframe"==Object(E.toLowerCase)(q.tagName)&&/maps\.google\.com/.test(q.src)&&(J={type:"map",src:q.src}),J}}),O=v.default.extend({tagName:"img",events:{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"},initialize:function(q){v.default.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},fetchFile:function(){if(!this.modelOpt.temporary){var q=this.model,J=q.get("file");J&&(this.em.get("AssetManager").FileUploader().uploadFile({dataTransfer:{files:[J]}},function(xe){var je=xe&&xe.data&&xe.data[0],wt=je&&(Object(re.isString)(je)?je:je.src);wt&&q.set({src:wt})}),q.set("file",""))}},updateSrc:function(){var q=this.model,J=this.classEmpty,xe=this.$el,je=q.getSrcResult(),wt=je&&!q.isDefaultSrc();q.addAttributes({src:je}),xe[wt?"removeClass":"addClass"](J)},onActive:function(q){q&&q.stopPropagation();var J=this.em,xe=this.model,je=J&&J.get("AssetManager");je&&xe.get("editable")&&je.open({select:function(wt,Rt){xe.set({src:wt.getSrc()}),Rt&&je.close()},target:xe,types:["image"],accept:"image/*"})},onError:function(){var q=this.model.getSrcResult({fallback:1});q&&(this.el.src=q)},onLoad:function(){this.em.trigger("change:canvasOffset")},noDrag:function(q){return q.preventDefault(),!1},render:function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var q=this.$el,J=this.model,xe=q.attr("class")||"";return!J.get("src")&&q.attr("class","".concat(xe," ").concat(this.classEmpty).trim()),this.postRender(),this}}),m=O.extend({tagName:"div",events:{},initialize:function(q){O.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"},updateSrc:function(){this.getIframe().src=this.model.get("src")},getIframe:function(){if(!this.iframe){var q=document.createElement("iframe");q.src=this.model.get("src"),q.frameBorder=0,q.style.height="100%",q.style.width="100%",q.className=this.ppfx+"no-pointer",this.iframe=q}return this.iframe},render:function(){for(var q=arguments.length,J=new Array(q),xe=0;xe<q;xe++)J[xe]=arguments[xe];return O.prototype.render.apply(this,J),this.updateClasses(),this.el.appendChild(this.getIframe()),this}});function V(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function X(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?V(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):V(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var Ee=U.a.extend({defaults:X(X({},U.a.prototype.defaults),{},{type:"text",droppable:!1,editable:!0}),toHTML:function(){return U.a.prototype.toHTML.apply(this,arguments)}});function He(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function Oe(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?He(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):He(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var Ce=Ee.extend({defaults:Oe(Oe({},Ee.prototype.defaults),{},{type:"link",tagName:"a",traits:["title","href","target"]}),getAttrToHTML:function(){for(var q=arguments.length,J=new Array(q),xe=0;xe<q;xe++)J[xe]=arguments[xe];var je=Ee.prototype.getAttrToHTML.apply(this,J);return delete je.onmousedown,je}},{isComponent:function(q){var J;if("a"===Object(E.toLowerCase)(q.tagName)){J={type:"link",editable:0};var xe=q.childNodes,je=xe.length;je||delete J.editable;for(var wt=0;wt<je;wt++){var Rt=xe[wt];if(3==Rt.nodeType&&""!=Rt.textContent.trim()){delete J.editable;break}}}return J}}),Fe=h(34),Ue=h.n(Fe),it=h(26),xt=h.n(it);function pt(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function kt(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?pt(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):pt(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var Nt=v.default.prototype,ae=v.default.extend({events:{dblclick:"onActive",input:"onInput"},initialize:function(q){Nt.initialize.apply(this,arguments),this.disableEditing=this.disableEditing.bind(this);var J=this.model,xe=this.em;this.listenTo(J,"focus",this.onActive),this.listenTo(J,"change:content",this.updateContentText),this.listenTo(J,"sync:content",this.syncContent),this.rte=xe&&xe.get("RichTextEditor")},updateContentText:function(q,J){!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fromDisable&&this.disableEditing()},onActive:function(q){var J=this;return Ue()(xt.a.mark(function xe(){var je,wt;return xt.a.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(je=J.rte,wt=J.em,!(J.rteEnabled||!J.model.get("editable")||wt&&wt.isEditing())){Rt.next=3;break}return Rt.abrupt("return");case 3:if(q&&q.stopPropagation&&q.stopPropagation(),!je){Rt.next=14;break}return Rt.prev=5,Rt.next=8,je.enable(J,J.activeRte);case 8:J.activeRte=Rt.sent,Rt.next=14;break;case 11:Rt.prev=11,Rt.t0=Rt.catch(5),wt.logError(Rt.t0);case 14:J.toggleEvents(1);case 15:case"end":return Rt.stop()}},xe,null,[[5,11]])}))()},onDisable:function(){this.disableEditing()},disableEditing:function(){var q=this;return Ue()(xt.a.mark(function J(){var xe,je,wt,Rt,Vt;return xt.a.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(je=q.rte,wt=q.activeRte,Rt=q.em,Vt=(xe=q.model)&&xe.get("editable"),!je){yt.next=12;break}return yt.prev=3,yt.next=6,je.disable(q,wt);case 6:yt.next=11;break;case 8:yt.prev=8,yt.t0=yt.catch(3),Rt.logError(yt.t0);case 11:Vt&&q.syncContent();case 12:q.toggleEvents();case 13:case"end":return yt.stop()}},J,null,[[3,8]])}))()},getContent:function(){var q=this.activeRte;return q&&"function"==typeof q.getContent?q.getContent():this.getChildrenContainer().innerHTML},syncContent:function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=this.model,xe=this.rte;if(this.rteEnabled||q.force){var wt=this.getContent(),Rt=J.components(),Vt=kt({fromDisable:1},q);if(J.set("content","",Vt),xe.customRte)Rt.length&&Rt.reset(null,q),J.set("content",wt,Vt);else{var yt=function Bt(xn){var Pn=!!xn.get("textable"),ur=!["text","default",""].some(function(wr){return xn.is(wr)})||Pn;xn.set(kt({_innertext:!ur,editable:ur&&xn.get("editable"),selectable:ur,hoverable:ur,removable:Pn,draggable:Pn,highlightable:0,copyable:Pn},!Pn&&{toolbar:""}),q),xn.get("components").each(function(wr){return Bt(wr)})};Rt.reset(wt,q),Rt.each(function(Bt){return yt(Bt)}),Rt.trigger("resetNavigator")}}},onInput:function(){var q=this.em,J="component",xe=["".concat(J,":update"),"".concat(J,":input")].join(" ");q&&q.trigger(xe,this.model)},disablePropagation:function(q){q.stopPropagation()},toggleEvents:function(q){var J=this.em,xe=this.model,je=this.$el,wt={on:E.on,off:E.off},Rt=q?"on":"off";J.setEditing(q?this:0),this.rteEnabled=!!q;var Vt=[this.el.ownerDocument,document];if(wt.off(Vt,"mousedown",this.disableEditing),wt[Rt](Vt,"mousedown",this.disableEditing),J[Rt]("toolbar:run:before",this.disableEditing),xe&&(xe[Rt]("removed",this.disableEditing),xe.trigger("rte:".concat(q?"enable":"disable"))),je&&je.off("mousedown",this.disablePropagation),je&&je[Rt]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var yt=this.el;yt;)yt.draggable=!q,(yt=yt.parentNode)&&"BODY"==yt.tagName&&(yt=0)}}),be=ae.extend({render:function(){for(var q=arguments.length,J=new Array(q),xe=0;xe<q;xe++)J[xe]=arguments[xe];return ae.prototype.render.apply(this,J),this.el.addEventListener("click",this.prevDef,!0),this}});function Ve(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function ot(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?Ve(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):Ve(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var et="label",Z=Ee.extend({defaults:ot(ot({},Ee.prototype.defaults),{},{type:et,tagName:et,traits:["id","title","for"]})},{isComponent:function(q){return Object(E.toLowerCase)(q.tagName)===et}}),ke=be.extend({tagName:"span"});function Be(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function Je(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?Be(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):Be(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var st="video",mt="yt",De="vi",dt="ytnc",Et=_.extend({defaults:Je(Je({},_.prototype.defaults),{},{type:st,tagName:st,videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}}),initialize:function(q,J){this.em=J.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),_.prototype.initialize.apply(this,arguments)},updateTraits:function(){var q,J="iframe";switch(this.get("provider")){case mt:case dt:q=this.getYoutubeTraits();break;case De:q=this.getVimeoTraits();break;default:J="video",q=this.getSourceTraits()}this.set({tagName:J},{silent:1}),this.set({traits:q}),this.em.trigger("component:toggled")},parseFromSrc:function(){var q=this.get("provider"),J=this.parseUri(this.get("src")),xe=J.query;switch(q){case mt:case dt:case De:var je=J.pathname.split("/").pop();this.set("videoId",je),xe.list&&this.set("list",xe.list),xe.autoplay&&this.set("autoplay",1),xe.loop&&this.set("loop",1),0===parseInt(xe.controls)&&this.set("controls",0),xe.color&&this.set("color",xe.color),"0"===xe.rel&&this.set("rel",0),"1"===xe.modestbranding&&this.set("modestbranding",1)}},updateSrc:function(){var q="";switch(this.get("provider")){case mt:q=this.getYoutubeSrc();break;case dt:q=this.getYoutubeNoCookieSrc();break;case De:q=this.getVimeoSrc()}this.set({src:q})},getAttrToHTML:function(){for(var q=arguments.length,J=new Array(q),xe=0;xe<q;xe++)J[xe]=arguments[xe];var je=_.prototype.getAttrToHTML.apply(this,J);switch(this.get("provider")){case mt:case dt:case De:break;default:this.get("loop")&&(je.loop="loop"),this.get("autoplay")&&(je.autoplay="autoplay"),this.get("controls")&&(je.controls="controls")}return je},getProviderTrait:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:mt,name:"Youtube"},{value:dt,name:"Youtube (no cookie)"},{value:De,name:"Vimeo"}]}},getSourceTraits:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},getYoutubeTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]},getVimeoTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]},getAutoplayTrait:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}},getLoopTrait:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}},getControlsTrait:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}},getYoutubeSrc:function(){var q=this.get("videoId"),J=this.get("ytUrl"),xe=this.get("list");return J+=q+(q.indexOf("?")<0?"?":""),J+=xe?"&list=".concat(xe):"",J+=this.get("autoplay")?"&autoplay=1":"",J+=this.get("controls")?"":"&controls=0&showinfo=0",J+=this.get("loop")?"&loop=1&playlist=".concat(q):"",(J+=this.get("rel")?"":"&rel=0")+(this.get("modestbranding")?"&modestbranding=1":"")},getYoutubeNoCookieSrc:function(){return this.getYoutubeSrc().replace(this.get("ytUrl"),this.get("ytncUrl"))},getVimeoSrc:function(){var q=this.get("viUrl");return q+=this.get("videoId")+"?",q+=this.get("autoplay")?"&autoplay=1":"",q+=this.get("loop")?"&loop=1":"",(q+=this.get("controls")?"":"&title=0&portrait=0&badge=0")+(this.get("color")?"&color="+this.get("color"):"")}},{isComponent:function(q){var J="",xe=q.tagName,je=q.src,wt=/youtube\.com\/embed/.test(je),Rt=/youtube-nocookie\.com\/embed/.test(je),Vt=/player\.vimeo\.com\/video/.test(je),yt=wt||Rt||Vt;return(Object(E.toLowerCase)(xe)==st||"iframe"==Object(E.toLowerCase)(xe)&&yt)&&(J={type:"video"},je&&(J.src=je),yt&&(wt?J.provider=mt:Rt?J.provider=dt:Vt&&(J.provider=De))),J}}),It=O.extend({tagName:"div",events:{},initialize:function(q){v.default.prototype.initialize.apply(this,arguments);var J=this.model,je=["loop","autoplay","controls","color","rel","modestbranding","poster"].map(function(wt){return"change:".concat(wt)}).join(" ");this.listenTo(J,"change:provider",this.updateProvider),this.listenTo(J,"change:src",this.updateSrc),this.listenTo(J,je,this.updateVideo)},updateProvider:function(){var q=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(q))},updateSrc:function(){var q=this.model,J=this.videoEl;if(J){var xe=q.get("provider"),je=q.get("src");switch(xe){case"yt":je=q.getYoutubeSrc();break;case"ytnc":je=q.getYoutubeNoCookieSrc();break;case"vi":je=q.getVimeoSrc()}J.src=je}},updateVideo:function(){var q=this.model.get("provider"),J=this.videoEl,xe=this.model;switch(q){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:J.loop=xe.get("loop"),J.autoplay=xe.get("autoplay"),J.controls=xe.get("controls"),J.poster=xe.get("poster")}},renderByProvider:function(q){var J;switch(q){case"yt":J=this.renderYoutube();break;case"ytnc":J=this.renderYoutubeNoCookie();break;case"vi":J=this.renderVimeo();break;default:J=this.renderSource()}return this.videoEl=J,J},renderSource:function(){var q=document.createElement("video");return q.src=this.model.get("src"),this.initVideoEl(q),q},renderYoutube:function(){var q=document.createElement("iframe");return q.src=this.model.getYoutubeSrc(),q.frameBorder=0,q.setAttribute("allowfullscreen",!0),this.initVideoEl(q),q},renderYoutubeNoCookie:function(){var q=document.createElement("iframe");return q.src=this.model.getYoutubeNoCookieSrc(),q.frameBorder=0,q.setAttribute("allowfullscreen",!0),this.initVideoEl(q),q},renderVimeo:function(){var q=document.createElement("iframe");return q.src=this.model.getVimeoSrc(),q.frameBorder=0,q.setAttribute("allowfullscreen",!0),this.initVideoEl(q),q},initVideoEl:function(q){q.className=this.ppfx+"no-pointer",q.style.height="100%",q.style.width="100%"},render:function(){for(var q=arguments.length,J=new Array(q),xe=0;xe<q;xe++)J[xe]=arguments[xe];O.prototype.render.apply(this,J),this.updateClasses();var je=this.model.get("provider");return this.el.appendChild(this.renderByProvider(je)),this.updateVideo(),this}});function Ft(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function jt(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?Ft(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):Ft(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var lt="script",ft=U.a.extend({defaults:jt(jt({},U.a.prototype.defaults),{},{type:lt,tagName:lt,droppable:!1,draggable:!1,layerable:!1})},{isComponent:function(q){if(Object(E.toLowerCase)(q.tagName)==lt){var J={type:lt};return q.src&&(J.src=q.src,J.onload=q.onload),J}}}),Ne=O.extend({tagName:"script",events:{},render:function(){var q=this.model,J=this.em,xe=q.get("src"),wt=J&&J.get("scriptCount")||0,Rt="";if(xe){var Vt=q.get("onload"),yt="script".concat(wt),Bt="script".concat(wt+1),xn="".concat(yt,"Start"),Pn="".concat(Bt,"Start");Rt="\n        var ".concat(yt," = document.createElement('script');\n        ").concat(yt,".onload = function() {\n          ").concat(Vt?"".concat(Vt,"();\n"):"","\n          typeof ").concat(Pn," == 'function' && ").concat(Pn,"();\n        };\n        ").concat(yt,".src = '").concat(xe,"';\n        function ").concat(xn,"() { document.body.appendChild(").concat(yt,"); };\n        ").concat(wt?"":"".concat(xn,"();"),"\n      "),J&&J.set("scriptCount",wt+1)}else Rt=q.__innerHTML();return this.el.innerHTML=Rt,this.postRender(),this}});function Lt(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function w(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?Lt(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):Lt(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var we=U.a.extend({defaults:w(w({},U.a.prototype.defaults),{},{type:"svg",tagName:"svg",highlightable:0,resizable:{ratioDefault:1}}),getName:function(){var q=this.get("tagName"),J=this.get("custom-name");return q=q.charAt(0).toUpperCase()+q.slice(1),J||q}},{isComponent:function(q){return"svg"===Object(E.toLowerCase)(q.tagName)}});function ee(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function Ge(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?ee(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):ee(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var qe=we.extend({defaults:Ge(Ge({},we.prototype.defaults),{},{selectable:!1,hoverable:!1,layerable:!1})},{isComponent:function(q){return!!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).inSvg}}),Qe=v.default.extend({_createElement:function(q){return document.createElementNS("http://www.w3.org/2000/svg",q)}});function Ot(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function Mt(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?Ot(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):Ot(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var St=U.a.extend({defaults:Mt(Mt({},U.a.prototype.defaults),{},{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0}),toHTML:function(){var q=this.parent(),J=this.get("content");return q&&q.is("script")?J:Object(E.escape)(J)}},{isComponent:function(q){var J="";return 3===q.nodeType&&(J={type:"textnode",content:q.textContent}),J}});function Xt(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}var pn=St.extend({defaults:function(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?Xt(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):Xt(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}({},St.prototype.defaults),toHTML:function(){return"\x3c!--".concat(this.get("content"),"--\x3e")}},{isComponent:function(q){if(8==q.nodeType)return{tagName:"NULL",type:"comment",content:q.textContent}}}),Qt=v.default.extend({initialize:function(){v.default.prototype.initialize.apply(this,arguments)},_setAttributes:function(){},renderAttributes:function(){},updateStatus:function(){},updateClasses:function(){},setAttribute:function(){},updateAttributes:function(){},initClasses:function(){},initComponents:function(){},delegateEvents:function(){},_createElement:function(){return document.createTextNode("")},render:function(){var q=this.model;return q.opt.temporary||(this.el.textContent=q.get("content")),this}}),wn=Qt.extend({_createElement:function(){return document.createComment(this.model.get("content"))}});function gn(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function Mn(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?gn(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):gn(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var br=U.a.extend({defaults:Mn(Mn({},U.a.prototype.defaults),{},{__wrapper:1,removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]}),__postAdd:function(){var q=this.em&&this.em.get("UndoManager");return q&&!this.__hasUm&&q.add(this),U.a.prototype.__postAdd.call(this,arguments)},__postRemove:function(){var q=this.em&&this.em.get("UndoManager");return q&&q.remove(this),U.a.prototype.__postRemove.call(this,arguments)}},{isComponent:function(){return!1}});function mn(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function Wt(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?mn(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):mn(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}var vn="iframe",rr=U.a.extend({defaults:function(){return Wt(Wt({},U.a.prototype.defaults),{},{type:vn,tagName:vn,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})}},{isComponent:function(q){return Object(E.toLowerCase)(q.tagName)===vn}}),Jt=h(13),ln=v.default.extend({tagName:"div",initialize:function(){for(var q=arguments.length,J=new Array(q),xe=0;xe<q;xe++)J[xe]=arguments[xe];v.default.prototype.initialize.apply(this,J),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},updateSrc:function(){var q=Object(Jt.h)(this.el,"iframe")[0];q&&Object(Jt.d)(q,{src:this.__getSrc()})},render:function(){for(var q=arguments.length,J=new Array(q),xe=0;xe<q;xe++)J[xe]=arguments[xe];v.default.prototype.render.apply(this,J);var je=Object(Jt.f)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(je),this},__getSrc:function(){return this.model.getAttributes().src||""}});function An(q,J){var xe=Object.keys(q);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(q);J&&(je=je.filter(function(wt){return Object.getOwnPropertyDescriptor(q,wt).enumerable})),xe.push.apply(xe,je)}return xe}function dr(q){for(var J=1;J<arguments.length;J++){var xe=null!=arguments[J]?arguments[J]:{};J%2?An(Object(xe),!0).forEach(function(je){he()(q,je,xe[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(xe)):An(Object(xe)).forEach(function(je){Object.defineProperty(q,je,Object.getOwnPropertyDescriptor(xe,je))})}return q}ve.default=function(){var q,J,xe,je={},wt={},Rt=[{id:"cell",model:P,view:L},{id:"row",model:A,view:z},{id:"table",model:k,view:I},{id:"thead",model:ue,view:ye},{id:"tbody",model:B,view:Re},{id:"tfoot",model:_e,view:ie},{id:"map",model:c,view:m},{id:"link",model:Ce,view:be},{id:"label",model:Z,view:ke},{id:"video",model:Et,view:It},{id:"image",model:_,view:O},{id:"script",model:ft,view:Ne},{id:"svg-in",model:qe,view:Qe},{id:"svg",model:we,view:Qe},{id:"iframe",model:rr,view:ln},{id:"comment",model:pn,view:wn},{id:"textnode",model:St,view:Qt},{id:"text",model:Ee,view:ae},{id:"wrapper",model:br,view:v.default},{id:"default",model:U.a,view:v.default}];return{Component:U.a,Components:T.a,ComponentsView:S.a,componentTypes:Rt,componentsById:wt,name:"DomComponents",getConfig:function(){return je},storageKey:function(){var Vt=[],yt=je.stm&&je.stm.getConfig()||{};return yt.storeHtml&&Vt.push("html"),yt.storeComponents&&Vt.push("components"),Vt},init:function(Vt){var yt=this;for(var Bt in q=(je=Vt||{}).em,this.em=q,q&&(je.components=q.config.components||je.components),Q)Bt in je||(je[Bt]=Q[Bt]);var xn=je.pStylePrefix;if(xn&&(je.stylePrefix=xn+je.stylePrefix),q){je.modal=q.get("Modal")||"",je.am=q.get("AssetManager")||"",q.get("Parser").compTypes=Rt,q.on("change:componentHovered",this.componentHovered,this);var Pn=q.get("selected");q.listenTo(Pn,"add",function(ur,wr,fn){return yt.selectAdd(Pn.getComponent(ur),fn)}),q.listenTo(Pn,"remove",function(ur,wr,fn){return yt.selectRemove(Pn.getComponent(ur),fn)})}return q.get("hasPages")&&(je.components=""),this},onLoad:function(){je.components&&this.setComponents(je.components,{silent:1})},load:function(){var Vt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",yt=this.em,Bt="";!Vt&&je.stm&&(Vt=je.em.getCacheLoad());var Pn=Vt.components,ur=Vt.html;if(Pn)if(Object(re.isObject)(Pn)||Object(re.isArray)(Pn))Bt=Pn;else try{Bt=JSON.parse(Pn)}catch(fn){yt&&yt.logError(fn)}else ur&&(Bt=ur);var wr=Bt&&Bt.constructor===Object;return(Bt&&Bt.length||wr)&&(this.clear(),wr?this.getWrapper().set(Bt):this.getComponents().add(Bt)),Bt},store:function(Vt){if(!je.stm||this.em.get("hasPages"))return{};var yt={},Bt=this.storageKey();if(Bt.indexOf("html")>=0&&(yt.html=je.em.getHtml()),Bt.indexOf("components")>=0){var xn=je.storeWrapper?this.getWrapper():this.getComponents();yt.components=JSON.stringify(xn)}return Vt||je.stm.store(yt),yt},getComponent:function(){var Vt=this.em.get("PageManager").getSelected(),yt=Vt&&Vt.getMainFrame();return yt&&yt.getComponent()},getWrapper:function(){return this.getComponent()},getComponents:function(){var Vt=this.getWrapper();return Vt&&Vt.get("components")},addComponent:function(Vt){var yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getComponents().add(Vt,yt)},render:function(){return xe.render().el},clear:function(){var Vt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getComponents().map(function(yt){return yt}).forEach(function(yt){return yt.remove(Vt)}),this},setComponents:function(Vt){var yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.clear(yt).addComponent(Vt,yt)},addType:function(Vt,yt){var Bt=this.em,xn=yt.model,Pn=void 0===xn?{}:xn,ur=yt.view,wr=void 0===ur?{}:ur,fn=yt.isComponent,fr=yt.extend,Ei=yt.extendView,eo=yt.extendFn,Si=void 0===eo?[]:eo,li=yt.extendFnView,gr=void 0===li?[]:li,ni=this.getType(Vt),Do=this.getType(fr),Di=this.getType(Ei),ir=Do||ni||this.getType("default"),ji=ir.model,Vr=Di?Di.view:ir.view,vi=function(qi,wo,yi){return qi.reduce(function(to,hr){var zn=wo[hr],Jr=yi.prototype[hr];return zn&&Jr&&(to[hr]=function(){Jr.bind(this).apply(void 0,arguments),zn.bind(this).apply(void 0,arguments)}),to},{})};"object"===se()(Pn)&&(yt.model=ji.extend(dr(dr(dr({},Pn),vi(Si,Pn,ji)),{},{defaults:dr(dr({},Object(re.result)(ji.prototype,"defaults")||{}),Object(re.result)(Pn,"defaults")||{})}),{isComponent:!ni||Do||fn?fn||function(){return 0}:ji.isComponent})),"object"===se()(wr)&&(yt.view=Vr.extend(dr(dr({},wr),vi(gr,wr,Vr)))),ni?(ni.model=yt.model,ni.view=yt.view):(yt.id=Vt,Rt.unshift(yt));var Vo="component:type:".concat(ni?"update":"add");return Bt&&Bt.trigger(Vo,ni||yt),this},getType:function(Vt){for(var yt=Rt,Bt=0;Bt<yt.length;Bt++)if(yt[Bt].id==Vt)return yt[Bt]},removeType:function(Vt){var yt=Rt,Bt=this.getType(Vt);if(Bt){var xn=yt.indexOf(Bt);return yt.splice(xn,1),Bt}},getTypes:function(){return Rt},selectAdd:function(Vt){var yt=this,Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vt&&(Vt.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(xn){return yt.em.trigger(xn,Vt,Bt)}))},selectRemove:function(Vt){var yt=this,Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vt&&(Vt.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(xn){return yt.em.trigger(xn,Vt,Bt)}))},componentHovered:function(){var Vt=je.em,yt=Vt.get("componentHovered"),Bt=Vt.previous("componentHovered"),xn="hovered";Bt&&Bt.get("status")==xn&&Bt.set({status:"",state:""}),yt&&Object(re.isEmpty)(yt.get("status"))&&yt.set("status",xn)},allById:function(){return wt},destroy:function(){var Vt=this.allById();Object.keys(Vt).forEach(function(yt){return Vt[yt]&&Vt[yt].remove()}),xe&&xe.remove(),[je,q,wt,J,xe].forEach(function(yt){return{}}),this.em={}}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(0),se=h(18),re={stylePrefix:"gjs-",components:"",style:"",fromElement:0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"\n    * {\n      box-sizing: border-box;\n    }\n    html, body, [data-gjs-type=wrapper] {\n      min-height: 100%;\n    }\n    body {\n      margin: 0;\n      height: 100%;\n      background-color: #fff\n    }\n    [data-gjs-type=wrapper] {\n      overflow: auto;\n      overflow-x: hidden;\n    }\n\n    * ::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.1)\n    }\n\n    * ::-webkit-scrollbar-thumb {\n      background: rgba(255, 255, 255, 0.2)\n    }\n\n    * ::-webkit-scrollbar {\n      width: 10px\n    }\n  ",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:1,allowScripts:0,showDevices:1,devicePreviewMode:0,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:0,jsInHtml:!0,nativeDnD:1,multipleSelection:1,exportWrapper:0,wrapperIsBody:1,optsHtml:{},optsCss:{},avoidInlineStyle:1,avoidDefaults:1,clearStyles:0,dragMode:0,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{sectors:[{name:"General",open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:"Flex",open:!1,buildProps:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"],properties:[{property:"text-align",list:[{value:"left",className:"fa fa-align-left"},{value:"center",className:"fa fa-align-center"},{value:"right",className:"fa fa-align-right"},{value:"justify",className:"fa fa-align-justify"}]}]},{name:"Decorations",open:!1,buildProps:["border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["transition","perspective","transform"]}]},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:0,multiFrames:0,customUI:!1},Q=h(22),U=h.n(Q),T=h(2),v=h.n(T),S=h(1),E=h(6),D=h.n(E),x=h(5),P=h.n(x),L=h(8),N=h.n(L),R=h(9),M=h.n(R),A=h(4),z=h.n(A);function H(_){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(G){return!1}}();return function(){var G,c=z()(_);if(b){var O=z()(this).constructor;G=Reflect.construct(c,arguments,O)}else G=c.apply(this,arguments);return M()(this,G)}}var F=function(_){N()(G,_);var b=H(G);function G(){return P()(this,G),b.apply(this,arguments)}return G}(T.Model),W=function(_){N()(G,_);var b=H(G);function G(){return P()(this,G),b.apply(this,arguments)}return D()(G,[{key:"getByComponent",value:function(c){var O=this;return this.filter(function(m){return O.getComponent(m)===c})[0]}},{key:"addComponent",value:function(c,O){var m=this,V=(Object(de.isArray)(c)?c:[c]).filter(function(X){return!m.hasComponent(X)}).map(function(X){return{component:X}});return this.push(V,O)}},{key:"getComponent",value:function(c){return c.get("component")}},{key:"hasComponent",value:function(c){var O=this.getByComponent(c);return O&&this.contains(O)}},{key:"lastComponent",value:function(){var c=this.last();return c&&this.getComponent(c)}},{key:"allComponents",value:function(){var c=this;return this.map(function(O){return c.getComponent(O)}).filter(function(O){return O})}},{key:"removeComponent",value:function(c,O){var m=this,V=(Object(de.isArray)(c)?c:[c]).map(function(X){return m.getByComponent(X)});return this.remove(V,O)}}]),G}(T.Collection);W.prototype.model=F;var k=["unset"];function I(_,b){var G=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);b&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),G.push.apply(G,c)}return G}function p(_){for(var b=1;b<arguments.length;b++){var G=null!=arguments[b]?arguments[b]:{};b%2?I(Object(G),!0).forEach(function(c){he()(_,c,G[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(G)):I(Object(G)).forEach(function(c){Object.defineProperty(_,c,Object.getOwnPropertyDescriptor(G,c))})}return _}v.a.$=se.default;var y,C,B=[h(114),h(115),h(118),h(83),h(110),h(108),h(111),h(106),h(109),h(112),h(107),h(104),h(116),h(101),h(113),h(47),h(102),h(99),h(117),h(105),h(119),h(103)];!function(_){var b=_.$;if(b&&b.prototype&&"jQuery"!==b.prototype.constructor.name){var G=b.fn;G.hide=function(){return this.css("display","none")},G.show=function(){return this.css("display","block")},G.focus=function(){var m=this.get(0);return m&&m.focus(),this},G.bind=function(m,V){return this.on(m,V)},G.unbind=function(m,V){if(Object(de.isObject)(m)){for(var X in m)m.hasOwnProperty(X)&&this.off(X,m[X]);return this}return this.off(m,V)},G.click=function(m){return m?this.on("click",m):this.trigger("click")},G.change=function(m){return m?this.on("change",m):this.trigger("change")},G.keydown=function(m){return m?this.on("keydown",m):this.trigger("keydown")},G.delegate=function(m,V,X,Ee){return Ee||(Ee=X),this.on(V,m,function(He){He.data=X,Ee(He)})},G.scrollLeft=function(){var m=this.get(0),V=(m=9==m.nodeType?m.defaultView:m)instanceof Window?m:null;return V?V.pageXOffset:m.scrollLeft||0},G.scrollTop=function(){var m=this.get(0),V=(m=9==m.nodeType?m.defaultView:m)instanceof Window?m:null;return V?V.pageYOffset:m.scrollTop||0};var c=b.prototype.offset;G.offset=function(m){var V,X;return m&&(V=m.top,X=m.left),void 0!==V&&this.css("top","".concat(V,"px")),void 0!==X&&this.css("left","".concat(X,"px")),c.call(this)},b.map=function(m,V){for(var X=[],Ee=0;Ee<m.length;Ee++)X.push(V(m[Ee],Ee));return X};var O=Array.prototype.indexOf;b.inArray=function(m,V,X){return null==V?-1:O.call(V,m,X)},b.Event=function(m,V){if(!(this instanceof b.Event))return new b.Event(m,V);this.type=m,this.isDefaultPrevented=function(){return!1}}}}({Backbone:v.a,$:v.a.$});var K={debug:console.log,info:console.info,warning:console.warn,error:console.error},te=v.a.Model.extend({defaults:function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},initialize:function(){var _=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=b,this.set("Config",b),this.set("modules",[]),this.set("toLoad",[]),this.set("storables",[]),this.set("selected",new W),this.set("dmode",b.dragMode),this.set("hasPages",!!b.pageManager);var G=b.el,c=b.log,O=!0===c?Object(de.keys)(K):Object(de.isArray)(c)?c:[];Object(de.bindAll)(this,"initBaseColorPicker"),G&&b.fromElement&&(this.config.components=G.innerHTML),this.attrsOrig=G?Object(de.toArray)(G.attributes).reduce(function(m,V){return m[V.nodeName]=V.nodeValue,m},{}):"",B.forEach(function(m){return _.loadModule(m)}),this.on("change:componentHovered",this.componentHovered,this),this.on("change:changesCount",this.updateChanges,this),this.on("change:readyLoad change:readyCanvas",this._checkReady,this),O.forEach(function(m){return _.listenLog(m)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(m){var V=m.from,X=m.to;_.listenTo(_,V,function(){for(var Ee=arguments.length,He=new Array(Ee),Oe=0;Oe<Ee;Oe++)He[Oe]=arguments[Oe];_.trigger.apply(_,[X].concat(He)),_.logWarning("The event '".concat(V,"' is deprecated, replace it with '").concat(X,"'"))})})},_checkReady:function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},getContainer:function(){return this.config.el},listenLog:function(_){this.listenTo(this,"log:".concat(_),K[_])},getConfig:function(_){var b=this.config;return Object(de.isUndefined)(_)?b:b[_]},loadOnStart:function(){var _=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,G=this.get("StorageManager");this.get("toLoad").forEach(function(O){O.onLoad()});var c=function(){_.get("modules").forEach(function(O){return O.postLoad&&O.postLoad(_)}),_.set("readyLoad",1),b&&b()};G&&G.canAutoload()?this.load(c):setTimeout(c)},updateChanges:function(){var _=this,b=this.get("StorageManager"),G=this.get("changesCount");C&&clearTimeout(C),C=setTimeout(function(){return _.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=G?function(c){return 1}:null),b.isAutosave()&&G>=b.getStepsBeforeSave()&&this.store()},loadModule:function(_){var b=this.config,G=new(_.default||_),c=G.name.charAt(0).toLowerCase()+G.name.slice(1),O=Object(de.isUndefined)(b[c])?b[G.name]:b[c],m=!0===O?{}:O||{},V=this.get("StorageManager");if(m.pStylePrefix=b.pStylePrefix||"",Object(de.isUndefined)(O)||O||(m._disable=1),G.storageKey&&G.store&&G.load&&V){m.stm=V;var X="domComponents"==c?"unshift":"push";this.get("storables")[X](G)}return m.em=this,G.init(p({},m)),!G.private&&this.set(G.name,G),G.onLoad&&this.get("toLoad").push(G),this.get("modules").push(G),this},init:function(_){this.destroyed&&(this.initialize(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.destroyed=0),this.set("Editor",_)},getEditor:function(){return this.get("Editor")},handleUpdates:function(_,b){var G=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c.temporary||c.noCount||c.avoidStore||!this.get("ready")||(y&&clearTimeout(y),y=setTimeout(function(){var O=G.get("changesCount")||0,m=U()(c,k);G.set("changesCount",O+1,m)},0))},changesUp:function(_){this.handleUpdates(0,0,_)},componentHovered:function(_,b,G){var c=this.previous("componentHovered");c&&this.trigger("component:unhovered",c,G),b&&this.trigger("component:hovered",b,G)},getSelected:function(){return this.get("selected").lastComponent()},getSelectedAll:function(){return this.get("selected").allComponents()},setSelected:function(_){var b=this,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=G.event,O=c&&(c.ctrlKey||c.metaKey),V=(c||{}).shiftKey,X=Object(de.isArray)(_),Ee=(X?_:[_]).map(function(Ce){return Object(S.getModel)(Ce,se.default)}),He=this.getSelectedAll(),Oe=this.getConfig("multipleSelection");X&&this.removeSelected(He.filter(function(Ce){return!Object(de.contains)(Ee,Ce)})),Ee.forEach(function(Ce){var Fe=Object(S.getModel)(Ce,se.default);if(!Fe||Fe.get("selectable")){if(O&&Oe)return b.toggleSelected(Fe);if(V&&Oe){b.clearSelection(b.get("Canvas").getWindow());var Ue,it,xt=Fe.collection,pt=Fe.index();if(b.getSelectedAll().forEach(function(kt){var Nt=kt.collection,ae=kt.index();Nt===xt&&(ae<pt?Ue=Object(de.isUndefined)(Ue)?ae:Math.max(Ue,ae):ae>pt&&(it=Object(de.isUndefined)(it)?ae:Math.min(it,ae)))}),!Object(de.isUndefined)(Ue))for(;Ue!==pt;)b.addSelected(xt.at(Ue)),Ue++;if(!Object(de.isUndefined)(it))for(;it!==pt;)b.addSelected(xt.at(it)),it--;return b.addSelected(Fe)}!X&&b.removeSelected(He.filter(function(kt){return kt!==Fe})),b.addSelected(Fe,G)}})},addSelected:function(_){var b=this,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Object(S.getModel)(_,se.default);(Object(de.isArray)(c)?c:[c]).forEach(function(m){if(!m||m.get("selectable")){var V=b.get("selected");G.forceChange&&b.removeSelected(m,G),V.addComponent(m,G)}})},removeSelected:function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.get("selected").removeComponent(Object(S.getModel)(_,se.default),b)},toggleSelected:function(_){var b=this,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Object(S.getModel)(_,se.default);(Object(de.isArray)(c)?c:[c]).forEach(function(m){b.get("selected").hasComponent(m)?b.removeSelected(m,G):b.addSelected(m,G)})},setHovered:function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=Object(S.getModel)(_,se.default);G&&!G.get("hoverable")||(b.forceChange&&this.set("componentHovered",""),this.set("componentHovered",G,b))},getHovered:function(){return this.get("componentHovered")},setComponents:function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get("DomComponents").setComponents(_,b)},getComponents:function(){var _=this.get("DomComponents"),b=this.get("CodeManager");if(_&&b){var G=_.getComponents();return b.getCode(G,"json")}},setStyle:function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=this.get("CssComposer");return G.clear(b),G.getAll().add(_,b),this},addStyle:function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=this.getStyle().add(_,b);return Object(de.isArray)(G)?G:[G]},getStyle:function(){return this.get("CssComposer").getAll()},setState:function(_){return this.set("state",_),this},getState:function(){return this.get("state")||""},getHtml:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.config,G=b.optsHtml,c=b.exportWrapper,O=b.wrapperIsBody,m=b.jsInHtml?this.getJs(_):"",V=_.component||this.get("DomComponents").getComponent();return(V?this.get("CodeManager").getCode(V,"html",p(p({exportWrapper:c,wrapperIsBody:O},G),_)):"")+(m?"<script>".concat(m,"<\/script>"):"")},getCss:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.config,G=b.optsCss,c=b.wrapperIsBody,O=_.avoidProtected,m=Object(de.isUndefined)(_.keepUnusedStyles)?b.keepUnusedStyles:_.keepUnusedStyles,V=this.get("CssComposer"),X=_.component||this.get("DomComponents").getComponent(),Ee=O?"":b.protectedCss,He=X&&this.get("CodeManager").getCode(X,"css",p(p({cssc:V,wrapperIsBody:c,keepUnusedStyles:m},G),_));return X?_.json?He:Ee+He:""},getJs:function(){var b=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).component||this.get("DomComponents").getWrapper();return b?this.get("CodeManager").getCode(b,"js").trim():""},store:function(_){var b=this,G=this.get("StorageManager");if(G){var c=this.storeData();return G.store(c,function(O){_&&_(O,c),b.set("changesCount",0),b.trigger("storage:store",c)}),c}},storeData:function(){var _={},b=this.getEditing();return b&&b.trigger("sync:content",{noCount:!0}),this.get("storables").forEach(function(G){_=p(p({},_),G.store(1))}),_},load:function(){var _=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.getCacheLoad(1,function(G){_.loadData(G),b&&b(G)})},loadData:function(){var _=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=this.get("StorageManager").__clearKeys(b);return this.get("storables").forEach(function(O){O.load(c),O.postLoad&&O.postLoad(_)}),c},getCacheLoad:function(_,b){var G=this;if(this.cacheLoad&&!_)return this.cacheLoad;var c=this.get("StorageManager"),O=[];if(!c)return{};this.get("storables").forEach(function(m){var V=m.storageKey;V=Object(de.isFunction)(V)?V():V,(Object(de.isArray)(V)?V:[V]).forEach(function(X){return O.push(X)})}),c.load(O,function(m){G.cacheLoad=m,b&&b(m),setTimeout(function(){return G.trigger("storage:load",m)})})},getDeviceModel:function(){var _=this.get("device");return this.get("DeviceManager").get(_)},runDefault:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.get("Commands").get(this.config.defaultCommand);b&&!this.defaultRunning&&(b.stop(this,this,_),b.run(this,this,_),this.defaultRunning=1)},stopDefault:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=this.get("Commands").get(this.config.defaultCommand);G&&this.defaultRunning&&(G.stop(this,this,_),this.defaultRunning=0)},refreshCanvas:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset()),_.tools&&this.trigger("canvas:updateTools")},clearSelection:function(_){(_||window).getSelection().removeAllRanges()},getCurrentMedia:function(){var _=this.config,b=this.getDeviceModel(),G=_.mediaCondition,c=_.devicePreviewMode,O=b&&b.get("widthMedia");return b&&O&&!c?"(".concat(G,": ").concat(O,")"):""},getWrapper:function(){return this.get("DomComponents").getWrapper()},setCurrentFrame:function(_){return this.set("currentFrame",_)},getCurrentFrame:function(){return this.get("currentFrame")},getCurrentFrameModel:function(){return(this.getCurrentFrame()||{}).model},getDirtyCount:function(){return this.get("changesCount")},getZoomDecimal:function(){return this.get("Canvas").getZoomDecimal()},getZoomMultiplier:function(){return this.get("Canvas").getZoomMultiplier()},setDragMode:function(_){return this.set("dmode",_)},t:function(){var _;return(_=this.get("I18n")).t.apply(_,arguments)},inAbsoluteMode:function(){return"absolute"===this.get("dmode")},destroyAll:function(){var _=this,b=this.config,G=this.view,c=this.getEditor(),O=(b.grapesjs||{}).editors,m=void 0===O?[]:O;this.stopDefault(),this.get("modules").slice().reverse().forEach(function(V){return V.destroy()}),G&&G.remove(),this.stopListening(),this.clear({silent:!0}),this.destroyed=1,["config","view","_previousAttributes","_events","_listeners"].forEach(function(V){return _[V]={}}),m.splice(m.indexOf(c),1),Object(S.hasWin)()&&Object(se.default)(b.el).empty().attr(this.attrsOrig)},getEditing:function(){var _=this.get("editing");return _&&_.model||null},setEditing:function(_){return this.set("editing",_),this},isEditing:function(){return!!this.get("editing")},log:function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=b.ns,c=b.level,O=void 0===c?"debug":c;if(this.trigger("log",_,b),O&&this.trigger("log:".concat(O),_,b),G){var m="log-".concat(G);this.trigger(m,_,b),O&&this.trigger("".concat(m,":").concat(O),_,b)}},logInfo:function(_,b){this.log(_,p(p({},b),{},{level:"info"}))},logWarning:function(_,b){this.log(_,p(p({},b),{},{level:"warning"}))},logError:function(_,b){this.log(_,p(p({},b),{},{level:"error"}))},initBaseColorPicker:function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=this.getConfig(),c=G.colorPicker,O=void 0===c?{}:c,m=G.el,V=G.stylePrefix;return Object(se.default)(_).spectrum(p(p({containerClassName:"".concat(V,"one-bg ").concat(V,"two-color"),appendTo:m||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f"},b),O))},data:function(_,b,G){var c="_gjs-data";if(_[c]||(_[c]={}),Object(de.isUndefined)(G))return _[c][b];_[c][b]=G}}),$e=v.a.$,ue=v.a.View.extend({initialize:function(){var _=this,b=this.model;b.view=this,this.conf=b.config,this.pn=b.get("Panels"),this.cv=b.get("Canvas"),b.once("change:ready",function(){_.pn.active(),_.pn.disableButtons(),setTimeout(function(){b.trigger("load",b.get("Editor")),b.set("changesCount",0)})})},render:function(){var _=this.$el,b=this.conf,G=b.stylePrefix,c=$e(b.el||"body ".concat(b.container));return Object(S.appendStyles)(b.cssIcons,{unique:1,prepand:1}),_.empty(),b.width&&c.css("width",b.width),b.height&&c.css("height",b.height),_.append(this.cv.render()),_.append(this.pn.render()),_.attr("class","".concat(G,"editor ").concat(G,"one-bg ").concat(G,"two-color")),c.addClass("".concat(G,"editor-cont")).empty().append(_),this}}),ye=h(17);function Re(_,b){var G=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);b&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),G.push.apply(G,c)}return G}function Pe(_){for(var b=1;b<arguments.length;b++){var G=null!=arguments[b]?arguments[b]:{};b%2?Re(Object(G),!0).forEach(function(c){he()(_,c,G[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(G)):Re(Object(G)).forEach(function(c){Object.defineProperty(_,c,Object.getOwnPropertyDescriptor(G,c))})}return _}var Me=function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).$,c=Pe(Pe({},re),_);c.pStylePrefix=c.stylePrefix;var O,m=new te(c);return{$:G,editor:m,init:function(){var V=this,X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.init(this,Pe(Pe({},c),X)),["I18n","Utils","Config","Commands","Keymaps","Modal","Panels","Canvas","Parser","CodeManager","UndoManager","RichTextEditor",["Pages","PageManager"],"DomComponents",["Components","DomComponents"],"LayerManager",["Layers","LayerManager"],"CssComposer",["Css","CssComposer"],"StorageManager",["Storage","StorageManager"],"AssetManager",["Assets","AssetManager"],"BlockManager",["Blocks","BlockManager"],"TraitManager",["Traits","TraitManager"],"SelectorManager",["Selectors","SelectorManager"],"StyleManager",["Styles","StyleManager"],"DeviceManager",["Devices","DeviceManager"]].forEach(function(Ee){Array.isArray(Ee)?V[Ee[0]]=m.get(Ee[1]):V[Ee]=m.get(Ee)}),m.once("change:ready",function(){V.UndoManager.clear(),m.get("modules").forEach(function(Ee){Ee.postRender&&Ee.postRender(O)})}),this},getConfig:function(V){return m.getConfig(V)},getHtml:function(V){return m.getHtml(V)},getCss:function(V){return m.getCss(V)},getJs:function(V){return m.getJs(V)},getComponents:function(){return m.get("DomComponents").getComponents()},getWrapper:function(){return m.get("DomComponents").getWrapper()},setComponents:function(V){return m.setComponents(V,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this},addComponents:function(V,X){return this.getWrapper().append(V,X)},getStyle:function(){return m.get("CssComposer").getAll()},setStyle:function(V){return m.setStyle(V,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this},addStyle:function(V){return m.addStyle(V,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},getSelected:function(){return m.getSelected()},getSelectedAll:function(){return m.getSelectedAll()},getSelectedToStyle:function(){var V=m.getSelected();if(V)return this.StyleManager.getModelToStyle(V)},select:function(V,X){return m.setSelected(V,X),this},selectAdd:function(V){return m.addSelected(V),this},selectRemove:function(V){return m.removeSelected(V),this},selectToggle:function(V){return m.toggleSelected(V),this},getEditing:function(){return m.getEditing()},setDevice:function(V){return m.set("device",V),this},getDevice:function(){return m.get("device")},runCommand:function(V){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.get("Commands").run(V,X)},stopCommand:function(V){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.get("Commands").stop(V,X)},store:function(V){return m.store(V)},storeData:function(){return m.storeData()},load:function(V){return m.load(V)},loadData:function(V){return m.loadData(V)},getContainer:function(){return c.el},getDirtyCount:function(){return m.getDirtyCount()},refresh:function(V){m.refreshCanvas(V)},setCustomRte:function(V){this.RichTextEditor.customRte=V},setCustomParserCss:function(V){return this.Parser.getConfig().parserCss=V,this},setDragMode:function(V){return m.setDragMode(V),this},log:function(V){return m.log(V,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this},t:function(){return m.t.apply(m,arguments)},on:function(V,X){return m.on(V,X),this},once:function(V,X){return m.once(V,X),this},off:function(V,X){return m.off(V,X),this},trigger:function(V){return m.trigger.apply(m,arguments),this},destroy:function(){return m.destroyAll()},getEl:function(){return O&&O.el},getModel:function(){return m},render:function(){return O&&O.remove(),(O=new ue({model:m,config:c})).render().el},onReady:function(V){m.get("ready")?V(this):m.on("load",V)},html:ye.a}},Le={plugins:[]};function _e(_,b){var G=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);b&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),G.push.apply(G,c)}return G}function ie(_){for(var b=1;b<arguments.length;b++){var G=null!=arguments[b]?arguments[b]:{};b%2?_e(Object(G),!0).forEach(function(c){he()(_,c,G[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(G)):_e(Object(G)).forEach(function(c){Object.defineProperty(_,c,Object.getOwnPropertyDescriptor(G,c))})}return _}!function(){if(Object(S.hasWin)()&&function(){for(var b,G=window.navigator.userAgent,c=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],O=0;O<c.length&&!(b=c[O][1].exec(G));O++);return!!b}()){var _=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(b){return b||(b=""),_.apply(document.implementation,[b])}}}();var ne=new function(_){var b={};for(var G in Le)G in b||(b[G]=Le[G]);var c={};return{add:function(O,m){return c[O]?c[O]:(c[O]=m,m)},get:function(O){return c[O]},getAll:function(){return c}}},ge=[],me={autorender:1,plugins:[],pluginsOpts:{}};ve.default={$:se.default,editors:ge,plugins:ne,version:"0.17.29",init:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=_.headless,c=_.container;if(!c&&!G)throw new Error("'container' is required");(_=ie(ie(ie({},me),_),{},{grapesjs:this})).el=!G&&(Object(de.isElement)(c)?c:document.querySelector(c));var O=new Me(_,{$:se.default}).init(),m=O.getModel();return _.plugins.forEach(function(V){var X=ne.get(V),Ee=_.pluginsOpts[V]||{};if(!X){var He=window[V];X=He&&He.default?He.default:He}X?X(O,Ee):Object(de.isFunction)(V)?V(O,Ee):m.logWarning("Plugin ".concat(V," not found"),{context:"plugins",plugin:V})}),m.loadOnStart(),_.autorender&&!G&&O.render(),ge.push(O),O}}},function(nt,ve,h){"use strict";h.r(ve),h.d(ve,"evAll",function(){return _}),h.d(ve,"evPfx",function(){return b}),h.d(ve,"evSelect",function(){return G}),h.d(ve,"evUpdate",function(){return c}),h.d(ve,"evAdd",function(){return O}),h.d(ve,"evRemove",function(){return m}),h.d(ve,"evRemoveBefore",function(){return V}),h.d(ve,"evCustom",function(){return X}),h.d(ve,"evOpen",function(){return Ee}),h.d(ve,"evClose",function(){return He});var ce=h(3),he=h.n(ce),de=h(0),se=h(21),re={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:null,uploadFile:null,embedAsBase64:!0,handleAdd:null,beforeUpload:null,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:1,dropzoneContent:""},Q=h(2),U=h.n(Q),T=h(5),v=h.n(T),S=h(6),E=h.n(S),D=h(8),x=h.n(D),P=h(9),L=h.n(P),N=h(4),R=h.n(N);var A=function(Oe){x()(Fe,Oe);var Ce=function(Oe){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}();return function(){var Fe,Ue=R()(Oe);if(Ce){var it=R()(this).constructor;Fe=Reflect.construct(Ue,arguments,it)}else Fe=Ue.apply(this,arguments);return L()(this,Fe)}}(Fe);function Fe(){return v()(this,Fe),Ce.apply(this,arguments)}return E()(Fe,[{key:"defaults",value:function(){return{type:"",src:""}}},{key:"getType",value:function(){return this.get("type")}},{key:"getSrc",value:function(){return this.get("src")}},{key:"getFilename",value:function(){return this.get("src").split("/").pop().split("?").shift()}},{key:"getExtension",value:function(){return this.getFilename().split(".").pop()}}]),Fe}(Q.Model);function z(Oe,Ce){var Fe=Object.keys(Oe);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Oe);Ce&&(Ue=Ue.filter(function(it){return Object.getOwnPropertyDescriptor(Oe,it).enumerable})),Fe.push.apply(Fe,Ue)}return Fe}function H(Oe){for(var Ce=1;Ce<arguments.length;Ce++){var Fe=null!=arguments[Ce]?arguments[Ce]:{};Ce%2?z(Object(Fe),!0).forEach(function(Ue){he()(Oe,Ue,Fe[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors(Fe)):z(Object(Fe)).forEach(function(Ue){Object.defineProperty(Oe,Ue,Object.getOwnPropertyDescriptor(Fe,Ue))})}return Oe}A.prototype.idAttribute="src",A.getDefaults=function(){return Object(de.result)(this.prototype,"defaults")};var W,k,I,p=function(Oe){x()(Fe,Oe);var Ce=function(Oe){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}();return function(){var Fe,Ue=R()(Oe);if(Ce){var it=R()(this).constructor;Fe=Reflect.construct(Ue,arguments,it)}else Fe=Ue.apply(this,arguments);return L()(this,Fe)}}(Fe);function Fe(){return v()(this,Fe),Ce.apply(this,arguments)}return E()(Fe,[{key:"defaults",value:function(){return H(H({},A.getDefaults()),{},{type:"image",unitDim:"px",height:0,width:0})}}]),Fe}(A),y=h(19),C=h.n(y),B=U.a.View.extend({initialize:function(){var Oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=Oe,this.collection=Oe.collection;var Ce=Oe.config||{};this.config=Ce,this.pfx=Ce.stylePrefix||"",this.ppfx=Ce.pStylePrefix||"",this.em=Ce.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove),this.model.view=this;var Fe=this.init&&this.init.bind(this);Fe&&Fe(Oe)},__getBhv:function(){var Oe=this.em,Ce=Oe&&Oe.get("AssetManager");return Ce&&Ce.__getBehaviour()||{}},template:function(){var Oe=this.pfx;return'\n      <div class="'.concat(Oe,'preview-cont">\n        ').concat(this.getPreview(),'\n      </div>\n      <div class="').concat(Oe,'meta">\n        ').concat(this.getInfo(),'\n      </div>\n      <div class="').concat(Oe,'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ')},updateTarget:function(Oe){Oe&&Oe.set&&(Oe.set("attributes",Object(de.clone)(Oe.get("attributes"))),Oe.set("src",this.model.get("src")))},getPreview:function(){return""},getInfo:function(){return""},render:function(){var Oe=this.el;return Oe.innerHTML=this.template(this,this.model),Oe.className=this.className,this}}),K=h(17),te=B.extend({events:{"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"},getPreview:function(){var Oe=this.pfx,Ce=this.ppfx,Fe=this.model.get("src");return Object(K.a)(W||(W=C()(['\n      <div class="','preview" style="background-image: url(\'','\');"></div>\n      <div class="',"preview-bg ",'checker-bg"></div>\n    '])),Oe,Fe,Oe,Ce)},getInfo:function(){var Oe=this.pfx,Ce=this.model,Fe=Ce.get("name"),Ue=Ce.get("width"),it=Ce.get("height"),xt=Ce.get("unitDim"),pt=Ue&&it?"".concat(Ue,"x").concat(it).concat(xt):"";return Fe=Fe||Ce.getFilename(),Object(K.a)(k||(k=C()(['\n      <div class="','name">','</div>\n      <div class="','dimensions">',"</div>\n    "])),Oe,Fe,Oe,pt)},init:function(Oe){this.className+=" ".concat(this.pfx,"asset-image")},onClick:function(){var Oe=this.model,Ce=this.pfx,Fe=this.__getBhv().select,Ue=this.config.onClick,it=this.collection;it.trigger("deselectAll"),this.$el.addClass(Ce+"highlight"),Object(de.isFunction)(Fe)?Fe(Oe,!1):Object(de.isFunction)(Ue)?Ue(Oe):this.updateTarget(it.target)},onDblClick:function(){var Oe=this.em,Ce=this.model,Fe=this.__getBhv().select,Ue=this.config.onDblClick,it=this.collection,xt=it.target,pt=it.onSelect;Object(de.isFunction)(Fe)?Fe(Ce,!0):Object(de.isFunction)(Ue)?Ue(Ce):(this.updateTarget(xt),Oe&&Oe.get("Modal").close()),Object(de.isFunction)(pt)&&pt(Ce)},onRemove:function(Oe){Oe.stopImmediatePropagation(),this.model.collection.remove(this.model)}}),$e=h(38),ue=U.a.Collection.extend($e.a).extend({types:[{id:"image",model:p,view:te,isType:function(Oe){return"string"==typeof Oe?{type:"image",src:Oe}:Oe}}]}),ye=h(22),Re=h.n(ye),Pe=["pfx","ppfx","em"],Me=U.a.View.extend({events:{submit:"handleSubmit"},template:function(Oe){var Ce=Oe.pfx,Fe=Oe.ppfx,Ue=Oe.em,it=(Re()(Oe,Pe),"");return this.config.showUrlInput&&(it='\n          <form class="'.concat(Ce,'add-asset">\n            <div class="').concat(Fe,"field ").concat(Ce,'add-field">\n              <input placeholder="').concat(Ue&&Ue.t("assetManager.inputPlh"),'"/>\n            </div>\n            <button class="').concat(Fe,'btn-prim">').concat(Ue&&Ue.t("assetManager.addButton"),'</button>\n            <div style="clear:both"></div>\n          </form>\n      ')),'\n    <div class="'.concat(Ce,'assets-cont">\n      <div class="').concat(Ce,'assets-header">\n        ').concat(it,'\n      </div>\n      <div class="').concat(Ce,'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ')},initialize:function(Oe){this.options=Oe,this.config=Oe.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var Ce=this.collection;this.listenTo(Ce,"reset",this.renderAssets),this.listenTo(Ce,"add",this.addToAsset),this.listenTo(Ce,"remove",this.removedAsset),this.listenTo(Ce,"deselectAll",this.deselectAll)},handleSubmit:function(Oe){Oe.preventDefault();var Ce=this.getAddInput(),Fe=Ce&&Ce.value.trim(),Ue=this.config.handleAdd;Fe&&(Ce.value="",this.getAssetsEl().scrollTop=0,Ue?Ue.bind(this)(Fe):this.options.globalCollection.add(Fe,{at:0}))},getAssetsEl:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},getAddInput:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},removedAsset:function(Oe){this.collection.length||this.toggleNoAssets()},addToAsset:function(Oe){1==this.collection.length&&this.toggleNoAssets(1),this.addAsset(Oe)},addAsset:function(Oe){var Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,xt=new Oe.typeView({model:Oe,collection:this.collection,config:this.config}).render().el;if(Fe)Fe.appendChild(xt);else{var pt=this.getAssetsEl();pt&&pt.insertBefore(xt,pt.firstChild)}return xt},toggleNoAssets:function(Oe){var Ce=this.$el.find(".".concat(this.pfx,"assets"));if(Oe)Ce.empty();else{var Fe=this.config.noAssets;Fe&&Ce.append(Fe)}},deselectAll:function(){var Oe=this.pfx;this.$el.find(".".concat(Oe,"highlight")).removeClass("".concat(Oe,"highlight"))},renderAssets:function(){var Oe=this,Ce=document.createDocumentFragment(),Fe=this.$el.find(".".concat(this.pfx,"assets"));Fe.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(Ue){return Oe.addAsset(Ue,Ce)}),Fe.append(Ce)},render:function(){var Oe=this.options.fu.render().el;return this.$el.empty(),this.$el.append(Oe).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this}}),Le=h(37);function ie(Oe,Ce){(null==Ce||Ce>Oe.length)&&(Ce=Oe.length);for(var Fe=0,Ue=new Array(Ce);Fe<Ce;Fe++)Ue[Fe]=Oe[Fe];return Ue}var ne=U.a.View.extend({template:function(Oe){var Ce=Oe.pfx,Fe=Oe.title,Ue=Oe.uploadId,it=Oe.disabled,xt=Oe.multiUpload;return Object(K.a)(I||(I=C()(['\n        <form>\n          <div id="','title">','</div>\n          <input\n            type="file"\n            id="','"\n            name="file"\n            accept="*/*"\n            ',"\n            ",'\n          />\n          <div style="clear:both;"></div>\n        </form>\n      '])),Ce,Fe,Ue,it?"disabled":"",xt?"multiple":"")},events:{},initialize:function(){var Oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=Oe;var Ce=Oe.config||{};this.module=Ce.module,this.config=Ce,this.em=this.config.em,this.pfx=Ce.stylePrefix||"",this.ppfx=Ce.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=void 0!==Ce.disableUpload?Ce.disableUpload:!Ce.upload&&!Ce.embedAsBase64,this.multiUpload=void 0===Ce.multiUpload||Ce.multiUpload,this.events["change #"+this.uploadId]="uploadFile";var Fe=Ce.uploadFile;Fe?this.uploadFile=Fe.bind(this):!Ce.upload&&Ce.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()},onUploadStart:function(){var Oe=this.module;Oe&&Oe.__propEv("asset:upload:start")},onUploadEnd:function(Oe){var Ce=this.$el,Fe=this.module;Fe&&Fe.__propEv("asset:upload:end",Oe);var Ue=Ce.find("input");Ue&&Ue.val("")},onUploadError:function(Oe){var Ce=this.module;console.error(Oe),this.onUploadEnd(Oe),Ce&&Ce.__propEv("asset:upload:error",Oe)},onUploadResponse:function(Oe,Ce){var Fe,Ue=this.module,it=this.config,xt=this.target;try{Fe="string"==typeof Oe?JSON.parse(Oe):Oe}catch(pt){Fe=Oe}Ue&&Ue.__propEv("asset:upload:response",Fe),it.autoAdd&&xt&&xt.add(Fe.data,{at:0}),this.onUploadEnd(Oe),Ce&&Ce(Fe)},uploadFile:function(Oe,Ce){var Fe=this,Ue=Oe.dataTransfer?Oe.dataTransfer.files:Oe.target.files,it=this.config,xt=it.beforeUpload;if(!1!==(xt&&xt(Ue))){var pt=new FormData,kt=it.params,Nt=it.customFetch;for(var ae in kt)pt.append(ae,kt[ae]);if(this.multiUpload)for(var be=0;be<Ue.length;be++)pt.append("".concat(it.uploadName,"[]"),Ue[be]);else Ue.length&&pt.append(it.uploadName,Ue[0]);var Ve=it.upload,ot=it.headers,et="X-Requested-With";if(void 0===ot[et]&&(ot[et]="XMLHttpRequest"),Ve){this.onUploadStart();var Z={method:"post",credentials:it.credentials||"include",headers:ot,body:pt};return(Nt?Nt(Ve,Z):Object(Le.a)(Ve,Z).then(function(ke){return 1==(ke.status/200|0)?ke.text():ke.text().then(function(Be){return Promise.reject(Be)})})).then(function(ke){return Fe.onUploadResponse(ke,Ce)}).catch(function(ke){return Fe.onUploadError(ke)})}}},initDrop:function(){var Oe=this;!this.uploadForm&&(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm)&&(this.uploadForm.ondragover=function(){return this.className=Oe.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(Ce){this.className="",Ce.preventDefault(),Oe.uploadFile(Ce)})},initDropzone:function(Oe){var Ce=this,Fe=0,Ue=this.config,it=Oe.model,xt=Oe.el,pt=it.get("Editor"),kt=(it.get("Config"),it.get("Canvas").getBody()),Nt=this.ppfx,ae="".concat(Nt,"dropzone-active"),be="".concat(Nt,"dropzone"),Ve=function(){xt.className=xt.className.replace(ae,"").trim(),Fe=0},ot=function(){return Fe||(xt.className+=" ".concat(ae),Fe=1),!1},et=function(){return Ve(),!1},Z=function(ke){if(Ve(),ke.preventDefault(),ke.stopPropagation(),Ce.uploadFile(ke),Ue.openAssetsOnDrop&&pt){var Be=pt.getSelected();pt.runCommand("open-assets",{target:Be,onSelect:function(){pt.Modal.close(),pt.AssetManager.setTarget(null)}})}return!1};Oe.$el.append('<div class="'.concat(be,'">').concat(Ue.dropzoneContent,"</div>")),Ve(),"draggable"in xt&&[xt,kt].forEach(function(ke){ke.ondragover=ot,ke.ondragleave=et,ke.ondrop=Z})},render:function(){var Oe=this.$el,Ce=this.pfx,Fe=this.em;return Oe.html(this.template({title:Fe&&Fe.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:Ce})),this.initDrop(),Oe.attr("class",Ce+"file-uploader"),this}},{embedAsBase64:function(Oe,Ce){var Fe=this,it={data:[]};if(FileReader){var xt,pt=[],kt=/^(.+)\/(.+)$/,Nt=function(Oe,Ce){var Fe="undefined"!=typeof Symbol&&Oe[Symbol.iterator]||Oe["@@iterator"];if(!Fe){if(Array.isArray(Oe)||(Fe=function(Nt,ae){if(Nt){if("string"==typeof Nt)return ie(Nt,void 0);var be=Object.prototype.toString.call(Nt).slice(8,-1);if("Object"===be&&Nt.constructor&&(be=Nt.constructor.name),"Map"===be||"Set"===be)return Array.from(Nt);if("Arguments"===be||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return ie(Nt,void 0)}}(Oe))||Ce&&Oe&&"number"==typeof Oe.length){Fe&&(Oe=Fe);var Ue=0,it=function(){};return{s:it,n:function(){return Ue>=Oe.length?{done:!0}:{done:!1,value:Oe[Ue++]}},e:function(Nt){throw Nt},f:it}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var xt,pt=!0,kt=!1;return{s:function(){Fe=Fe.call(Oe)},n:function(){var Nt=Fe.next();return pt=Nt.done,Nt},e:function(Nt){kt=!0,xt=Nt},f:function(){try{pt||null==Fe.return||Fe.return()}finally{if(kt)throw xt}}}}(Oe.dataTransfer?Oe.dataTransfer.files:Oe.target.files);try{var ae=function(){var be=xt.value,Ve=new Promise(function(ot,et){var Z=new FileReader;Z.addEventListener("load",function(ke){var Be,Je=be.name,st=kt.exec(be.type);if("image"===(Be=st?st[1]:be.type)){var mt={src:Z.result,name:Je,type:Be,height:0,width:0},De=new Image;De.addEventListener("error",function(dt){et(dt)}),De.addEventListener("load",function(){mt.height=De.height,mt.width=De.width,ot(mt)}),De.src=mt.src}else ot(Be?{src:Z.result,name:Je,type:Be}:Z.result)}),Z.addEventListener("error",function(ke){et(ke)}),Z.addEventListener("abort",function(ke){et("Aborted")}),Z.readAsDataURL(be)});pt.push(Ve)};for(Nt.s();!(xt=Nt.n()).done;)ae()}catch(be){Nt.e(be)}finally{Nt.f()}Promise.all(pt).then(function(be){it.data=be,Fe.onUploadResponse(it,Ce)},function(be){Fe.onUploadError(be)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))}});function ge(Oe,Ce){var Fe=Object.keys(Oe);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Oe);Ce&&(Ue=Ue.filter(function(it){return Object.getOwnPropertyDescriptor(Oe,it).enumerable})),Fe.push.apply(Fe,Ue)}return Fe}function me(Oe){for(var Ce=1;Ce<arguments.length;Ce++){var Fe=null!=arguments[Ce]?arguments[Ce]:{};Ce%2?ge(Object(Fe),!0).forEach(function(Ue){he()(Oe,Ue,Fe[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors(Fe)):ge(Object(Fe)).forEach(function(Ue){Object.defineProperty(Oe,Ue,Object.getOwnPropertyDescriptor(Fe,Ue))})}return Oe}var _="asset",b="".concat(_,":"),G="".concat(b,"select"),c="".concat(b,"update"),O="".concat(b,"add"),m="".concat(b,"remove"),V="".concat(m,":before"),X="".concat(b,"custom"),Ee="".concat(b,"open"),He="".concat(b,"close");ve.default=function(){var Oe,Ce,Fe,Ue,it={},xt="open-assets";return me(me({},se.a),{},{name:"AssetManager",storageKey:"assets",Asset:ue,Assets:ue,events:{all:_,select:G,update:c,add:O,remove:m,removeBefore:V,custom:X,open:Ee,close:He},init:function(){var pt=this,kt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Nt=(it=me(me({},re),kt)).pStylePrefix,be=it.em;return this.config=it,this.em=be,Nt&&(it.stylePrefix=Nt+it.stylePrefix),Oe=new ue([]),Ce=new ue([]),this.all=Oe,this.__initListen(),Oe.on("add",function(Ve){return pt.getAllVisible().add(Ve)}),Oe.on("remove",function(Ve){return pt.getAllVisible().remove(Ve)}),this},__propEv:function(pt){for(var kt,Nt,ae=arguments.length,be=new Array(ae>1?ae-1:0),Ve=1;Ve<ae;Ve++)be[Ve-1]=arguments[Ve];(kt=this.em).trigger.apply(kt,[pt].concat(be)),(Nt=this.getAll()).trigger.apply(Nt,[pt].concat(be))},__onAllEvent:Object(de.debounce)(function(){this.__trgCustom()}),__trgCustom:function(){(this.__getBehaviour().container||this.getConfig("custom").open)&&this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var pt=this,kt=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:kt.types||[],container:kt.container,close:function(){return pt.close()},remove:function(){return pt.remove.apply(pt,arguments)},select:function(Nt,ae){var be=pt.add(Nt);Object(de.isFunction)(kt.select)&&kt.select(be,ae)},options:kt.options||{}}},open:function(){var pt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.em.get("Commands").run(xt,me({types:["image"],select:function(){}},pt))},close:function(){this.em.get("Commands").stop(xt)},isOpen:function(){var pt=this.em.get("Commands");return!(!pt||!pt.isActive(xt))},add:function(pt){var kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===kt.at&&(kt.at=0),Oe.add(pt,kt)},get:function(pt){return Oe.where({src:pt})[0]||null},getAll:function(){return Oe},getAllVisible:function(){return Ce},remove:function(pt,kt){return this.__remove(pt,kt)},store:function(pt){var kt={},Nt=JSON.stringify(this.getAll().toJSON());return kt[this.storageKey]=Nt,!pt&&it.stm&&it.stm.store(kt),kt},load:function(){var pt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},kt=this.storageKey,Nt=pt[kt]||[];if("string"==typeof Nt)try{Nt=JSON.parse(pt[kt])}catch(ae){}return Nt&&Nt.length&&this.getAll().reset(Nt),Nt},getContainer:function(){return this.__getBehaviour().container||Fe&&Fe.el},getAssetsEl:function(){return Fe.el.querySelector("[data-el=assets]")},render:function(pt){if(!this.getConfig("custom")){var kt=pt||this.getAll().models;if(!Fe){var Nt={collection:Ce,globalCollection:Oe,config:it,module:this};Ue=new ne(Nt),Nt.fu=Ue,(Fe=new Me(me({el:Fe&&Fe.el},Nt))).render()}return Ce.reset(kt),this.getContainer()}},addType:function(pt,kt){this.getAll().addType(pt,kt)},getType:function(pt){return this.getAll().getType(pt)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return Fe},FileUploader:function(){return Ue},onLoad:function(){var pt=this;this.getAll().reset(it.assets);var kt=this.em,Nt=this.events;kt.on("run:".concat(xt),function(){return pt.__propEv(Nt.open)}),kt.on("stop:".concat(xt),function(){return pt.__propEv(Nt.close)})},postRender:function(pt){it.dropzone&&Ue&&Ue.initDropzone(pt)},setTarget:function(pt){Ce.target=pt},onSelect:function(pt){Ce.onSelect=pt},onClick:function(pt){it.onClick=pt},onDblClick:function(pt){it.onDblClick=pt},__behaviour:function(){var pt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._bhv=me(me({},this._bhv||{}),pt)},__getBehaviour:function(){return this._bhv||{}},destroy:function(){Oe.stopListening(),Ce.stopListening(),Oe.reset(),Ce.reset(),Ue&&Ue.remove(),Fe&&Fe.remove(),[Oe,Fe,Ue].forEach(function(pt){return null}),this._bhv={},it={}}})}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(0),se={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]},re=h(29),Q=h(41),U=h.n(Q),T=h(2),v=h.n(T),S=h(1);function E(p,y){var C=Object.keys(p);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(p);y&&(B=B.filter(function(K){return Object.getOwnPropertyDescriptor(p,K).enumerable})),C.push.apply(C,B)}return C}function D(p){for(var y=1;y<arguments.length;y++){var C=null!=arguments[y]?arguments[y]:{};y%2?E(Object(C),!0).forEach(function(B){he()(p,B,C[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(C)):E(Object(C)).forEach(function(B){Object.defineProperty(p,B,Object.getOwnPropertyDescriptor(C,B))})}return p}var x=v.a.$,P=v.a.View.extend({events:{},eventCapture:["change"],appendInput:1,attributes:function(){return this.model.get("attributes")},templateLabel:function(){var p=this.ppfx,y=this.getLabel();return'<div class="'.concat(p,'label" title="').concat(y,'">').concat(y,"</div>")},templateInput:function(){return'<div class="'.concat(this.clsField,'" data-input></div>')},initialize:function(){var p=this,C=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,B=void 0===C?{}:C,K=this.model,te=this.eventCapture,$e=K.target,ue=K.attributes.type;this.config=B,this.em=B.em,this.pfx=B.stylePrefix||"",this.ppfx=B.pStylePrefix||"",this.target=$e;var ye=this.ppfx;this.clsField="".concat(ye,"field ").concat(ye,"field-").concat(ue),[["change:value",this.onValueChange],["remove",this.removeView]].forEach(function(Re){var Pe=U()(Re,2),Me=Pe[0],Le=Pe[1];K.off(Me,Le),p.listenTo(K,Me,Le)}),K.view=this,this.listenTo(K,"change:label",this.render),this.listenTo(K,"change:placeholder",this.rerender),this.events={},te.forEach(function(Re){return p.events[Re]="onChange"}),this.delegateEvents(),this.init()},getClbOpts:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},removeView:function(){this.remove(),this.removed()},init:function(){},removed:function(){},onRender:function(){},onUpdate:function(){},onEvent:function(){},onChange:function(p){var y=this.getInputElem();y&&!Object(de.isUndefined)(y.value)&&this.model.set("value",y.value),this.onEvent(D(D({},this.getClbOpts()),{},{event:p}))},getValueForTarget:function(){return this.model.get("value")},setInputValue:function(p){var y=this.getInputElem();y&&(y.value=p)},onValueChange:function(p,y){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(C.fromTarget)this.setInputValue(p.get("value")),this.postUpdate();else{var B=this.getValueForTarget();p.setTargetValue(B,C)}},renderLabel:function(){var p=this.$el,y=this.target,C=this.getLabel(),B=this.templateLabel(y);this.createLabel&&(B=this.createLabel({label:C,component:y,trait:this})||""),p.find("[data-label]").append(B)},getLabel:function(){var y=this.model.attributes,C=y.label,B=y.name;return this.em.t("traitManager.traits.labels.".concat(B))||Object(S.capitalize)(C||B).replace(/-/g," ")},getComponent:function(){return this.target},getInputEl:function(){if(!this.$input){var p=this.em,y=this.model,C=y,B=y.attributes.name,K=C.get("placeholder")||C.get("default")||"",te=C.get("type")||"text",$e=C.get("min"),ue=C.get("max"),ye=this.getModelValue(),Re=x('<input type="'.concat(te,'" placeholder="').concat(K,'">')),Pe=p.t("traitManager.traits.attributes.".concat(B))||{};Re.attr(Pe),Object(de.isUndefined)(ye)||(C.set({value:ye},{silent:!0}),Re.prop("value",ye)),$e&&Re.prop("min",$e),ue&&Re.prop("max",ue),this.$input=Re}return this.$input.get(0)},getInputElem:function(){var y=this.$input;return this.input||y&&y.get&&y.get(0)||this.getElInput()},getModelValue:function(){var p,y=this.model,C=this.target,B=y.get("name");if(y.get("changeProp"))p=C.get(B);else{var K=C.get("attributes");p=y.get("value")||K[B]}return Object(de.isUndefined)(p)?"":p},getElInput:function(){return this.elInput},renderField:function(){var y=this.appendInput,C=this.model,B=this.$el.find("[data-input]"),K=B[B.length-1],te=C.el;te||(te=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),Object(de.isString)(te)?(K.innerHTML=te,this.elInput=K.firstChild):(y?K.appendChild(te):K.insertBefore(te,K.firstChild),this.elInput=te),C.el=this.elInput},hasLabel:function(){return!this.noLabel&&!1!==this.model.attributes.label},rerender:function(){this.model.el=null,this.render()},postUpdate:function(){this.onUpdate(this.getClbOpts())},render:function(){var p=this.$el,y=this.pfx,C=this.ppfx,B=this.model.attributes,K=B.type,te=B.id,$e=this.hasLabel&&this.hasLabel(),ue="".concat(y,"trait");this.$input=null;var ye='<div class="'.concat(ue," ").concat(ue,"--").concat(K,'">\n      ').concat($e?'<div class="'.concat(C,'label-wrp" data-label></div>'):"",'\n      <div class="').concat(C,"field-wrp ").concat(C,"field-wrp--").concat(K,'" data-input>\n        ').concat(this.templateInput?Object(de.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"","\n      </div>\n    </div>");return p.empty().append(ye),$e&&this.renderLabel(),this.renderField(),this.el.className="".concat(ue,"__wrp ").concat(ue,"__wrp-").concat(te),this.postUpdate(),this.onRender(this.getClbOpts()),this}}),L=re.a.extend({ns:"Traits",itemView:P,reuseView:1,initialize:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=p.config||{},C=y.stylePrefix||"",B=p.editor;this.config=y,this.em=B,this.pfx=C,this.ppfx=y.pStylePrefix||"",this.className="".concat(C,"traits"),this.listenTo(B,"component:toggled",this.updatedCollection)},updatedCollection:function(){var p=this.ppfx,y=this.className,C=this.em.getSelected();this.el.className="".concat(y," ").concat(p,"one-bg ").concat(p,"two-color"),this.collection=C?C.get("traits"):[],this.render()}}),N=v.a.$,R=P.extend({init:function(){this.listenTo(this.model,"change:options",this.rerender)},templateInput:function(){var p=this.ppfx;return'<div class="'.concat(this.clsField,'">\n      <div data-input></div>\n      <div class="').concat(p,'sel-arrow">\n        <div class="').concat(p,'d-s-arrow"></div>\n      </div>\n    </div>')},getInputEl:function(){if(!this.$input){var p=this.model,y=this.em,C=p.get("name"),B=p.get("options")||[],K=[],te="<select>";B.forEach(function(ye){var Re,Pe,Me,Le="";Object(de.isString)(ye)?(Re=ye,Pe=ye):(Re=ye.name||ye.label||ye.value,Pe="".concat(Object(de.isUndefined)(ye.value)?ye.id:ye.value).replace(/"/g,"&quot;"),Le+=(Me=ye.style?ye.style.replace(/"/g,"&quot;"):"")?' style="'.concat(Me,'"'):"");var _e=y.t("traitManager.traits.options.".concat(C,".").concat(Pe))||Re;te+='<option value="'.concat(Pe,'"').concat(Le,">").concat(_e,"</option>"),K.push(Pe)}),this.$input=N(te+="</select>");var $e=p.getTargetValue(),ue=K.indexOf($e)>=0?$e:p.get("default");!Object(de.isUndefined)(ue)&&this.$input.val(ue)}return this.$input.get(0)}}),M=P.extend({appendInput:0,templateInput:function(){var p=this.ppfx;return'<label class="'.concat(this.clsField,'" data-input>\n    <i class="').concat(p,'chk-icon"></i>\n  </label>')},onChange:function(){var p=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(p))},getCheckedValue:function(p){var y=p,C=this.model.attributes,B=C.valueTrue,K=C.valueFalse;return y&&!Object(de.isUndefined)(B)&&(y=B),y||Object(de.isUndefined)(K)||(y=K),y},getInputEl:function(){for(var p=!this.$input,y=arguments.length,C=new Array(y),B=0;B<y;B++)C[B]=arguments[B];var K=P.prototype.getInputEl.apply(this,C);if(p){var te,$e,ue=this.model,ye=this.target,Re=ue.attributes,Pe=Re.valueFalse,Me=ue.get("name");ue.get("changeProp")?$e=te=ye.get(Me):te=!(!($e=ye.get("attributes")[Me])&&""!==$e),Object(de.isUndefined)(Pe)||$e!==Pe||(te=!1),K.checked=te}return K}}),A=h(40),z=P.extend({getValueForTarget:function(){var p=this.model,y=p.attributes,C=y.value,B=y.unit;return Object(de.isUndefined)(C)||""===C?p.get("default"):C+B},getInputEl:function(){if(!this.input){var p=this.ppfx,y=this.model,C=this.getModelValue(),B=new A.a({contClass:"".concat(p,"field-int"),type:"number",model:y,ppfx:p});this.input=B.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,y.set("value",C,{fromTarget:1}),this.$input.val(C),this.input=B.el}return this.input}}),H=h(45),F=P.extend({templateInput:"",getInputEl:function(){if(!this.input){var p=this.model,y=this.getModelValue(),C=new H.a({model:p,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();C.setValue(y,{fromTarget:1}),this.input=C.el}return this.input}}),W=P.extend({eventCapture:["click button"],templateInput:"",onChange:function(){this.handleClick()},handleClick:function(){var p=this.model,y=this.em,C=p.get("command");C&&(Object(de.isString)(C)?y.get("Commands").run(C):C(y.get("Editor"),p))},renderLabel:function(){this.model.get("label")&&P.prototype.renderLabel.apply(this,arguments)},getInputEl:function(){var y=this.ppfx,C=this.model.props(),te=C.full,$e=C.labelButton||C.text,ue="".concat(y,"btn");return'<button type="button" class="'.concat(ue,"-prim").concat(te?" ".concat(ue,"--full"):"",'">').concat($e,"</button>")}});function k(p,y){var C=Object.keys(p);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(p);y&&(B=B.filter(function(K){return Object.getOwnPropertyDescriptor(p,K).enumerable})),C.push.apply(C,B)}return C}function I(p){for(var y=1;y<arguments.length;y++){var C=null!=arguments[y]?arguments[y]:{};y%2?k(Object(C),!0).forEach(function(B){he()(p,B,C[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(C)):k(Object(C)).forEach(function(B){Object.defineProperty(p,B,Object.getOwnPropertyDescriptor(C,B))})}return p}ve.default=function(){var p,y={},C={text:P,number:z,select:R,checkbox:M,color:F,button:W};return{TraitsView:L,name:"TraitManager",getConfig:function(){return y},init:function(){y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Object(de.defaults)(y,se);var K=y.pStylePrefix;return this.types=I({},C),K&&(y.stylePrefix="".concat(K).concat(y.stylePrefix)),this},postRender:function(){var B=this.getConfig().appendTo;B&&(Object(de.isElement)(B)?B:document.querySelector(B)).appendChild(this.render())},getTraitsViewer:function(){return p},addType:function(B,K){var te=this.getType("text");this.types[B]=te.extend(K)},getType:function(B){return this.getTypes()[B]},getTypes:function(){return this.types},render:function(){return(p=new L({el:p&&p.el,collection:[],editor:y.em,config:y})).itemsView=this.getTypes(),p.updatedCollection(),p.el},destroy:function(){p&&p.remove(),[y,p].forEach(function(B){return{}})}}}},function(nt,ve,h){"use strict";h.r(ve),h.d(ve,"evAll",function(){return _e}),h.d(ve,"evPfx",function(){return ie}),h.d(ve,"evAdd",function(){return ne}),h.d(ve,"evUpdate",function(){return ge}),h.d(ve,"evRemove",function(){return me}),h.d(ve,"evRemoveBefore",function(){return _}),h.d(ve,"evDrag",function(){return b}),h.d(ve,"evDragStart",function(){return G}),h.d(ve,"evDragStop",function(){return c}),h.d(ve,"evCustom",function(){return O});var ce=h(3),he=h.n(ce),de=h(0),se=h(21),re={appendTo:"",appendOnClick:!1,blocks:[],custom:!1},Q=h(5),U=h.n(Q),T=h(6),v=h.n(T),S=h(8),E=h.n(S),D=h(9),x=h.n(D),P=h(4),L=h.n(P),N=h(2),R=h.n(N);var A=function(m){E()(X,m);var V=function(m){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(X){return!1}}();return function(){var X,Ee=L()(m);if(V){var He=L()(this).constructor;X=Reflect.construct(Ee,arguments,He)}else X=Ee.apply(this,arguments);return x()(this,X)}}(X);function X(){return U()(this,X),V.apply(this,arguments)}return v()(X,[{key:"defaults",value:function(){return{label:"",content:"",media:"",category:"",activate:!1,select:null,resetId:!1,disable:!1,onClick:null,attributes:{}}}},{key:"getId",value:function(){return this.id}},{key:"getLabel",value:function(){return this.get("label")}},{key:"getMedia",value:function(){return this.get("media")}},{key:"getContent",value:function(){return this.get("content")}},{key:"getCategoryLabel",value:function(){var Ee=this.get("category");return Object(de.isFunction)(Ee.get)?Ee.get("label"):Ee.label?Ee.label:Ee}}]),X}(N.Model);var H=function(m){E()(X,m);var V=function(m){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(X){return!1}}();return function(){var X,Ee=L()(m);if(V){var He=L()(this).constructor;X=Reflect.construct(Ee,arguments,He)}else X=Ee.apply(this,arguments);return x()(this,X)}}(X);function X(){return U()(this,X),V.apply(this,arguments)}return X}(N.Collection);H.prototype.model=A;var W=function(m){E()(X,m);var V=function(m){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(X){return!1}}();return function(){var X,Ee=L()(m);if(V){var He=L()(this).constructor;X=Reflect.construct(Ee,arguments,He)}else X=Ee.apply(this,arguments);return x()(this,X)}}(X);function X(){return U()(this,X),V.apply(this,arguments)}return v()(X,[{key:"defaults",value:function(){return{id:"",label:"",open:!0,attributes:{}}}}]),X}(N.Model);var I=function(m){E()(X,m);var V=function(m){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(X){return!1}}();return function(){var X,Ee=L()(m);if(V){var He=L()(this).constructor;X=Reflect.construct(Ee,arguments,He)}else X=Ee.apply(this,arguments);return x()(this,X)}}(X);function X(){return U()(this,X),V.apply(this,arguments)}return X}(N.Collection);I.prototype.model=W;var p,y=h(1),C=R.a.View.extend({events:{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"},initialize:function(m){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},X=this.model;this.em=V.em,this.config=V,this.endDrag=this.endDrag.bind(this),this.ppfx=V.pStylePrefix||"",this.listenTo(X,"destroy remove",this.remove),this.listenTo(X,"change",this.render)},__getModule:function(){return this.em.get("BlockManager")},handleClick:function(m){var V=this.config,X=this.model,Ee=this.em,He=X.get("onClick")||V.appendOnClick;if(Ee.trigger("block:click",X,m),He){if(Object(de.isFunction)(He))return He(X,Ee.getEditor(),{event:m});var Oe,Ce=V.getSorter(),Fe=X.get("content"),Ue=Ee.getSelected();if(Ce.setDropContent(Fe),Ue)if(Ce.validTarget(Ue.getEl(),Fe).valid)Oe=Ue;else{var it=Ue.parent();Ce.validTarget(it.getEl(),Fe).valid&&(Oe=it)}if(!Oe){var xt=Ee.getWrapper();Ce.validTarget(xt.getEl(),Fe).valid&&(Oe=xt)}var pt=Oe&&Oe.append(Fe)[0];pt&&Ee.setSelected(pt,{scroll:1})}},startDrag:function(m){var V=this.config,X=this.em,Ee=this.model.get("disable");if(0===m.button&&V.getSorter&&!this.el.draggable&&!Ee){X.refreshCanvas();var He=V.getSorter();He.setDragHelper(this.el,m),He.setDropContent(this.model.get("content")),He.startSort(this.el),Object(y.on)(document,"mouseup",this.endDrag)}},handleDragStart:function(m){this.__getModule().__startDrag(this.model,m)},handleDrag:function(m){this.__getModule().__drag(m)},handleDragEnd:function(){this.__getModule().__endDrag()},endDrag:function(m){Object(y.off)(document,"mouseup",this.endDrag);var V=this.config.getSorter();V.moved=0,V.endMove()},render:function(){var m=this.em,V=this.el,X=this.$el,Ee=this.ppfx,He=this.model,Oe=He.get("disable"),Ce=He.get("attributes")||{},Fe=Ce.class||"",Ue="".concat(Ee,"block"),it=m&&m.t("blockManager.labels.".concat(He.id))||He.get("label"),xt=He.get("render"),pt=He.get("media"),kt=Oe?"".concat(Ue,"--disable"):"".concat(Ee,"four-color-h");X.attr(Ce),V.className="".concat(Fe," ").concat(Ue," ").concat(Ee,"one-bg ").concat(kt).trim(),V.innerHTML="\n      ".concat(pt?'<div class="'.concat(Ue,'__media">').concat(pt,"</div>"):"",'\n      <div class="').concat(Ue,'-label">').concat(it,"</div>\n    "),V.title=V.textContent.trim(),V.setAttribute("draggable",!(!Object(y.hasDnd)(m)||Oe));var Nt=xt&&xt({el:V,model:He,className:Ue,prefix:Ee});return Nt&&(V.innerHTML=Nt),this}}),B=h(19),K=h.n(B),te=h(17);var ue=function(m){E()(X,m);var V=function(m){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(X){return!1}}();return function(){var X,Ee=L()(m);if(V){var He=L()(this).constructor;X=Reflect.construct(Ee,arguments,He)}else X=Ee.apply(this,arguments);return x()(this,X)}}(X);function X(){return U()(this,X),V.apply(this,arguments)}return v()(X,[{key:"template",value:function(Ee){var He=Ee.pfx,Oe=Ee.label;return Object(te.a)(p||(p=K()(['\n      <div class="','title">\n        <i class="','caret-icon"></i>\n        ','\n      </div>\n      <div class="','blocks-c"></div>\n    '])),He,He,Oe,He)}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var Ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=Ee;var He=Ee.pStylePrefix||"";this.em=Ee.em,this.pfx=He,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(He,"caret-icon"),this.activeClass="".concat(He,"open"),this.className="".concat(He,"block-category"),this.events={},this.events["click .".concat(He,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents(),this.model.view=this}},{key:"updateVisibility",value:function(){this.model.get("open")?this.open():this.close()}},{key:"open",value:function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""}},{key:"close",value:function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"}},{key:"toggle",value:function(){var Ee=this.model;Ee.set("open",!Ee.get("open"))}},{key:"getIconEl",value:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl}},{key:"append",value:function(Ee){this.getBlocksEl().appendChild(Ee)}},{key:"render",value:function(){var He=this.el,Oe=this.$el,Ce=this.model,Fe=this.pfx,Ue=this.em.t("blockManager.categories.".concat(Ce.id))||Ce.get("label");return He.innerHTML=this.template({pfx:Fe,label:Ue}),Oe.addClass(this.className),Oe.css({order:Ce.get("order")}),this.updateVisibility(),this}}]),X}(N.View);function ye(m,V){var X=Object.keys(m);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(m);V&&(Ee=Ee.filter(function(He){return Object.getOwnPropertyDescriptor(m,He).enumerable})),X.push.apply(X,Ee)}return X}function Re(m){for(var V=1;V<arguments.length;V++){var X=null!=arguments[V]?arguments[V]:{};V%2?ye(Object(X),!0).forEach(function(Ee){he()(m,Ee,X[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(X)):ye(Object(X)).forEach(function(Ee){Object.defineProperty(m,Ee,Object.getOwnPropertyDescriptor(X,Ee))})}return m}var Pe=R.a.View.extend({initialize:function(m,V){Object(de.bindAll)(this,"getSorter","onDrag","onDrop","onMove"),this.config=V||{},this.categories=m.categories||"",this.renderedCategories=[];var X=this.config.pStylePrefix||"";this.ppfx=X,this.noCatClass="".concat(X,"blocks-no-cat"),this.blockContClass="".concat(X,"blocks-c"),this.catsClass="".concat(X,"block-categories");var Ee=this.collection;this.listenTo(Ee,"add",this.addTo),this.listenTo(Ee,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))},updateConfig:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=Re(Re({},this.config),m)},getSorter:function(){if(this.em){if(!this.sorter){var m=this.em.get("Utils"),V=this.canvas;this.sorter=new m.Sorter({container:V.getBody(),placer:V.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:V.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})}return this.sorter}},onDrag:function(m){this.em.stopDefault(),this.em.trigger("block:drag:start",m)},onMove:function(m){this.em.trigger("block:drag:move",m)},onDrop:function(m){var V=this.em;if(V.runDefault(),m&&m.get){var X="activeOnRender";m.get(X)&&(m.trigger("active"),m.unset(X)),V.trigger("block:drag:stop",m)}},addTo:function(m){this.add(m)},add:function(m,V){var X=this.config,Ee=V||null,He=new C({model:m,attributes:m.get("attributes")},X).render().el,Oe=m.get("category");if(Oe&&this.categories&&!X.ignoreCategories){Object(de.isString)(Oe)?Oe={id:Oe,label:Oe}:Object(de.isObject)(Oe)&&!Oe.id&&(Oe.id=Oe.label);var Ce=this.categories.add(Oe),Fe=Ce.get("id"),Ue=this.renderedCategories[Fe],it=this.getCategoriesEl();return m.set("category",Ce,{silent:!0}),!Ue&&it&&(Ue=new ue({model:Ce},this.config).render(),this.renderedCategories[Fe]=Ue,it.appendChild(Ue.el)),void(Ue&&Ue.append(He))}Ee?Ee.appendChild(He):this.append(He)},getCategoriesEl:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},getBlocksEl:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},append:function(m){var V=this.getBlocksEl();V&&V.appendChild(m)},render:function(){var m=this,V=this.ppfx,X=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML='\n      <div class="'.concat(this.catsClass,'"></div>\n      <div class="').concat(this.noCatClass,'">\n        <div class="').concat(this.blockContClass,'"></div>\n      </div>\n    '),this.collection.each(function(He){return m.add(He,X)}),this.append(X);var Ee="".concat(this.blockContClass,"s ").concat(V,"one-bg ").concat(V,"two-color");return this.$el.addClass(Ee),this.rendered=!0,this}});function Me(m,V){var X=Object.keys(m);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(m);V&&(Ee=Ee.filter(function(He){return Object.getOwnPropertyDescriptor(m,He).enumerable})),X.push.apply(X,Ee)}return X}function Le(m){for(var V=1;V<arguments.length;V++){var X=null!=arguments[V]?arguments[V]:{};V%2?Me(Object(X),!0).forEach(function(Ee){he()(m,Ee,X[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(X)):Me(Object(X)).forEach(function(Ee){Object.defineProperty(m,Ee,Object.getOwnPropertyDescriptor(X,Ee))})}return m}var _e="block",ie="".concat(_e,":"),ne="".concat(ie,"add"),ge="".concat(ie,"update"),me="".concat(ie,"remove"),_="".concat(me,":before"),b="".concat(ie,"drag"),G="".concat(b,":start"),c="".concat(b,":stop"),O="".concat(ie,"custom");ve.default=function(){var m,V,X,Ee={},He=[];return Le(Le({},se.a),{},{name:"BlockManager",Block:A,Blocks:H,Category:W,Categories:I,events:{all:_e,update:ge,add:ne,remove:me,removeBefore:_,drag:b,dragStart:G,dragEnd:c,custom:O},init:function(){var Oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ce=Ee=Le(Le({},re),Oe);return this.em=Ce.em,m=new H(Ee.blocks),V=new H(m.models),He=new I,this.all=m,this.__initListen(),m.on("add",function(Ue){return V.add(Ue)}),m.on("remove",function(Ue){return V.remove(Ue)}),m.on("reset",function(Ue){return V.reset(Ue.models)}),this},__trgCustom:function(){this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var Oe=this,Ce=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:Ce.container,dragStart:function(Fe,Ue){return Oe.startDrag(Fe,Ue)},drag:function(Fe){return Oe.__drag(Fe)},dragStop:function(Fe){return Oe.endDrag(Fe)}}},__startDrag:function(Oe,Ce){var Fe=this.em,Ue=this.events,it=Oe.getContent?Oe.getContent():Oe;this._dragBlock=Oe,Fe.set({dragResult:null,dragContent:it}),[Fe,m].map(function(xt){return xt.trigger(Ue.dragStart,Oe,Ce)})},__drag:function(Oe){var Fe=this.events,Ue=this._dragBlock;[this.em,m].map(function(it){return it.trigger(Fe.drag,Ue,Oe)})},__endDrag:function(){var Oe=this.em,Ce=this.events,Fe=this._dragBlock,Ue=Oe.get("dragResult");if(this._dragBlock=null,Ue){var it="activeOnRender",xt=Ue.get&&Ue.get(it),pt=Fe.get("activate")||xt,kt=Fe.get("select"),Nt=Object(de.isArray)(Ue)?Ue[0]:Ue;(kt||pt&&!1!==kt)&&Oe.setSelected(Nt),pt&&(Nt.trigger("active"),xt&&Nt.unset(it)),Fe.get("resetId")&&Nt.onAll(function(ae){return ae.resetId()})}Oe.set({dragResult:null,dragContent:null}),[Oe,m].map(function(ae){return ae.trigger(Ce.dragEnd,Ue,Fe)})},__getFrameViews:function(){return this.em.get("Canvas").getFrames().map(function(Oe){return Oe.view})},__behaviour:function(){var Oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._bhv=Le(Le({},this._bhv||{}),Oe)},__getBehaviour:function(){return this._bhv||{}},startDrag:function(Oe,Ce){this.__startDrag(Oe,Ce),this.__getFrameViews().forEach(function(Fe){return Fe.droppable.startCustom()})},endDrag:function(Oe){this.__getFrameViews().forEach(function(Ce){return Ce.droppable.endCustom(Oe)}),this.__endDrag()},getConfig:function(){return Ee},postRender:function(){X=new Pe({collection:V,categories:He},Ee);var Oe=this.getConfig().appendTo;if(Oe){var Ce=Object(de.isElement)(Oe)?Oe:document.querySelector(Oe);if(!Ce)return this.__logWarn('"appendTo" element not found');Ce.appendChild(this.render(V.models))}this.__trgCustom()},add:function(Oe,Ce){var Fe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ue=Ce||{};return Ue.id=Oe,m.add(Ue,Fe)},get:function(Oe){return m.get(Oe)},getAll:function(){return m},getAllVisible:function(){return V},remove:function(Oe){return this.__remove(Oe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},getCategories:function(){return He},getContainer:function(){return X.el},render:function(Oe){var Ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Fe=Oe||this.getAll().models;if(Ce.external){var Ue=new H(Fe);return new Pe({collection:Ue,categories:He},Le(Le({},Ee),Ce)).render().el}return X&&(X.updateConfig(Ce),X.collection.reset(Fe),X.rendered||(X.render(),X.rendered=1)),this.getContainer()},destroy:function(){var Oe=[m,V,He];Oe.map(function(Ce){return Ce.stopListening()}),Oe.map(function(Ce){return Ce.reset()}),X&&X.remove(),Ee={}}})}},function(nt,ve,h){"use strict";h.r(ve);var ce="sw-visibility",he="export-template",de="open-sm",se="open-tm",re="open-layers",Q="open-blocks",U="fullscreen",T="preview",v={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:ce,className:"fa fa-square-o",command:ce,context:ce,attributes:{title:"View components"}},{id:T,className:"fa fa-eye",command:T,context:T,attributes:{title:"Preview"}},{id:U,className:"fa fa-arrows-alt",command:U,context:U,attributes:{title:"Fullscreen"}},{id:he,className:"fa fa-code",command:he,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:de,className:"fa fa-paint-brush",command:de,active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:se,className:"fa fa-cog",command:se,togglable:0,attributes:{title:"Settings"}},{id:re,className:"fa fa-bars",command:re,togglable:0,attributes:{title:"Open Layer Manager"}},{id:Q,className:"fa fa-th-large",command:Q,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300},S=h(2),E=h.n(S),D=h(48),x=E.a.Model.extend({defaults:{id:"",content:"",visible:!0,buttons:[],attributes:{}},initialize:function(I){this.btn=this.get("buttons")||[],this.buttons=new D.default(this.btn),this.set("buttons",this.buttons)}}),P=E.a.Collection.extend({model:x}),L=h(3),N=h.n(L),R=h(0);function M(I,p){var y=Object.keys(I);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(I);p&&(C=C.filter(function(B){return Object.getOwnPropertyDescriptor(I,B).enumerable})),y.push.apply(y,C)}return y}function A(I){for(var p=1;p<arguments.length;p++){var y=null!=arguments[p]?arguments[p]:{};p%2?M(Object(y),!0).forEach(function(C){N()(I,C,y[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(y)):M(Object(y)).forEach(function(C){Object.defineProperty(I,C,Object.getOwnPropertyDescriptor(y,C))})}return I}var z=E.a.View.extend({tagName:function(){return this.model.get("tagName")},events:{click:"clicked"},initialize:function(I){var p=this.model,y=p.get("className"),C=p.attributes,B=C.command,K=C.listen,te=I.config||{},$e=te.em;this.config=te,this.em=$e;var ue=this.config.stylePrefix||"",ye=this.config.pStylePrefix||"";if(this.pfx=ue,this.ppfx=this.config.pStylePrefix||"",this.id=ue+p.get("id"),this.activeCls="".concat(ue,"active ").concat(ye,"four-color"),this.disableCls="".concat(ye,"disabled"),this.btnsVisCls="".concat(ue,"visible"),this.className=ue+"btn"+(y?" "+y:""),this.listenTo(p,"change",this.render),this.listenTo(p,"change:active updateActive",this.updateActive),this.listenTo(p,"checkActive",this.checkActive),this.listenTo(p,"change:bntsVis",this.updateBtnsVis),this.listenTo(p,"change:attributes",this.updateAttributes),this.listenTo(p,"change:className",this.updateClassName),this.listenTo(p,"change:disable",this.updateDisable),$e&&Object(R.isString)(B)&&K){var Re={fromListen:1};this.listenTo($e,"run:".concat(B),function(){return p.set("active",!0,Re)}),this.listenTo($e,"stop:".concat(B),function(){return p.set("active",!1,Re)})}$e&&$e.get&&(this.commands=$e.get("Commands"))},updateClassName:function(){var I=this.model,p=this.pfx,y=I.get("className"),C=I.get("attributes").class,B="".concat(C||""," ").concat(p,"btn ").concat(y||"");this.$el.attr("class",B.trim())},updateAttributes:function(){var I=this.em,p=this.model,y=this.$el,C=p.get("attributes")||{},B=I&&I.t&&I.t("panels.buttons.titles.".concat(p.id));y.attr(C),B&&y.attr({title:B}),this.updateClassName()},updateBtnsVis:function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},updateActive:function(I,p){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C=this.model,B=this.commands,K=this.$el,te=this.activeCls,$e=y.fromCollection,ue=y.fromListen,ye=C.get("context"),Re=C.get("options"),Pe=C.get("command"),Me={};Pe&&(B&&Object(R.isString)(Pe)?Me=B.get(Pe)||{}:Object(R.isFunction)(Pe)?Me=B.create({run:Pe}):null!==Pe&&Object(R.isObject)(Pe)&&(Me=B.create(Pe)),C.get("active")?(!$e&&C.collection.deactivateAll(ye,C),C.set("active",!0,{silent:!0}).trigger("checkActive"),!ue&&B.runCommand(Me,A(A({},Re),{},{sender:C})),Me.noStop&&C.set("active",!1)):(K.removeClass(te),!ue&&B.stopCommand(Me,A(A({},Re),{},{sender:C,force:1}))))},updateDisable:function(){var I=this.disableCls,p=this.model.get("disable");this.$el[p?"addClass":"removeClass"](I)},checkActive:function(){var p=this.$el,y=this.activeCls;this.model.get("active")?p.addClass(y):p.removeClass(y)},clicked:function(I){var p=this.model;p.get("bntsVis")||p.get("disable")||!p.get("command")||this.toggleActive()},toggleActive:function(){var I=this.model,p=this.em,y=I.attributes,C=y.active;C&&!y.togglable||(I.set("active",!C),C?I.get("runDefaultCommand")&&p.runDefault():I.get("stopDefaultCommand")&&p.stopDefault())},render:function(){var I=this.model,p=I.get("label"),y=this.$el;return!I.get("el")&&y.empty(),this.updateAttributes(),p&&y.append(p),this.checkActive(),this.updateDisable(),this}}),H=E.a.View.extend({initialize:function(I){this.opt=I||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"",this.parentM=this.opt.parentM||null,this.listenTo(this.collection,"add",this.addTo),this.listenTo(this.collection,"reset remove",this.render),this.className=this.pfx+"buttons"},addTo:function(I){this.addToCollection(I)},addToCollection:function(I,p){var y=p||null,C=new z({el:I.get("el"),model:I,config:this.config,parentM:this.parentM}).render().el;return y?y.appendChild(C):this.$el.append(C),C},render:function(){var I=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(p){this.addToCollection(p,I)},this),this.$el.append(I),this.$el.attr("class",Object(R.result)(this,"className")),this}});function F(I,p){var y=Object.keys(I);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(I);p&&(C=C.filter(function(B){return Object.getOwnPropertyDescriptor(I,B).enumerable})),y.push.apply(y,C)}return y}var W=E.a.View.extend({initialize:function(I){var p=I.config||{},y=this.model;this.config=p,this.pfx=p.stylePrefix||"",this.ppfx=p.pStylePrefix||"",this.buttons=y.get("buttons"),this.className=this.pfx+"panel",this.id=this.pfx+y.get("id"),this.listenTo(y,"change:appendContent",this.appendContent),this.listenTo(y,"change:content",this.updateContent),this.listenTo(y,"change:visible",this.toggleVisible),y.view=this},appendContent:function(){this.$el.append(this.model.get("appendContent"))},updateContent:function(){this.$el.html(this.model.get("content"))},toggleVisible:function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},attributes:function(){return this.model.get("attributes")},initResize:function(){var I=this.config.em,p=I?I.get("Editor"):"",y=this.model.get("resizable");if(p&&y){var C,B,K,te=!0===y?[1,1,1,1]:y,$e=te.length,ue=0;2==$e?(C=te[0],K=te[0],B=te[1],ue=te[1]):4==$e&&(C=te[0],B=te[1],K=te[2],ue=te[3]);var ye=p.Utils.Resizer.init(function(Re){for(var Pe=1;Pe<arguments.length;Pe++){var Me=null!=arguments[Pe]?arguments[Pe]:{};Pe%2?F(Object(Me),!0).forEach(function(Le){N()(Re,Le,Me[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(Me)):F(Object(Me)).forEach(function(Le){Object.defineProperty(Re,Le,Object.getOwnPropertyDescriptor(Me,Le))})}return Re}({tc:C,cr:B,bc:K,cl:ue,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:p.getConfig().stylePrefix,onEnd:function(){I&&I.trigger("change:canvasOffset")},posFetcher:function(Re,Pe){var Me=Pe.target,Le=Re.style,_e=ye.getConfig(),ie=_e.keyWidth,ne=_e.keyHeight,ge=Re.getBoundingClientRect(),me="container"==Me,_=Le[ie],b=Le[ne];return{left:0,top:0,width:_&&!me?parseFloat(_):ge.width,height:b&&!me?parseFloat(b):ge.height}}},y));ye.blur=function(){},ye.focus(this.el)}},render:function(){var I=this.$el,p=this.ppfx,y="".concat(this.className," ").concat(this.id," ").concat(p,"one-bg ").concat(p,"two-color");if(I.addClass(y),this.toggleVisible(),this.buttons.length){var C=new H({collection:this.buttons,config:this.config});I.append(C.render().el)}return I.append(this.model.get("content")),this}}),k=E.a.View.extend({initialize:function(I){this.opt=I||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"";var p=this.collection;this.listenTo(p,"add",this.addTo),this.listenTo(p,"reset",this.render),this.listenTo(p,"remove",this.onRemove),this.className=this.pfx+"panels"},onRemove:function(I){var p=I.view;p&&p.remove()},addTo:function(I){this.addToCollection(I)},addToCollection:function(I,p){var y=p||null,C=this.config,B=I.get("el"),K=new W({el:B,model:I,config:C}),te=K.render().el,$e=I.get("appendTo");return B||($e?document.querySelector($e).appendChild(te):y?y.appendChild(te):this.$el.append(te)),K.initResize(),te},render:function(){var I=this,p=this.$el,y=document.createDocumentFragment();return p.empty(),this.collection.each(function(C){return I.addToCollection(C,y)}),p.append(y),p.attr("class",this.className),this}});ve.default=function(){var I,p,y={};return{name:"Panels",init:function(C){for(var B in y=C||{},v)B in y||(y[B]=v[B]);var K=y.pStylePrefix;return K&&(y.stylePrefix=K+y.stylePrefix),I=new P(y.defaults),this},getPanels:function(){return I},getPanelsEl:function(){return p&&p.el},addPanel:function(C){return I.add(C)},removePanel:function(C){return I.remove(C)},getPanel:function(C){var B=I.where({id:C});return B.length?B[0]:null},addButton:function(C,B){var K=this.getPanel(C);return K?K.get("buttons").add(B):null},removeButton:function(C,B){var K=this.getPanel(C);return K&&K.get("buttons").remove(B)},getButton:function(C,B){var K=this.getPanel(C);if(K){var te=K.get("buttons").where({id:B});return te.length?te[0]:null}return null},render:function(){return p&&p.remove(),(p=new k({collection:I,config:y})).render().el},active:function(){this.getPanels().each(function(C){C.get("buttons").each(function(B){B.get("active")&&B.trigger("updateActive")})})},disableButtons:function(){this.getPanels().each(function(C){C.get("buttons").each(function(B){B.get("disable")&&B.trigger("change:disable")})})},destroy:function(){I.reset(),I.stopListening(),p&&p.remove(),[y,I,p].forEach(function(C){return{}})},Panel:x}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(11),he=h.n(ce),de=h(3),se=h.n(de),re=h(0),Q=h(1),U={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,extHl:0,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]},T=h(5),v=h.n(T),S=h(6),E=h.n(S),D=h(8),x=h.n(D),P=h(9),L=h.n(P),N=h(4),R=h.n(N),M=h(2),A=h.n(M),z=h(47);var F=function(_){x()(G,_);var b=function(_){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(G){return!1}}();return function(){var G,c=R()(_);if(b){var O=R()(this).constructor;G=Reflect.construct(c,arguments,O)}else G=c.apply(this,arguments);return L()(this,G)}}(G);function G(){return v()(this,G),b.apply(this,arguments)}return E()(G,[{key:"defaults",value:function(){return{frame:"",frames:"",rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}}},{key:"initialize",value:function(c){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=O.em;this.config=O,this.em=m,this.listenTo(this,"change:zoom",this.onZoomChange),this.listenTo(m,"change:device",this.updateDevice),this.listenTo(m,z.evPageSelect,this._pageUpdated)}},{key:"init",value:function(){var c=this.em.get("PageManager").getMain(),O=c.getMainFrame();this.set("frames",c.getFrames()),this.updateDevice({frame:O})}},{key:"_pageUpdated",value:function(c,O){var m=this.em;m.setSelected(),m.get("readyCanvas")&&m.stopDefault(),O&&O.getFrames().map(function(V){return V.disable()}),this.set("frames",c.getFrames())}},{key:"updateDevice",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.em,m=O.getDeviceModel(),V=c.frame||O.getCurrentFrameModel();if(V&&m){var X=m.attributes;V.set({width:X.width,height:X.height},{noUndo:1})}}},{key:"onZoomChange",value:function(){this.get("zoom")<1&&this.set("zoom",1)}}]),G}(M.Model),W=h(29),k=h(43),I=h(12);function p(_,b){var G=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);b&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),G.push.apply(G,c)}return G}var y=function(){function _(b,G){var c=this;v()(this,_),this.em=b;var O=G||b.get("Canvas").getFrames().map(function(V){return V.getComponent().getEl()}),m=Array.isArray(O)?O:[O];return this.el=O,this.counter=0,Object(re.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),m.forEach(function(V){return c.toggleEffects(V,1)}),this}return E()(_,[{key:"toggleEffects",value:function(b,G){var c={on:Q.on,off:Q.off},O=G?"on":"off";c[O](b,"dragenter",this.handleDragEnter),c[O](b,"dragover",this.handleDragOver),c[O](b,"drop",this.handleDrop),c[O](b,"dragleave",this.handleDragLeave)}},{key:"__customTglEff",value:function(b){var G=b?Q.on:Q.off,c=this.el.ownerDocument,O=c.defaultView.frameElement;this.sortOpts=b?{onStart:function(m){var V=m.sorter;Object(Q.on)(O,"pointermove",V.onMove)},onEnd:function(m){var V=m.sorter;Object(Q.off)(O,"pointermove",V.onMove)},customTarget:function(m){var V=m.event;return c.elementFromPoint(V.clientX,V.clientY)}}:null,G(O,"pointerenter",this.handleDragEnter),G(O,"pointermove",this.handleDragOver),G(document,"pointerup",this.handleDrop),G(O,"pointerout",this.handleDragLeave)}},{key:"startCustom",value:function(){this.__customTglEff(!0)}},{key:"endCustom",value:function(b){this.over?this.endDrop(b):this.__customTglEff(!1)}},{key:"endDrop",value:function(b,G){var c=this.em,O=this.dragStop;this.counter=0,O&&O(b),this.__customTglEff(!1),c.trigger("canvas:dragend",G)}},{key:"handleDragLeave",value:function(b){this.updateCounter(-1,b)}},{key:"updateCounter",value:function(b,G){this.counter+=b,0===this.counter&&this.endDrop(1,G)}},{key:"handleDragEnter",value:function(b){var G=this,c=this.em,O=b.dataTransfer;if(this.updateCounter(1,b),!this.over){this.over=1;var m,V,X=c.get("Utils"),Ee=c.get("Canvas"),He=c.get("dragContent")||"<br>";if(c.stopDefault(),c.inAbsoluteMode()){var Oe=c.get("DomComponents").getWrapper(),Ce=Oe.append({})[0],Fe=c.get("Commands").run("core:component-drag",{event:b,guidesInfo:1,center:1,target:Ce,onEnd:function(it,xt,pt){var kt;if(!pt.cancelled){kt=Oe.append(He)[0];var Nt=Ce.getStyle();kt.addStyle({left:Nt.left,top:Nt.top,position:Nt.position})}G.handleDragEnd(kt,O),Ce.remove()}});m=function(it){return Fe.stop(b,{cancel:it})},V=function(it){return He=it}}else{var Ue=new X.Sorter(function(it){for(var xt=1;xt<arguments.length;xt++){var pt=null!=arguments[xt]?arguments[xt]:{};xt%2?p(Object(pt),!0).forEach(function(kt){se()(it,kt,pt[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(pt)):p(Object(pt)).forEach(function(kt){Object.defineProperty(it,kt,Object.getOwnPropertyDescriptor(pt,kt))})}return it}({em:c,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:Ee.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(it){return G.handleDragEnd(it,O)},document:this.el.ownerDocument},this.sortOpts||{}));Ue.setDropContent(He),Ue.startSort(),this.sorter=Ue,m=function(it){it&&(Ue.moved=0),Ue.endMove()},V=function(it){return Ue.setDropContent(it)}}this.dragStop=m,this.dragContent=V,c.trigger("canvas:dragenter",O,He)}}},{key:"handleDragEnd",value:function(b,G){var c=this.em;this.over=0,b&&(c.set("dragResult",b),c.trigger("canvas:drop",G,b)),c.runDefault({preserveSelected:1})}},{key:"handleDragOver",value:function(b){b.preventDefault(),this.em.trigger("canvas:dragover",b)}},{key:"handleDrop",value:function(b){b.preventDefault();var G=this.dragContent,O=this.getContentByData(b.dataTransfer).content;b.target.style.border="",O&&G&&G(O),this.endDrop(!O,b)}},{key:"getContentByData",value:function(b){var G=this.em,c=b&&b.types,O=b&&b.files||[],m=G.get("dragContent"),V=b&&b.getData("text");if(O.length){V=[];for(var X=0;X<O.length;X++){var Ee=O[X],He=Ee.type.split("/")[0];"image"==He&&V.push({type:He,file:Ee,attributes:{alt:Ee.name}})}}else if(m)V=m;else if(Object(re.indexOf)(c,"text/html")>=0)V=b&&b.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if(Object(re.indexOf)(c,"text/uri-list")>=0)V={type:"link",attributes:{href:V},content:V};else if(Object(re.indexOf)(c,"text/json")>=0){var Oe=b&&b.getData("text/json");Oe&&(V=JSON.parse(Oe))}else 1===c.length&&"text/plain"===c[0]&&(V="<div>".concat(V,"</div>"));var Ce={content:V};return G.trigger("canvas:dragdata",b,Ce),Ce}}]),_}(),C=h(13);function B(_,b){var G=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);b&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),G.push.apply(G,c)}return G}function K(_){for(var b=1;b<arguments.length;b++){var G=null!=arguments[b]?arguments[b]:{};b%2?B(Object(G),!0).forEach(function(c){se()(_,c,G[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(G)):B(Object(G)).forEach(function(c){Object.defineProperty(_,c,Object.getOwnPropertyDescriptor(G,c))})}return _}var te=A.a.View.extend({tagName:"iframe",attributes:{allowfullscreen:"allowfullscreen","data-frame-el":!0},initialize:function(_){Object(re.bindAll)(this,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var b=this.model,G=this.el;this.tools={},this.config=K(K({},_.config||{}),{},{frameView:this}),this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var c=this.getCanvasModel();this.listenTo(b,"change:head",this.updateHead),this.listenTo(c,"change:styles",this.renderStyles),b.view=this,Object(Q.setViewEl)(G,this)},updateHead:function(){var _=this.model,b=this.getHead(),G=[],c=[],O=_.get("head"),m=_.previous("head"),V=function(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(Ee).sort().map(function(He){return"[".concat(He,'="').concat(Ee[He],'"]')}).join("")},X=function(Ee,He,Oe){Ee.forEach(function(Ce){var Fe=Ce.tag,Ue=Ce.attributes;!He.some(function(it){return it.tag===Fe&&V(it.attributes)===V(Ue)})&&Oe.push(Ce)})};X(O,m,c),X(m,O,G),G.forEach(function(Ee){var He=b.querySelector("".concat(Ee.tag).concat(V(Ee.attributes)));He&&He.parentNode.removeChild(He)}),Object(C.c)(b,c)},getEl:function(){return this.el},getCanvasModel:function(){return this.em.get("Canvas").getModel()},getWindow:function(){return this.getEl().contentWindow},getDoc:function(){return this.getEl().contentDocument},getHead:function(){return this.getDoc().querySelector("head")},getBody:function(){return this.getDoc().querySelector("body")},getWrapper:function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},getJsContainer:function(){return this.jsContainer||(this.jsContainer=Object(C.f)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},getToolsEl:function(){var _=this.config.frameWrapView;return _&&_.elTools},getGlobalToolsEl:function(){return this.em.get("Canvas").getGlobalToolsEl()},getHighlighter:function(){return this._getTool("[data-hl]")},getBadgeEl:function(){return this._getTool("[data-badge]")},getOffsetViewerEl:function(){return this._getTool("[data-offset]")},getRect:function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},getOffsetRect:function(){var _=this.el,b=this.getBody(),G=b.scrollTop,c=b.scrollLeft,O=_.offsetHeight,m=_.offsetWidth;return{top:_.offsetTop,left:_.offsetLeft,height:O,width:m,scrollTop:G,scrollLeft:c,scrollBottom:G+O,scrollRight:c+m}},_getTool:function(_){var b=this.tools,G=this.getToolsEl();return b[_]||(b[_]=G.querySelector(_)),b[_]},remove:function(){var _=this.wrapper;this._toggleEffects(),this.tools={},_&&_.remove(),A.a.View.prototype.remove.apply(this,arguments)},startAutoscroll:function(){var _=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){_._toggleAutoscrollFx(1),requestAnimationFrame(_.autoscroll)},0)},autoscroll:function(){if(this.dragging){var _=this.lastClientY,b=this.em.get("Canvas"),G=this.getWindow(),c=this.getBody().scrollTop,O=_||0,m=b.getConfig().autoscrollLimit,V=this.getRect().height-m,X=c;O<m&&(X-=m-O),O>V&&(X+=O-V),!Object(re.isUndefined)(_)&&X!==c&&X>0&&X<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),G.scrollTo(0,X)),requestAnimationFrame(this.autoscroll)}},updateClientY:function(_){_.preventDefault(),this.lastClientY=Object(Q.getPointerEvent)(_).clientY*this.em.getZoomDecimal()},showGlobalTools:Object(re.debounce)(function(){this.getGlobalToolsEl().style.opacity=""},50),stopAutoscroll:function(){this.dragging&&this._toggleAutoscrollFx()},_toggleAutoscrollFx:function(_){this.dragging=_;var b=this.getWindow(),G=_?"on":"off",c={on:Q.on,off:Q.off};c[G](b,"mousemove dragover",this.updateClientY),c[G](b,"mouseup",this.stopAutoscroll)},render:function(){return this.$el.attr({class:"".concat(this.ppfx,"frame")}),this.renderScripts(),this},renderScripts:function(){var _=this,b=this.el,c=this.em,O="frame:load",m={el:b,model:this.model,view:this},V=this.getCanvasModel();b.onload=function(){c&&c.trigger("".concat(O,":before"),m),function X(Ee){if(Ee.length>0){var He=Ee.shift(),Oe=Object(C.f)("script",K({type:"text/javascript"},Object(re.isString)(He)?{src:He}:He));Oe.onerror=Oe.onload=X.bind(null,Ee),b.contentDocument.head.appendChild(Oe)}else _.renderBody(),c&&c.trigger(O,m)}(he()(V.get("scripts")))}},renderStyles:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.getHead(),G=this.getCanvasModel(),c=function(He){return He.map(function(Oe){return{tag:"link",attributes:K({rel:"stylesheet"},Object(re.isString)(Oe)?{href:Oe}:Oe)}})},O=c(_.prev||G.previous("styles")),m=c(G.get("styles")),V=[],X=[],Ee=function(He,Oe,Ce){He.forEach(function(Fe){var Ue=Fe.attributes.href;!Oe.some(function(it){return it.attributes.href===Ue})&&Ce.push(Fe)})};Ee(m,O,X),Ee(O,m,V),V.forEach(function(He){var Oe=b.querySelector('link[href="'.concat(He.attributes.href,'"]'));Oe&&Oe.parentNode.removeChild(Oe)}),Object(C.c)(b,X)},renderBody:function(){var _=this,G=this.model,c=this.ppfx,O=this.config.em,m=this.getDoc(),V=this.getBody(),X=this.getWindow(),Ee=O.get("Config");X._isEditor=!0,this.renderStyles({prev:[]}),Object(C.a)(V,"<style>\n      ".concat(Ee.baseCss||"","\n\n      .").concat(c,"dashed *[data-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(c,"selected {\n        outline: 3px solid #3b97e3 !important;\n        outline-offset: -3px;\n      }\n\n      .").concat(c,"selected-parent {\n        outline: 2px solid ").concat("#ffca6f"," !important\n      }\n\n      .").concat(c,"no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(c,"freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(c,"no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(c,"plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(c,"grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(c,"is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(c,"is__grabbing,\n      .").concat(c,"is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(Ee.canvasCss||"","\n      ").concat(Ee.protectedCss||"","\n    </style>"));var He=G.getComponent();this.wrapper=new I.default({model:He,config:K(K({},He.config),{},{frameView:this})}).render(),Object(C.a)(V,this.wrapper.el),Object(C.a)(V,new k.a({collection:G.getStyles(),config:K(K({},O.get("CssComposer").getConfig()),{},{frameView:this})}).render().el),Object(C.a)(V,this.getJsContainer()),Object(Q.on)(V,"click",function(Oe){return Oe&&"A"==Oe.target.tagName&&Oe.preventDefault()}),Object(Q.on)(V,"submit",function(Oe){return Oe&&Oe.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(Oe){return Oe.event.split(" ").forEach(function(Ce){m.addEventListener(Ce,function(Fe){return _.el.dispatchEvent(Object(C.e)(Fe,Oe.class))})})}),this._toggleEffects(1),this.droppable=Object(Q.hasDnd)(O)&&new y(O,this.wrapper.el),G.trigger("loaded")},_toggleEffects:function(_){var b=_?Q.on:Q.off,G=this.getWindow();G&&b(G,"".concat(C.k," resize"),this._emitUpdate)},_emitUpdate:function(){this.model._emitUpdated()}}),$e=h(24);function ue(_,b){var G=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);b&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),G.push.apply(G,c)}return G}function ye(_){for(var b=1;b<arguments.length;b++){var G=null!=arguments[b]?arguments[b]:{};b%2?ue(Object(G),!0).forEach(function(c){se()(_,c,G[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(G)):ue(Object(G)).forEach(function(c){Object.defineProperty(_,c,Object.getOwnPropertyDescriptor(G,c))})}return _}var Re=A.a.View.extend({events:{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"},initialize:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(re.bindAll)(this,"onScroll","frameLoaded","updateOffset","remove","startDrag");var G=this.model,c=ye(ye({},_.config||b),{},{frameWrapView:this}),m=c.em;this.cv=c.canvasView,this.config=c,this.em=m,this.canvas=m&&m.get("Canvas"),this.ppfx=c.pStylePrefix||"",this.frame=new te({model:G,config:c}),this.classAnim="".concat(this.ppfx,"frame-wrapper--anim"),this.updateOffset=Object(re.debounce)(this.updateOffset.bind(this)),this.updateSize=Object(re.debounce)(this.updateSize.bind(this)),this.listenTo(G,"loaded",this.frameLoaded),this.listenTo(G,"change:x change:y",this.updatePos),this.listenTo(G,"change:width change:height",this.updateSize),this.listenTo(G,"destroy remove",this.remove),this.updatePos(),this.setupDragger()},setupDragger:function(){var _,b,G,c=this,O=this.canvas,m=this.model,V=function(X){O.toggleFramesEvents(X)};this.dragger=new $e.a({onStart:function(){var X=m.attributes,Ee=X.x,He=X.y;G=c.em.getZoomMultiplier(),_=Ee,b=He,V()},onEnd:function(){return V(1)},setPosition:function(X){m.set({x:_+X.x*G,y:b+X.y*G})}})},startDrag:function(_){_&&this.dragger.start(_)},__clear:function(_){var b=this.frame;b&&b.remove(_),Object(C.l)(this.elTools)},remove:function(_){var b=this;return this.__clear(_),A.a.View.prototype.remove.apply(this,arguments),["frame","dragger","cv","em","canvas","elTools"].forEach(function(G){return b[G]=0}),this},updateOffset:function(){var _=this.em,b=this.$el,G=this.frame;_&&(_.runDefault({preserveSelected:1}),b.removeClass(this.classAnim),G.model._emitUpdated())},updatePos:function(_){var c=this.model.attributes,O=c.x,m=c.y,V=this.el.style;this.frame.rect=0,V.left=isNaN(O)?O:"".concat(O,"px"),V.top=isNaN(m)?m:"".concat(m,"px"),_&&this.updateOffset()},updateSize:function(){this.updateDim()},updateDim:function(){var _=this.em,b=this.el,G=this.$el,c=this.model,O=this.classAnim,m=this.frame;if(m){m.rect=0,G.addClass(O);var V=this.__handleSize(),X=V.noChanges,Ee=V.width,He=V.height;(Object(re.isNull)(Ee)||Object(re.isNull)(He))&&c.set(ye(ye({},Ee?{}:{width:b.offsetWidth}),He?{}:{height:b.offsetHeight}),{silent:1}),_.stopDefault({preserveSelected:1}),X?this.updateOffset():setTimeout(this.updateOffset,350)}},onScroll:function(){var _=this.frame;this.em.trigger("frame:scroll",{frame:_,body:_.getBody(),target:_.getWindow()})},frameLoaded:function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},__handleSize:function(){var G=this.el.style,c=this.model.attributes,O=c.width,m=c.height,Ee=O||"",He=m||"",Oe=(G.width||"")==Ee&&(G.height||"")==He;return G.width=Object(re.isNumber)(Ee)?"".concat(Ee).concat("px"):Ee,G.height=Object(re.isNumber)(He)?"".concat(He).concat("px"):He,{noChanges:Oe,width:O,height:m,newW:Ee,newH:He}},render:function(){var _=this.frame,b=this.$el,G=this.ppfx,c=this.cv,O=this.model,m=this.el,V=O.attributes.onRender;this.__clear(),this.__handleSize(),_.render(),b.empty().attr({class:"".concat(G,"frame-wrapper")}).append('\n      <div class="'.concat(G,'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(G,'frame-wrapper__name" data-action-move>\n          ').concat(O.get("name")||"",'\n        </div>\n        <div class="').concat(G,'frame-wrapper__top-r">\n          <div class="').concat(G,'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(G,'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(G,'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(G,'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(_.el);var X=Object(C.f)("div",{class:"".concat(G,"tools"),style:"pointer-events:none; display: none"},'\n      <div class="'.concat(G,'highlighter" data-hl></div>\n      <div class="').concat(G,'badge" data-badge></div>\n      <div class="').concat(G,'placeholder">\n        <div class="').concat(G,'placeholder-int"></div>\n      </div>\n      <div class="').concat(G,'ghost"></div>\n      <div class="').concat(G,'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(G,'resizer"></div>\n      <div class="').concat(G,'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(G,'offset-fixed-v"></div>\n    '));this.elTools=X;var Ee=c.toolsWrapper;return Ee&&Ee.appendChild(X),V&&V({el:m,elTop:m.querySelector("[data-frame-top]"),elRight:m.querySelector("[data-frame-right]"),elBottom:m.querySelector("[data-frame-bottom]"),elLeft:m.querySelector("[data-frame-left]"),frame:O,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this}}),Pe=W.a.extend({itemView:Re,autoAdd:1,init:function(){this.listenTo(this.collection,"reset",this.render)},onRemoveBefore:function(_,b){_.forEach(function(G){return G.remove(b)})},onRender:function(){var G=this.config.em;G&&this.$el.attr({class:"".concat(G.getConfig("stylePrefix"),"frames")})}});function Me(_,b){var G=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);b&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),G.push.apply(G,c)}return G}function Le(_){for(var b=1;b<arguments.length;b++){var G=null!=arguments[b]?arguments[b]:{};b%2?Me(Object(G),!0).forEach(function(c){se()(_,c,G[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(G)):Me(Object(G)).forEach(function(c){Object.defineProperty(_,c,Object.getOwnPropertyDescriptor(G,c))})}return _}var _e,ie=A.a.$,ne=A.a.View.extend({events:{wheel:"onWheel"},template:function(){var _=this.pfx;return'\n      <div class="'.concat(_,'canvas__frames" data-frames></div>\n      <div id="').concat(_,'tools" class="').concat(_,'canvas__tools" data-tools></div>\n    ')},initialize:function(_){Object(re.bindAll)(this,"clearOff","onKeyPress","onCanvasMove");var b=this.model;this.config=_.config||{},this.em=this.config.em||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.config.stylePrefix+"canvas";var G=this.em;this._initFrames(),this.listenTo(G,"change:canvasOffset",this.clearOff),this.listenTo(G,"component:selected",this.checkSelected),this.listenTo(b,"change:zoom change:x change:y",this.updateFrames),this.listenTo(b,"change:frames",this._onFramesUpdate),this.toggleListeners(1)},_onFramesUpdate:function(){this._initFrames(),this._renderFrames()},_initFrames:function(){var _=this.frames,G=this.config,c=this.em,O=this.model.get("frames");c.set("readyCanvas",0),O.once("loaded:all",function(){return c.set("readyCanvas",1)}),_&&_.remove(),this.frames=new Pe({collection:O,config:Le(Le({},G),{},{canvasView:this})})},checkSelected:function(_){var G=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).scroll,c=this.em.get("currentFrame");G&&_.views.forEach(function(O){O._getFrame()!==c&&O.scrollIntoView(G)})},remove:function(){this.frames.remove(),this.frames={},A.a.View.prototype.remove.apply(this,arguments),this.toggleListeners()},preventDefault:function(_){_&&(_.preventDefault(),_._parentEvent&&_._parentEvent.preventDefault())},onCanvasMove:function(_){},toggleListeners:function(_){var b=_?Q.on:Q.off;b(document,"keypress",this.onKeyPress),b(window,"scroll resize",this.clearOff)},onKeyPress:function(_){var b=this.em;" "!==Object(Q.getKeyChar)(_)||1===b.getZoomDecimal()||b.get("Canvas").isInputFocused()||(this.preventDefault(_),b.get("Editor").runCommand("core:canvas-move"))},onWheel:function(_){if((_.ctrlKey||_.metaKey)&&this.em.getConfig("multiFrames")){this.preventDefault(_);var b=this.model,G=Math.max(-1,Math.min(1,_.wheelDelta||-_.detail)),c=b.get("zoom");b.set("zoom",c+2*G)}},updateFrames:function(_){var b=this.em,G=this.model.attributes,c=G.x,O=G.y,m=this.getZoom(),V={preserveSelected:1},X=m?1/m:1;this.framesArea.style.transform="scale(".concat(m,") translate(").concat(c*X,"px, ").concat(O*X,"px)"),this.clearOff(),b.stopDefault(V),b.trigger("canvas:update",_),_e&&clearTimeout(_e),_e=setTimeout(function(){return b.runDefault(V)},300)},getZoom:function(){return this.em.getZoomDecimal()},isElInViewport:function(_){var b=Object(Q.getElement)(_),G=Object(Q.getElRect)(b),c=this.getFrameOffset(b),O=G.top,m=G.left;return O>=0&&m>=0&&O<=c.height&&m<=c.width},offset:function(_){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=Object(Q.getElRect)(_),c=_.ownerDocument.body,O=b.noScroll;return{top:G.top+(O?0:c.scrollTop),left:G.left+(O?0:c.scrollLeft),width:G.width,height:G.height}},clearOff:function(){this.frmOff=null,this.cvsOff=null},getFrameOffset:function(_){if(!this.frmOff||_){var b=this.frame.el,G=_&&_.ownerDocument.defaultView;this.frmOff=this.offset((G?G.frameElement:b)||b)}return this.frmOff},getCanvasOffset:function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},getElementPos:function(_,b){var G=this.getZoom(),c=b||{},O=this.getFrameOffset(_),m=this.getCanvasOffset(),V=this.offset(_,b);return{top:V.top*G+(c.avoidFrameOffset?0:O.top)-m.top,left:V.left*G+(c.avoidFrameOffset?0:O.left)-m.left,height:V.height*G,width:V.width*G,zoom:G,rect:V}},getElementOffsets:function(_){var b=this;if(!_||Object(Q.isTextNode)(_))return{};var G={},c=window.getComputedStyle(_);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(O){G[O]=parseFloat(c[O])*b.getZoom()}),G},getPosition:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.frame.el.contentDocument;if(b){var G=b.body,c=this.getZoom(),O=this.getFrameOffset(),m=this.getCanvasOffset(),V=_.noScroll;return{top:O.top+(V?0:G.scrollTop)*c-m.top,left:O.left+(V?0:G.scrollLeft)*c-m.left,width:m.width,height:m.height}}},updateScript:function(_){var b=_.model,G=b.getId();_.scriptContainer||(_.scriptContainer=ie('<div data-id="'.concat(G,'">')),this.getJsContainer().appendChild(_.scriptContainer.get(0))),_.el.id=G,_.scriptContainer.html("");var c=document.createElement("script"),O=b.getScriptString(),m=b.get("script-props")?O:"function(){\n".concat(O,"\n;}"),V=JSON.stringify(b.__getScriptProps());c.innerHTML="\n      setTimeout(function() {\n        var item = document.getElementById('".concat(G,"');\n        if (!item) return;\n        (").concat(m,".bind(item))(").concat(V,")\n      }, 1);"),setTimeout(function(){var X=_.scriptContainer;X&&X.get(0).appendChild(c)},0)},getJsContainer:function(_){var b=this.getFrameView(_);return b&&b.getJsContainer()},getFrameView:function(_){return _&&_._getFrame()||this.em.get("currentFrame")},_renderFrames:function(){if(this.ready){var b=this.frames,G=this.em,c=this.framesArea,O=this.model.get("frames");O.listenToLoad(),b.render();var m=O.at(0),V=m&&m.view;G.setCurrentFrame(V),c&&c.appendChild(b.el),this.frame=V}},render:function(){var _=this.el,b=this.$el,G=this.ppfx,c=this.config,O=this.em;b.html(this.template());var m=b.find("[data-frames]");this.framesArea=m.get(0);var V=b.find("[data-tools]");this.toolsWrapper=V.get(0),V.append('\n      <div class="'.concat(G,"tools ").concat(G,'tools-gl" style="pointer-events:none">\n        <div class="').concat(G,'placeholder">\n          <div class="').concat(G,'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(G,'tools" style="pointer-events:none">\n        ').concat(c.extHl?'<div class="'.concat(G,'highlighter-sel"></div>'):"",'\n        <div class="').concat(G,'badge"></div>\n        <div class="').concat(G,'ghost"></div>\n        <div class="').concat(G,'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(G,'resizer"></div>\n        <div class="').concat(G,'offset-v"></div>\n        <div class="').concat(G,'offset-fixed-v"></div>\n      </div>\n    '));var X=_.querySelector("#".concat(G,"tools"));return this.hlEl=_.querySelector(".".concat(G,"highlighter")),this.badgeEl=_.querySelector(".".concat(G,"badge")),this.placerEl=_.querySelector(".".concat(G,"placeholder")),this.ghostEl=_.querySelector(".".concat(G,"ghost")),this.toolbarEl=_.querySelector(".".concat(G,"toolbar")),this.resizerEl=_.querySelector(".".concat(G,"resizer")),this.offsetEl=_.querySelector(".".concat(G,"offset-v")),this.fixedOffsetEl=_.querySelector(".".concat(G,"offset-fixed-v")),this.toolsGlobEl=_.querySelector(".".concat(G,"tools-gl")),this.toolsEl=X,this.el.className=Object(Q.getUiClass)(O,this.className),this.ready=1,this._renderFrames(),this}});function ge(_,b){var G=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);b&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(_,O).enumerable})),G.push.apply(G,c)}return G}function me(_){for(var b=1;b<arguments.length;b++){var G=null!=arguments[b]?arguments[b]:{};b%2?ge(Object(G),!0).forEach(function(c){se()(_,c,G[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(G)):ge(Object(G)).forEach(function(c){Object.defineProperty(_,c,Object.getOwnPropertyDescriptor(G,c))})}return _}ve.default=function(){var _,b,G={};return{getCanvasView:function(){return b},name:"Canvas",init:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};G=me(me(me({},U),c),{},{module:this}),this.em=G.em;var m=G.scripts,V=G.styles,X=G.pStylePrefix;return X&&(G.stylePrefix=X+G.stylePrefix),_=new F({scripts:m,styles:V},c),this.model=_,this.startAutoscroll=this.startAutoscroll.bind(this),this.stopAutoscroll=this.stopAutoscroll.bind(this),this},onLoad:function(){this.model.init()},getModel:function(){return _},getConfig:function(){return G},getElement:function(){return b.el},getFrame:function(c){return this.getFrames()[c||0]},getFrameEl:function(){var c=(b||{}).frame;return c&&c.el},getFramesEl:function(){return b.framesArea},getWindow:function(){return this.getFrameEl().contentWindow},getDocument:function(){var c=this.getFrameEl();return c&&c.contentDocument},getBody:function(){var c=this.getDocument();return c&&c.body},_getCompFrame:function(c){return c&&c._getFrame()},_getLocalEl:function(c,O,m){var V=c,X=this._getCompFrame(O);return X?X[m]():V},getGlobalToolsEl:function(){return b.toolsGlobEl},getToolsEl:function(c){return this._getLocalEl(b.toolsEl,c,"getToolsEl")},getHighlighter:function(c){return this._getLocalEl(b.hlEl,c,"getHighlighter")},getBadgeEl:function(c){return this._getLocalEl(b.badgeEl,c,"getBadgeEl")},getPlacerEl:function(){return b.placerEl},getGhostEl:function(){return b.ghostEl},getToolbarEl:function(){return b.toolbarEl},getResizerEl:function(){return b.resizerEl},getOffsetViewerEl:function(c){return this._getLocalEl(b.offsetEl,c,"getOffsetViewerEl")},getFixedOffsetViewerEl:function(){return b.fixedOffsetEl},render:function(){return b&&b.remove(),(b=new ne({model:_,config:G})).render().el},getOffset:function(){var c=this.offset(this.getFrameEl()),O=this.offset(this.getElement());return{top:c.top-O.top,left:c.left-O.left}},offset:function(c){return b.offset(c)},setCustomBadgeLabel:function(c){G.customBadgeLabel=c},getElementPos:function(c,O){return b.getElementPos(c,O)},getElementOffsets:function(c){return b.getElementOffsets(c)},getRect:function(){var c=b.getPosition(),O=c.top,m=c.left;return me(me({},b.getCanvasOffset()),{},{topScroll:O,leftScroll:m})},getTargetToElementDim:function(c,O){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},V=m||{},X=b.getPosition();if(X){var Ee=V.elPos||b.getElementPos(O),He=m.toRight||0,Fe=V.event||null,Ue=Ee.top-(V.targetHeight||c.offsetHeight),it=Ee.left;it+=He?Ee.width:0;var xt=(it=He?it-(V.targetWidth||c.offsetWidth):it)<X.left?X.left:it,pt=Ue<X.top?X.top:Ue,kt={top:pt=pt>Ee.top+Ee.height?Ee.top+Ee.height:pt,left:xt,elementTop:Ee.top,elementLeft:Ee.left,elementWidth:Ee.width,elementHeight:Ee.height,targetWidth:c.offsetWidth,targetHeight:c.offsetHeight,canvasTop:X.top,canvasLeft:X.left,canvasWidth:X.width,canvasHeight:X.height};return Fe&&G.em&&G.em.trigger(Fe,kt),kt}},canvasRectOffset:function(c,O){var m=this,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},X=function(He){var Oe=He.defaultView;return Oe&&Oe.frameElement},Ee=function(He){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,Ce=arguments.length>2?arguments[2]:void 0,Fe=m.em.getZoomDecimal(),Ue=Oe?"top":"left",it=He.ownerDocument,xt=V.offset?X(it):{},pt=xt.offsetTop,Nt=xt.offsetLeft,be=it.body||{},Ve=be.scrollTop,et=be.scrollLeft;return Ce[Ue]-((Oe?void 0===Ve?0:Ve:void 0===et?0:et)-(Oe?void 0===pt?0:pt:void 0===Nt?0:Nt))*Fe};return{top:Ee(c,1,O),left:Ee(c,0,O)}},getTargetToElementFixed:function(c,O){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},V=m.pos||this.getElementPos(c),X=m.canvasOff||this.canvasRectOffset(c,V),Ee=O.offsetHeight||0,He=O.offsetWidth||0,Oe=V.left+V.width,Ce=this.getCanvasView(),Fe=Ce.getPosition(),Ue=Ce.getFrameOffset(c),it=m.event,xt=-Ee,pt=Object(re.isUndefined)(m.left)?V.width-He:m.left;pt=V.left<-pt?-V.left:pt;var kt=V.height+Ee;X.top<Ee&&(kt<Ue.height?xt+=kt:xt=-X.top<V.height?-X.top:V.height);var ae={top:xt,left:pt=Oe>Fe.width?pt-(Oe-Fe.width):pt,canvasOffsetTop:X.top,canvasOffsetLeft:X.left};return it&&this.em.trigger(it,ae),ae},getMouseRelativePos:function(c,O){var m=0,V=0,X=(O||{}).subWinOffset,Ee=c.target.ownerDocument,He=Ee.defaultView||Ee.parentWindow,Oe=He.frameElement,Ce=X?He.pageYOffset:0,Fe=X?He.pageXOffset:0;if(Oe){var Ue=Oe.getBoundingClientRect();m=Ue.top||0,V=Ue.left||0}return{y:c.clientY+m-Ce,x:c.clientX+V-Fe}},getMouseRelativeCanvas:function(c,O){var m=this.getZoomDecimal(),V=b.getPosition(O);return{y:c.clientY*m+V.top,x:c.clientX*m+V.left}},hasFocus:function(){return this.getDocument().hasFocus()},isInputFocused:function(){var c=this.getDocument(),O=this.getFrameEl(),m=["body"].concat(he()(this.getConfig().notTextable)),V=O&&document.activeElement===O?c&&c.activeElement:document.activeElement;return V&&!m.some(function(X){return V.matches(X)})},scrollTo:function(c){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=Object(Q.getElement)(c),V=m&&Object(Q.getViewEl)(m);V&&V.scrollIntoView(O)},startAutoscroll:function(c){var O=c&&c.view||this.em.getCurrentFrame();O&&O.startAutoscroll()},stopAutoscroll:function(c){var O=c&&c.view||this.em.getCurrentFrame();O&&O.stopAutoscroll()},setZoom:function(c){return _.set("zoom",parseFloat(c)),this},getZoom:function(){return parseFloat(_.get("zoom"))},setCoords:function(c,O){return _.set({x:parseFloat(c),y:parseFloat(O)}),this},getCoords:function(){var c=_.attributes;return{x:c.x,y:c.y}},getZoomDecimal:function(){return this.getZoom()/100},getZoomMultiplier:function(){var c=this.getZoomDecimal();return c?1/c:1},toggleFramesEvents:function(c){this.getFramesEl().style.pointerEvents=c?"":"none"},getFrames:function(){return _.get("frames").map(function(c){return c})},addFrame:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.get("frames").add(me({},c),me(me({},O),{},{em:this.em}))},destroy:function(){var c=this;_.stopListening(),b&&b.remove(),[G,_,b].forEach(function(O){return{}}),["em","model","droppable"].forEach(function(O){return c[O]={}})}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(11),he=h.n(ce),de=h(3),se=h.n(de),re=h(0),Q=h(21),U=h(2),T=h.n(U),v={stylePrefix:"sm-",sectors:[],appendTo:"",hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]},S=h(5),E=h.n(S),D=h(6),x=h.n(D),P=h(8),L=h.n(P),N=h(9),R=h.n(N),M=h(4),A=h.n(M),z=h(33),H=function(){return{build:function(ne){var ge=[];"string"==typeof ne&&(ne=[ne]);for(var me=0,_=ne.length;me<_;me++){var b={},G=ne[me];switch("border-radius-c"===(b.property=G,G)&&(b.property="border-radius"),G){case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"width":case"max-width":case"min-width":case"height":case"max-height":case"min-height":case"flex-basis":b.fixedValues=["initial","inherit","auto"];break;case"font-size":b.fixedValues=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"];break;case"letter-spacing":case"line-height":b.fixedValues=["normal","initial","inherit"]}switch(G){case"float":case"position":case"text-align":b.type="radio";break;case"display":case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":case"align-self":case"font-family":case"font-weight":case"border-style":case"box-shadow-type":case"background-repeat":case"background-position":case"background-attachment":case"background-size":case"transition-property":case"transition-timing-function":case"cursor":case"overflow":case"overflow-x":case"overflow-y":b.type="select";break;case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"letter-spacing":case"line-height":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-h":case"box-shadow-v":case"box-shadow-blur":case"box-shadow-spread":case"transition-duration":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"order":case"flex-grow":case"flex-shrink":case"flex-basis":b.type="integer";break;case"margin":case"padding":case"border-radius":case"border":case"transform":b.type="composite";break;case"color":case"text-shadow-color":case"background-color":case"border-color":case"box-shadow-color":b.type="color";break;case"text-shadow":case"box-shadow":case"background":case"transition":b.type="stack";break;case"background-image":b.type="file"}switch(G){case"float":case"background-color":case"text-shadow":b.defaults="none";break;case"display":b.defaults="block";break;case"flex-direction":b.defaults="row";break;case"flex-wrap":b.defaults="nowrap";break;case"justify-content":b.defaults="flex-start";break;case"align-items":case"align-content":b.defaults="stretch";break;case"align-self":case"top":case"right":case"bottom":case"left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"background-size":case"cursor":case"flex-basis":b.defaults="auto";break;case"position":b.defaults="static";break;case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"box-shadow-h":case"box-shadow-v":case"box-shadow-spread":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"order":case"flex-grow":b.defaults=0;break;case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":b.defaults="0px";break;case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"flex-shrink":b.defaults=1;break;case"box-shadow-blur":b.defaults="5px";break;case"font-family":b.defaults="Arial, Helvetica, sans-serif";break;case"font-size":case"border-width":b.defaults="medium";break;case"font-weight":b.defaults="400";break;case"letter-spacing":case"line-height":b.defaults="normal";break;case"color":case"text-shadow-color":case"border-color":case"box-shadow-color":b.defaults="black";break;case"text-align":b.defaults="left";break;case"border-style":b.defaults="solid";break;case"box-shadow-type":b.defaults="";break;case"background-repeat":b.defaults="repeat";break;case"background-position":b.defaults="left top";break;case"background-attachment":b.defaults="scroll";break;case"transition-property":b.defaults="width";break;case"transition-duration":b.defaults="2";break;case"transition-timing-function":b.defaults="ease";break;case"overflow":case"overflow-x":case"overflow-y":b.defaults="visible"}switch(G){case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":b.requires={display:["flex"]};break;case"order":case"flex-basis":case"flex-grow":case"flex-shrink":case"align-self":b.requiresParent={display:["flex"]}}switch(G){case"top":case"bottom":case"margin-top":case"margin-bottom":case"padding-top":case"padding-bottom":case"min-height":case"max-height":case"height":b.units=["px","%","vh"];break;case"right":case"left":case"margin-right":case"margin-left":case"padding-right":case"padding-left":case"min-width":case"max-width":case"width":b.units=["px","%","vw"];break;case"flex-basis":b.units=["px","%","vw","vh"];break;case"text-shadow-v":case"text-shadow-h":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"box-shadow-h":case"box-shadow-v":b.units=["px","%"];break;case"font-size":case"letter-spacing":case"line-height":b.units=["px","em","rem","%"];break;case"border-width":b.units=["px","em"];break;case"box-shadow-blur":case"box-shadow-spread":case"perspective":b.units=["px"];break;case"transition-duration":b.units=["s"];break;case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":b.units=["deg"]}switch(G){case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-blur":case"transition-duration":case"perspective":case"flex-basis":b.min=0}switch(G){case"text-shadow":case"box-shadow":case"background":b.preview=!0}switch("background"===G&&(b.detached=!0),G){case"transform-rotate-x":b.functionName="rotateX";break;case"transform-rotate-y":b.functionName="rotateY";break;case"transform-rotate-z":b.functionName="rotateZ";break;case"transform-scale-x":b.functionName="scaleX";break;case"transform-scale-y":b.functionName="scaleY";break;case"transform-scale-z":b.functionName="scaleZ";break;case"background-image":b.functionName="url"}switch(G){case"float":b.list=[{value:"none"},{value:"left"},{value:"right"}];break;case"display":b.list=[{value:"block"},{value:"inline"},{value:"inline-block"},{value:"flex"},{value:"none"}];break;case"flex-direction":b.list=[{value:"row"},{value:"row-reverse"},{value:"column"},{value:"column-reverse"}];break;case"flex-wrap":b.list=[{value:"nowrap"},{value:"wrap"},{value:"wrap-reverse"}];break;case"justify-content":b.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"space-evenly"}];break;case"align-items":b.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"align-content":b.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"stretch"}];break;case"align-self":b.list=[{value:"auto"},{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"position":b.list=[{value:"static"},{value:"relative"},{value:"absolute"},{value:"fixed"}];break;case"font-family":var c=", sans-serif",O=["Arial, Helvetica"+c,"Arial Black, Gadget"+c,"Brush Script MT"+c,"Comic Sans MS, cursive"+c,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+c,"Impact, Charcoal"+c,"Lucida Sans Unicode, Lucida Grande"+c,"Tahoma, Geneva"+c,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+c,"Verdana, Geneva"+c];b.list=[];for(var m=0,V=O.length;m<V;m++){var X={};X.value=O[m],X.name=O[m].split(",")[0],b.list.push(X)}break;case"font-weight":b.list=[{value:"100",name:"Thin"},{value:"200",name:"Extra-Light"},{value:"300",name:"Light"},{value:"400",name:"Normal"},{value:"500",name:"Medium"},{value:"600",name:"Semi-Bold"},{value:"700",name:"Bold"},{value:"800",name:"Extra-Bold"},{value:"900",name:"Ultra-Bold"}];break;case"text-align":b.list=[{value:"left"},{value:"center"},{value:"right"},{value:"justify"}];break;case"border-style":b.list=[{value:"none"},{value:"solid"},{value:"dotted"},{value:"dashed"},{value:"double"},{value:"groove"},{value:"ridge"},{value:"inset"},{value:"outset"}];break;case"box-shadow-type":b.list=[{value:"",name:"Outside"},{value:"inset",name:"Inside"}];break;case"background-repeat":b.list=[{value:"repeat"},{value:"repeat-x"},{value:"repeat-y"},{value:"no-repeat"}];break;case"background-position":b.list=[{value:"left top"},{value:"left center"},{value:"left bottom"},{value:"right top"},{value:"right center"},{value:"right bottom"},{value:"center top"},{value:"center center"},{value:"center bottom"}];break;case"background-attachment":b.list=[{value:"scroll"},{value:"fixed"},{value:"local"}];break;case"background-size":b.list=[{value:"auto"},{value:"cover"},{value:"contain"}];break;case"transition-property":b.list=[{value:"all"},{value:"width"},{value:"height"},{value:"background-color"},{value:"transform"},{value:"box-shadow"},{value:"opacity"}];break;case"transition-timing-function":b.list=[{value:"linear"},{value:"ease"},{value:"ease-in"},{value:"ease-out"},{value:"ease-in-out"}];break;case"cursor":b.list=[{value:"auto"},{value:"pointer"},{value:"copy"},{value:"crosshair"},{value:"grab"},{value:"grabbing"},{value:"help"},{value:"move"},{value:"text"}];break;case"overflow":case"overflow-x":case"overflow-y":b.list=[{value:"visible"},{value:"hidden"},{value:"scroll"},{value:"auto"}]}switch(G){case"margin":b.properties=this.build(["margin-top","margin-right","margin-bottom","margin-left"]);break;case"padding":b.properties=this.build(["padding-top","padding-right","padding-bottom","padding-left"]);break;case"text-shadow":b.properties=this.build(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"]);break;case"border":b.properties=this.build(["border-width","border-style","border-color"]);break;case"border-radius":b.properties=this.build(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]);break;case"box-shadow":b.properties=this.build(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"]);break;case"background":b.properties=this.build(["background-image","background-repeat","background-position","background-attachment","background-size"]);break;case"transition":b.properties=this.build(["transition-property","transition-duration","transition-timing-function"]);break;case"transform":b.properties=this.build(["transform-rotate-x","transform-rotate-y","transform-rotate-z","transform-scale-x","transform-scale-y","transform-scale-z"])}ge.push(b)}return ge}}};var W=function(ne){L()(me,ne);var ge=function(ne){var ge=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(me){return!1}}();return function(){var me,_=A()(ne);if(ge){var b=A()(this).constructor;me=Reflect.construct(_,arguments,b)}else me=_.apply(this,arguments);return R()(this,me)}}(me);function me(){return E()(this,me),ge.apply(this,arguments)}return x()(me,[{key:"defaults",value:function(){return{id:"",name:"",open:!0,buildProps:"",extendBuilded:1,properties:[]}}},{key:"initialize",value:function(_){var O,G=this.buildProperties((_||{}).buildProps),c=this.get("name")||"";!this.get("id")&&this.set("id",c.replace(/ /g,"_").toLowerCase()),O=G?this.extendProperties(G):this.get("properties");var m=new z.default(O);m.sector=this,this.set("properties",m)}},{key:"getId",value:function(){return this.get("id")}},{key:"getName",value:function(){return this.get("name")}},{key:"setName",value:function(_){return this.set("name",_)}},{key:"isOpen",value:function(){return!!this.get("open")}},{key:"setOpen",value:function(_){return this.set("open",_)}},{key:"getProperties",value:function(){var _=this.get("properties");return _.models?he()(_.models):_}},{key:"extendProperties",value:function(_,b,G){for(var c=_.length,O=b||this.get("properties"),m=this.get("extendBuilded"),V=[],X=0,Ee=O.length;X<Ee;X++){for(var He=O[X],Oe=0,Ce=0;Ce<c;Ce++){var Fe=_[Ce];if(He.property==Fe.property||He.id==Fe.property){var Ue=He.properties;Ue&&Ue.length&&(He.properties=this.extendProperties(Fe.properties||[],Ue,1)),_[Ce]=m?Object(re.extend)(Fe,He):He,V[Ce]=_[Ce],Oe=1}}Oe||(_.push(He),V.push(He))}return G?V.filter(function(it){return it}):_}},{key:"buildProperties",value:function(_){var b=_||[];if(b.length)return this.propFactory||(this.propFactory=new H),this.propFactory.build(b)}}]),me}(U.Model);var I=function(ne){L()(me,ne);var ge=function(ne){var ge=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(me){return!1}}();return function(){var me,_=A()(ne);if(ge){var b=A()(this).constructor;me=Reflect.construct(_,arguments,b)}else me=_.apply(this,arguments);return R()(this,me)}}(me);function me(){return E()(this,me),ge.apply(this,arguments)}return x()(me,[{key:"initialize",value:function(){this.listenTo(this,"reset",this.onReset)}},{key:"onReset",value:function(_){((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels||[]).forEach(function(c){return c.get("properties").reset()})}}]),me}(U.Collection);I.prototype.model=W;var p,y=h(1),C=h(13),B=h(19),K=h.n(B),te=h(17),$e=h(28);var ye=function(ne){L()(me,ne);var ge=function(ne){var ge=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(me){return!1}}();return function(){var me,_=A()(ne);if(ge){var b=A()(this).constructor;me=Reflect.construct(_,arguments,b)}else me=_.apply(this,arguments);return R()(this,me)}}(me);function me(){return E()(this,me),ge.apply(this,arguments)}return x()(me,[{key:"template",value:function(_){var b=_.pfx,G=_.label;return Object(te.a)(p||(p=K()(['\n      <div class="','title" data-sector-title>\n        <i id="','caret" class="fa"></i>\n        ',"\n      </div>\n    "])),b,b,G)}},{key:"events",value:function(){return{"click [data-sector-title]":"toggle"}}},{key:"initialize",value:function(_){this.config=_.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.target=_.target||{},this.propTarget=_.propTarget||{},this.caretR="fa-caret-right",this.caretD="fa-caret-down";var b=this.model;this.listenTo(b,"change:open",this.updateOpen),this.listenTo(b,"updateVisibility",this.updateVisibility),this.listenTo(b,"destroy remove",this.remove)}},{key:"updateVisibility",value:function(){var _;this.model.get("properties").each(function(b){b.get("visible")&&(_=1)}),this.el.style.display=_?"":"none"}},{key:"updateOpen",value:function(){this.model.get("open")?this.show():this.hide()}},{key:"show",value:function(){this.$el.addClass(this.pfx+"open"),this.getPropertiesEl().style.display="",this.$caret.removeClass(this.caretR).addClass(this.caretD)}},{key:"hide",value:function(){this.$el.removeClass(this.pfx+"open"),this.getPropertiesEl().style.display="none",this.$caret.removeClass(this.caretD).addClass(this.caretR)}},{key:"getPropertiesEl",value:function(){return this.$el.find(".".concat(this.pfx,"properties")).get(0)}},{key:"toggle",value:function(_){var b=this.model,G=b.get("open")?0:1;b.set("open",G)}},{key:"render",value:function(){var _=this.pfx,G=this.em,c=this.$el,O=this.model.attributes,m=O.id,V=O.name,X=G&&G.t("styleManager.sectors.".concat(m))||V;return c.html(this.template({pfx:_,label:X})),this.$caret=c.find("#".concat(_,"caret")),this.renderProperties(),c.attr("class","".concat(_,"sector ").concat(_,"sector__").concat(m," no-select")),this.updateOpen(),this}},{key:"renderProperties",value:function(){var b=this.target,G=this.propTarget,c=this.config,O=this.model.get("properties");if(O){var m=new $e.default({collection:O,target:b,propTarget:G,config:c});this.$el.append(m.render().el)}}}]),me}(U.View);function Re(ne,ge){var me=Object.keys(ne);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(ne);ge&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(ne,b).enumerable})),me.push.apply(me,_)}return me}function Pe(ne){for(var ge=1;ge<arguments.length;ge++){var me=null!=arguments[ge]?arguments[ge]:{};ge%2?Re(Object(me),!0).forEach(function(_){se()(ne,_,me[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(me)):Re(Object(me)).forEach(function(_){Object.defineProperty(ne,_,Object.getOwnPropertyDescriptor(me,_))})}return ne}var Me="hc-state",Le=T.a.View.extend({initialize:function(){var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ge=ne.config||{};this.pfx=ge.stylePrefix||"",this.ppfx=ge.pStylePrefix||"",this.target=ne.target||{},this.config=ge;var me={};Object(re.extend)(me,T.a.Events);var _=document.body,b=document.createElement("el-".concat((new Date).getTime()));_.appendChild(b),me.computedDefault=Pe({},window.getComputedStyle(b)),_.removeChild(b),this.propTarget=me;var G=this.collection,c="component:toggled component:update:classes change:state change:device frame:resized";this.listenTo(G,"add",this.addTo),this.listenTo(G,"reset",this.render),this.listenTo(this.target,c,this.targetUpdated)},remove:function(){var ne=this;T.a.View.prototype.remove.apply(this,arguments),["target","config","propTarget"].forEach(function(ge){return ne[ge]={}})},addTo:function(ne,ge){this.addToCollection(ne,null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},toggleStateCls:function(){var ge=arguments.length>1?arguments[1]:void 0;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(me){var _=me.getEl();_&&_.classList&&_.classList[ge?"add":"remove"](Me)})},targetUpdated:function(ne){var ge=this.target,me=this.propTarget,_=ge.getSelectedAll(),b=ge.getSelected(),G=ne&&ne.toHTML?ne:b;if(G&&this.toggleStateCls([G]),b){var c=ge.get("Config").devicePreviewMode?"":ge.get("state"),O=ge.get("SelectorManager").getConfig().componentFirst,m=b.getEl();if(me.helper=null,me.targets=null,m&&Object(y.isTaggableNode)(m)){var V=c?":".concat(c):null;me.computed=window.getComputedStyle(m,V)}var X=ge.get("StyleManager"),Ee=X.getModelToStyle(b);c&&(function(){var He=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Oe=ge.get("CssComposer"),Ce=Oe.getAll(),Fe=Oe.getClassRule(Me);Fe?(Ce.remove(Fe),Ce.add(Fe)):Fe=Oe.setClassRule(Me),Fe.set("important",1),Fe.setStyle(He),me.helper=Fe}(Ee.getStyle()),this.toggleStateCls(_,1)),me.model=Ee,me.parentRules=X.getParentRules(Ee,c),O&&(me.targets=_.map(function(He){return X.getModelToStyle(He)}).filter(Boolean)),me.trigger("update"),ge.trigger("styleManager:update")}},setTarget:function(ne){var ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},me=this.target,_=Object(re.isArray)(ne)?ne:[ne],b=ge.targetIsClass,G=ge.stylable,c=[];_.forEach(function(m){var V=m;if(Object(re.isString)(m)){var X,Ee=me.get("CssComposer").getAll();b&&(X=Ee.filter(function(He){return He.get("selectors").getFullString()===m})[0]),X||(X=Ee.filter(function(He){return He.get("selectorsAdd")===m})[0]),X||(X=Ee.add({selectors:[],selectorsAdd:m})),G&&X.set({stylable:G}),V=X}c.push(V)});var O=this.propTarget;return O.targets=c,O.trigger("update",{targets:c}),c},addToCollection:function(ne,ge){var me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=this.target,G=this.propTarget,c=this.config,m=ge||this.el,V=new ye({model:ne,id:"".concat(this.pfx).concat(ne.get("id")),name:ne.get("name"),properties:ne.get("properties"),target:b,propTarget:G,config:c}).render().el;return Object(C.b)(m,V,me.at),V},render:function(){var ne=this,ge=document.createDocumentFragment(),me=this.$el,_=this.pfx,b=this.ppfx;return me.empty(),this.collection.each(function(G){return ne.addToCollection(G,ge)}),me.append(ge),me.addClass("".concat(_,"sectors ").concat(b,"one-bg ").concat(b,"two-color")),this}});function _e(ne,ge){var me=Object.keys(ne);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(ne);ge&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(ne,b).enumerable})),me.push.apply(me,_)}return me}function ie(ne){for(var ge=1;ge<arguments.length;ge++){var me=null!=arguments[ge]?arguments[ge]:{};ge%2?_e(Object(me),!0).forEach(function(_){se()(ne,_,me[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(me)):_e(Object(me)).forEach(function(_){Object.defineProperty(ne,_,Object.getOwnPropertyDescriptor(me,_))})}return ne}ve.default=function(){var ne,ge,me,_={};return ie(ie({},Q.a),{},{Sector:W,PropertyFactory:{build:function(b){var G=[];"string"==typeof b&&(b=[b]);for(var c=0,O=b.length;c<O;c++){var m={},V=b[c];switch("border-radius-c"===(m.property=V,V)&&(m.property="border-radius"),V){case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"width":case"max-width":case"min-width":case"height":case"max-height":case"min-height":case"flex-basis":m.fixedValues=["initial","inherit","auto"];break;case"font-size":m.fixedValues=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"];break;case"letter-spacing":case"line-height":m.fixedValues=["normal","initial","inherit"]}switch(V){case"float":case"position":case"text-align":m.type="radio";break;case"display":case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":case"align-self":case"font-family":case"font-weight":case"border-style":case"box-shadow-type":case"background-repeat":case"background-position":case"background-attachment":case"background-size":case"transition-property":case"transition-timing-function":case"cursor":case"overflow":case"overflow-x":case"overflow-y":m.type="select";break;case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"letter-spacing":case"line-height":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-h":case"box-shadow-v":case"box-shadow-blur":case"box-shadow-spread":case"transition-duration":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"order":case"flex-grow":case"flex-shrink":case"flex-basis":m.type="integer";break;case"margin":case"padding":case"border-radius":case"border":case"transform":m.type="composite";break;case"color":case"text-shadow-color":case"background-color":case"border-color":case"box-shadow-color":m.type="color";break;case"text-shadow":case"box-shadow":case"background":case"transition":m.type="stack";break;case"background-image":m.type="file"}switch(V){case"float":case"background-color":case"text-shadow":m.defaults="none";break;case"display":m.defaults="block";break;case"flex-direction":m.defaults="row";break;case"flex-wrap":m.defaults="nowrap";break;case"justify-content":m.defaults="flex-start";break;case"align-items":case"align-content":m.defaults="stretch";break;case"align-self":case"top":case"right":case"bottom":case"left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"background-size":case"cursor":case"flex-basis":m.defaults="auto";break;case"position":m.defaults="static";break;case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"box-shadow-h":case"box-shadow-v":case"box-shadow-spread":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"order":case"flex-grow":m.defaults=0;break;case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":m.defaults="0px";break;case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"flex-shrink":m.defaults=1;break;case"box-shadow-blur":m.defaults="5px";break;case"font-family":m.defaults="Arial, Helvetica, sans-serif";break;case"font-size":case"border-width":m.defaults="medium";break;case"font-weight":m.defaults="400";break;case"letter-spacing":case"line-height":m.defaults="normal";break;case"color":case"text-shadow-color":case"border-color":case"box-shadow-color":m.defaults="black";break;case"text-align":m.defaults="left";break;case"border-style":m.defaults="solid";break;case"box-shadow-type":m.defaults="";break;case"background-repeat":m.defaults="repeat";break;case"background-position":m.defaults="left top";break;case"background-attachment":m.defaults="scroll";break;case"transition-property":m.defaults="width";break;case"transition-duration":m.defaults="2";break;case"transition-timing-function":m.defaults="ease";break;case"overflow":case"overflow-x":case"overflow-y":m.defaults="visible"}switch(V){case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":m.requires={display:["flex"]};break;case"order":case"flex-basis":case"flex-grow":case"flex-shrink":case"align-self":m.requiresParent={display:["flex"]}}switch(V){case"top":case"bottom":case"margin-top":case"margin-bottom":case"padding-top":case"padding-bottom":case"min-height":case"max-height":case"height":m.units=["px","%","vh"];break;case"right":case"left":case"margin-right":case"margin-left":case"padding-right":case"padding-left":case"min-width":case"max-width":case"width":m.units=["px","%","vw"];break;case"flex-basis":m.units=["px","%","vw","vh"];break;case"text-shadow-v":case"text-shadow-h":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"box-shadow-h":case"box-shadow-v":m.units=["px","%"];break;case"font-size":case"letter-spacing":case"line-height":m.units=["px","em","rem","%"];break;case"border-width":m.units=["px","em"];break;case"box-shadow-blur":case"box-shadow-spread":case"perspective":m.units=["px"];break;case"transition-duration":m.units=["s"];break;case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":m.units=["deg"]}switch(V){case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-blur":case"transition-duration":case"perspective":case"flex-basis":m.min=0}switch(V){case"text-shadow":case"box-shadow":case"background":m.preview=!0}switch("background"===V&&(m.detached=!0),V){case"transform-rotate-x":m.functionName="rotateX";break;case"transform-rotate-y":m.functionName="rotateY";break;case"transform-rotate-z":m.functionName="rotateZ";break;case"transform-scale-x":m.functionName="scaleX";break;case"transform-scale-y":m.functionName="scaleY";break;case"transform-scale-z":m.functionName="scaleZ";break;case"background-image":m.functionName="url"}switch(V){case"float":m.list=[{value:"none"},{value:"left"},{value:"right"}];break;case"display":m.list=[{value:"block"},{value:"inline"},{value:"inline-block"},{value:"flex"},{value:"none"}];break;case"flex-direction":m.list=[{value:"row"},{value:"row-reverse"},{value:"column"},{value:"column-reverse"}];break;case"flex-wrap":m.list=[{value:"nowrap"},{value:"wrap"},{value:"wrap-reverse"}];break;case"justify-content":m.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"space-evenly"}];break;case"align-items":m.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"align-content":m.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"stretch"}];break;case"align-self":m.list=[{value:"auto"},{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"position":m.list=[{value:"static"},{value:"relative"},{value:"absolute"},{value:"fixed"}];break;case"font-family":var X=", sans-serif",Ee=["Arial, Helvetica"+X,"Arial Black, Gadget"+X,"Brush Script MT"+X,"Comic Sans MS, cursive"+X,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+X,"Impact, Charcoal"+X,"Lucida Sans Unicode, Lucida Grande"+X,"Tahoma, Geneva"+X,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+X,"Verdana, Geneva"+X];m.list=[];for(var He=0,Oe=Ee.length;He<Oe;He++){var Ce={};Ce.value=Ee[He],Ce.name=Ee[He].split(",")[0],m.list.push(Ce)}break;case"font-weight":m.list=[{value:"100",name:"Thin"},{value:"200",name:"Extra-Light"},{value:"300",name:"Light"},{value:"400",name:"Normal"},{value:"500",name:"Medium"},{value:"600",name:"Semi-Bold"},{value:"700",name:"Bold"},{value:"800",name:"Extra-Bold"},{value:"900",name:"Ultra-Bold"}];break;case"text-align":m.list=[{value:"left"},{value:"center"},{value:"right"},{value:"justify"}];break;case"border-style":m.list=[{value:"none"},{value:"solid"},{value:"dotted"},{value:"dashed"},{value:"double"},{value:"groove"},{value:"ridge"},{value:"inset"},{value:"outset"}];break;case"box-shadow-type":m.list=[{value:"",name:"Outside"},{value:"inset",name:"Inside"}];break;case"background-repeat":m.list=[{value:"repeat"},{value:"repeat-x"},{value:"repeat-y"},{value:"no-repeat"}];break;case"background-position":m.list=[{value:"left top"},{value:"left center"},{value:"left bottom"},{value:"right top"},{value:"right center"},{value:"right bottom"},{value:"center top"},{value:"center center"},{value:"center bottom"}];break;case"background-attachment":m.list=[{value:"scroll"},{value:"fixed"},{value:"local"}];break;case"background-size":m.list=[{value:"auto"},{value:"cover"},{value:"contain"}];break;case"transition-property":m.list=[{value:"all"},{value:"width"},{value:"height"},{value:"background-color"},{value:"transform"},{value:"box-shadow"},{value:"opacity"}];break;case"transition-timing-function":m.list=[{value:"linear"},{value:"ease"},{value:"ease-in"},{value:"ease-out"},{value:"ease-in-out"}];break;case"cursor":m.list=[{value:"auto"},{value:"pointer"},{value:"copy"},{value:"crosshair"},{value:"grab"},{value:"grabbing"},{value:"help"},{value:"move"},{value:"text"}];break;case"overflow":case"overflow-x":case"overflow-y":m.list=[{value:"visible"},{value:"hidden"},{value:"scroll"},{value:"auto"}]}switch(V){case"margin":m.properties=this.build(["margin-top","margin-right","margin-bottom","margin-left"]);break;case"padding":m.properties=this.build(["padding-top","padding-right","padding-bottom","padding-left"]);break;case"text-shadow":m.properties=this.build(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"]);break;case"border":m.properties=this.build(["border-width","border-style","border-color"]);break;case"border-radius":m.properties=this.build(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]);break;case"box-shadow":m.properties=this.build(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"]);break;case"background":m.properties=this.build(["background-image","background-repeat","background-position","background-attachment","background-size"]);break;case"transition":m.properties=this.build(["transition-property","transition-duration","transition-timing-function"]);break;case"transform":m.properties=this.build(["transform-rotate-x","transform-rotate-y","transform-rotate-z","transform-scale-x","transform-scale-y","transform-scale-z"])}G.push(m)}return G}},name:"StyleManager",getConfig:function(){return _},init:function(b){var G=this,c=(_=ie(ie({},v),b)).pStylePrefix,O=_.em;return this.em=O,c&&(_.stylePrefix=c+_.stylePrefix),ne=new z.default,ge=new I([],_),this.model=new U.Model({targets:[]}),O.on("component:toggled component:update:classes change:state change:device frame:resized selector:type",Object(re.debounce)(function(){G.select(O.getSelectedAll()),O.trigger("style:custom")})),this},onLoad:function(){ge.add(_.sectors,{silent:!0})},postRender:function(){var b=this.getConfig().appendTo;if(b){var G=Object(re.isElement)(b)?b:document.querySelector(b);if(!G)return this.__logWarn('"appendTo" element not found');G.appendChild(this.render())}},addSector:function(b,G){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},O=this.getSector(b);return O||(G.id=b,O=ge.add(G,c)),O},getSector:function(b){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ge.where({id:b})[0];return!c&&G.warn&&this._logNoSector(b),c||null},removeSector:function(b){return this.getSectors().remove(this.getSector(b,{warn:1}))},getSectors:function(){return ge&&ge.models?(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).array?he()(ge.models):ge:[]},addProperty:function(b,G){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},O=this.getSector(b,{warn:1}),m=null;return O&&(m=O.get("properties").add(G,c)),m},getProperty:function(b,G){var c,O=this.getSector(b,{warn:1});return O&&(c=O.get("properties").filter(function(m){return m.get("property")===G||m.get("id")===G})[0]),c||null},removeProperty:function(b,G){var c=this.getProperties(b);return c&&c.remove(this.getProperty(b,G))},getProperties:function(b){var G=null,c=this.getSector(b,{warn:1});return c&&(G=c.get("properties")),G},getModelToStyle:function(b){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=_.em,O=G.skipAdd,m=b.get("classes"),V=b.getId();if(c&&m){var X,Ee=c.getConfig(),He=c.get("UndoManager"),Oe=c.get("CssComposer"),Ce=c.get("SelectorManager"),Fe=Ce?Ce.getConfig():{},Ue=Ee.devicePreviewMode?"":c.get("state"),it=m.getStyleable(),xt=it.length,pt=!Fe.componentFirst||G.useClasses,kt={noCount:1},Nt={state:Ue,addOpts:kt};if(He.stop(),xt&&pt){var ae=c.getCurrentMedia();(X=Oe.get(it,Ue,ae))||O||(X=Oe.add(it,Ue,ae,{},kt))}else Ee.avoidInlineStyle&&(!(X=Oe.getIdRule(V,Nt))&&!O&&(X=Oe.setIdRule(V,{},Nt)),b.is("wrapper")&&X.set("wrapper",1,kt));X&&(b=X),He.start()}return b},getParentRules:function(b,G){var c=_.em,O=[];if(c&&b){var m=c.get("CssComposer"),V=c.get("CodeManager").getGenerator("css"),X=m.getRules(b.getSelectors().getFullString()).filter(function(Ee){return G?Ee.get("state")===G:1}).sort(V.sortRules).reverse();O=X.slice(X.indexOf(b)+1)}return O},addType:function(b,G){ne.addType(b,G)},getType:function(b){return ne.getType(b)},getTypes:function(){return ne.getTypes()},createType:function(b){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=G.model,O=void 0===c?{}:c,m=G.view,V=void 0===m?{}:m,X=this.getType(b);if(X)return new X.view(ie({model:new X.model(O),config:_},V))},setTarget:function(b,G){return me.setTarget(b,G)},getTargets:function(){var b=(me||{}).propTarget;return b&&b.targets||[]},select:function(b){var G=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=this.em,m=Object(re.isArray)(b)?b:[b],V=c.stylable,X=O.get("CssComposer"),Ee=[];m.filter(Boolean).forEach(function(Ce){var Fe=Ce;if(Object(re.isString)(Ce)){var Ue=X.getRule(Ce)||X.setRule(Ce);!Object(re.isUndefined)(V)&&Ue.set({stylable:V}),Fe=Ue}Ee.push(Fe)});var He=(Ee=Ee.map(function(Ce){return G.getModelToStyle(Ce)})).slice().reverse()[0],Oe=this.getParentRules(He);return this.model.set({targets:Ee,lastTarget:He,lastTargetParents:Oe}),Ee},getSelected:function(){return this.model.get("targets")},getLastSelected:function(){return this.model.get("lastTarget")||null},getSelectedParents:function(){return this.model.get("lastTargetParents")||[]},getEmitter:function(){return me.propTarget},render:function(){return(me=new Le({el:me&&me.el,collection:ge,target:_.em,config:_})).render().el},_logNoSector:function(b){var G=this.em;G&&G.logWarning("'".concat(b,"' sector not found"))},destroy:function(){[ne,ge].forEach(function(b){b.reset(),b.stopListening()}),me&&me.remove(),[_,ne,ge,me].forEach(function(b){return{}}),this.em={}}})}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(0),he={stylePrefix:"cm-",inlineCss:!1},de=h(3),se=h.n(de),re=h(5),Q=h.n(re),U=h(6),T=h.n(U),v=h(8),S=h.n(v),E=h(9),D=h.n(E),x=h(4),P=h.n(x),L=h(2),N=h.n(L);function R(ye,Re){var Pe=Object.keys(ye);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(ye);Re&&(Me=Me.filter(function(Le){return Object.getOwnPropertyDescriptor(ye,Le).enumerable})),Pe.push.apply(Pe,Me)}return Pe}function M(ye){for(var Re=1;Re<arguments.length;Re++){var Pe=null!=arguments[Re]?arguments[Re]:{};Re%2?R(Object(Pe),!0).forEach(function(Me){se()(ye,Me,Pe[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(Pe)):R(Object(Pe)).forEach(function(Me){Object.defineProperty(ye,Me,Object.getOwnPropertyDescriptor(Pe,Me))})}return ye}var z,H=function(ye){S()(Pe,ye);var Re=function(ye){var Re=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Pe){return!1}}();return function(){var Pe,Me=P()(ye);if(Re){var Le=P()(this).constructor;Pe=Reflect.construct(Me,arguments,Le)}else Pe=Me.apply(this,arguments);return D()(this,Pe)}}(Pe);function Pe(){return Q()(this,Pe),Re.apply(this,arguments)}return T()(Pe,[{key:"build",value:function(Me){var Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=Me.components(),ie={},ne=Le.em;if(Le.cleanId&&ne){var me=ne.get("CssComposer").getAll().toJSON().map(function(_){var b=_.selectors,G=b&&1===b.length&&b.models[0];return G&&G.isId()&&G.get("name")}).filter(function(_){return _});ie.attributes=function(_,b){var G=b.id;return G&&"i"===G[0]&&!_.get("script")&&!_.get("attributes").id&&me.indexOf(G)<0&&delete b.id,b}}return Le.exportWrapper?Me.toHTML(M(M({},ie),Le.wrapperIsBody&&Me.is("wrapper")&&{tag:"body"})):this.buildModels(_e,ie)}},{key:"buildModels",value:function(Me){var Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e="";return Me.forEach(function(ie){return _e+=ie.toHTML(Le)}),_e}}]),Pe}(L.Model),F=h(39),W=N.a.Model.extend({build:function(ye){var Re=ye.toJSON();return this.beforeEach(Re),Object(ce.each)(Re,function(Pe,Me){var Le=Re[Me];if(Le instanceof N.a.Model)Re[Me]=this.build(Le);else if(Le instanceof N.a.Collection){var _e=Le;Re[Me]=[],_e.length&&_e.each(function(ie,ne){Re[Me][ne]=this.build(ie)},this)}},this),Re},beforeEach:function(ye){delete ye.status}}),k=N.a.Model.extend({mapModel:function(ye){var Re="",Pe=ye.get("script-export")||ye.get("script"),Me=ye.get("type"),Le=ye.get("components"),_e=ye.getId();if(Pe){var ie=ye.get("attributes");ie=Object(ce.extend)({},ie,{id:_e}),ye.set("attributes",ie,{silent:1});var ne=ye.getScriptString(Pe),ge=ye.get("script-props");if(ye.get("scriptUpdated")&&!ge)this.mapJs[Me+"-"+_e]={ids:[_e],code:ne};else{var me,_=this.mapJs[Me];if(ge&&(me=ye.__getScriptProps()),_)_.ids.push(_e),me&&(_.props[_e]=me);else{var b={ids:[_e],code:ne};me&&(b.props=se()({},_e,me)),this.mapJs[Me]=b}}}return Le.each(function(G){Re+=this.mapModel(G)},this),Re},build:function(ye){this.mapJs={},this.mapModel(ye);var Re="";for(var Pe in this.mapJs){var Me=this.mapJs[Pe];if(Me.props)Re+="\n          var props = ".concat(JSON.stringify(Me.props),";\n          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');\n          var els = document.querySelectorAll(ids);\n          for (var i = 0, len = els.length; i < len; i++) {\n            var el = els[i];\n            (").concat(Me.code,".bind(el))(props[el.id]);\n          }");else{var Le="#"+Me.ids.join(", #");Re+="\n          var items = document.querySelectorAll('".concat(Le,"');\n          for (var i = 0, len = items.length; i < len; i++) {\n            (function(){\n").concat(Me.code,"\n}.bind(items[i]))();\n          }")}}return Re}}),I=h(1);function p(ye,Re){var Pe=Object.keys(ye);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(ye);Re&&(Me=Me.filter(function(Le){return Object.getOwnPropertyDescriptor(ye,Le).enumerable})),Pe.push.apply(Pe,Me)}return Pe}Object(I.hasWin)()&&(z=h(27),h(89),h(51),h(92));var y,C=N.a.Model.extend({CodeMirror:z,defaults:{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0},init:function(ye){return Object(ce.bindAll)(this,"onChange"),this.editor=z.fromTextArea(ye,function(Re){for(var Pe=1;Pe<arguments.length;Pe++){var Me=null!=arguments[Pe]?arguments[Pe]:{};Pe%2?p(Object(Me),!0).forEach(function(Le){se()(Re,Le,Me[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(Me)):p(Object(Me)).forEach(function(Le){Object.defineProperty(Re,Le,Object.getOwnPropertyDescriptor(Me,Le))})}return Re}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=ye,this.editor.on("change",this.onChange),this},onChange:function(){this.trigger("update",this)},getEditor:function(){return this.editor},getElement:function(){return this.element},setElement:function(ye){return this.element=ye,this},refresh:function(){return this.getEditor().refresh(),this},focus:function(){return this.getEditor().focus(),this},getContent:function(){var ye=this.getEditor();return ye&&ye.getValue()},setContent:function(ye){var Re=this,Pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Me=this.editor;Me&&(Me.setValue(ye),Me.autoFormatRange&&(z.commands.selectAll(Me),Me.autoFormatRange(Me.getCursor(!0),Me.getCursor(!1)),z.commands.goDocStart(Me)),!Pe.noRefresh&&setTimeout(function(){return Re.refresh()}))}}),B=h(19),K=h.n(B),te=h(17);var ue=function(ye){S()(Pe,ye);var Re=function(ye){var Re=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Pe){return!1}}();return function(){var Pe,Me=P()(ye);if(Re){var Le=P()(this).constructor;Pe=Reflect.construct(Me,arguments,Le)}else Pe=Me.apply(this,arguments);return D()(this,Pe)}}(Pe);function Pe(){return Q()(this,Pe),Re.apply(this,arguments)}return T()(Pe,[{key:"template",value:function(Me){var Le=Me.pfx,_e=Me.codeName,ie=Me.label;return Object(te.a)(y||(y=K()(['\n      <div class="','editor" id="',"",'">\n        <div id="','title">','</div>\n        <div id="','code"></div>\n      </div>\n    '])),Le,Le,_e,Le,ie,Le)}},{key:"initialize",value:function(Me){this.config=Me.config||{},this.pfx=this.config.stylePrefix}},{key:"render",value:function(){var Me=this.model,Le=this.pfx,_e=this.$el,ie=Me.toJSON();return ie.pfx=Le,_e.html(this.template(ie)),_e.attr("class","".concat(Le,"editor-c")),_e.find("#".concat(Le,"code")).append(Me.get("input")),this}}]),Pe}(L.View);ve.default=function(){var ye={},Re={},Pe={},Me={},Le={},_e="CodeMirror";return{getConfig:function(){return ye},config:ye,EditorView:ue,name:"CodeManager",init:function(ie){for(var ne in ye=ie||{},he)ne in ye||(ye[ne]=he[ne]);var ge=ye.pStylePrefix;return ge&&(ye.stylePrefix=ge+ye.stylePrefix),Pe.html=new H,Pe.css=new F.a,Pe.json=new W,Pe.js=new k,Le.CodeMirror=new C,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(ie,ne){return Re[ie]=ne,this},getGenerator:function(ie){return Re[ie]||null},getGenerators:function(){return Re},addViewer:function(ie,ne){return Me[ie]=ne,this},getViewer:function(ie){return Me[ie]||null},getViewers:function(){return Me},createViewer:function(){var ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=Object(ce.isUndefined)(ie.type)?_e:ie.type,ge=this.getViewer(ne)&&this.getViewer(ne).clone(),me=document.createElement("div"),_=document.createElement("textarea");return me.appendChild(_),ge.set(ie),ge.init(_),ge.setElement(me),ge},updateViewer:function(ie,ne){ie.setContent(ne)},getCode:function(ie,ne){var ge=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ge.em=ye.em;var me=this.getGenerator(ne);return me?me.build(ie,ge):""},loadDefaultGenerators:function(){for(var ie in Pe)this.addGenerator(ie,Pe[ie]);return this},loadDefaultViewers:function(){for(var ie in Le)this.addViewer(ie,Le[ie]);return this},destroy:function(){[ye,Re,Pe,Me,Le].forEach(function(ie){return{}})}}}},function(nt,ve,h){"use strict";h.r(ve),h.d(ve,"evAll",function(){return B}),h.d(ve,"evPfx",function(){return K}),h.d(ve,"evSelect",function(){return te}),h.d(ve,"evSelectBefore",function(){return $e}),h.d(ve,"evUpdate",function(){return ue}),h.d(ve,"evAdd",function(){return ye}),h.d(ve,"evAddBefore",function(){return Re}),h.d(ve,"evRemove",function(){return Pe}),h.d(ve,"evRemoveBefore",function(){return Me});var ce=h(3),he=h.n(ce),de=h(0),se=h(21),re={default:null,devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"768px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]},Q=h(5),U=h.n(Q),T=h(6),v=h.n(T),S=h(8),E=h.n(S),D=h(9),x=h.n(D),P=h(4),L=h.n(P),N=h(2);var M=function(_e){E()(ne,_e);var ie=function(_e){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ne){return!1}}();return function(){var ne,ge=L()(_e);if(ie){var me=L()(this).constructor;ne=Reflect.construct(ge,arguments,me)}else ne=ge.apply(this,arguments);return x()(this,ne)}}(ne);function ne(){return U()(this,ne),ie.apply(this,arguments)}return v()(ne,[{key:"defaults",value:function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}}},{key:"initialize",value:function(){var ge=this;null===this.get("widthMedia")&&this.set("widthMedia",this.get("width")),null===this.get("width")&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(me){return ge.checkUnit(me)})}},{key:"checkUnit",value:function(ge){var me=this.get(ge)||"";(parseFloat(me)||0).toString()===me.toString()&&this.set(ge,"".concat(me,"px"))}}]),ne}(N.Model);var z=function(_e){E()(ne,_e);var ie=function(_e){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ne){return!1}}();return function(){var ne,ge=L()(_e);if(ie){var me=L()(this).constructor;ne=Reflect.construct(ge,arguments,me)}else ne=ge.apply(this,arguments);return x()(this,ne)}}(ne);function ne(){return U()(this,ne),ie.apply(this,arguments)}return v()(ne,[{key:"comparator",value:function(ge,me){var _=Number.MAX_VALUE;return(me.get("priority")||_)-(ge.get("priority")||_)}},{key:"getSorted",value:function(){return this.sort()}}]),ne}(N.Collection);z.prototype.model=M;var H,F=h(19),W=h.n(F),k=h(17);var p=function(_e){E()(ne,_e);var ie=function(_e){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ne){return!1}}();return function(){var ne,ge=L()(_e);if(ie){var me=L()(this).constructor;ne=Reflect.construct(ge,arguments,me)}else ne=ge.apply(this,arguments);return x()(this,ne)}}(ne);function ne(){return U()(this,ne),ie.apply(this,arguments)}return v()(ne,[{key:"template",value:function(ge){var me=ge.ppfx,_=ge.label;return Object(k.a)(H||(H=W()(['\n      <div class="','device-label">','</div>\n      <div class="',"field ",'select">\n        <span id="','input-holder">\n          <select class="','devices"></select>\n        </span>\n        <div class="','sel-arrow">\n          <div class="','d-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="','add-trasp">+</button>\n    '])),me,_,me,me,me,me,me,me,me)}},{key:"events",value:function(){return{change:"updateDevice"}}},{key:"initialize",value:function(ge){this.config=ge.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()}},{key:"startAdd",value:function(){}},{key:"updateDevice",value:function(){var ge=this.em;if(ge){var me=this.devicesEl,_=me?me.val():"";ge.set("device",_)}}},{key:"updateSelect",value:function(){var ge=this.em,me=this.devicesEl;if(ge&&ge.getDeviceModel&&me){var _=ge.getDeviceModel(),b=_?_.get("id"):"";me.val(b)}}},{key:"getOptions",value:function(){var me=this.em,_="";return this.collection.each(function(b){var G=b.attributes,c=G.name,O=G.id,m=me&&me.t&&me.t("deviceManager.devices.".concat(O))||c;_+='<option value="'.concat(O||c,'">').concat(m,"</option>")}),_}},{key:"render",value:function(){var ge=this.em,me=this.ppfx,_=this.$el,b=this.el,G=ge&&ge.t&&ge.t("deviceManager.device");return _.html(this.template({ppfx:me,label:G})),this.devicesEl=_.find(".".concat(me,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(ge.get("device")),b.className="".concat(me,"devices-c"),this}}]),ne}(N.View);function y(_e,ie){var ne=Object.keys(_e);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(_e);ie&&(ge=ge.filter(function(me){return Object.getOwnPropertyDescriptor(_e,me).enumerable})),ne.push.apply(ne,ge)}return ne}function C(_e){for(var ie=1;ie<arguments.length;ie++){var ne=null!=arguments[ie]?arguments[ie]:{};ie%2?y(Object(ne),!0).forEach(function(ge){he()(_e,ge,ne[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ne)):y(Object(ne)).forEach(function(ge){Object.defineProperty(_e,ge,Object.getOwnPropertyDescriptor(ne,ge))})}return _e}var B="device",K="".concat(B,":"),te="".concat(K,"select"),$e="".concat(te,":before"),ue="".concat(K,"update"),ye="".concat(K,"add"),Re="".concat(ye,":before"),Pe="".concat(K,"remove"),Me="".concat(Pe,":before"),Le="change:device";ve.default=function(){var _e,ie,ne={};return C(C({},se.a),{},{name:"DeviceManager",Device:M,Devices:z,events:{all:B,select:te,update:ue,add:ye,remove:Pe,removeBefore:Me},init:function(){var ge=this,me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=(ne=C(C({},re),me)).em;return _e=new z,ne.devices.forEach(function(G){return ge.add(G)}),this.em=b,this.all=_e,this.select(ne.default||_e.at(0)),this.__initListen(),b.on(Le,this._onSelect,this),this},_onSelect:function(ge,me,_){var b=this.em,G=this.events,c=ge.previous("device"),O=this.get(me),m=G.select;b.trigger(m,O,this.get(c)),this.__catchAllEvent(m,O,_)},add:function(ge){var me,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=_;if(Object(de.isString)(ge)){var G=_;me=C(C({},b=arguments[2]||{}),{},{id:ge,name:b.name||ge,width:G})}else me=ge;return me.id||(me.id=me.name||this._createId()),_e.add(me,b)},get:function(ge){return this.getAll().filter(function(me){return me.get("name")===ge})[0]||_e.get(ge)||null},remove:function(ge){return this.__remove(ge,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},getDevices:function(){return _e.models},select:function(ge){var me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=Object(de.isString)(ge)?this.get(ge):ge;return _&&this.em.set("device",_.get("id"),me),this},getSelected:function(){return this.get(this.em.get("device"))},getAll:function(){return _e},render:function(){return ie&&ie.remove(),(ie=new p({collection:_e,config:ne})).render().el},destroy:function(){_e.stopListening(),_e.reset(),ie&&ie.remove(),[_e,ie].forEach(function(ge){return null}),ne={}}})}},function(nt,ve,h){"use strict";h.r(ve),h.d(ve,"evAll",function(){return $e}),h.d(ve,"evPfx",function(){return ue}),h.d(ve,"evAdd",function(){return ye}),h.d(ve,"evUpdate",function(){return Re}),h.d(ve,"evRemove",function(){return Pe}),h.d(ve,"evRemoveBefore",function(){return Me}),h.d(ve,"evCustom",function(){return Le}),h.d(ve,"evState",function(){return _e});var ce=h(11),he=h.n(ce),de=h(3),se=h.n(de),re=h(0),Q=h(1),U=h(2),T=h.n(U),v=h(21),S={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:0,custom:!1},E=h(16),D=h(20),x=h(5),P=h.n(x),L=h(6),N=h.n(L),R=h(8),M=h.n(R),A=h(9),z=h.n(A),H=h(4),F=h.n(H);var k=function(ie){M()(ge,ie);var ne=function(ie){var ne=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ge){return!1}}();return function(){var ge,me=F()(ie);if(ne){var _=F()(this).constructor;ge=Reflect.construct(me,arguments,_)}else ge=me.apply(this,arguments);return z()(this,ge)}}(ge);function ge(){return P()(this,ge),ne.apply(this,arguments)}return N()(ge,[{key:"defaults",value:function(){return{name:"",label:""}}},{key:"getName",value:function(){return this.get("name")}},{key:"getLabel",value:function(){return this.get("label")||this.getName()}}]),ge}(U.Model);k.prototype.idAttribute="name";var I="contentEditable",p=T.a.View.extend({template:function(){var ie=this.pfx,ge=this.config,me=this.model.get("label")||"";return'\n      <span id="'.concat(ie,'checkbox" class="').concat(ie,'tag-status" data-tag-status></span>\n      <span id="').concat(ie,'tag-label" data-tag-name>').concat(me,'</span>\n      <span id="').concat(ie,'close" class="').concat(ie,'tag-close" data-tag-remove>\n        ').concat(ge.iconTagRemove,"\n      </span>\n    ")},events:{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"},initialize:function(){var ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=ie.config||{};this.config=ne,this.module=ie.module,this.coll=ie.coll||null,this.pfx=ne.stylePrefix||"",this.ppfx=ne.pStylePrefix||"",this.em=ne.em,this.listenTo(this.model,"change:active",this.updateStatus)},getInputEl:function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},startEditTag:function(){var ie=this.em,ne=this.getInputEl();ne[I]=!0,ne.focus(),ie&&ie.setEditing(1)},endEditTag:function(){var ie=this.model,ne=this.getInputEl(),ge=ne.textContent,me=this.em,_=me&&me.get("SelectorManager");if(ne[I]=!1,me&&me.setEditing(0),_){var b=_.escapeName(ge);_.get(b)?ne.innerText=ie.get("label"):ie.set({name:b,label:ge})}},changeStatus:function(){var ie=this.model;ie.set("active",!ie.get("active"))},removeTag:function(){this.module.removeSelected(this.model)},updateStatus:function(){var ie=this.model,ne=this.$el,ge=this.config,me=ge.iconTagOn,_=ge.iconTagOff,b=ne.find("[data-tag-status]");ie.get("active")?(b.html(me),ne.removeClass("opac50")):(b.html(_),ne.addClass("opac50"))},render:function(){var ie=this.pfx,ne=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(ie,"tag ").concat(ne,"three-bg")),this.updateStatus(),this}}),y=T.a.View.extend({template:function(ie){var ne=ie.labelInfo,ge=ie.labelHead,me=ie.iconSync,_=ie.iconAdd,b=ie.pfx,G=ie.ppfx;return'\n    <div id="'.concat(b,'up" class="').concat(b,'header">\n      <div id="').concat(b,'label" class="').concat(b,'header-label">').concat(ge,'</div>\n      <div id="').concat(b,'status-c" class="').concat(b,'header-status">\n        <span id="').concat(b,'input-c" data-states-c>\n          <div class="').concat(G,"field ").concat(G,'select">\n            <span id="').concat(G,'input-holder">\n              <select id="').concat(b,'states" data-states></select>\n            </span>\n            <div class="').concat(G,'sel-arrow">\n              <div class="').concat(G,'d-s-arrow"></div>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n    <div id="').concat(b,'tags-field" class="').concat(G,'field">\n      <div id="').concat(b,'tags-c" data-selectors></div>\n      <input id="').concat(b,'new" data-input/>\n      <span id="').concat(b,'add-tag" class="').concat(b,"tags-btn ").concat(b,'tags-btn__add" data-add>\n        ').concat(_,'\n      </span>\n      <span class="').concat(b,"tags-btn ").concat(b,'tags-btn__sync" style="display: none" data-sync-style>\n        ').concat(me,'\n      </span>\n    </div>\n    <div class="').concat(b,'sels-info">\n      <div class="').concat(b,'label-sel">').concat(ne,':</div>\n      <div class="').concat(b,'sels" data-selected></div>\n      <div style="clear:both"></div>\n    </div>')},events:{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"},initialize:function(){var ie=this,ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=ne.config||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.pfx+"tags",this.stateInputId=this.pfx+"states",this.stateInputC=this.pfx+"input-c",this.states=this.config.states||[];var ge=this.config.em,me=this.collection;this.target=this.config.em;var _=ne.module;this.module=_,this.em=ge;var G="component:update:classes change:state";this.listenTo(ge,"component:toggled component:update:classes",this.componentChanged),this.listenTo(ge,"styleManager:update",this.componentChanged),this.listenTo(ge,G,this.__handleStateChange),this.listenTo(ge,"styleable:change change:device",this.checkSync),this.listenTo(me,"add",this.addNew),this.listenTo(me,"reset",this.renderClasses),this.listenTo(me,"remove",this.tagRemoved),this.listenTo(_.getAll(),_.events.state,Object(re.debounce)(function(){return ie.renderStates()})),this.delegateEvents()},syncStyle:function(){var ie,ne=this.em,ge=this.getTarget(),me=ne.get("CssComposer"),_=this.getCommonSelectors({opts:{noDisabled:1}}),b=ne.get("state"),G=ne.getCurrentMedia(),c=[],O=me.get(_,b,G)||me.add(_,b,G);this.getTargets().forEach(function(m){var V=me.getIdRule(m.getId(),{state:b,mediaText:G});ie=V.getStyle(),V.setStyle({}),c.push(V)}),ie&&O.addStyle(ie),ne.trigger("component:toggled"),ne.trigger("component:sync-style",{component:ge,selectors:_,mediaText:G,rule:O,ruleComponents:c,state:b})},tagRemoved:function(ie){this.updateStateVis()},addNew:function(ie){this.addToClasses(ie)},startNewTag:function(){this.$addBtn.css({display:"none"}),this.$input.show().focus()},endNewTag:function(){this.$addBtn.css({display:""}),this.$input.hide().val("")},onInputKeyUp:function(ie){13===ie.keyCode?this.addNewTag(this.$input.val()):27===ie.keyCode&&this.endNewTag()},checkStates:function(){var ie=this.em.getState(),ne=this.getStates();ne&&ne.val(ie)},componentChanged:Object(re.debounce)(function(){this.updateSelection((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).targets)}),updateSelection:function(ie){var ne=ie||this.getTargets(),ge=[];return(ne=Object(re.isArray)(ne)?ne:[ne])&&ne.length&&(ge=this.getCommonSelectors({targets:ne}),this.checkSync({validSelectors:ge})),this.collection.reset(ge),this.updateStateVis(ne),this.module.__trgCustom(),ge},getCommonSelectors:function(){var ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ge=ie.opts,me=void 0===ge?{}:ge,_=ie.targets||this.getTargets();return this.module.__getCommonSelectors(_,me)},_commonSelectors:function(){var ie;return(ie=this.module).__common.apply(ie,arguments)},checkSync:Object(re.debounce)(function(){var ie,ne=this.$btnSyncEl,ge=this.config,me=this.collection,_=this.getTarget();if(_&&ge.componentFirst&&me.length){var b=_.getStyle();ie=!Object(re.isEmpty)(b)}ne&&ne[ie?"show":"hide"]()}),getTarget:function(){return this.target.getSelected()},getTargets:function(){return this.target.getSelectedAll()},updateStateVis:function(ie){var ne=this.em,ge=ne&&ne.getConfig("avoidInlineStyle"),me=this.collection.length||ge?"":"none";this.getStatesC().css("display",me),this.updateSelector(ie)},__handleStateChange:function(){this.updateSelector(this.getTargets())},updateSelector:function(ie){var ne=this,ge=this.el.querySelector("[data-selected]"),me=[],_=ie||this.getTargets();(_=Object(re.isArray)(_)?_:[_]).forEach(function(b){return me.push(ne.__getName(b))}),ge&&(ge.innerHTML=me.join(", ")),this.checkStates()},__getName:function(ie){var ne,ge=this.pfx,me=this.config,_=this.em,b=me.selectedName,G=me.componentFirst;if(Object(re.isString)(ie))ne='<span class="'.concat(ge,'sel-gen">').concat(ie,"</span>");else{var c=ie&&ie.get&&ie.getSelectors();if(!c)return;var O=c.getStyleable(),m=_.get("state"),V=ie.getId?'<span class="'.concat(ge,'sel-cmp">').concat(ie.getName(),'</span><span class="').concat(ge,'sel-id">#').concat(ie.getId(),"</span>"):"";ne=(ne=this.collection.getFullString(O))?'<span class="'.concat(ge,'sel-rule">').concat(ne,"</span>"):ie.get("selectorsAdd")||V,ne=G&&V?V:ne,ne+=m?'<span class="'.concat(ge,'sel-state">:').concat(m,"</span>"):"",ne=b?b({result:ne,state:m,target:ie}):ne}return ne&&'<span class="'.concat(ge,'sel">').concat(ne,"</span>")},stateChanged:function(ie){this.em.set("state",ie.target.value)},addNewTag:function(ie){var ne=ie.trim();ne&&(this.module.addSelected({label:ne}),this.endNewTag())},addToClasses:function(ie){var ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,me=this.getClasses(),_=new p({model:ie,config:this.config,coll:this.collection,module:this.module}).render().el;return ge?ge.appendChild(_):me.append(_),_},renderClasses:function(){var ie=this,ne=document.createDocumentFragment(),ge=this.getClasses();ge.empty(),this.collection.each(function(me){return ie.addToClasses(me,ne)}),ge.append(ne)},getClasses:function(){return this.$el.find("[data-selectors]")},getStates:function(){if(!this.$states){var ie=this.$el.find("[data-states]");this.$states=ie[0]&&ie}return this.$states},getStatesC:function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},renderStates:function(){var ie=this.module,ne=this.em,ge=ne.t("selectorManager.emptyState"),me=ie.getStates().map(function(b){var G=ne.t("selectorManager.states.".concat(b.id))||b.getLabel()||b.id;return'<option value="'.concat(b.id,'">').concat(G,"</option>")}).join(""),_=this.getStates();_&&_.html('<option value="">'.concat(ge,"</option>").concat(me)),this.checkStates()},render:function(){var ie=this.em,ne=this.pfx,ge=this.ppfx,me=this.config,_=this.$el,b=this.el,G=me.render,c={iconSync:me.iconSync,iconAdd:me.iconAdd,labelHead:ie.t("selectorManager.label"),labelInfo:ie.t("selectorManager.selected"),ppfx:ge,pfx:ne,el:b};_.html(this.template(c));var O=G&&G(c);return O&&O!==b&&_.empty().append(O),this.$input=_.find("[data-input]"),this.$addBtn=_.find("[data-add]"),this.$classes=_.find("#"+ne+"tags-c"),this.$btnSyncEl=_.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),_.attr("class","".concat(this.className," ").concat(ge,"one-bg ").concat(ge,"two-color")),this}});function C(ie,ne){var ge=Object.keys(ie);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(ie);ne&&(me=me.filter(function(_){return Object.getOwnPropertyDescriptor(ie,_).enumerable})),ge.push.apply(ge,me)}return ge}function B(ie){for(var ne=1;ne<arguments.length;ne++){var ge=null!=arguments[ne]?arguments[ne]:{};ne%2?C(Object(ge),!0).forEach(function(me){se()(ie,me,ge[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(ge)):C(Object(ge)).forEach(function(me){Object.defineProperty(ie,me,Object.getOwnPropertyDescriptor(ge,me))})}return ie}var K=function(ie){return Object(re.isString)(ie)&&"#"==ie[0]},te=function(ie){return Object(re.isString)(ie)&&"."==ie[0]},$e="selector",ue="".concat($e,":"),ye="".concat(ue,"add"),Re="".concat(ue,"update"),Pe="".concat(ue,"remove"),Me="".concat(Pe,":before"),Le="".concat(ue,"custom"),_e="".concat(ue,"state");ve.default=function(){return B(B({},v.a),{},{name:"SelectorManager",Selector:E.a,Selectors:D.a,events:{all:$e,update:Re,add:ye,remove:Pe,removeBefore:Me,state:_e,custom:Le},init:function(){var ie=this;this.__initConfig(S,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});var ge=this.getConfig(),me=ge.em,_=ge.pStylePrefix;return _&&(ge.stylePrefix=_+ge.stylePrefix),this.all=new D.a(ge.selectors),this.selected=new D.a([],{em:me,config:ge}),this.states=new U.Collection(ge.states,{model:k}),this.model=new U.Model({cFirst:ge.componentFirst,_undo:!0}),this.__initListen({collections:[this.states,this.selected],propagate:[{entity:this.states,event:this.events.state}]}),me.on("change:state",function(G,c){return me.trigger("selector:state",c)}),this.model.on("change:cFirst",function(G,c){return me.trigger("selector:type",c)}),this.model.listenTo(me,"component:toggled component:update:classes styleManager:update selector:state selector:type",function(){return ie.__update()}),this},__update:Object(re.debounce)(function(){this.__trgCustom()}),__trgCustom:function(ie){this.em.trigger(this.events.custom,this.__customData(ie))},__customData:function(){var ne=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).container;return{states:this.getStates(),selected:this.getSelected(),container:ne}},postRender:function(){this.__appendTo(),this.__trgCustom()},select:function(ie){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ge=Array.isArray(ie)?ie:[ie],me=this.em.get("StyleManager").setTarget(ge,ne),_=this.selectorTags,b=me.filter(function(G){return G}).map(function(G){return Object(Q.isComponent)(G)||Object(Q.isRule)(G)&&!G.get("selectorsAdd")?G:G.getSelectorsString()});return _&&_.componentChanged({targets:b}),this},addSelector:function(ie){var ge=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},me=B({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});Object(re.isObject)(ie)?me=ie:me.name=ie,K(me.name)?(me.name=me.name.substr(1),me.type=E.a.TYPE_ID):te(me.name)&&(me.name=me.name.substr(1)),me.label&&!me.name&&(me.name=this.escapeName(me.label));var _=me.name,b=this.getConfig(),G=this.getAll();return(_?this.get(_,me.type):G.where(me)[0])||G.add(me,B(B({},ge),{},{config:b}))},getSelector:function(ie){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.a.TYPE_CLASS;return K(ie)?(ie=ie.substr(1),ne=E.a.TYPE_ID):te(ie)&&(ie=ie.substr(1)),this.getAll().where({name:ie,type:ne})[0]},add:function(ie){var ne=this,ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},me=Object(re.isString)(ie)?{}:ge;return Object(re.isArray)(ie)?ie.map(function(_){return ne.addSelector(_,ge,me)}):this.addSelector(ie,ge,me)},addClass:function(ie){var ne=this,ge=[];return Object(re.isString)(ie)&&(ie=ie.trim().split(" ")),ie.forEach(function(me){return ge.push(ne.addSelector(me))}),ge},get:function(ie,ne){var ge=this;if(Object(re.isArray)(ie)){var me=[];return ie.map(function(_){return ge.getSelector(_)}).filter(function(_){return _}).forEach(function(_){return me.indexOf(_)<0&&me.push(_)}),me}return this.getSelector(ie,ne)||null},remove:function(ie,ne){return this.__remove(ie,ne)},setState:function(ie){return this.em.setState(ie),this},getState:function(){return this.em.getState()},getStates:function(){return he()(this.states.models)},setStates:function(ie,ne){return this.states.reset(ie,ne)},getSelected:function(){return this.__getCommon()},addSelected:function(ie){var ne=this.add(ie);this.em.getSelectedAll().forEach(function(ge){ge.getSelectors().add(ne)})},removeSelected:function(ie){this.em.getSelectedAll().forEach(function(ne){!ie.get("protected")&&ne&&ne.getSelectors().remove(ie)})},getSelectedTargets:function(){return this.em.get("StyleManager").getSelected()},setComponentFirst:function(ie){this.getConfig().componentFirst=ie,this.model.set({cFirst:ie})},getComponentFirst:function(){return this.getConfig().componentFirst},escapeName:function(ie){var ne=this.getConfig().escapeName;return ne?ne(ie):E.a.escapeName(ie)},render:function(ie){var ne=this.selectorTags,ge=this.getConfig(),me=ne&&ne.el;return this.selected.reset(ie),this.selectorTags=new y({el:me,collection:this.selected,module:this,config:ge}),this.selectorTags.render().el},destroy:function(){var ie=this.selectorTags;this.model.stopListening(),this.__destroy(),ie&&ie.remove(),this.selectorTags={}},__getCommon:function(){return this.__getCommonSelectors(this.em.getSelectedAll())},__getCommonSelectors:function(ie){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ge=ie.map(function(me){return me.getSelectors&&me.getSelectors().getValid(ne)}).filter(Boolean);return this.__common.apply(this,he()(ge))},__common:function(){for(var ie=this,ne=arguments.length,ge=new Array(ne),me=0;me<ne;me++)ge[me]=arguments[me];return ge.length?1===ge.length?ge[0]:2===ge.length?ge[0].filter(function(_){return ge[1].indexOf(_)>=0}):ge.slice(1).reduce(function(_,b){return ie.__common(_,b)},ge[0]):[]}})}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de={id:"gjs-",autosave:1,autoload:1,type:"local",stepsBeforeSave:1,storeComponents:1,storeStyles:1,storeHtml:1,storeCss:1,checkLocal:1,params:{},headers:{},urlStore:"",urlLoad:"",beforeSend:function(A,z){},onComplete:function(A,z){},contentTypeJson:!0,credentials:"include",fetchOptions:""},se=h(2),re=h.n(se),Q=h(1),U=se.Model.extend({defaults:{checkLocal:!0},store:function(A){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(this.hasLocal())for(var H in A)localStorage.setItem(H,A[H]);z&&z()},load:function(A){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},H={};if(this.hasLocal())for(var F=0,W=A.length;F<W;F++){var k=localStorage.getItem(A[F]);k&&(H[A[F]]=k)}return z&&z(H),H},remove:function(A){if(this.hasLocal())for(var z=0,H=A.length;z<H;z++)localStorage.removeItem(A[z])},hasLocal:function(){var A=Object(Q.hasWin)();return!!(!this.get("checkLocal")||A&&localStorage)||(A&&console.warn("Your browser doesn't support localStorage"),!1)}}),T=h(37),v=h(0);function S(A,z){var H=Object.keys(A);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(A);z&&(F=F.filter(function(W){return Object.getOwnPropertyDescriptor(A,W).enumerable})),H.push.apply(H,F)}return H}function E(A){for(var z=1;z<arguments.length;z++){var H=null!=arguments[z]?arguments[z]:{};z%2?S(Object(H),!0).forEach(function(F){he()(A,F,H[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(H)):S(Object(H)).forEach(function(F){Object.defineProperty(A,F,Object.getOwnPropertyDescriptor(H,F))})}return A}var D=re.a.Model.extend({fetch:T.a,defaults:{urlStore:"",urlLoad:"",params:{},beforeSend:function(){},onComplete:function(){},contentTypeJson:!1,credentials:"include",fetchOptions:""},onStart:function(){this.get("em");var A=this.get("beforeSend");A&&A()},onError:function(A,z){if(z)z(A);else{var H=this.get("em");console.error(A),H&&H.trigger("storage:error",A)}},onResponse:function(A,z){var H=this.get("em"),F=this.get("onComplete"),W=this.get("contentTypeJson")&&A&&"string"==typeof A?JSON.parse(A):A;F&&F(W),z&&z(W),H&&H.trigger("storage:response",W)},store:function(A,z,H){var F={};for(var W in A)F[W]=A[W];this.request(this.get("urlStore"),{body:F},z,H)},load:function(A,z,H){this.request(this.get("urlLoad"),{method:"get"},z,H)},request:function(A){var z,H,F=this,W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,I=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.get("contentTypeJson"),y=this.get("headers")||{},C=this.get("params"),B="X-Requested-With",K="Content-Type",te=W.body||{};for(var $e in C)te[$e]=C[$e];if(Object(v.isUndefined)(y[B])&&(y[B]="XMLHttpRequest"),Object(v.isUndefined)(y[K])&&p&&(y[K]="application/json; charset=utf-8"),p)H=JSON.stringify(te);else for(var ue in H=new FormData,te)H.append(ue,te[ue]);"post"===(z={method:W.method||"post",credentials:this.get("credentials"),headers:y}).method&&(z.body=H);var ye=this.get("fetchOptions")||{},Re=Object(v.isFunction)(ye)?ye(z):z;this.onStart(),this.fetch(A,E(E({},z),Re||{})).then(function(Pe){return 1==(Pe.status/200|0)?Pe.text():Pe.text().then(function(Me){return Promise.reject(Me)})}).then(function(Pe){return F.onResponse(Pe,k)}).catch(function(Pe){return F.onError(Pe,I)})}});function x(A,z){var H=Object.keys(A);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(A);z&&(F=F.filter(function(W){return Object.getOwnPropertyDescriptor(A,W).enumerable})),H.push.apply(H,F)}return H}function P(A){for(var z=1;z<arguments.length;z++){var H=null!=arguments[z]?arguments[z]:{};z%2?x(Object(H),!0).forEach(function(F){he()(A,F,H[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(H)):x(Object(H)).forEach(function(F){Object.defineProperty(A,F,Object.getOwnPropertyDescriptor(H,F))})}return A}var L="storage:start",N="storage:after",R="storage:end",M="storage:error";ve.default=function(){var A,z={},H={},F={};return{name:"StorageManager",init:function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return z=P(P({},de),W),A=z.em,z._disable&&(z.type=0),F.remote=new D(z),F.local=new U(z),z.currentStorage=z.type,this.loadDefaultProviders().setCurrent(z.type),this},getConfig:function(){return z},isAutosave:function(){return!!z.autosave},setAutosave:function(W){return z.autosave=!!W,this},getStepsBeforeSave:function(){return z.stepsBeforeSave},setStepsBeforeSave:function(W){return z.stepsBeforeSave=W,this},add:function(W,k){return H[W]=k,this},get:function(W){return H[W]||null},getStorages:function(){return H},getCurrent:function(){return z.currentStorage},setCurrent:function(W){return z.currentStorage=W,this},store:function(W,k){var I=this,p=this.get(this.getCurrent()),y={};for(var C in this.onStart("store",W),W)y[z.id+C]=W[C];return p?p.store(y,function(B){I.onAfter("store",B),k&&k(B),I.onEnd("store",B)},function(B){I.onError("store",B)}):null},load:function(W,k){var I=this,p=this.get(this.getCurrent()),y=[],C={};"string"==typeof W&&(W=[W]),this.onStart("load",W);for(var B=0,K=W.length;B<K;B++)y.push(z.id+W[B]);p?p.load(y,function(te){C=I.__clearKeys(te),I.onAfter("load",C),k&&k(C),I.onEnd("load",C)},function(te){k&&k(C),I.onError("load",te)}):k&&k(C)},__clearKeys:function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k={},I=new RegExp("^"+z.id);for(var p in W)k[p.replace(I,"")]=W[p];return k},loadDefaultProviders:function(){for(var W in F)this.add(W,F[W]);return this},getCurrentStorage:function(){return this.get(this.getCurrent())},onStart:function(W,k){A&&(A.trigger(L),W&&A.trigger("".concat(L,":").concat(W),k))},onAfter:function(W,k){A&&(A.trigger(N),W&&A.trigger("".concat(N,":").concat(W),k))},onEnd:function(W,k){A&&(A.trigger(R),W&&A.trigger("".concat(R,":").concat(W),k))},onError:function(W,k){A&&(A.trigger(M,k),W&&A.trigger("".concat(M,":").concat(W),k),this.onEnd(W,k))},canAutoload:function(){return this.getCurrentStorage()&&this.getConfig().autoload},destroy:function(){[z,A,H,F].forEach(function(W){return{}})}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null,htmlType:null},se=h(0),re={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},Q=Object(se.keys)(re),U=["5","6","11","15"],T=["font-face","page","counter-style","viewport"],v=function(){for(var A=[],z=[],H=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),F=0,W=H.length;F<W;F++){var k=H[F].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(k)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(k)){var I=k.split(".").filter(Boolean);z.push(I)}else A.push(k)}return{result:z,add:A}},S=function(M){for(var A=M.style,z={},H=0,F=A.length;H<F;H++){var W=A[H],k=A.getPropertyValue(W),I=A.getPropertyPriority(W);z[W]="".concat(k).concat(I?" !".concat(I):"")}return z},E=function(M){return(M.conditionText||M.media&&M.media.mediaText||M.name||M.selectorText||"").trim()},D=function(M){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},H={},F=M.length,W=M[F-1],k=W?W.split(/:(.+)/):[],I=k[1],p=z.atRule,y=z.selectorsAdd,C=z.mediaText;return T.indexOf(p)>=0&&(H.singleAtRule=1),p&&(H.atRuleType=p),y&&(H.selectorsAdd=y),C&&(H.mediaText=C),I&&(M[F-1]=k[0],H.state=I,k.splice(k.length-1,1)),H.selectors=M,H.style=A,H},x=function(M){var A=document.createElement("style");A.innerHTML=M,document.head.appendChild(A);var z=A.sheet;return document.head.removeChild(A),function H(F){for(var W=[],k=F.cssRules||[],I=0,p=k.length;I<p;I++){var y=k[I],C=y.type.toString(),B=0,K="",te="",$e=y.selectorText||y.keyText,ue=U.indexOf(C)>=0;if(ue)B=1,K=re[C],te=E(y);else if(Q.indexOf(C)>=0){var ye=H(y);te=E(y);for(var Re=0,Pe=ye.length;Re<Pe;Re++){var Me=ye[Re];te&&(Me.mediaText=te),Me.atRuleType=re[C]}W=W.concat(ye)}if($e||ue){for(var Le=S(y),_e=v($e),ie=_e.add,ne=void 0,ge=0,me=($e=_e.result).length;ge<me;ge++){var _=D($e[ge],Le,{atRule:re[C]});W.push(_),ne=_}if(ie.length){var b=ie.join(", ");if(ne)ne.selectorsAdd=b;else{var G={selectors:[],selectorsAdd:b,style:Le};B&&(G.singleAtRule=B),K&&(G.atRuleType=K),te&&(G.mediaText=te),W.push(G)}}}}return W}(z)},P=function(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{parse:function(A){var z=this,H=[],F=M.parserCss,W=M.em,k=W&&W.get&&W.get("Editor");return(F?F(A,k):x(A)).forEach(function(I){return H=H.concat(z.checkNode(I))}),W&&W.trigger("parse:css",{input:A,output:H}),H},checkNode:function(A){var H=A.selectors,F=A.style;if(Object(se.isString)(H)){var W=[],k=v(H),I=k.result,p=k.add.join(", "),y={atRule:A.atRule,mediaText:A.params};I.length?I.forEach(function(C){W.push(D(C,F,y))}):W.push(D([],F,y)),p&&(W[W.length-1].selectorsAdd=p),A=W}return A}}},L=h(44);function N(M,A){var z=Object.keys(M);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(M);A&&(H=H.filter(function(F){return Object.getOwnPropertyDescriptor(M,F).enumerable})),z.push.apply(z,H)}return z}function R(M){for(var A=1;A<arguments.length;A++){var z=null!=arguments[A]?arguments[A]:{};A%2?N(Object(z),!0).forEach(function(H){he()(M,H,z[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(z)):N(Object(z)).forEach(function(H){Object.defineProperty(M,H,Object.getOwnPropertyDescriptor(z,H))})}return M}ve.default=function(){var M,A,z={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",init:function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(z=R(R({},de),H)).Parser=this,M=new L.a(z),A=new P(z),this.em=z.em,this.parserCss=A,this.parserHtml=M,this},getConfig:function(){return z},parseHtml:function(H){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W=this.em,k=this.compTypes;return M.compTypes=W?W.get("DomComponents").getTypes():k,M.parse(H,A,F)},parseCss:function(H){return A.parse(H)},destroy:function(){var H=this;[z,M,A].forEach(function(F){return{}}),["em","parserCss","parserHtml"].forEach(function(F){return H[F]={}})}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(0),se=h(13),re={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}},Q=h(5),U=h.n(Q),T=h(6),v=h.n(T),S=h(8),E=h.n(S),D=h(9),x=h.n(D),P=h(4),L=h.n(P),N=h(2);var M=function(I){E()(y,I);var p=function(I){var p=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,C=L()(I);if(p){var B=L()(this).constructor;y=Reflect.construct(C,arguments,B)}else y=C.apply(this,arguments);return x()(this,y)}}(y);function y(){return U()(this,y),p.apply(this,arguments)}return v()(y,[{key:"defaults",value:function(){return{title:"",content:"",attributes:{},open:!1}}},{key:"open",value:function(){this.set("open",!0)}},{key:"close",value:function(){this.set("open",!1)}}]),y}(N.Model);function A(I,p){var y=Object.keys(I);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(I);p&&(C=C.filter(function(B){return Object.getOwnPropertyDescriptor(I,B).enumerable})),y.push.apply(y,C)}return y}function z(I){for(var p=1;p<arguments.length;p++){var y=null!=arguments[p]?arguments[p]:{};p%2?A(Object(y),!0).forEach(function(C){he()(I,C,y[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(y)):A(Object(y)).forEach(function(C){Object.defineProperty(I,C,Object.getOwnPropertyDescriptor(y,C))})}return I}var F=function(I){E()(y,I);var p=function(I){var p=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,C=L()(I);if(p){var B=L()(this).constructor;y=Reflect.construct(C,arguments,B)}else y=C.apply(this,arguments);return x()(this,y)}}(y);function y(){return U()(this,y),p.apply(this,arguments)}return v()(y,[{key:"template",value:function(C){var B=C.pfx,K=C.ppfx,te=C.content,$e=C.title;return'<div class="'.concat(B,"dialog ").concat(K,"one-bg ").concat(K,'two-color">\n      <div class="').concat(B,'header">\n        <div class="').concat(B,'title">').concat($e,'</div>\n        <div class="').concat(B,'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(B,'content">\n        <div id="').concat(B,'c">').concat(te,'</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(B,'collector" style="display: none"></div>')}},{key:"events",value:function(){return{click:"onClick","click [data-close-modal]":"hide"}}},{key:"initialize",value:function(C){var B=this.model,K=C.config||{},te=K.stylePrefix||"";this.config=K,this.pfx=te,this.ppfx=K.pStylePrefix||"",this.listenTo(B,"change:open",this.updateOpen),this.listenTo(B,"change:title",this.updateTitle),this.listenTo(B,"change:content",this.updateContent)}},{key:"onClick",value:function(C){this.config.backdrop&&C.target===this.el&&this.hide()}},{key:"getCollector",value:function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector}},{key:"getContent",value:function(){var C=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(C,"content #").concat(C,"c"))),this.$content}},{key:"getTitle",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),C.$?this.$title:this.$title.get(0)}},{key:"updateContent",value:function(){var C=this.getContent(),B=C.children(),K=this.getCollector(),te=this.model.get("content");B.length&&K.append(B),C.empty().append(te)}},{key:"updateTitle",value:function(){var C=this.getTitle({$:!0});C&&C.empty().append(this.model.get("title"))}},{key:"updateOpen",value:function(){this.el.style.display=this.model.get("open")?"":"none"}},{key:"hide",value:function(){this.model.close()}},{key:"show",value:function(){this.model.open()}},{key:"updateAttr",value:function(C){var B=this.pfx,K=this.$el,$e=[].slice.call(this.el.attributes).map(function(ue){return ue.name});K.removeAttr($e.join(" ")),K.attr(z(z({},C||{}),{},{class:"".concat(B,"container ").concat(C&&C.class||"").trim()}))}},{key:"render",value:function(){var C=this.$el,B=this.model.toJSON();return B.pfx=this.pfx,B.ppfx=this.ppfx,C.html(this.template(B)),this.updateAttr(),this.updateOpen(),this}}]),y}(N.View);function W(I,p){var y=Object.keys(I);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(I);p&&(C=C.filter(function(B){return Object.getOwnPropertyDescriptor(I,B).enumerable})),y.push.apply(y,C)}return y}function k(I){for(var p=1;p<arguments.length;p++){var y=null!=arguments[p]?arguments[p]:{};p%2?W(Object(y),!0).forEach(function(C){he()(I,C,y[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(y)):W(Object(y)).forEach(function(C){Object.defineProperty(I,C,Object.getOwnPropertyDescriptor(y,C))})}return I}ve.default=function(){var I,p,y={},C=function(B,K){K&&K.trigger("modal:".concat(B?"open":"close"))};return{name:"Modal",getConfig:function(){return y},init:function(){var B=this,K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},te=(y=k(k({},re),K)).em;this.em=te;var $e=y.pStylePrefix;return $e&&(y.stylePrefix=$e+y.stylePrefix),(I=new M(y)).on("change:open",function(ue,ye){return C(ye,te)}),I.on("change",Object(de.debounce)(function(){var ue=B._evData(),ye=B.getConfig().custom;Object(de.isFunction)(ye)&&ye(ue),te.trigger("modal",ue)})),this},_evData:function(){var B=this,K=this.getTitle(),te=this.getContent(),$e=I.attributes;return{open:$e.open,attributes:$e.attributes,title:Object(de.isString)(K)?Object(se.g)(K):K,content:Object(de.isString)(te)?Object(se.g)(te):te.get?te.get(0):te,close:function(){return B.close()}}},postRender:function(B){var K=B.model.getConfig().el||B.el,te=this.render();te&&te.appendTo(K)},open:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},K=B.attributes||{};return B.title&&this.setTitle(B.title),B.content&&this.setContent(B.content),I.set("attributes",K),I.open(),p&&p.updateAttr(K),this},close:function(){return I.close(),this},onceClose:function(B){return this.em.once("modal:close",B),this},onceOpen:function(B){return this.em.once("modal:open",B),this},isOpen:function(){return!!I.get("open")},setTitle:function(B){return I.set("title",B),this},getTitle:function(){return I.get("title")},setContent:function(B){return I.set("content"," "),I.set("content",B),this},getContent:function(){return I.get("content")},getContentEl:function(){return p.getContent().get(0)},getModel:function(){return I},render:function(){if(!this.getConfig().custom){var B=F.extend(y.extend);return(p=new B({el:p&&p.el,model:I,config:y})).render().$el}},destroy:function(){p&&p.remove(),[y,I,p].forEach(function(B){return{}}),this.em={}}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(11),he=h.n(ce),de=h(3),se=h.n(de),re=h(0),Q=h(1),U={stylePrefix:"css-",rules:[]},T=h(5),v=h.n(T),S=h(6),E=h.n(S),D=h(8),x=h.n(D),P=h(9),L=h.n(P),N=h(4),R=h.n(N),M=h(2),A=h.n(M),z=h(32),H=h(20);function F(ue,ye){var Re=Object.keys(ue);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(ue);ye&&(Pe=Pe.filter(function(Me){return Object.getOwnPropertyDescriptor(ue,Me).enumerable})),Re.push.apply(Re,Pe)}return Re}function W(ue){for(var ye=1;ye<arguments.length;ye++){var Re=null!=arguments[ye]?arguments[ye]:{};ye%2?F(Object(Re),!0).forEach(function(Pe){se()(ue,Pe,Re[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(Re)):F(Object(Re)).forEach(function(Pe){Object.defineProperty(ue,Pe,Object.getOwnPropertyDescriptor(Re,Pe))})}return ue}var I=(Object(Q.hasWin)()?window:{}).CSS,p=function(ue){x()(Re,ue);var ye=function(ue){var ye=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Re){return!1}}();return function(){var Re,Pe=R()(ue);if(ye){var Me=R()(this).constructor;Re=Reflect.construct(Pe,arguments,Me)}else Re=Pe.apply(this,arguments);return L()(this,Re)}}(Re);function Re(){return v()(this,Re),ye.apply(this,arguments)}return E()(Re,[{key:"defaults",value:function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",_undo:!0}}},{key:"initialize",value:function(Pe){var Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=Pe||{},this.opt=Me,this.em=Me.em,this.ensureSelectors(),this.on("change",this.__onChange)}},{key:"__onChange",value:function(Pe,Me){var Le=this.em,_e=this.changedAttributes();!Object(Q.isEmptyObj)(_e)&&Le&&Le.changesUp(Me)}},{key:"clone",value:function(){var Pe=W({},this.opt),Me=W({},this.attributes);return Me.selectors=this.get("selectors").map(function(Le){return Le.clone()}),new this.constructor(Me,Pe)}},{key:"ensureSelectors",value:function(Pe,Me,Le){var _e=this.em,ie=_e&&_e.get("SelectorManager"),ne=[this,"change:selectors",this.ensureSelectors],ge=this.getSelectors();if(this.stopListening.apply(this,ne),ge.models&&(ge=he()(ge.models)),ge=Object(re.isString)(ge)?[ge]:ge,Array.isArray(ge)){var me=ge.filter(function(_){return _}).map(function(_){return ie?ie.add(_):_});ge=new H.a(me)}this.set("selectors",ge,Le),this.listenTo.apply(this,ne)}},{key:"getAtRule",value:function(){var Pe=this.get("atRuleType"),Me=this.get("mediaText"),Le=Pe?"@".concat(Pe):Me?"@media":"";return Le+(Me&&Le?" ".concat(Me):"")}},{key:"selectorsToString",value:function(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Me=[],Le=this.get("state"),_e=this.get("wrapper"),ie=this.get("selectorsAdd"),ge={escape:function(b){return I&&I.escape?I.escape(b):b}},me=_e&&Pe.body?"body":this.get("selectors").getFullString(0,ge),_=Le&&!Pe.skipState?":".concat(Le):"";return me&&Me.push("".concat(me).concat(_)),ie&&!Pe.skipAdd&&Me.push(ie),Me.join(", ")}},{key:"getDeclaration",value:function(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Me="",Le=this.selectorsToString(Pe),_e=this.styleToString(Pe),ie=this.get("singleAtRule");return(Le||ie)&&_e&&(Me=ie?_e:"".concat(Le,"{").concat(_e,"}")),Me}},{key:"toCSS",value:function(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Me="",Le=this.getAtRule(),_e=this.getDeclaration(Pe);return _e&&(Me=_e),Le&&Me&&(Me="".concat(Le,"{").concat(Me,"}")),Me}},{key:"toJSON",value:function(){for(var Pe=arguments.length,Me=new Array(Pe),Le=0;Le<Pe;Le++)Me[Le]=arguments[Le];var _e=M.Model.prototype.toJSON.apply(this,Me);if(this.em.getConfig("avoidDefaults")){var ie=this.defaults();Object(re.forEach)(ie,function(ne,ge){_e[ge]===ne&&delete _e[ge]}),Object(re.isEmpty)(_e.selectors)&&delete _e.selectors,Object(re.isEmpty)(_e.style)&&delete _e.style}return _e}},{key:"compare",value:function(Pe,Me,Le){var _e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ie=Me||"",ne=Le||"",ge=_e.selectorsAdd||"",me=_e.atRuleType||"";ne&&!me&&(me="media");var b=(Object(re.isArray)(Pe)||Pe.models?Pe.models||Pe:[Pe]).map(function(m){return m.getFullName()}),G=this.get("selectors").map(function(m){return m.getFullName()}),c=b.slice().sort(),O=G.slice().sort();return!(b.length!==G.length||!c.every(function(m,V){return m===O[V]}))&&this.get("state")===ie&&this.get("mediaText")===ne&&this.get("selectorsAdd")===ge&&this.get("atRuleType")===me}}]),Re}(M.Model.extend(z.a)),y=A.a.Collection,C=y.extend({model:p,initialize:function(ue,ye){var Re=this;ye&&ye.em&&(this.editor=ye.em),setTimeout(function(){Re.on("remove",Re.onRemove),Re.on("add",Re.onAdd)})},toJSON:function(ue){return y.prototype.toJSON.call(this,ue).filter(function(ye){return ye.style})},onAdd:function(ue,ye,Re){ue.ensureSelectors(ue,ye,Re)},onRemove:function(ue){var ye=this.editor;ye.stopListening(ue),ye.get("UndoManager").remove(ue)},add:function(ue){var ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof ue&&(ue=this.editor.get("Parser").parseCss(ue)),ye.em=this.editor,y.prototype.add.apply(this,[ue,ye])}}),B=h(43),K=h(16);function te(ue,ye){var Re=Object.keys(ue);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(ue);ye&&(Pe=Pe.filter(function(Me){return Object.getOwnPropertyDescriptor(ue,Me).enumerable})),Re.push.apply(Re,Pe)}return Re}function $e(ue){for(var ye=1;ye<arguments.length;ye++){var Re=null!=arguments[ye]?arguments[ye]:{};ye%2?te(Object(Re),!0).forEach(function(Pe){se()(ue,Pe,Re[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(Re)):te(Object(Re)).forEach(function(Pe){Object.defineProperty(ue,Pe,Object.getOwnPropertyDescriptor(Re,Pe))})}return ue}ve.default=function(){var ue,ye,Re,Pe={};return{Selectors:H.a,name:"CssComposer",getConfig:function(){return Pe},storageKey:function(){var Me=[],Le=Pe.stm&&Pe.stm.getConfig()||{};return Le.storeCss&&Me.push("css"),Le.storeStyles&&Me.push("styles"),Me},init:function(Me){for(var Le in Pe=Me||{},U)Le in Pe||(Pe[Le]=U[Le]);var _e=Pe.pStylePrefix;return _e&&(Pe.stylePrefix=_e+Pe.stylePrefix),Pe.rules=Pe.em&&Pe.em.config.style||Pe.rules,ue=Pe.em,ye=new C([],Pe),this},onLoad:function(){ye.add(Pe.rules,{silent:1})},postLoad:function(){var Me=ue&&ue.get("UndoManager");Me&&Me.add(this.getAll())},load:function(Me){var Le=Me||"";!Le&&Pe.stm&&(Le=Pe.em.getCacheLoad());var _e=Le.styles||"";if(Le.styles)try{_e=JSON.parse(Le.styles)}catch(ie){}else Le.css&&(_e=Pe.em.get("Parser").parseCss(Le.css));return Object(re.isArray)(_e)?_e.length&&ye.reset(_e):_e&&ye.reset(_e),_e},store:function(Me){if(Pe.stm){var Le={},_e=this.storageKey(),ie=ue&&ue.get("hasPages");return _e.indexOf("css")>=0&&!ie&&(Le.css=Pe.em.getCss()),_e.indexOf("styles")>=0&&(Le.styles=JSON.stringify(ye)),Me||Pe.stm.store(Le),Le}},add:function(Me,Le,_e){var ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},ge=Le||"",me=_e||"",_=$e({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),b=this.get(Me,ge,me,_);return b&&b.config&&!b.config.singleAtRule||(_.state=ge,_.mediaText=me,_.selectors=[],me&&(_.atRuleType="media"),(b=new p(_,Pe)).get("selectors").add(Me,ne),ye.add(b,ne)),b},get:function(Me,Le,_e,ie){var ne=Me;if(Object(re.isString)(Me)){var ge=ue.get("SelectorManager"),me=Me.split(",")[0].trim(),_=ue.get("Parser").parserCss.checkNode({selectors:me})[0];ne=ge.get(_.selectors)}return ye.find(function(b){return b.compare(ne,Le,_e,ie)})||null},getAll:function(){return ye},addCollection:function(Me){var Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ie=[];Object(re.isString)(Me)&&(Me=ue.get("Parser").parseCss(Me));for(var ne=Me instanceof Array?Me:[Me],ge=0,me=ne.length;ge<me;ge++){var _=ne[ge]||{};if(_.selectors){var b=Pe.em&&Pe.em.get("SelectorManager");b||console.warn("Selector Manager not found");for(var G=_.selectors,c=G instanceof Array?G:[G],O=[],m=0,V=c.length;m<V;m++){var X=b.add(c[m]);O.push(X)}var Ee=this.get(O,_.state,_.mediaText,_),He=this.add(O,_.state,_.mediaText,_,Le),Oe=!Ee||!Le.avoidUpdateStyle,Ce=_.style||{};if(Object(Q.isObject)(_e)&&He.set(_e,Le),Oe){var Fe=Le.extend?$e($e({},He.get("style")),Ce):Ce;He.set("style",Fe,Le)}ie.push(He)}}return ie},addRules:function(Me){return this.addCollection(Me)},setRule:function(Me,Le){var _e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ie=_e.atRuleType,ne=_e.atRuleParams,ge=ue.get("Parser").parserCss.checkNode({selectors:Me,style:Le})[0],me=ge.state,_=ge.selectorsAdd,G=ue.get("SelectorManager").add(ge.selectors),c=this.add(G,me,ne,{selectorsAdd:_,atRule:ie});return c.setStyle(Le,_e),c},getRule:function(Me){var Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=ue.get("SelectorManager"),ie=ue.get("Parser").parserCss.checkNode({selectors:Me})[0],ne=_e.get(ie.selectors);return ne&&this.get(ne,ie.state,Le.atRuleParams,{selectorsAdd:ie.selectorsAdd,atRule:Le.atRuleType})},getRules:function(Me){var Le=this.getAll();return Me?Le.filter(function(_e){return _e.getSelectors().getFullString()===Me}):he()(Le.models)},setIdRule:function(Me){var Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ie=_e.addOpts,ne=void 0===ie?{}:ie,ge=_e.mediaText,me=_e.state||"",_=Object(re.isUndefined)(ge)?ue.getCurrentMedia():ge,G=ue.get("SelectorManager").add({name:Me,type:K.a.TYPE_ID},ne),c=this.add(G,me,_,{},ne);return c.setStyle(Le,$e($e({},_e),ne)),c},getIdRule:function(Me){var Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=Le.mediaText,ie=Le.state||"",ne=Object(re.isUndefined)(_e)?ue.getCurrentMedia():_e,ge=ue.get("SelectorManager").get(Me,K.a.TYPE_ID);return ge&&this.get(ge,ie,ne)},setClassRule:function(Me){var Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ie=_e.state||"",ne=_e.mediaText||ue.getCurrentMedia(),me=ue.get("SelectorManager").add({name:Me,type:K.a.TYPE_CLASS}),_=this.add(me,ie,ne);return _.setStyle(Le,_e),_},getClassRule:function(Me){var Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=Le.state||"",ie=Le.mediaText||ue.getCurrentMedia(),ne=ue.get("SelectorManager").get(Me,K.a.TYPE_CLASS);return ne&&this.get(ne,_e,ie)},remove:function(Me){var Le=Object(re.isString)(Me)?this.getRules(Me):Me,_e=this.getAll().remove(Le);return Object(re.isArray)(_e)?_e:[_e]},clear:function(){var Me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().reset(null,Me),this},getComponentRules:function(Me){var Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=Le.state,ie=Le.mediaText;Le.current&&(_e=ue.get("state")||"",ie=ue.getCurrentMedia());var ge=Me.getId();return this.getAll().filter(function(_){if((Object(re.isUndefined)(_e)||_.get("state")===_e)&&(Object(re.isUndefined)(ie)||_.get("mediaText")===ie))return _.getSelectorsString()==="#".concat(ge)})},render:function(){return Re&&Re.remove(),(Re=new B.a({collection:ye,config:Pe})).render().el},destroy:function(){ye.reset(),ye.stopListening(),Re&&Re.remove(),[ue,ye,Re].forEach(function(Me){return null}),Pe={}}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(24),se=h(2),re=h.n(se),Q=h(0),U=h(1);function T(k,I){var p=Object.keys(k);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(k);I&&(y=y.filter(function(C){return Object.getOwnPropertyDescriptor(k,C).enumerable})),p.push.apply(p,y)}return p}function v(k){for(var I=1;I<arguments.length;I++){var p=null!=arguments[I]?arguments[I]:{};I%2?T(Object(p),!0).forEach(function(y){he()(k,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(p)):T(Object(p)).forEach(function(y){Object.defineProperty(k,y,Object.getOwnPropertyDescriptor(p,y))})}return k}var S=re.a.$,E=re.a.View.extend({initialize:function(k){this.opt=k||{},Object(Q.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var I=k||{};this.elT=0,this.elL=0,this.borderOffset=I.borderOffset||10;var p=I.container;this.el="string"==typeof p?document.querySelector(p):p,this.$el=S(this.el),this.containerSel=I.containerSel||"div",this.itemSel=I.itemSel||"div",this.draggable=I.draggable||!0,this.nested=I.nested||0,this.pfx=I.pfx||"",this.ppfx=I.ppfx||"",this.freezeClass=I.freezeClass||this.pfx+"freezed",this.onStart=I.onStart||"",this.onEndMove=I.onEndMove||"",this.customTarget=I.customTarget,this.onEnd=I.onEnd,this.direction=I.direction||"v",this.onMoveClb=I.onMove||"",this.relative=I.relative||0,this.ignoreViewChildren=I.ignoreViewChildren||0,this.ignoreModels=I.ignoreModels||0,this.plh=I.placer||"",this.wmargin=I.wmargin||0,this.offTop=I.offsetTop||0,this.offLeft=I.offsetLeft||0,this.document=I.document||document,this.$document=S(this.document),this.dropContent=null,this.em=I.em||"",this.dragHelper=null,this.canvasRelative=I.canvasRelative||0,this.selectOnEnd=!I.avoidSelectOnEnd,this.scale=I.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return Object(Q.result)(this,scale)||1},getContainerEl:function(k){if(k&&(this.el=k),!this.el){var I=this.opt.container;this.el="string"==typeof I?document.querySelector(I):I,this.$el=S(this.el)}return this.el},getDocuments:function(k){var I=this.em,p=k?k.ownerDocument:I&&I.get("Canvas").getBody().ownerDocument,y=[document];return p&&y.push(p),y},updateOffset:function(){var k=this.em.get("canvasOffset")||{};this.offTop=k.top,this.offLeft=k.left},setDropContent:function(k){this.dropModel=null,this.dropContent=k},updateTextViewCursorPosition:function(k){var I=this.em.get("Canvas"),p=I.getDocument(),y=null;if(p.caretRangeFromPoint){var C=Object(U.getPointerEvent)(k);y=p.caretRangeFromPoint(C.clientX,C.clientY)}else k.rangeParent&&(y=p.createRange()).setStart(k.rangeParent,k.rangeOffset);var B=I.getWindow().getSelection();I.getFrameEl().focus(),B.removeAllRanges(),y&&B.addRange(y)},setContentEditable:function(k,I){if(k){var p=k.getEl();p.contentEditable!=I&&(p.contentEditable=I)}},toggleSortCursor:function(k){var I=this.em,p=I&&I.get("Canvas");p&&(k?p.startAutoscroll():p.stopAutoscroll())},setDragHelper:function(k,I){for(var p=I||"",y=k.cloneNode(1),C=k.getBoundingClientRect(),B=getComputedStyle(k),K="",te=0;te<B.length;te++){var $e=B[te];K+="".concat($e,":").concat(B.getPropertyValue($e),";")}document.body.appendChild(y),y.className+=" ".concat(this.pfx,"bdrag"),y.setAttribute("style",K),this.dragHelper=y,y.style.width="".concat(C.width,"px"),y.style.height="".concat(C.height,"px"),p&&this.moveDragHelper(p),this.em&&S(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),S(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(k){var I=k.target.ownerDocument;if(this.dragHelper&&I){var p=k.pageY,y=k.pageX,C=0,B=0,K=(I.defaultView||I.parentWindow).frameElement,te=this.dragHelper.style;if(K){var $e=K.getBoundingClientRect();C=$e.top+document.documentElement.scrollTop,B=$e.left+document.documentElement.scrollLeft,p=k.clientY,y=k.clientX}te.top=p+C+"px",te.left=y+B+"px"}},matches:function(k,I,p){return U.matches.call(k,I)},closest:function(k,I){if(k){for(var p=k.parentNode;p&&1===p.nodeType;){if(this.matches(p,I))return p;p=p.parentNode}return null}},offset:function(k){var I=k.getBoundingClientRect();return{top:I.top+document.body.scrollTop,left:I.left+document.body.scrollLeft}},createPlaceholder:function(){var k=this.pfx,I=document.createElement("div"),p=document.createElement("div");return I.className=k+"placeholder",I.style.display="none",I.style["pointer-events"]="none",p.className=k+"placeholder-int",I.appendChild(p),I},startSort:function(k){var I,y=this.em,C=this.itemSel,B=this.containerSel,K=this.getContainerEl((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).container),te=this.getDocuments(k),$e=this.onStart,ue=this.plh;this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,k&&!this.matches(k,"".concat(C,", ").concat(B))&&(k=this.closest(k,C)),this.eV=k,ue||(ue=this.createPlaceholder(),K.appendChild(ue),this.plh=ue),k&&((I=this.getSourceModel(k))&&I.set&&I.set("status","freezed"),this.srcModel=I),Object(U.on)(K,"mousemove dragover",this.onMove),Object(U.on)(te,"mouseup dragend touchend",this.endMove),Object(U.on)(te,"keydown",this.rollback),$e&&$e({sorter:this,target:I,parent:I&&I.parent(),index:I&&I.index()}),y&&y.clearSelection(),this.toggleSortCursor(1),y&&y.trigger("sorter:drag:start",k,I)},getTargetModel:function(k){return S(k||this.target).data("model")},getSourceModel:function(k){var I=this,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=p.target,C=p.avoidChildren,B=void 0===C?1:C,K=this.em,$e=k||this.eV,ue=this.dropModel,ye=this.dropContent,Re=function(_e){return _e&&y&&_e.opt&&_e.opt.avoidChildren&&I.isTextableActive(_e,y)};if(ye&&K){if(Re(ue)&&(ue=null),!ue){var Pe=K.get("DomComponents").getComponents(),Me={avoidChildren:B,avoidStore:1,avoidUpdateStyle:1},Le=Pe.add(ye,v(v({},Me),{},{temporary:1}));if(ue=(ue=Pe.remove(Le,Me))instanceof Array?ue[0]:ue,this.dropModel=ue,Re(ue))return this.getSourceModel($e,{target:y,avoidChildren:0})}return ue}return $e&&S($e).data("model")},selectTargetModel:function(k,I){if(!(k instanceof re.a.Collection||I&&I===k)){var p=this.targetModel;p&&p!==this.srcModel&&p.set("status",""),k&&k.set&&(k.set("status","selected-parent"),this.targetModel=k)}},onMove:function(k){var I=k,p=this.em,y=this.onMoveClb,C=this.plh,B=this.customTarget;this.moved=1;var K=C.style.display;K&&"none"!==K||(C.style.display="block");var te=this.offset(this.el);this.elT=this.wmargin?Math.abs(te.top):te.top,this.elL=this.wmargin?Math.abs(te.left):te.left;var $e=k.pageY-this.elT+this.el.scrollTop,ue=k.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&p){var ye=p.get("Canvas").getMouseRelativeCanvas(k,{noScroll:1});ue=ye.x,$e=ye.y}this.rX=ue,this.rY=$e,this.eventMove=k;var Re=this.getSourceModel(),Pe=B?B({sorter:this,event:k}):k.target,Me=this.dimsFromTarget(Pe,ue,$e),Le=this.target,_e=Le&&this.getTargetModel(Le);if(this.selectTargetModel(_e,Re),_e||(C.style.display="none"),Le){this.lastDims=Me;var ie=this.findPosition(Me,ue,$e);this.isTextableActive(Re,_e)?(this.activeTextModel=_e,this.setContentEditable(_e,!0),C.style.display="none",this.lastPos=ie,this.updateTextViewCursorPosition(I)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==ie.index&&this.lastPos.method==ie.method||(this.movePlaceholder(this.plh,Me,ie,this.prevTargetDim),this.$plh||(this.$plh=S(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=ie)),Object(Q.isFunction)(y)&&y({event:k,target:Re,parent:_e,index:ie.index+("after"==ie.method?1:0)}),p&&p.trigger("sorter:drag",{target:Le,targetModel:_e,sourceModel:Re,dims:Me,pos:ie,x:ue,y:$e})}},isTextableActive:function(k,I){return k&&k.get&&k.get("textable")&&I&&I.is("text")},disableTextable:function(){var k=this.activeTextModel;k&&k.getView().disableEditing()},isInFlow:function(k,I){return!!k&&(I=I||document.body,!!this.styleInFlow(k,I))},styleInFlow:function(k,I){if(!Object(U.isTextNode)(k)){var p=k.style||{},y=S(k),C=I&&S(I);if(!p.overflow||"visible"===p.overflow){var B=y.css("float");if(!(B&&"none"!==B||C&&"flex"==C.css("display")&&"column"!==C.css("flex-direction"))){switch(p.position){case"static":case"relative":case"":break;default:return}switch(k.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(y.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}}},validTarget:function(k,I){var p=this.getTargetModel(k),y=this.getSourceModel(I,{target:p}),C={valid:!0,src:I=y&&y.view&&y.view.el,srcModel:y,trg:k=p&&p.view&&p.view.el,trgModel:p};if(!I||!k)return C.valid=!1,C;var B=y.get("draggable");B=B instanceof Array?B.join(", "):B,C.dragInfo=B,B=Object(Q.isString)(B)?this.matches(k,B):B,C.draggable=B;var K=p.get("droppable");if(Object(Q.isFunction)(K)){var te=K(y,p);C.droppable=te,C.dropInfo=te,K=te}else K=(K=K instanceof re.a.Collection?1:K)instanceof Array?K.join(", "):K,C.dropInfo=K,K=Object(Q.isString)(K)?this.matches(I,K):K,K=B&&this.isTextableActive(y,p)?1:K,C.droppable=K;return K&&B||(C.valid=!1),C},dimsFromTarget:function(k,I,p){var y=this.em,C=[];if(!k||(this.matches(k,"".concat(this.itemSel,", ").concat(this.containerSel))||(k=this.closest(k,this.itemSel)),this.draggable instanceof Array&&(k=this.closest(k,this.draggable.join(","))),!k))return C;if(this.prevTarget&&this.prevTarget!=k&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(k,this.containerSel);var B=this.validTarget(k);if(y&&y.trigger("sorter:drag:validation",B),!B.valid&&this.targetP)return this.dimsFromTarget(this.targetP,I,p);this.prevTarget=k,this.prevTargetDim=this.getDim(k),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(k)}if(this.prevTarget==k&&(C=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,I,p)||!this.nested&&!this.cacheDims.length){var K=this.targetP;K&&this.validTarget(K).valid&&(C=this.cacheDimsP,this.target=K)}return this.lastPos=null,C},getTargetFromEl:function(k){var I,p=k,y=this.targetPrev,C=this.em,B=this.containerSel,K=this.itemSel;if(this.matches(p,"".concat(K,", ").concat(B))||(p=this.closest(p,K)),this.draggable instanceof Array&&(p=this.closest(p,this.draggable.join(","))),y&&y!=p&&(this.targetPrev=""),!this.targetPrev){I=this.closest(p,B);var te=this.validTarget(p);if(C&&C.trigger("sorter:drag:validation",te),!te.valid&&I)return this.getTargetFromEl(I);this.targetPrev=p}return this.nearElBorders(p)&&(I=this.closest(p,B))&&this.validTarget(I).valid&&(p=I),p},nearElBorders:function(k){var p=k.getBoundingClientRect(),y=k.ownerDocument.body,C=this.getCurrentPos(),B=C.x,K=C.y,te=p.top+y.scrollTop,$e=p.left+y.scrollLeft;if(K<te+10||K>te+p.height-10||B<$e+10||B>$e+p.width-10)return 1},getCurrentPos:function(){var k=this.eventMove;return{x:k.pageX||0,y:k.pageY||0}},getDim:function(k){var I,p,y,C,B=this.em,K=this.canvasRelative,te=B&&B.get("Canvas"),$e=te?te.getElementOffsets(k):{};if(K&&B){var ue=te.getElementPos(k,{noScroll:1});I=ue.top,p=ue.left,y=ue.height,C=ue.width}else{var ye=this.offset(k);I=this.relative?k.offsetTop:ye.top-(this.wmargin?-1:1)*this.elT,p=this.relative?k.offsetLeft:ye.left-(this.wmargin?-1:1)*this.elL,y=k.offsetHeight,C=k.offsetWidth}return{top:I,left:p,height:y,width:C,offsets:$e}},getChildrenDim:function(k){var I=this,p=[];if(!k)return p;var y=this.getTargetModel(k);if(y&&y.view&&!this.ignoreViewChildren){var C=y.getCurrentView?y.getCurrentView():y.view;k=C.getChildrenContainer()}return Object(Q.each)(k.children,function(B,K){var te=Object(U.getModel)(B,S),$e=te&&te.index?te.index():K;if(Object(U.isTextNode)(B)||I.matches(B,I.itemSel)){var ue=I.getDim(B),ye=I.direction;ye="v"==ye||"h"!=ye&&I.isInFlow(B,k),ue.dir=ye,ue.el=B,ue.indexEl=$e,p.push(ue)}}),p},nearBorders:function(k,I,p){var y=0,C=this.borderOffset,B=I||0,K=p||0,te=k.top,$e=k.left;return(te+C>K||K>te+k.height-C||$e+C>B||B>$e+k.width-C)&&(y=1),!!y},findPosition:function(k,I,p){for(var y={index:0,indexEl:0,method:"before"},C=0,B=0,K=0,te=0,$e=0,ue=0,ye=0,Re=0,Pe=k.length;Re<Pe;Re++){var Me=ye=k[Re],Le=Me.top,_e=Me.left,ie=Me.height,ne=Me.width;if(ue=Le+ie,te=_e+ne/2,$e=Le+ie/2,!(B&&_e>B||K&&$e>=K||C&&_e+ne<C))if(y.index=Re,y.indexEl=ye.indexEl,ye.dir){if(p<$e){y.method="before";break}y.method="after"}else p<ue&&(K=ue),I<te?(B=te,y.method="before"):(C=te,y.method="after")}return y},movePlaceholder:function(k,I,p,y){var B=0,K=0,te=0,$e=0,ue="px",Re=p.method,Pe=I[p.index];if(k.classList.remove("vertical"),k.classList.add("horizontal"),Pe){var Me=Pe.top,Le=Pe.left,_e=Pe.height,ie=Pe.width;Pe.dir?(te=ie+ue,$e="auto",B="before"==Re?Me-0:Me+_e-0,K=Le):(te="auto",$e=_e-0+ue,B=Me+0,K="before"==Re?Le-0:Le+ie-0,k.classList.remove("horizontal"),k.classList.add("vertical"))}else{if(!this.nested)return void(k.style.display="none");if(y){var ne=y.offsets||{},me=ne.paddingLeft||5;B=y.top+(ne.paddingTop||5),K=y.left+me,te=parseInt(y.width)-2*me+ue,$e="auto"}}k.style.top=B+ue,k.style.left=K+ue,te&&(k.style.width=te),$e&&(k.style.height=$e)},endMove:function(k){var I,p=this,y=this.eV,C=[],B=this.getDocuments(),K=this.getContainerEl(),te=this.onEndMove,$e=this.onEnd,ue=this.target,ye=this.lastPos;if(Object(U.off)(K,"mousemove dragover",this.onMove),Object(U.off)(B,"mouseup dragend touchend",this.endMove),Object(U.off)(B,"keydown",this.rollback),this.plh.style.display="none",y&&(I=this.getSourceModel(),this.selectOnEnd&&I&&I.set&&(I.set("status",""),I.set("status","selected"))),this.moved&&ue){var Re=this.toMove;(Object(Q.isArray)(Re)?Re:Re?[Re]:[y]).forEach(function(Le){C.push(p.move(ue,Le,ye))})}this.plh&&(this.plh.style.display="none");var Pe=this.dragHelper;if(Pe&&(Pe.parentNode.removeChild(Pe),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,Object(Q.isFunction)(te)){var Me={target:I,parent:I&&I.parent(),index:I&&I.index()};C.length?C.forEach(function(Le){return te(Le,p,Me)}):te(null,this,v(v({},Me),{},{cancelled:1}))}Object(Q.isFunction)($e)&&$e({sorter:this})},move:function(k,I,p){var y=this.em,C=this.activeTextModel,B=this.dropContent,K=Object(U.getElement)(I);y&&y.trigger("component:dragEnd:before",k,K,p);var te,$e,ue,ye=p.indexEl,Re=[],Pe=this.validTarget(k,K),Me=S(k).data("collection"),Le=Pe.srcModel,_e=Pe.droppable,ie=Pe.trgModel,ne=Pe.draggable,ge=Pe.dropInfo||ie&&ie.get("droppable"),me=Pe.dragInfo||Le&&Le.get("draggable");_e=ie instanceof re.a.Collection?1:_e;var _=this.isTextableActive(Le,ie);if(Me&&_e&&ne){var b={at:ye="after"===p.method?ye+1:ye,noIncrement:1};if(B?(te=Object(Q.isFunction)(B)?B():B,b.silent=!1,b.avoidUpdateStyle=1):(b.temporary=1,$e=Me.add({},v({},b)),Le.collection&&(te=Le.collection.remove(Le,{temporary:1}))),_){var G=C.getView();C.trigger("active");var c=G.activeRte,O=Le.getEl();delete Le.opt.temporary,Le.getView().render(),O.setAttribute("data-gjs-textable","true"),c.insertHTML&&c.insertHTML(O.outerHTML)}else ue=Me.add(te,b);B?this.dropContent=null:Me.remove($e),this.prevTarget=null}else y&&(!Me&&Re.push("Target collection not found"),!_e&&ge&&Re.push("Target is not droppable, accepts [".concat(ge,"]")),!ne&&me&&Re.push("Component not draggable, acceptable by [".concat(me,"]")),y.logWarning("Invalid target position",{errors:Re,model:Le,context:"sorter",target:ie}));return y&&(y.trigger("component:dragEnd",Me,te,Re),y.trigger("sorter:drag:end",{targetCollection:Me,modelToDrop:te,warns:Re,validResult:Pe,dst:k,srcEl:K})),ue},rollback:function(k){Object(U.off)(this.getDocuments(),"keydown",this.rollback),27==(k.which||k.keyCode)&&(this.moved=0,this.endMove())}}),D=h(5),x=h.n(D),P=h(6),L=h.n(P);function N(k,I){var p=Object.keys(k);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(k);I&&(y=y.filter(function(C){return Object.getOwnPropertyDescriptor(k,C).enumerable})),p.push.apply(p,y)}return p}function R(k){for(var I=1;I<arguments.length;I++){var p=null!=arguments[I]?arguments[I]:{};I%2?N(Object(p),!0).forEach(function(y){he()(k,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(p)):N(Object(p)).forEach(function(y){Object.defineProperty(k,y,Object.getOwnPropertyDescriptor(p,y))})}return k}var M={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:10,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},A=function(k,I){var p=I||window,y=k.getBoundingClientRect();return{left:y.left+p.pageXOffset,top:y.top+p.pageYOffset,width:y.width,height:y.height}},z=function(){function k(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x()(this,k),this.setOptions(I),Object(Q.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return L()(k,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=Object(Q.defaults)(I,M),this.setup()}},{key:"setup",value:function(){var I=this.opts,p=I.prefix||"",y=I.appendTo||document.body,C=this.container;for(C||((C=document.createElement("div")).className="".concat(p,"resizer-c"),y.appendChild(C),this.container=C);C.firstChild;)C.removeChild(C.firstChild);var B={};for(var K in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function($e){return B[$e]=I[$e]?(ue=$e,Re=I.prefix||"",(Pe=document.createElement("i")).className=Re+"resizer-h "+Re+"resizer-h-"+ue,Pe.setAttribute("data-"+Re+"handler",ue),Pe):"";var ue,Re,Pe}),B){var te=B[K];te&&C.appendChild(te)}this.handlers=B,this.mousePosFetcher=I.mousePosFetcher,this.updateTarget=I.updateTarget,this.posFetcher=I.posFetcher,this.onStart=I.onStart,this.onMove=I.onMove,this.onEnd=I.onEnd,this.onUpdateContainer=I.onUpdateContainer}},{key:"toggleFrames",value:function(I){if(this.opts.silentFrames){var p=document.querySelectorAll("iframe");Object(Q.each)(p,function(y){return y.style.pointerEvents=I?"none":""})}}},{key:"isHandler",value:function(I){var p=this.handlers;for(var y in p)if(p[y]===I)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getParentEl",value:function(){return this.el.parentElement}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(I){var y=this.posFetcher||"";return y?y(I,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}):A(I)}},{key:"focus",value:function(I){I&&I===this.el||(this.el=I,this.updateContainer({forceShow:1}),Object(U.on)(this.getDocumentEl(),"mousedown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&(Object(U.off)(this.getDocumentEl(),"mousedown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(I){if(0===I.button){I.preventDefault(),I.stopPropagation();var p=this.el,y=this.getParentEl(),C=this.opts||{},B="data-"+C.prefix+"handler",K=this.getElementPos(p,{target:"el"}),te=this.getElementPos(y);this.handlerAttr=I.target.getAttribute(B),this.clickedHandler=I.target,this.startDim={t:K.top,l:K.left,w:K.width,h:K.height},this.rectDim={t:K.top,l:K.left,w:K.width,h:K.height},this.startPos={x:I.clientX,y:I.clientY},this.parentDim={t:te.top,l:te.left,w:te.width,h:te.height};var $e=this.getDocumentEl();Object(U.on)($e,"mousemove",this.move),Object(U.on)($e,"keydown",this.handleKeyDown),Object(U.on)($e,"mouseup",this.stop),Object(Q.isFunction)(this.onStart)&&this.onStart(I,{docs:$e,config:C,el:p,resizer:this}),this.toggleFrames(1),this.move(I)}}},{key:"move",value:function(I){var p=this.onMove,y=this.mousePosFetcher,C=y?y(I):{x:I.clientX,y:I.clientY};this.currentPos=C,this.delta={x:C.x-this.startPos.x,y:C.y-this.startPos.y},this.keys={shift:I.shiftKey,ctrl:I.ctrlKey,alt:I.altKey},this.rectDim=this.calc(this),this.updateRect(0),p&&p(I),0===I.which&&this.stop(I)}},{key:"stop",value:function(I){var p=this.opts,y=this.getDocumentEl();Object(U.off)(y,"mousemove",this.move),Object(U.off)(y,"keydown",this.handleKeyDown),Object(U.off)(y,"mouseup",this.stop),this.updateRect(1),this.toggleFrames(),Object(Q.isFunction)(this.onEnd)&&this.onEnd(I,{docs:y,config:p})}},{key:"updateRect",value:function(I){var p=this.el,y=this.opts,C=this.rectDim,B=this.updateTarget,K=this.getSelectedHandler(),te=y.unitHeight,$e=y.unitWidth,ue=y.keyWidth,ye=y.keyHeight;if(Object(Q.isFunction)(B))B(p,C,{store:I,selectedHandler:K,resizer:this,config:y});else{var Re=p.style;Re[ue]=C.w+$e,Re[ye]=C.h+te}this.updateContainer()}},{key:"updateContainer",value:function(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=this.opts,y=this.container;!p.avoidContainerUpdate&&this.el&&I.forceShow&&(y.style.display="block"),this.onUpdateContainer({el:y,resizer:this,opts:R(R({},p),I)})}},{key:"getSelectedHandler",value:function(){var I=this.handlers;if(this.selectedHandler)for(var p in I)if(I[p]===this.selectedHandler)return p}},{key:"handleKeyDown",value:function(I){27===I.keyCode&&(this.rectDim=this.startDim,this.stop(I))}},{key:"handleMouseDown",value:function(I){var p=I.target;this.isHandler(p)?(this.selectedHandler=p,this.start(I)):p!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(I){var p,y=this.opts||{},C=y.step,B=this.startDim,K=y.minDim,te=y.maxDim,$e=I.delta.x,ue=I.delta.y,ye=this.parentDim.w,Re=this.parentDim.h,Pe=this.opts.unitWidth,Me=this.opts.unitHeight,Le="%"===Pe?B.w/100*ye:B.w,_e="%"===Me?B.h/100*Re:B.h,ie={t:0,l:0,w:Le,h:_e};if(I){var ne=I.handlerAttr;~ne.indexOf("r")&&(p="%"===Pe?Object(U.normalizeFloat)((Le+$e*C)/ye*100,.01):Object(U.normalizeFloat)(Le+$e*C,C),p=Math.max(K,p),te&&(p=Math.min(te,p)),ie.w=p),~ne.indexOf("b")&&(p="%"===Me?Object(U.normalizeFloat)((_e+ue*C)/Re*100,.01):Object(U.normalizeFloat)(_e+ue*C,C),p=Math.max(K,p),te&&(p=Math.min(te,p)),ie.h=p),~ne.indexOf("l")&&(p="%"===Pe?Object(U.normalizeFloat)((Le-$e*C)/ye*100,.01):Object(U.normalizeFloat)(Le-$e*C,C),p=Math.max(K,p),te&&(p=Math.min(te,p)),ie.w=p),~ne.indexOf("t")&&(p="%"===Me?Object(U.normalizeFloat)((_e-ue*C)/Re*100,.01):Object(U.normalizeFloat)(_e-ue*C,C),p=Math.max(K,p),te&&(p=Math.min(te,p)),ie.h=p);var ge=y.ratioDefault?!I.keys.shift:I.keys.shift;if(ne.indexOf("c")<0&&ge){var me=B.w/B.h;ie.w/ie.h>me?ie.h=Math.round(ie.w/me):ie.w=Math.round(ie.h*me)}return~ne.indexOf("l")&&(ie.l=B.w-ie.w),~ne.indexOf("t")&&(ie.t=B.h-ie.h),ie}}}]),k}(),H={init:function(k){return new z(k)}};function F(k,I){var p=Object.keys(k);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(k);I&&(y=y.filter(function(C){return Object.getOwnPropertyDescriptor(k,C).enumerable})),p.push.apply(p,y)}return p}function W(k){for(var I=1;I<arguments.length;I++){var p=null!=arguments[I]?arguments[I]:{};I%2?F(Object(p),!0).forEach(function(y){he()(k,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(p)):F(Object(p)).forEach(function(y){Object.defineProperty(k,y,Object.getOwnPropertyDescriptor(p,y))})}return k}ve.default=function(){return{name:"Utils",init:function(){return this},destroy:function(){},Sorter:E,Resizer:H,Dragger:de.a,helpers:W({},U)}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(3),he=h.n(ce),de=h(14),se=h.n(de),re=h(0),Q=h(1),U={placeholder:"eg. Text here"},T={locale:"en",localeFallback:"en",detectLocale:1,debug:0,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:U,alt:U,title:U,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}}}}};function v(D,x){var P=Object.keys(D);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(D);x&&(L=L.filter(function(N){return Object.getOwnPropertyDescriptor(D,N).enumerable})),P.push.apply(P,L)}return P}function S(D){for(var x=1;x<arguments.length;x++){var P=null!=arguments[x]?arguments[x]:{};x%2?v(Object(P),!0).forEach(function(L){he()(D,L,P[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(P)):v(Object(P)).forEach(function(L){Object.defineProperty(D,L,Object.getOwnPropertyDescriptor(P,L))})}return D}var E=function(D){return!Array.isArray(D)&&null!==D&&"object"===se()(D)};ve.default=function(){return{name:"I18n",config:T,init:function(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.config=S(S(S({},T),D),{},{messages:S(S({},T.messages),D.messages||{})}),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=D.em,this},getConfig:function(){return this.config},setLocale:function(D){var x=this.em,P=this.config;return x&&x.trigger("i18n:locale",{value:D,valuePrev:P.locale}),P.locale=D,this},getLocale:function(){return this.config.locale},getMessages:function(D){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=this.config.messages;return D&&!P[D]&&this._debug("'".concat(D,"' i18n lang not found"),x),D?P[D]:P},setMessages:function(D){var x=this.em;return this.config.messages=D,x&&x.trigger("i18n:update",D),this},addMessages:function(D){var x=this.em,P=this.config.messages;return x&&x.trigger("i18n:add",D),this.setMessages(function L(){for(var N=S({},arguments.length<=0?void 0:arguments[0]),R=1;R<arguments.length;R++){var M=S({},R<0||arguments.length<=R?void 0:arguments[R]);for(var A in M){var z=N[A],H=M[A];N[A]=E(z)&&E(H)?L(z,H):H}}return N}(P,D)),this},t:function(D){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=this.config,L=x.params||{},N=x.l||this.getLocale(),R=x.lFlb||P.localeFallback,M=this._getMsg(D,N,x);return M||(M=this._getMsg(D,R,x)),!M&&this._debug("'".concat(D,"' i18n key not found in '").concat(N,"' lang"),x),M&&Object(re.isString)(M)?this._addParams(M,L):M},_localLang:function(){var D=Object(Q.hasWin)()&&window.navigator||{},x=D.language||D.userLanguage;return x?x.split("-")[0]:"en"},_addParams:function(D,x){var P=new RegExp("{([\\w\\d-]*)}","g");return D.replace(P,function(L,N){return x[N]||""}).trim()},_getMsg:function(D,x){var L=this.getMessages(x,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});if(L){var N=L[D];return!N&&D.indexOf(".")>0&&(N=D.split(".").reduce(function(R,M){if(!Object(re.isUndefined)(R))return R[M]},L)),N}},_debug:function(D){var P=this.em;((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).debug||this.config.debug)&&P&&P.logWarning(D)},destroy:function(){this.config=T,this.em={}}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(34),he=h.n(ce),de=h(11),se=h.n(de),re=h(3),Q=h.n(re),U=h(26),T=h.n(U),v=h(5),S=h.n(v),E=h(6),D=h.n(E),x=h(1);function P(p,y){var C=Object.keys(p);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(p);y&&(B=B.filter(function(K){return Object.getOwnPropertyDescriptor(p,K).enumerable})),C.push.apply(C,B)}return C}function L(p){for(var y=1;y<arguments.length;y++){var C=null!=arguments[y]?arguments[y]:{};y%2?P(Object(C),!0).forEach(function(B){Q()(p,B,C[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(C)):P(Object(C)).forEach(function(B){Object.defineProperty(p,B,Object.getOwnPropertyDescriptor(C,B))})}return p}var N="_rte",z=function(p){var y=p.selection().anchorNode,C=y&&y.parentNode,B=y&&y.nextSibling;return C&&"A"==C.nodeName||B&&"A"==B.nodeName},H={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(p){return p.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(p){return p.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(p){return p.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(p){return p.exec("strikeThrough")}},link:{icon:'<span style="transform:rotate(45deg)">&supdsub;</span>',name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(p,y){return p&&p.selection()&&z(p)?1:0},result:function(p){z(p)?p.exec("unlink"):p.insertHTML('<a class="link" href="">'.concat(p.selection(),"</a>"))}}},F=function(){function p(){var y=this,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S()(this,p);var B=C.el;if(B[N])return B[N];B[N]=this,this.setEl(B),this.updateActiveActions=this.updateActiveActions.bind(this);var K=(C.actions||[]).map(function(Re){var Pe=Re;return"string"==typeof Re?Pe=L({},H[Re]):H[Re.name]&&(Pe=L(L({},H[Re.name]),Re)),Pe}),te=K.length?K:Object.keys(H).map(function(Re){return H[Re]});C.classes=L(L({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"}),C.classes);var $e=C.classes,ue=C.actionbar;if(this.actionbar=ue,this.settings=C,this.classes=$e,this.actions=te,!ue){var ye=C.actionbarContainer;(ue=document.createElement("div")).className=$e.actionbar,ye.appendChild(ue),this.actionbar=ue,te.forEach(function(Re){return y.addAction(Re)})}return C.styleWithCSS&&this.exec("styleWithCSS"),this.syncActions(),this}return D()(p,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(y){this.el=y,this.doc=y.ownerDocument}},{key:"updateActiveActions",value:function(){var y=this;this.getActions().forEach(function(C){var B=C.btn,K=C.update,te=L({},y.classes),$e=te.active,ue=te.inactive,ye=te.disabled,Re=C.state,Pe=C.name,Me=y.doc;if(B.className=B.className.replace($e,"").trim(),B.className=B.className.replace(ue,"").trim(),B.className=B.className.replace(ye,"").trim(),Re)switch(Re(y,Me)){case 1:B.className+=" ".concat($e);break;case 0:B.className+=" ".concat(ue);break;case-1:B.className+=" ".concat(ye)}else Me.queryCommandSupported(Pe)&&Me.queryCommandState(Pe)&&(B.className+=" ".concat($e));K&&K(y,C)})}},{key:"enable",value:function(){return this.enabled||(this.actionbarEl().style.display="",this.el.contentEditable=!0,Object(x.on)(this.el,"mouseup keyup",this.updateActiveActions),this.syncActions(),this.updateActiveActions(),this.el.focus(),this.enabled=1),this}},{key:"disable",value:function(){return this.actionbarEl().style.display="none",this.el.contentEditable=!1,Object(x.off)(this.el,"mouseup keyup",this.updateActiveActions),this.enabled=0,this}},{key:"syncActions",value:function(){var y=this;this.getActions().forEach(function(C){y.settings.actionbar&&(!C.state||C.state&&C.state(y,y.doc)>=0)&&(C.btn["on".concat(C.event||"click")]=function(K){C.result(y,C),y.updateActiveActions()})})}},{key:"addAction",value:function(y){var B=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sync,K=document.createElement("span"),te=y.icon,$e=y.attributes||{};for(var ue in K.className=this.classes.button,y.btn=K,$e)K.setAttribute(ue,$e[ue]);"string"==typeof te?K.innerHTML=te:K.appendChild(te),this.actionbarEl().appendChild(K),B&&(this.actions.push(y),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(y){this.doc.execCommand(y,!1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(y){var C=this.doc,B=C.getSelection();if(B&&B.rangeCount){var K=C.createElement("div"),te=B.getRangeAt(0);te.deleteContents(),K.innerHTML=y,Array.prototype.slice.call(K.childNodes).forEach(function($e){te.insertNode($e)}),B.removeAllRanges(),B.addRange(te),this.el.focus()}}}]),p}(),W={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link"]};function k(p,y){var C=Object.keys(p);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(p);y&&(B=B.filter(function(K){return Object.getOwnPropertyDescriptor(p,K).enumerable})),C.push.apply(C,B)}return C}function I(p){for(var y=1;y<arguments.length;y++){var C=null!=arguments[y]?arguments[y]:{};y%2?k(Object(C),!0).forEach(function(B){Q()(p,B,C[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(C)):k(Object(C)).forEach(function(B){Object.defineProperty(p,B,Object.getOwnPropertyDescriptor(C,B))})}return p}ve.default=function(){var p,y,C,B,K,te={},$e="change:canvasOffset canvasScroll frame:scroll component:update",ue=function(){var ye=p.style,Re="-1000px";ye.top=Re,ye.left=Re,ye.display="none"};return{customRte:null,name:"RichTextEditor",getConfig:function(){return te},init:function(){var ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Re=(te=I(I({},W),ye)).pStylePrefix;return Re&&(te.stylePrefix=Re+te.stylePrefix),this.pfx=te.stylePrefix,y=te.actions||[],Object(x.hasWin)()?((p=document.createElement("div")).className="".concat(Re,"rte-toolbar ").concat(Re,"one-bg"),K=this.initRte(document.createElement("div")),Object(x.on)(p,"mousedown",function(Pe){return Pe.stopPropagation()}),this):this},destroy:function(){var ye=this.customRte;K&&K.destroy(),ye&&ye.destroy&&ye.destroy(),this.actionbar=0,this.actions=0,[te,p,y,C,B,K].forEach(function(Re){return{}})},postRender:function(ye){var Re=ye.model.get("Canvas");p.style.pointerEvents="all",ue(),Re.getToolsEl().appendChild(p)},initRte:function(ye){var Re=this.pfx,Pe=p,Me=this.actionbar,Le=this.actions||se()(te.actions),_e={actionbar:"".concat(Re,"actionbar"),button:"".concat(Re,"action"),active:"".concat(Re,"active"),inactive:"".concat(Re,"inactive"),disabled:"".concat(Re,"disabled")},ie=new F({el:ye,classes:_e,actions:Le,actionbar:Me,actionbarContainer:Pe});return K&&K.setEl(ye),ie.actionbar&&(this.actionbar=ie.actionbar),ie.actions&&(this.actions=ie.actions),ie},add:function(ye){var Re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Re.name=ye,K.addAction(Re,{sync:1})},get:function(ye){var Re;return K.getActions().forEach(function(Pe){Pe.name==ye&&(Re=Pe)}),Re},getAll:function(){return K.getActions()},remove:function(ye){var Re=this.getAll(),Pe=this.get(ye);if(Pe){var Me=Pe.btn,Le=Re.indexOf(Pe);Me.parentNode.removeChild(Me),Re.splice(Le,1)}return Pe},getToolbarEl:function(){return p},updatePosition:function(){var Re=te.em.get("Canvas"),Pe=p.style,Me=Re.getTargetToElementFixed(C,p,{event:"rteToolbarPosUpdate",left:0});Pe.top=(Me.top||0)+"px",Pe.left=(Me.left||0)+"px"},enable:function(ye,Re){var Pe=this;return he()(T.a.mark(function Me(){var Le,_e,ie,ne,ge;return T.a.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return C=ye.el,Le=Pe.customRte,_e=te.em.get("Canvas"),ie=te.em,ne=ye.getChildrenContainer(),B=_e.getElementPos(C),p.style.display="",me.next=9,Le?Le.enable(ne,Re):Pe.initRte(ne).enable();case 9:return ge=me.sent,ie&&(setTimeout(Pe.updatePosition.bind(Pe),0),ie.off($e,Pe.updatePosition,Pe),ie.on($e,Pe.updatePosition,Pe),ie.trigger("rte:enable",ye,ge)),me.abrupt("return",ge);case 12:case"end":return me.stop()}},Me)}))()},disable:function(ye,Re){var Pe=te.em,Me=this.customRte,Le=ye.getChildrenContainer();Me?Me.disable(Le,Re):Re&&Re.disable(),ue(),Pe&&(Pe.off($e,this.updatePosition,this),Pe.trigger("rte:disable",ye,Re))}}}},function(nt,ve,h){"use strict";h.r(ve);var ce,he=h(3),de=h.n(he),se={stylePrefix:"",appendTo:"",sortable:1,hidable:1,hideTextnode:1,root:"",showWrapper:1,showHover:1,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:1,onInit:function(){},onRender:function(){},extend:{}},re=h(0),Q=h(1),U=h(2),T=h.n(U),v=h(12),S=h(10),E="contentEditable",D={mediaText:""},x=T.a.$,P=T.a.View.extend({events:{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"},template:function(R){var M=this.pfx,A=this.ppfx,H=this.clsNoEdit,F=this.config.hidable,W=this.countChildren(R),k=W?"":this.clsNoChild,I="".concat(this.clsTitle," ").concat(k),p="".concat(this.clsTitleC," ").concat(A,"one-bg"),y="".concat(this.clsCaret," fa fa-chevron-right"),C="".concat(this.inputNameCls," ").concat(H," ").concat(A,"no-app"),K="".concat(30+10*(this.level+1),"px"),te=R.getName(),$e=R.getIcon(),ue="".concat(M,"layer");return"\n      ".concat(F?'<i class="'.concat(M,"layer-vis fa fa-eye ").concat(this.isVisible()?"":"fa-eye-slash",'" data-toggle-visible></i>'):"",'\n      <div class="').concat(p,'">\n        <div class="').concat(I,'" style="padding-left: ').concat(K,'" data-toggle-select>\n          <div class="').concat(M,'layer-title-inn" title="').concat(te,'">\n            <i class="').concat(y,'" data-toggle-open></i>\n            ').concat($e?'<span class="'.concat(ue,'__icon">').concat($e,"</span>"):"",'\n            <span class="').concat(C,'" data-name>').concat(te,'</span>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(this.clsCount,'" data-count>').concat(W||"",'</div>\n      <div class="').concat(this.clsMove,'" data-toggle-move>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div class="').concat(this.clsChildren,'"></div>')},initialize:function(){var R=this,M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(re.bindAll)(this,"__render"),this.opt=M,this.level=M.level;var A=M.config||{},z=A.onInit;this.config=A,this.em=M.config.em,this.ppfx=this.em.get("Config").stylePrefix,this.sorter=M.sorter||"",this.pfx=this.config.stylePrefix,this.parentView=M.parentView;var H=this.pfx,F=this.ppfx,W=this.model,k=W.get("components"),I=W.get("type")||"default";W.set("open",!1),this.listenTo(k,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render]].forEach(function(p){return R.listenTo(W,p[0],p[1])}),this.className="".concat(H,"layer ").concat(H,"layer__t-").concat(I," no-select ").concat(F,"two-color"),this.inputNameCls="".concat(F,"layer-name"),this.clsTitleC="".concat(H,"layer-title-c"),this.clsTitle="".concat(H,"layer-title"),this.clsCaret="".concat(H,"layer-caret"),this.clsCount="".concat(H,"layer-count"),this.clsMove="".concat(H,"layer-move"),this.clsChildren="".concat(H,"layer-children"),this.clsNoChild="".concat(H,"layer-no-chld"),this.clsEdit="".concat(this.inputNameCls,"--edit"),this.clsNoEdit="".concat(this.inputNameCls,"--no-edit"),this.$el.data("model",W),this.$el.data("collection",k),W.viewLayer=this,z.bind(this)({component:W,render:this.__render,listenTo:this.listenTo})},getVisibilityEl:function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},updateVisibility:function(){var M=this.model,A="".concat(this.pfx,"layer-hidden"),z="none"===M.getStyle(D).display?"addClass":"removeClass";this.$el[z](A),this.getVisibilityEl()[z]("fa-eye-slash")},toggleVisibility:function(R){R&&R.stopPropagation();var M=this.model,A=this.em,z="__prev-display",H=M.get(z),F=M.getStyle(D),W=F.display;"none"==W?(delete F.display,H&&(F.display=H,M.unset(z))):(W&&M.set(z,W),F.display="none"),M.setStyle(F,D),A&&A.trigger("component:toggled")},handleEdit:function(R){R&&R.stopPropagation();var M=this.em,A=this.$el,z=this.clsNoEdit,H=this.clsEdit,F=this.getInputName();F[E]=!0,F.focus(),document.execCommand("selectAll",!1,null),M&&M.setEditing(1),A.find(".".concat(this.inputNameCls)).removeClass(z).addClass(H)},handleEditKey:function(R){R.stopPropagation(),(Object(Q.isEscKey)(R)||Object(Q.isEnterKey)(R))&&this.handleEditEnd(R)},handleEditEnd:function(R){R&&R.stopPropagation();var M=this.em,A=this.$el,z=this.clsNoEdit,H=this.clsEdit,F=this.getInputName(),W=F.textContent;F.scrollLeft=0,F[E]=!1,this.setName(W,{component:this.model,propName:"custom-name"}),M&&M.setEditing(0),A.find(".".concat(this.inputNameCls)).addClass(z).removeClass(H)},setName:function(R,M){this.model.set(M.propName,R)},getInputName:function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},updateOpening:function(){var R=this.opt.opened||{},M=this.model,A="fa-chevron-down";M.get("open")?(this.$el.addClass("open"),this.getCaret().addClass(A),R[M.cid]=M):(this.$el.removeClass("open"),this.getCaret().removeClass(A),delete R[M.cid])},toggleOpening:function(R){var M=this.model;R.stopImmediatePropagation(),M.get("components").length&&M.set("open",!M.get("open"))},handleSelect:function(R){R.stopPropagation();var M=this.em,A=this.config,z=this.model;if(M){M.setSelected(z,{fromLayers:1,event:R});var H=A.scrollCanvas;H&&z.views.forEach(function(F){return F.scrollIntoView(H)})}},handleHover:function(R){R.stopPropagation();var M=this.em;M&&this.config.showHover&&M.setHovered(this.model,{fromLayers:1})},handleHoverOut:function(R){R.stopPropagation();var M=this.em;M&&this.config.showHover&&M.setHovered(0,{fromLayers:1})},startSort:function(R){R.stopPropagation();var M=this.em,A=this.sorter;R.button&&0!==R.button||A&&(A.onStart=function(z){return M.trigger("".concat(S.b,":start"),z)},A.onMoveClb=function(z){return M.trigger(S.b,z)},A.startSort(R.target))},freeze:function(){this.$el.addClass(this.pfx+"opac50"),this.model.set("open",0)},unfreeze:function(){this.$el.removeClass(this.pfx+"opac50")},updateStatus:function(R){v.default.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:1}])},isVisible:function(){var R=this.model.getStyle().display;return!(R&&"none"===R)},checkChildren:function(){var R=this.model,M=this.clsNoChild,A=this.countChildren(R),z=this.$el.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),H=this.cnt;H||(H=this.$el.children("[data-count]").get(0),this.cnt=H),z[A?"removeClass":"addClass"](M),H&&(H.innerHTML=A||""),!A&&R.set("open",0)},countChildren:function(R){var M=0;return R.get("components").each(function(A){var z=this.opt.isCountable;z&&!z(A,this.config.hideTextnode)||M++},this),M},getCaret:function(){return(!this.caret||!this.caret.length)&&(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},setRoot:function(R){R=Object(re.isString)(R)?this.em.getWrapper().find(R)[0]:R;var M=Object(Q.getModel)(R,x);M&&(this.stopListening(),this.model=M,this.initialize(this.opt),this._rendered&&this.render())},updateLayerable:function(){(this.parentView||this).render()},__clearItems:function(){var R=this.items;R&&R.remove()},remove:function(){T.a.View.prototype.remove.apply(this,arguments),this.__clearItems()},render:function(){var R=this.model,M=this.config,A=this.pfx,z=this.ppfx,H=this.opt;this.__clearItems();var F=H.isCountable,W=F&&!F(R,M.hideTextnode),k=this.isVisible(),I=this.$el.empty(),p=this.level+1;this.inputName=0,Object(re.isUndefined)(ce)&&(ce=h(97).default),this.items=new ce({ItemView:H.ItemView,collection:R.get("components"),config:this.config,sorter:this.sorter,opened:this.opt.opened,parentView:this,parent:R,level:p});var y=this.items.render().$el;return this.config.showWrapper||1!==p?(I.html(this.template(R)),I.find(".".concat(this.clsChildren)).append(y)):I.append(y),R.get("draggable")&&this.config.sortable||I.children(".".concat(this.clsMove)).remove(),!k&&(this.className+=" ".concat(A,"hide")),W&&(this.className+=" ".concat(z,"hidden")),I.attr("class",this.className),this.updateOpening(),this.updateStatus(),this.updateVisibility(),this.__render(),this._rendered=1,this},__render:function(){var A={component:this.model,el:this.el};this.config.onRender.bind(this)(A),this.em.trigger("layer:render",A)}});function L(R,M){var A=Object.keys(R);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(R);M&&(z=z.filter(function(H){return Object.getOwnPropertyDescriptor(R,H).enumerable})),A.push.apply(A,z)}return A}function N(R){for(var M=1;M<arguments.length;M++){var A=null!=arguments[M]?arguments[M]:{};M%2?L(Object(A),!0).forEach(function(z){de()(R,z,A[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(A)):L(Object(A)).forEach(function(z){Object.defineProperty(R,z,Object.getOwnPropertyDescriptor(A,z))})}return R}ve.default=function(){var R,M,A={};return{name:"LayerManager",init:function(){var z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(A=N(N({},se),z)).stylePrefix=z.pStylePrefix,R=A.em,this},getConfig:function(){return A},onLoad:function(){R&&R.on("component:selected",this.componentChanged),this.componentChanged()},postRender:function(){var z=A.appendTo,H=A.root;H&&this.setRoot(H),z&&(Object(re.isElement)(z)?z:document.querySelector(z)).appendChild(this.render())},setRoot:function(z){return M&&M.setRoot(z),this},getRoot:function(){return M&&M.model},getAll:function(){return M},componentChanged:function(z){if(!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fromLayers){var F=R.get("opened"),W=R.getSelected(),k=A.scrollLayers,I=W&&W.collection?W.collection.parent:null;for(var p in F)F[p].set("open",0);for(;I;)I.set("open",1),F[I.cid]=I,I=I.collection?I.collection.parent:null;if(W&&k){var y=W.viewLayer&&W.viewLayer.el;y&&y.scrollIntoView(k)}}},render:function(){var z=P.extend(A.extend);return M&&M.remove(),(M=new z({ItemView:z,level:0,config:A,opened:A.opened||{},model:R.get("DomComponents").getWrapper()})).render().el},destroy:function(){M&&M.remove(),[R,M,A].forEach(function(z){return{}})}}}},function(nt,ve,h){"use strict";h.r(ve);var ce,he=h(14),de=h.n(he),se=h(3),re=h.n(se),Q=h(0),U=h(1),T={},v={16:!1,18:!1,17:!1,91:!1},S="all",E={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},D={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},x=function(B){return D[B]||B.toUpperCase().charCodeAt(0)},P=[];for(ce=1;ce<20;ce++)D["f"+ce]=111+ce;function L(B,K){for(var te=B.length;te--;)if(B[te]===K)return te;return-1}function N(B,K){if(B.length!=K.length)return!1;for(var te=0;te<B.length;te++)if(B[te]!==K[te])return!1;return!0}var R={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function A(B){var K,te=B.keyCode,$e=L(P,te);if($e>=0&&P.splice($e,1),93!=te&&224!=te||(te=91),te in v)for(K in v[te]=!1,E)E[K]==te&&(H[K]=!1)}function z(){for(ce in v)v[ce]=!1;for(ce in E)H[ce]=!1}function H(B,K,te){var $e,ue;$e=W(B),void 0===te&&(te=K,K="all");for(var ye=0;ye<$e.length;ye++)ue=[],(B=$e[ye].split("+")).length>1&&(ue=k(B),B=[B[B.length-1]]),(B=x(B=B[0]))in T||(T[B]=[]),T[B].push({shortcut:$e[ye],scope:K,method:te,key:$e[ye],mods:ue})}for(ce in E)H[ce]=!1;function F(){return S||"all"}function W(B){var K;return""==(K=(B=B.replace(/\s/g,"")).split(","))[K.length-1]&&(K[K.length-2]+=","),K}function k(B){for(var K=B.slice(0,B.length-1),te=0;te<K.length;te++)K[te]=E[K[te]];return K}function I(B,K,te){B.addEventListener?B.addEventListener(K,te,!1):B.attachEvent&&B.attachEvent("on"+K,function(){te(window.event)})}H.setScope=function(B){S=B||"all"},H.getScope=F,H.deleteScope=function(B){var K,te,$e;for(K in T)for(te=T[K],$e=0;$e<te.length;)te[$e].scope===B?te.splice($e,1):$e++},H.filter=function(B){var K=(B.target||B.srcElement).tagName;return!("INPUT"==K||"SELECT"==K||"TEXTAREA"==K)},H.isPressed=function(B){return"string"==typeof B&&(B=x(B)),-1!=L(P,B)},H.getPressedKeyCodes=function(){return P.slice(0)},H.unbind=function(B,K){var te,$e,ue,ye,Re,Pe=[];for(te=W(B),ye=0;ye<te.length;ye++){if(($e=te[ye].split("+")).length>1&&(Pe=k($e)),B=x(B=$e[$e.length-1]),void 0===K&&(K=F()),!T[B])return;for(ue=0;ue<T[B].length;ue++)(Re=T[B][ue]).scope===K&&N(Re.mods,Pe)&&(T[B][ue]={})}},H.init=function(B){I(B.document,"keydown",function(K){!function(B){var K,te,$e,ue,ye,Re;if(-1==L(P,K=B.keyCode)&&P.push(K),93!=K&&224!=K||(K=91),K in v)for($e in v[K]=!0,E)E[$e]==K&&(H[$e]=!0);else if(function(Pe){for(ce in v)v[ce]=Pe[R[ce]]}(B),H.filter.call(this,B)&&K in T)for(Re=F(),ue=0;ue<T[K].length;ue++)if((te=T[K][ue]).scope==Re||"all"==te.scope){for($e in ye=te.mods.length>0,v)(!v[$e]&&L(te.mods,+$e)>-1||v[$e]&&-1==L(te.mods,+$e))&&(ye=!1);(0!=te.mods.length||v[16]||v[18]||v[17]||v[91])&&!ye||!1===te.method(B,te)&&(B.preventDefault?B.preventDefault():B.returnValue=!1,B.stopPropagation&&B.stopPropagation(),B.cancelBubble&&(B.cancelBubble=!0))}}(K)}),I(B.document,"keyup",A),I(B,"focus",z)};var p=H;function y(B,K){var te=Object.keys(B);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(B);K&&($e=$e.filter(function(ue){return Object.getOwnPropertyDescriptor(B,ue).enumerable})),te.push.apply(te,$e)}return te}function C(B){for(var K=1;K<arguments.length;K++){var te=null!=arguments[K]?arguments[K]:{};K%2?y(Object(te),!0).forEach(function($e){re()(B,$e,te[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(te)):y(Object(te)).forEach(function($e){Object.defineProperty(B,$e,Object.getOwnPropertyDescriptor(te,$e))})}return B}Object(U.hasWin)()&&p.init(window),ve.default=function(){var B,K,te={},$e={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:1}}}};return{keymaster:p,name:"Keymaps",getConfig:function(){return K},init:function(){var ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return K=C(C({},$e),ue),this.em=B=K.em,this},onLoad:function(){var ue=K.defaults;for(var ye in ue){var Re=ue[ye];this.add(ye,Re.keys,Re.handler,Re.opts||{})}},add:function(ue,ye,Re){var Pe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Me=this.em,Le=Me.get("Commands"),_e=Me.getEditor(),ie=Me.get("Canvas"),ne={id:ue,keys:ye,handler:Re};return te[ue]&&this.remove(ue),te[ue]=ne,p(ye,function(me,_){var b={event:me,h:_};if(Re=Object(Q.isString)(Re)?Le.get(Re):Re,!Me.isEditing()&&!_e.Canvas.isInputFocused()||Pe.force){Pe.prevent&&ie.getCanvasView().preventDefault(me),"object"==de()(Re)?Le.runCommand(Re,b):Re(_e,0,b);var G=[ue,_.shortcut,me];Me.trigger.apply(Me,["keymap:emit"].concat(G)),Me.trigger.apply(Me,["keymap:emit:".concat(ue)].concat(G))}}),Me.trigger("keymap:add",ne),ne},get:function(ue){return te[ue]},getAll:function(){return te},remove:function(ue){var ye=this.em,Re=this.get(ue);if(Re)return delete te[ue],Re.keys.split(", ").forEach(function(Pe){return p.unbind(Pe.trim())}),ye&&ye.trigger("keymap:remove",Re),Re},removeAll:function(){var ue=this;return Object.keys(te).forEach(function(ye){return ue.remove(ye)}),this},destroy:function(){this.removeAll(),[B,K,te].forEach(function(ue){return{}}),this.em={}}}}},function(nt,ve,h){"use strict";h.r(ve);var ce=h(11),he=h.n(ce),de=h(3),se=h.n(de),re=h(0),Q=h(31),U={stylePrefix:"com-",defaults:[],strict:1},T=h(10);function v(D,x){var P=Object.keys(D);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(D);x&&(L=L.filter(function(N){return Object.getOwnPropertyDescriptor(D,N).enumerable})),P.push.apply(P,L)}return P}function S(D){for(var x=1;x<arguments.length;x++){var P=null!=arguments[x]?arguments[x]:{};x%2?v(Object(P),!0).forEach(function(L){se()(D,L,P[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(P)):v(Object(P)).forEach(function(L){Object.defineProperty(D,L,Object.getOwnPropertyDescriptor(P,L))})}return D}var E=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];ve.default=function(){var D,x={},P={},L={},N={};return{CommandAbstract:Q.default,name:"Commands",init:function(){var R=this,M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x=S(S({},U),M),D=x.em;var A=x.pStylePrefix;return A&&(x.stylePrefix=A+x.stylePrefix),Object.keys(x.defaults).forEach(function(z){var H=x.defaults[z];H.id&&R.add(H.id,H)}),L["tlb-delete"]={run:function(z){return z.runCommand("core:component-delete")}},L["tlb-clone"]={run:function(z){z.runCommand("core:copy"),z.runCommand("core:paste")}},L["tlb-move"]={run:function(z,H){var F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},W=z.getModel(),k=F&&F.event,I=F.target,p=I||z.getSelected(),y=I?[I]:he()(z.getSelectedAll()),C=k&&"dragstart"==k.type,B={preserveSelected:1},K=["absolute","translate"];if(!p||!p.get("draggable"))return W.logWarning("The element is not draggable");var te=p.get("dmode")||W.get("dmode"),$e=function(){return W.stopDefault(B)},ue=Object(re.includes)(K,te);y.forEach(function(Le){return Le.trigger("disable")}),C?setTimeout($e,0):$e();var ye=function(Le){W.trigger("".concat(T.b,":start"),Le)},Re=function(Le){W.trigger(T.b,Le)},Pe=function(Le,_e,ie){y.forEach(function(ne){return ne.set("status","selected")}),z.select(y),p.emitUpdate(),W.trigger("".concat(T.b,":end"),ie),setTimeout(function(){return W.runDefault(B)}),(ue||ie.cancelled)&&W.set("_cmpDrag",1)};if(ue)z.runCommand("core:component-drag",{guidesInfo:1,mode:te,target:p,onStart:ye,onDrag:Re,onEnd:Pe,event:k});else{C&&k.dataTransfer.setDragImage(p.view.el,0,0);var Me=z.Commands.get("move-comp");Me.onStart=ye,Me.onDrag=Re,Me.onEndMoveFromModel=Pe,Me.initSorterFromModels(y)}y.forEach(function(Le){return Le.set("status","freezed-selected")})}},L["core:undo"]=function(z){return z.UndoManager.undo()},L["core:redo"]=function(z){return z.UndoManager.redo()},E.forEach(function(z){var H=z[2],F=h(98)("./".concat(z[1])).default,W="core:".concat(z[0]);L[W]=F,H&&(L[H]=F,["run","stop"].forEach(function(k){D.on("".concat(k,":").concat(H),function(){for(var I,p=arguments.length,y=new Array(p),C=0;C<p;C++)y[C]=arguments[C];return(I=D).trigger.apply(I,["".concat(k,":").concat(W)].concat(y))})}))}),x.em&&(x.model=x.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(R,M){return Object(re.isFunction)(M)&&(M={run:M}),M.stop||(M.noStop=1),delete M.initialize,M.id=R,P[R]=Q.default.extend(M),this},get:function(R){var M=P[R];return Object(re.isFunction)(M)?(M=new M(x),P[R]=M):M||D.logWarning("'".concat(R,"' command not found")),M},extend:function(R){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=this.get(R);if(A){var z=S(S({},A.constructor.prototype),M);this.add(R,z);var H=E.filter(function(F){return"core:".concat(F[0])===R&&F[2]})[0];H&&this.add(H[2],z)}return this},has:function(R){return!!P[R]},getAll:function(){return P},run:function(R){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.runCommand(this.get(R),M)},stop:function(R){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.stopCommand(this.get(R),M)},isActive:function(R){return this.getActive().hasOwnProperty(R)},getActive:function(){return N},loadDefaultCommands:function(){for(var R in L)this.add(R,L[R]);return this},runCommand:function(R){var M,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(R&&R.run){var z=R.id,H=D.get("Editor");this.isActive(z)&&!A.force&&x.strict||(M=H&&R.callRun(H,A),z&&R.stop&&!R.noStop&&!A.abort&&(N[z]=M))}return M},stopCommand:function(R){var M,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(R&&R.run){var z=R.id,H=D.get("Editor");(this.isActive(z)||A.force||!x.strict)&&(z&&delete N[z],M=R.callStop(H,A))}return M},create:function(R){return R.stop||(R.noStop=1),new(Q.default.extend(R))(x)},destroy:function(){[D,x,P,L,N].forEach(function(R){return{}})}}}}]).default},780:(Ii,nt,ve)=>{"use strict";function h(e){return"function"==typeof e}function ce(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const he=ce(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function de(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class se{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(h(r))try{r()}catch(s){t=s instanceof he?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{U(s)}catch(l){t=null!=t?t:[],l instanceof he?t=[...t,...l.errors]:t.push(l)}}if(t)throw new he(t)}}add(t){var n;if(t&&t!==this)if(this.closed)U(t);else{if(t instanceof se){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&de(n,t)}remove(t){const{_teardowns:n}=this;n&&de(n,t),t instanceof se&&t._removeParent(this)}}se.EMPTY=(()=>{const e=new se;return e.closed=!0,e})();const re=se.EMPTY;function Q(e){return e instanceof se||e&&"closed"in e&&h(e.remove)&&h(e.add)&&h(e.unsubscribe)}function U(e){h(e)?e():e.unsubscribe()}const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},v={setTimeout(...e){const{delegate:t}=v;return((null==t?void 0:t.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=v;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function S(e){v.setTimeout(()=>{const{onUnhandledError:t}=T;if(!t)throw e;t(e)})}function E(){}const D=L("C",void 0,void 0);function L(e,t,n){return{kind:e,value:t,error:n}}let N=null;function R(e){if(T.useDeprecatedSynchronousErrorHandling){const t=!N;if(t&&(N={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=N;if(N=null,n)throw r}}else e()}class A extends se{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Q(t)&&t.add(this)):this.destination=k}static create(t,n,r){return new z(t,n,r)}next(t){this.isStopped?W(L("N",t,void 0),this):this._next(t)}error(t){this.isStopped?W(L("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?W(D,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class z extends A{constructor(t,n,r){let i;if(super(),h(t))i=t;else if(t){let s;({next:i,error:n,complete:r}=t),this&&T.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe()):s=t,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?H(i):E,error:H(null!=n?n:F),complete:r?H(r):E}}}function H(e,t){return(...n)=>{try{e(...n)}catch(r){T.useDeprecatedSynchronousErrorHandling?function(e){T.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=e)}(r):S(r)}}}function F(e){throw e}function W(e,t){const{onStoppedNotification:n}=T;n&&v.setTimeout(()=>n(e,t))}const k={closed:!0,next:E,error:F,complete:E},I="function"==typeof Symbol&&Symbol.observable||"@@observable";function p(e){return e}let B=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(e){return e&&e instanceof A||function(e){return e&&h(e.next)&&h(e.error)&&h(e.complete)}(e)&&Q(e)}(n)?n:new z(n,r,i);return R(()=>{const{operator:l,source:d}=this;s.add(l?l.call(s,d):d?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=K(r))((i,s)=>{let l;l=this.subscribe(d=>{try{n(d)}catch(j){s(j),null==l||l.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[I](){return this}pipe(...n){return function(e){return 0===e.length?p:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=K(n))((r,i)=>{let s;this.subscribe(l=>s=l,l=>i(l),()=>r(s))})}}return e.create=t=>new e(t),e})();function K(e){var t;return null!==(t=null!=e?e:T.Promise)&&void 0!==t?t:Promise}const ue=ce(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ye=(()=>{class e extends B{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Re(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ue}next(n){R(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){R(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){R(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?re:(s.push(n),new se(()=>de(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new B;return n.source=this,n}}return e.create=(t,n)=>new Re(t,n),e})();class Re extends ye{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:re}}function Pe(e){return h(null==e?void 0:e.lift)}function Me(e){return t=>{if(Pe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Le extends A{constructor(t,n,r,i,s){super(t),this.onFinalize=s,this._next=n?function(l){try{n(l)}catch(d){t.error(d)}}:super._next,this._error=i?function(l){try{i(l)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function _e(e,t){return Me((n,r)=>{let i=0;n.subscribe(new Le(r,s=>{r.next(e.call(t,s,i++))}))})}function Fe(e){return this instanceof Fe?(this.v=e,this):new Fe(e)}function Ue(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(ze){r[ze]&&(i[ze]=function(Ze){return new Promise(function(at,Ct){s.push([ze,Ze,at,Ct])>1||d(ze,Ze)})})}function d(ze,Ze){try{!function(ze){ze.value instanceof Fe?Promise.resolve(ze.value.v).then(Y,pe):Ae(s[0][2],ze)}(r[ze](Ze))}catch(at){Ae(s[0][3],at)}}function Y(ze){d("next",ze)}function pe(ze){d("throw",ze)}function Ae(ze,Ze){ze(Ze),s.shift(),s.length&&d(s[0][0],s[0][1])}}function xt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(l){return new Promise(function(d,j){!function(s,l,d,j){Promise.resolve(j).then(function(Y){s({value:Y,done:d})},l)}(d,j,(l=e[s](l)).done,l.value)})}}}const ot=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function et(e){return h(null==e?void 0:e.then)}function Z(e){return h(e[I])}function ke(e){return Symbol.asyncIterator&&h(null==e?void 0:e[Symbol.asyncIterator])}function Be(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const st="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function mt(e){return h(null==e?void 0:e[st])}function De(e){return Ue(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Fe(n.read());if(i)return yield Fe(void 0);yield yield Fe(r)}}finally{n.releaseLock()}})}function dt(e){return h(null==e?void 0:e.getReader)}function Et(e){if(e instanceof B)return e;if(null!=e){if(Z(e))return function(e){return new B(t=>{const n=e[I]();if(h(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ot(e))return function(e){return new B(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(et(e))return function(e){return new B(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,S)})}(e);if(ke(e))return ft(e);if(mt(e))return function(e){return new B(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(dt(e))return function(e){return ft(De(e))}(e)}throw Be(e)}function ft(e){return new B(t=>{(function(e,t){var n,r,i,s;return function(e,t,n,r){return new(n||(n=Promise))(function(s,l){function d(pe){try{Y(r.next(pe))}catch(Ae){l(Ae)}}function j(pe){try{Y(r.throw(pe))}catch(Ae){l(Ae)}}function Y(pe){pe.done?s(pe.value):function(s){return s instanceof n?s:new n(function(l){l(s)})}(pe.value).then(d,j)}Y((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=xt(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function w(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function we(e,t,n=1/0){return h(t)?we((r,i)=>_e((s,l)=>t(r,s,i,l))(Et(e(r,i))),n):("number"==typeof t&&(n=t),Me((r,i)=>function(e,t,n,r,i,s,l,d){const j=[];let Y=0,pe=0,Ae=!1;const ze=()=>{Ae&&!j.length&&!Y&&t.complete()},Ze=Ct=>Y<r?at(Ct):j.push(Ct),at=Ct=>{Y++;let gt=!1;Et(n(Ct,pe++)).subscribe(new Le(t,Ut=>{t.next(Ut)},()=>{gt=!0},void 0,()=>{if(gt)try{for(Y--;j.length&&Y<r;){const Ut=j.shift();at(Ut)}ze()}catch(Ut){t.error(Ut)}}))};return e.subscribe(new Le(t,Ze,()=>{Ae=!0,ze()})),()=>{}}(r,i,e,n)))}function ee(e=1/0){return we(p,e)}const Ge=new B(e=>e.complete());function Mt(e){return e[e.length-1]}function Xt(e){return function(e){return e&&h(e.schedule)}(Mt(e))?e.pop():void 0}function Qt(e,t=0){return Me((n,r)=>{n.subscribe(new Le(r,i=>w(r,e,()=>r.next(i),t),()=>w(r,e,()=>r.complete(),t),i=>w(r,e,()=>r.error(i),t)))})}function wn(e,t=0){return Me((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Wt(e,t){if(!e)throw new Error("Iterable cannot be null");return new B(n=>{w(n,t,()=>{const r=e[Symbol.asyncIterator]();w(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Jt(e,t){return t?function(e,t){if(null!=e){if(Z(e))return function(e,t){return Et(e).pipe(wn(t),Qt(t))}(e,t);if(ot(e))return function(e,t){return new B(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(et(e))return function(e,t){return Et(e).pipe(wn(t),Qt(t))}(e,t);if(ke(e))return Wt(e,t);if(mt(e))return function(e,t){return new B(n=>{let r;return w(n,t,()=>{r=e[st](),w(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(l){return void n.error(l)}s?n.complete():n.next(i)},0,!0)}),()=>h(null==r?void 0:r.return)&&r.return()})}(e,t);if(dt(e))return function(e,t){return Wt(De(e),t)}(e,t)}throw Be(e)}(e,t):Et(e)}function An(e){return e<=0?()=>Ge:Me((t,n)=>{let r=0;t.subscribe(new Le(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function q(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(An(1)).subscribe(()=>e())}function J(e){for(let t in e)if(e[t]===J)return t;throw Error("Could not find renamed property on target object.")}function je(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(je).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function wt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Rt=J({__forward_ref__:J});function Vt(e){return e.__forward_ref__=Vt,e.toString=function(){return je(this())},e}function yt(e){return function(e){return"function"==typeof e&&e.hasOwnProperty(Rt)&&e.__forward_ref__===Vt}(e)?e():e}class Pn extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function fn(e){return"string"==typeof e?e:null==e?"":String(e)}function fr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():fn(e)}function li(e,t){const n=t?` in ${t}`:"";throw new Pn("201",`No provider for ${fr(e)} found${n}`)}function hr(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function In(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Zn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Br(e){return ro(e,io)||ro(e,rn)}function ro(e,t){return e.hasOwnProperty(t)?e[t]:null}function Gr(e){return e&&(e.hasOwnProperty(oo)||e.hasOwnProperty(un))?e[oo]:null}const io=J({\u0275prov:J}),oo=J({\u0275inj:J}),rn=J({ngInjectableDef:J}),un=J({ngInjectorDef:J});var Gt=(()=>((Gt=Gt||{})[Gt.Default=0]="Default",Gt[Gt.Host=1]="Host",Gt[Gt.Self=2]="Self",Gt[Gt.SkipSelf=4]="SkipSelf",Gt[Gt.Optional=8]="Optional",Gt))();let dn;function Tr(e){const t=dn;return dn=e,t}function Yi(e,t,n){const r=Br(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Gt.Optional?null:void 0!==t?t:void li(je(e),"Injector")}function Nr(e){return{toString:e}.toString()}var Cr=(()=>((Cr=Cr||{})[Cr.OnPush=0]="OnPush",Cr[Cr.Default=1]="Default",Cr))(),Lr=(()=>{return(e=Lr||(Lr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Lr;var e})();const ao="undefined"!=typeof globalThis&&globalThis,ci="undefined"!=typeof window&&window,_r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,or=ao||"undefined"!=typeof global&&global||ci||_r,ns={},lr=[],_s=J({\u0275cmp:J}),Qs=J({\u0275dir:J}),Xs=J({\u0275pipe:J}),rl=J({\u0275mod:J}),Ki=J({\u0275fac:J}),Js=J({__NG_ELEMENT_ID__:J});let Ie=0;function We(e){return Nr(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||lr,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Lr.Emulated,id:"c",styles:e.styles||lr,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,s=e.features,l=e.pipes;return r.id+=Ie++,r.inputs=yn(e.inputs,n),r.outputs=yn(e.outputs),s&&s.forEach(d=>d(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(ct):null,r.pipeDefs=l?()=>("function"==typeof l?l():l).map(_t):null,r})}function ct(e){return Qn(e)||function(e){return e[Qs]||null}(e)}function _t(e){return function(e){return e[Xs]||null}(e)}const ht={};function Dt(e){return Nr(()=>{const t={type:e.type,bootstrap:e.bootstrap||lr,declarations:e.declarations||lr,imports:e.imports||lr,exports:e.exports||lr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ht[e.id]=e.type),t})}function yn(e,t){if(null==e)return ns;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const cn=We;function Qn(e){return e[_s]||null}function Or(e,t){const n=e[rl]||null;if(!n&&!0===t)throw new Error(`Type ${je(e)} does not have '\u0275mod' property.`);return n}function Ci(e){return Array.isArray(e)&&"object"==typeof e[1]}function di(e){return Array.isArray(e)&&!0===e[1]}function ja(e){return 0!=(8&e.flags)}function al(e){return 2==(2&e.flags)}function Es(e){return 1==(1&e.flags)}function Co(e){return null!==e.template}function jd(e){return 0!=(512&e[2])}function _o(e,t){return e.hasOwnProperty(Ki)?e[Ki]:null}class cu{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ss(){return uu}function uu(e){return e.type.prototype.ngOnChanges&&(e.setInput=na),Wh}function Wh(){const e=Vd(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===ns)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function na(e,t,n,r){const i=Vd(e)||function(e,t){return e[Ds]=t}(e,{previous:ns,current:null}),s=i.current||(i.current={}),l=i.previous,d=this.declaredInputs[n],j=l[d];s[d]=new cu(j&&j.currentValue,t,l===ns),e[r]=t}Ss.ngInherit=!0;const Ds="__ngSimpleChanges__";function Vd(e){return e[Ds]||null}const Li="http://www.w3.org/2000/svg";let fi;function Sr(e){return!!e.listen}const Kl={createRenderer:(e,t)=>void 0!==fi?fi:"undefined"!=typeof document?document:void 0};function zr(e){for(;Array.isArray(e);)e=e[0];return e}function co(e,t){return zr(t[e.index])}function Zl(e,t){return e.data[t]}function uo(e,t){const n=t[e];return Ci(n)?n:n[0]}function Fi(e){return 128==(128&e[2])}function ks(e,t){return null==t?null:e[t]}function pu(e){e[18]=0}function Vi(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const tn={lFrame:wu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ql(){return tn.bindingsEnabled}function qt(){return tn.lFrame.lView}function Jn(){return tn.lFrame.tView}function vr(){let e=vu();for(;null!==e&&64===e.type;)e=e.parent;return e}function vu(){return tn.lFrame.currentTNode}function fo(e,t){const n=tn.lFrame;n.currentTNode=e,n.isParent=t}function fl(){return tn.lFrame.isParent}function ia(){return tn.isInCheckNoChangesMode}function hl(e){tn.isInCheckNoChangesMode=e}function Ms(){return tn.lFrame.bindingIndex++}function qd(e,t){const n=tn.lFrame;n.bindingIndex=n.bindingRootIndex=e,oi(t)}function oi(e){tn.lFrame.currentDirectiveIndex=e}function ec(e){tn.lFrame.currentQueryIndex=e}function Yd(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function sa(e,t,n){if(n&Gt.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&Gt.Host||(i=Yd(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,e=s}const r=tn.lFrame=bu();return r.currentTNode=t,r.lView=e,!0}function aa(e){const t=bu(),n=e[1];tn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bu(){const e=tn.lFrame,t=null===e?null:e.child;return null===t?wu(e):t}function wu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Cu(){const e=tn.lFrame;return tn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const la=Cu;function pl(){const e=Cu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function si(){return tn.lFrame.selectedIndex}function ho(e){tn.lFrame.selectedIndex=e}function As(){tn.lFrame.currentNamespace=Li}function $o(){tn.lFrame.currentNamespace=null}function yl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:d,ngAfterViewInit:j,ngAfterViewChecked:Y,ngOnDestroy:pe}=s;l&&(e.contentHooks||(e.contentHooks=[])).push(-n,l),d&&((e.contentHooks||(e.contentHooks=[])).push(n,d),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,d)),j&&(e.viewHooks||(e.viewHooks=[])).push(-n,j),Y&&((e.viewHooks||(e.viewHooks=[])).push(n,Y),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,Y)),null!=pe&&(e.destroyHooks||(e.destroyHooks=[])).push(n,pe)}}function bl(e,t,n){Fa(e,t,3,n)}function To(e,t,n,r){(3&e[2])===n&&Fa(e,t,n,r)}function Is(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Fa(e,t,n,r){const s=null!=r?r:-1,l=t.length-1;let d=0;for(let j=void 0!==r?65535&e[18]:0;j<l;j++)if("number"==typeof t[j+1]){if(d=t[j],null!=r&&d>=r)break}else t[j]<0&&(e[18]+=65536),(d<s||-1==s)&&(Qd(e,n,t,j),e[18]=(4294901760&e[18])+j+2),j++}function Qd(e,t,n,r){const i=n[r]<0,s=n[r+1],d=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(d)}finally{}}}else try{s.call(d)}finally{}}class wl{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Po(e,t,n){const r=Sr(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const l=n[i++],d=n[i++],j=n[i++];r?e.setAttribute(t,d,j,l):t.setAttributeNS(l,d,j)}else{const l=s,d=n[++i];Ba(l)?r&&e.setProperty(t,l,d):r?e.setAttribute(t,l,d):t.setAttribute(l,d),i++}}return i}function Va(e){return 3===e||4===e||6===e}function Ba(e){return 64===e.charCodeAt(0)}function Rs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Wo(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Wo(e,t,n,r,i){let s=0,l=e.length;if(-1===t)l=-1;else for(;s<e.length;){const d=e[s++];if("number"==typeof d){if(d===t){l=-1;break}if(d>t){l=s-1;break}}}for(;s<e.length;){const d=e[s];if("number"==typeof d)break;if(d===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==l&&(e.splice(l,0,t),s=l+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function tf(e){return-1!==e}function Ua(e){return 32767&e}function ca(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let rc=!0;function _l(e){const t=rc;return rc=e,t}let xu=0;function ss(e,t){const n=sc(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,oc(r.data,e),oc(t,null),oc(r.blueprint,null));const i=da(e,t),s=e.injectorIndex;if(tf(i)){const l=Ua(i),d=ca(i,t),j=d[1].data;for(let Y=0;Y<8;Y++)t[s+Y]=d[l+Y]|j[l+Y]}return t[s+8]=i,s}function oc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function sc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function da(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const s=i[1],l=s.type;if(r=2===l?s.declTNode:1===l?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ac(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Js)&&(r=n[Js]),null==r&&(r=n[Js]=xu++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Eu(e,t,n){if(n&Gt.Optional)return e;li(t,"NodeInjector")}function Su(e,t,n,r){if(n&Gt.Optional&&void 0===r&&(r=null),0==(n&(Gt.Self|Gt.Host))){const i=e[9],s=Tr(void 0);try{return i?i.get(t,r,n&Gt.Optional):Yi(t,r,n&Gt.Optional)}finally{Tr(s)}}return Eu(r,t,n)}function lc(e,t,n,r=Gt.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Js)?e[Js]:void 0;return"number"==typeof t?t>=0?255&t:nf:t}(n);if("function"==typeof s){if(!sa(t,e,r))return r&Gt.Host?Eu(i,n,r):Su(t,n,r,i);try{const l=s(r);if(null!=l||r&Gt.Optional)return l;li(n)}finally{la()}}else if("number"==typeof s){let l=null,d=sc(e,t),j=-1,Y=r&Gt.Host?t[16][6]:null;for((-1===d||r&Gt.SkipSelf)&&(j=-1===d?da(e,t):t[d+8],-1!==j&&ku(r,!1)?(l=t[1],d=Ua(j),t=ca(j,t)):d=-1);-1!==d;){const pe=t[1];if(cc(s,d,pe.data)){const Ae=rf(d,t,n,l,r,Y);if(Ae!==Du)return Ae}j=t[d+8],-1!==j&&ku(r,t[1].data[d+8]===Y)&&cc(s,d,t)?(l=pe,d=Ua(j),t=ca(j,t)):d=-1}}}return Su(t,n,r,i)}const Du={};function nf(){return new fa(vr(),qt())}function rf(e,t,n,r,i,s){const l=t[1],d=l.data[e+8],pe=function(e,t,n,r,i){const s=e.providerIndexes,l=t.data,d=1048575&s,j=e.directiveStart,pe=s>>20,ze=i?d+pe:e.directiveEnd;for(let Ze=r?d:d+pe;Ze<ze;Ze++){const at=l[Ze];if(Ze<j&&n===at||Ze>=j&&at.type===n)return Ze}if(i){const Ze=l[j];if(Ze&&Co(Ze)&&Ze.type===n)return j}return null}(d,l,n,null==r?al(d)&&rc:r!=l&&0!=(3&d.type),i&Gt.Host&&s===d);return null!==pe?as(t,l,pe,d):Du}function as(e,t,n,r){let i=e[n];const s=t.data;if(function(e){return e instanceof wl}(i)){const l=i;l.resolving&&function(e,t){throw new Pn("200",`Circular dependency in DI detected for ${e}`)}(fr(s[n]));const d=_l(l.canSeeViewProviders);l.resolving=!0;const j=l.injectImpl?Tr(l.injectImpl):null;sa(e,r,Gt.Default);try{i=e[n]=l.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const l=uu(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==j&&Tr(j),_l(d),l.resolving=!1,la()}}return i}function cc(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function ku(e,t){return!(e&Gt.Self||e&Gt.Host&&t)}class fa{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return lc(this._tNode,this._lView,t,r,n)}}const Mo="__parameters__";function ga(e,t,n){return Nr(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const l=new i(...s);return d.annotation=l,d;function d(j,Y,pe){const Ae=j.hasOwnProperty(Mo)?j[Mo]:Object.defineProperty(j,Mo,{value:[]})[Mo];for(;Ae.length<=pe;)Ae.push(null);return(Ae[pe]=Ae[pe]||[]).push(l),j}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class er{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=In({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const af=new er("AnalyzeForEntryComponents");function o(e,t){e.forEach(n=>Array.isArray(n)?o(n,t):t(n))}function a(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function f(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const en={},Sn="__NG_DI_FLAG__",sn="ngTempTokenPath",cr=/\n/gm,Yn="__source",En=J({provide:String,useValue:J});let Nn;function Dn(e){const t=Nn;return Nn=e,t}function Vn(e,t=Gt.Default){if(void 0===Nn)throw new Error("inject() must be called from an injection context");return null===Nn?Yi(e,void 0,t):Nn.get(e,t&Gt.Optional?null:void 0,t)}function Yt(e,t=Gt.Default){return(dn||Vn)(yt(e),t)}function Kn(e){const t=[];for(let n=0;n<e.length;n++){const r=yt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=Gt.Default;for(let l=0;l<r.length;l++){const d=r[l],j=zi(d);"number"==typeof j?-1===j?i=d.token:s|=j:i=d}t.push(Yt(i,s))}else t.push(Yt(r))}return t}function Bn(e,t){return e[Sn]=t,e.prototype[Sn]=t,e}function zi(e){return e[Sn]}function Ir(e,t,n,r){const i=e[sn];throw t[Yn]&&i.unshift(t[Yn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=je(t);if(Array.isArray(t))i=t.map(je).join(" -> ");else if("object"==typeof t){let s=[];for(let l in t)if(t.hasOwnProperty(l)){let d=t[l];s.push(l+":"+("string"==typeof d?JSON.stringify(d):je(d)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(cr,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[sn]=null,e}const jr=Bn(ga("Inject",e=>({token:e})),-1),Un=Bn(ga("Optional"),8),Ti=Bn(ga("SkipSelf"),4);class kl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Bs(e,t){const n=function(e){return e instanceof kl&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}const cx=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ux=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var kr=(()=>((kr=kr||{})[kr.NONE=0]="NONE",kr[kr.HTML=1]="HTML",kr[kr.STYLE=2]="STYLE",kr[kr.SCRIPT=3]="SCRIPT",kr[kr.URL=4]="URL",kr[kr.RESOURCE_URL=5]="RESOURCE_URL",kr))();function dp(e){const t=function(){const e=qt();return e&&e[12]}();return t?t.sanitize(kr.URL,e)||"":Bs(e,"URL")?function(e){return e instanceof kl?e.changingThisBreaksApplicationSecurity:e}(e):function(e){return(e=String(e)).match(cx)||e.match(ux)?e:"unsafe:"+e}(fn(e))}const Fv="__ngContext__";function Zi(e,t){e[Fv]=t}function hp(e){const t=function(e){return e[Fv]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function mf(e){return e.ngOriginalError}function Ax(e,...t){e.error(...t)}class Tl{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=this._findContext(t),i=(e=t)&&e.ngErrorLogger||Ax;var e;i(this._console,"ERROR",t),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?t.ngDebugContext||this._findContext(mf(t)):null}_findOriginalError(t){let n=t&&mf(t);for(;n&&mf(n);)n=mf(n);return n||null}}const Gv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(or))();function Hs(e){return e instanceof Function?e():e}var jo=(()=>((jo=jo||{})[jo.Important=1]="Important",jo[jo.DashCase=2]="DashCase",jo))();function mp(e,t){return undefined(e,t)}function Lu(e){const t=e[3];return di(t)?t[3]:t}function vp(e){return Xv(e[13])}function yp(e){return Xv(e[4])}function Xv(e){for(;null!==e&&!di(e);)e=e[4];return e}function pc(e,t,n,r,i){if(null!=r){let s,l=!1;di(r)?s=r:Ci(r)&&(l=!0,r=r[0]);const d=zr(r);0===e&&null!==n?null==i?iy(t,n,d):Pl(t,n,d,i||null,!0):1===e&&null!==n?Pl(t,n,d,i||null,!0):2===e?function(e,t,n){const r=yf(e,t);r&&function(e,t,n,r){Sr(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,d,l):3===e&&t.destroyNode(d),null!=s&&function(e,t,n,r,i){const s=n[7];s!==zr(n)&&pc(t,e,r,s,i);for(let d=10;d<n.length;d++){const j=n[d];Fu(j[1],j,e,t,r,s)}}(t,e,s,n,i)}}function wp(e,t,n){return Sr(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ey(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Vi(i,-1)),n.splice(r,1)}function Cp(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&ey(i,r),t>0&&(e[n-1][4]=r[4]);const s=f(e,10+t);!function(e,t){Fu(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const l=s[19];null!==l&&l.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ty(e,t){if(!(256&t[2])){const n=t[11];Sr(n)&&n.destroyNode&&Fu(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return _p(e[1],e);for(;t;){let n=null;if(Ci(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Ci(t)&&_p(t[1],t),t=t[3];null===t&&(t=e),Ci(t)&&_p(t[1],t),n=t&&t[4]}t=n}}(t)}}function _p(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof wl)){const s=n[r+1];if(Array.isArray(s))for(let l=0;l<s.length;l+=2){const d=i[s[l]],j=s[l+1];try{j.call(d)}finally{}}else try{s.call(i)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const l=n[s+1],d="function"==typeof l?l(t):zr(t[l]),j=r[i=n[s+2]],Y=n[s+3];"boolean"==typeof Y?d.removeEventListener(n[s],j,Y):Y>=0?r[i=Y]():r[i=-Y].unsubscribe(),s+=2}else{const l=r[i=n[s+1]];n[s].call(l)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();t[7]=null}}(e,t),1===t[1].type&&Sr(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&di(t[3])){n!==t[3]&&ey(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function ny(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Lr.None||i===Lr.Emulated)return null}return co(r,n)}(e,t.parent,n)}function Pl(e,t,n,r,i){Sr(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function iy(e,t,n){Sr(e)?e.appendChild(t,n):t.appendChild(n)}function oy(e,t,n,r,i){null!==r?Pl(e,t,n,r,i):iy(e,t,n)}function yf(e,t){return Sr(e)?e.parentNode(t):t.parentNode}let ly=function(e,t,n){return 40&e.type?co(e,n):null};function bf(e,t,n,r){const i=ny(e,r,t),s=t[11],d=function(e,t,n){return ly(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let j=0;j<n.length;j++)oy(s,i,n[j],d,!1);else oy(s,i,n,d,!1)}function wf(e,t){if(null!==t){const n=t.type;if(3&n)return co(t,e);if(4&n)return Op(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return wf(e,r);{const i=e[t.index];return di(i)?Op(-1,i):zr(i)}}if(32&n)return mp(t,e)()||zr(e[t.index]);{const r=uy(e,t);return null!==r?Array.isArray(r)?r[0]:wf(Lu(e[16]),r):wf(e,t.next)}}return null}function uy(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Op(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return wf(r,i)}return t[7]}function Ep(e,t,n,r,i,s,l){for(;null!=n;){const d=r[n.index],j=n.type;if(l&&0===t&&(d&&Zi(zr(d),r),n.flags|=4),64!=(64&n.flags))if(8&j)Ep(e,t,n.child,r,i,s,!1),pc(t,e,i,d,s);else if(32&j){const Y=mp(n,r);let pe;for(;pe=Y();)pc(t,e,i,pe,s);pc(t,e,i,d,s)}else 16&j?fy(e,t,r,n,i,s):pc(t,e,i,d,s);n=l?n.projectionNext:n.next}}function Fu(e,t,n,r,i,s){Ep(n,r,e.firstChild,t,i,s,!1)}function fy(e,t,n,r,i,s){const l=n[16],j=l[6].projection[r.projection];if(Array.isArray(j))for(let Y=0;Y<j.length;Y++)pc(t,e,i,j[Y],s);else Ep(e,t,j,l[3],i,s,!0)}function hy(e,t,n){Sr(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Sp(e,t,n){Sr(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function py(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const gy="ng-template";function iO(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==py(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function my(e){return 4===e.type&&e.value!==gy}function oO(e,t,n){return t===(4!==e.type||n?e.value:gy)}function sO(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Va(e[t]))return t;return e.length}(i);let l=!1;for(let d=0;d<t.length;d++){const j=t[d];if("number"!=typeof j){if(!l)if(4&r){if(r=2|1&r,""!==j&&!oO(e,j,n)||""===j&&1===t.length){if(ls(r))return!1;l=!0}}else{const Y=8&r?j:t[++d];if(8&r&&null!==e.attrs){if(!iO(e.attrs,Y,n)){if(ls(r))return!1;l=!0}continue}const Ae=aO(8&r?"class":j,i,my(e),n);if(-1===Ae){if(ls(r))return!1;l=!0;continue}if(""!==Y){let ze;ze=Ae>s?"":i[Ae+1].toLowerCase();const Ze=8&r?ze:null;if(Ze&&-1!==py(Ze,Y,0)||2&r&&Y!==ze){if(ls(r))return!1;l=!0}}}}else{if(!l&&!ls(r)&&!ls(j))return!1;if(l&&ls(j))continue;l=!1,r=j|1&r}}return ls(r)||l}function ls(e){return 0==(1&e)}function aO(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const l=t[i];if(l===e)return i;if(3===l||6===l)s=!0;else{if(1===l||2===l){let d=t[++i];for(;"string"==typeof d;)d=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=s?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function vy(e,t,n=!1){for(let r=0;r<t.length;r++)if(sO(e,t[r],n))return!0;return!1}function yy(e,t){return e?":not("+t.trim()+")":t}function fO(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let l=e[n];if("string"==typeof l)if(2&r){const d=e[++n];i+="["+l+(d.length>0?'="'+d+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!ls(l)&&(t+=yy(s,i),i=""),r=l,s=s||!ls(r);n++}return""!==i&&(t+=yy(s,i)),t}const Fn={};function wy(e,t,n,r){if(!r)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&bl(t,s,n)}else{const s=e.preOrderHooks;null!==s&&To(t,s,0,n)}ho(n)}function Py(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const l=e.data[s];ec(i),l.contentQueries(2,t[s],s)}}}function Vu(e,t,n,r,i,s,l,d,j,Y){const pe=t.blueprint.slice();return pe[0]=i,pe[2]=140|r,pu(pe),pe[3]=pe[15]=e,pe[8]=n,pe[10]=l||e&&e[10],pe[11]=d||e&&e[11],pe[12]=j||e&&e[12]||null,pe[9]=Y||e&&e[9]||null,pe[6]=s,pe[16]=2==t.type?e[16]:pe,pe}function gc(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=vu(),l=fl(),j=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=j),null!==s&&(l?null==s.child&&null!==j.parent&&(s.child=j):null===s.next&&(s.next=j)),j}(e,t,n,r,i),tn.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const l=function(){const e=tn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===l?-1:l.injectorIndex}return fo(s,!0),s}function mc(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Bu(e,t,n){aa(t);try{const r=e.viewQuery;null!==r&&Wp(1,r,n);const i=e.template;null!==i&&My(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Py(e,t),e.staticViewQueries&&Wp(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)WO(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,pl()}}function vc(e,t,n,r){const i=t[2];if(256==(256&i))return;aa(t);const s=ia();try{pu(t),function(e){tn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&My(e,t,n,2,r);const l=3==(3&i);if(!s)if(l){const Y=e.preOrderCheckHooks;null!==Y&&bl(t,Y,null)}else{const Y=e.preOrderHooks;null!==Y&&To(t,Y,0,null),Is(t,0)}if(function(e){for(let t=vp(e);null!==t;t=yp(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Vi(s,1),i[2]|=1024}}}(t),function(e){for(let t=vp(e);null!==t;t=yp(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];Fi(r)&&vc(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Py(e,t),!s)if(l){const Y=e.contentCheckHooks;null!==Y&&bl(t,Y)}else{const Y=e.contentHooks;null!==Y&&To(t,Y,1),Is(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ho(~i);else{const s=i,l=n[++r],d=n[++r];qd(l,s),d(2,t[s])}}}finally{ho(-1)}}(e,t);const d=e.components;null!==d&&function(e,t){for(let n=0;n<t.length;n++)$O(e,t[n])}(t,d);const j=e.viewQuery;if(null!==j&&Wp(2,j,r),!s)if(l){const Y=e.viewCheckHooks;null!==Y&&bl(t,Y)}else{const Y=e.viewHooks;null!==Y&&To(t,Y,2),Is(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Vi(t[3],-1))}finally{pl()}}function EO(e,t,n,r){const i=t[10],s=!ia(),l=function(e){return 4==(4&e[2])}(t);try{s&&!l&&i.begin&&i.begin(),l&&Bu(e,t,r),vc(e,t,n,r)}finally{s&&!l&&i.end&&i.end()}}function My(e,t,n,r,i){const s=si(),l=2&r;try{ho(-1),l&&t.length>20&&wy(e,t,20,ia()),n(r,i)}finally{ho(s)}}function Iy(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Of(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Of(e,t,n,r,i,s,l,d,j,Y){const pe=20+r,Ae=pe+i,ze=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Fn);return n}(pe,Ae),Ze="function"==typeof Y?Y():Y;return ze[1]={type:e,blueprint:ze,template:n,queries:null,viewQuery:d,declTNode:t,data:ze.slice().fill(null,pe),bindingStartIndex:pe,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:j,consts:Ze,incompleteFirstPass:!1}}function Ly(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Vy(e,t,n,r,i,s){const l=s.hostBindings;if(l){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const j=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=j&&d.push(j),d.push(r,i,l)}}function By(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Uy(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function FO(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Co(t)&&(n[""]=e)}}function Hy(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function zy(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=_o(i.type)),l=new wl(s,Co(i),null);e.blueprint[r]=l,n[r]=l,Vy(e,t,0,r,mc(e,n,i.hostVars,Fn),i)}function VO(e,t,n){const r=co(t,e),i=Iy(n),s=e[10],l=Ef(e,Vu(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=l}function zs(e,t,n,r,i,s){const l=co(e,t);!function(e,t,n,r,i,s,l){if(null==s)Sr(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const d=null==l?fn(s):l(s,r||"",i);Sr(e)?e.setAttribute(t,i,d,n):n?t.setAttributeNS(n,i,d):t.setAttribute(i,d)}}(t[11],l,s,e.value,n,r,i)}function BO(e,t,n,r,i,s){const l=s[t];if(null!==l){const d=r.setInput;for(let j=0;j<l.length;){const Y=l[j++],pe=l[j++],Ae=l[j++];null!==d?r.setInput(n,Ae,Y,pe):n[pe]=Ae}}}function UO(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function $O(e,t){const n=uo(t,e);if(Fi(n)){const r=n[1];80&n[2]?vc(r,n,r.template,n[8]):n[5]>0&&Up(n)}}function Up(e){for(let r=vp(e);null!==r;r=yp(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const l=s[1];vc(l,s,l.template,s[8])}else s[5]>0&&Up(s)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=uo(n[r],e);Fi(i)&&i[5]>0&&Up(i)}}function WO(e,t){const n=uo(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Bu(r,n,n[8])}function Ef(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Hp(e){for(;e;){e[2]|=64;const t=Lu(e);if(jd(e)&&!t)return e;e=t}return null}function $p(e,t,n){const r=t[10];r.begin&&r.begin();try{vc(e,t,e.template,n)}catch(i){throw Ky(t,i),i}finally{r.end&&r.end()}}function Wy(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=hp(n),i=r[1];EO(i,r,i.template,n)}}(e[8])}function Wp(e,t,n){ec(0),t(e,n)}const ZO=(()=>Promise.resolve(null))();function qy(e){return e[7]||(e[7]=[])}function Gy(e){return e.cleanup||(e.cleanup=[])}function Ky(e,t){const n=e[9],r=n?n.get(Tl,null):null;r&&r.handleError(t)}function ya(e,t,n){const r=function(e,t){return zr(t[e])}(t,e);!function(e,t,n){Sr(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function Sf(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let l=0;l<t.length;l++){const d=t[l];"number"==typeof d?s=d:1==s?i=wt(i,d):2==s&&(r=wt(r,d+": "+t[++l]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const Uu=new er("INJECTOR",-1);class Qy{get(t,n=en){if(n===en){const r=new Error(`NullInjectorError: No provider for ${je(t)}!`);throw r.name="NullInjectorError",r}return n}}const Hu=new er("Set Injector scope."),zu={},JO={};let qp;function Xy(){return void 0===qp&&(qp=new Qy),qp}function Jy(e,t=null,n=null,r){return new tE(e,n,t||Xy(),r)}class tE{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&o(n,d=>this.processProvider(d,t,n)),o([t],d=>this.processInjectorType(d,[],s)),this.records.set(Uu,yc(void 0,this));const l=this.records.get(Hu);this.scope=null!=l?l.value:null,this.source=i||("object"==typeof t?null:je(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=en,r=Gt.Default){this.assertNotDestroyed();const i=Dn(this),s=Tr(void 0);try{if(!(r&Gt.SkipSelf)){let d=this.records.get(t);if(void 0===d){const j=("function"==typeof(e=t)||"object"==typeof e&&e instanceof er)&&Br(t);d=j&&this.injectableDefInScope(j)?yc(Gp(t),zu):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(r&Gt.Self?Xy():this.parent).get(t,n=r&Gt.Optional&&n===en?null:n)}catch(l){if("NullInjectorError"===l.name){if((l[sn]=l[sn]||[]).unshift(je(t)),i)throw l;return Ir(l,t,"R3InjectorError",this.source)}throw l}finally{Tr(s),Dn(i)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(je(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=yt(t)))return!1;let i=Gr(t);const s=null==i&&t.ngModule||void 0,l=void 0===s?t:s,d=-1!==r.indexOf(l);if(void 0!==s&&(i=Gr(s)),null==i)return!1;if(null!=i.imports&&!d){let pe;r.push(l);try{o(i.imports,Ae=>{this.processInjectorType(Ae,n,r)&&(void 0===pe&&(pe=[]),pe.push(Ae))})}finally{}if(void 0!==pe)for(let Ae=0;Ae<pe.length;Ae++){const{ngModule:ze,providers:Ze}=pe[Ae];o(Ze,at=>this.processProvider(at,ze,Ze||lr))}}this.injectorDefTypes.add(l);const j=_o(l)||(()=>new l);this.records.set(l,yc(j,zu));const Y=i.providers;if(null!=Y&&!d){const pe=t;o(Y,Ae=>this.processProvider(Ae,pe,Y))}return void 0!==s&&void 0!==t.providers}processProvider(t,n,r){let i=bc(t=yt(t))?t:yt(t&&t.provide);const s=(e=t,tb(e)?yc(void 0,e.useValue):yc(function(e,t,n){let r;if(bc(e)){const i=yt(e);return _o(i)||Gp(i)}if(tb(e))r=()=>yt(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Kn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Yt(yt(e.useExisting));else{const i=yt(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return _o(i)||Gp(i);r=()=>new i(...Kn(e.deps))}return r}(e),zu));var e;if(bc(t)||!0!==t.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=yc(void 0,zu,!0),l.factory=()=>Kn(l.multi),this.records.set(i,l)),i=t,l.multi.push(t)}this.records.set(i,s)}hydrate(t,n){return n.value===zu&&(n.value=JO,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=yt(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Gp(e){const t=Br(e),n=null!==t?t.factory:_o(e);if(null!==n)return n;if(e instanceof er)throw new Error(`Token ${je(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${je(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[io]||e[rn]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function yc(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function tb(e){return null!==e&&"object"==typeof e&&En in e}function bc(e){return"function"==typeof e}const nb=function(e,t,n){return function(e,t=null,n=null,r){const i=Jy(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let yr=(()=>{class e{static create(n,r){return Array.isArray(n)?nb(n,r,""):nb(n.providers,n.parent,n.name||"")}}return e.THROW_IF_NOT_FOUND=en,e.NULL=new Qy,e.\u0275prov=In({token:e,providedIn:"any",factory:()=>Yt(Uu)}),e.__NG_ELEMENT_ID__=-1,e})();function _E(e,t){yl(hp(e)[1],vr())}let Df=null;function wc(){if(!Df){const e=or.Symbol;if(e&&e.iterator)Df=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Df=r)}}}return Df}function Wu(e){return!!eg(e)&&(Array.isArray(e)||!(e instanceof Map)&&wc()in e)}function eg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Qi(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function tg(e,t,n,r){const i=qt();return Qi(i,Ms(),t)&&(Jn(),zs(function(){const e=tn.lFrame;return Zl(e.tView,e.selectedIndex)}(),i,e,t,n,r)),tg}function Cn(e,t=Gt.Default){const n=qt();return null===n?Yt(e,t):lc(vr(),n,yt(e),t)}function sg(){throw new Error("invalid")}function ag(e,t,n,r,i){const l=i?"class":"style";!function(e,t,n,r,i){for(let s=0;s<n.length;){const l=n[s++],d=n[s++],j=t[l],Y=e.data[l];null!==Y.setInput?Y.setInput(j,i,r,d):j[d]=i}}(e,n,t.inputs[l],l,r)}function Wr(e,t,n,r){const i=qt(),s=Jn(),l=20+e,d=i[11],j=i[l]=wp(d,t,tn.lFrame.currentNamespace),Y=s.firstCreatePass?function(e,t,n,r,i,s,l){const d=t.consts,Y=gc(t,e,2,i,ks(d,s));return function(e,t,n,r){let i=!1;if(Ql()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const l=r[s];vy(n,l.selectors,!1)&&(i||(i=[]),ac(ss(n,t),e,l.type),Co(l)?(Uy(e,n),i.unshift(l)):i.push(l))}return i}(e,t,n),l=null===r?null:{"":-1};if(null!==s){i=!0,Hy(n,e.data.length,s.length);for(let pe=0;pe<s.length;pe++){const Ae=s[pe];Ae.providersResolver&&Ae.providersResolver(Ae)}let d=!1,j=!1,Y=mc(e,t,s.length,null);for(let pe=0;pe<s.length;pe++){const Ae=s[pe];n.mergedAttrs=Rs(n.mergedAttrs,Ae.hostAttrs),zy(e,n,t,Y,Ae),FO(Y,Ae,l),null!==Ae.contentQueries&&(n.flags|=8),(null!==Ae.hostBindings||null!==Ae.hostAttrs||0!==Ae.hostVars)&&(n.flags|=128);const ze=Ae.type.prototype;!d&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),d=!0),!j&&(ze.ngOnChanges||ze.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),j=!0),Y++}!function(e,t){const r=t.directiveEnd,i=e.data,s=t.attrs,l=[];let d=null,j=null;for(let Y=t.directiveStart;Y<r;Y++){const pe=i[Y],Ae=pe.inputs,ze=null===s||my(t)?null:UO(Ae,s);l.push(ze),d=Ly(Ae,Y,d),j=Ly(pe.outputs,Y,j)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=16),d.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=l,t.inputs=d,t.outputs=j}(e,n)}l&&function(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new Pn("301",`Export of name '${t[i+1]}' not found!`);r.push(t[i],s)}}}(n,r,l)}n.mergedAttrs=Rs(n.mergedAttrs,n.attrs)}(t,n,Y,ks(d,l)),null!==Y.attrs&&Sf(Y,Y.attrs,!1),null!==Y.mergedAttrs&&Sf(Y,Y.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,Y),Y}(l,s,i,0,t,n,r):s.data[l];fo(Y,!0);const pe=Y.mergedAttrs;null!==pe&&Po(d,j,pe);const Ae=Y.classes;null!==Ae&&Sp(d,j,Ae);const ze=Y.styles;null!==ze&&hy(d,j,ze),64!=(64&Y.flags)&&bf(s,i,j,Y),0===tn.lFrame.elementDepthCount&&Zi(j,i),tn.lFrame.elementDepthCount++,Es(Y)&&(function(e,t,n){!Ql()||(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||ss(n,t),Zi(r,t);const l=n.initialInputs;for(let d=i;d<s;d++){const j=e.data[d],Y=Co(j);Y&&VO(t,n,j);const pe=as(t,e,d,n);Zi(pe,t),null!==l&&BO(0,d-i,pe,j,0,l),Y&&(uo(n.index,t)[8]=pe)}}(e,t,n,co(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,l=n.index,d=tn.lFrame.currentDirectiveIndex;try{ho(l);for(let j=r;j<i;j++){const Y=e.data[j],pe=t[j];oi(j),(null!==Y.hostBindings||0!==Y.hostVars||null!==Y.hostAttrs)&&By(Y,pe)}}finally{ho(-1),oi(d)}}(e,t,n))}(s,i,Y),function(e,t,n){if(ja(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const l=e.data[s];l.contentQueries&&l.contentQueries(1,n[s],s)}}}(s,Y,i)),null!==r&&function(e,t,n=co){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const l=r[s+1],d=-1===l?n(t,e):e[l];e[i++]=d}}}(i,Y)}function qr(){let e=vr();fl()?tn.lFrame.isParent=!1:(e=e.parent,fo(e,!1));const t=e;tn.lFrame.elementDepthCount--;const n=Jn();n.firstCreatePass&&(yl(n,e),ja(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ag(n,t,qt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ag(n,t,qt(),t.stylesWithoutHost,!1)}function go(e,t,n,r){Wr(e,t,n,r),qr()}function Pf(e){return!!e&&"function"==typeof e.then}const lg=function(e){return!!e&&"function"==typeof e.subscribe};function Mf(e,t,n,r){const i=qt(),s=Jn(),l=vr();return function(e,t,n,r,i,s,l,d){const j=Es(r),pe=e.firstCreatePass&&Gy(e),Ae=t[8],ze=qy(t);let Ze=!0;if(3&r.type||d){const gt=co(r,t),Ut=d?d(gt):gt,Pt=ze.length,an=d?hn=>d(zr(hn[r.index])):r.index;if(Sr(n)){let hn=null;if(!d&&j&&(hn=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const l=i[s];if(l===n&&i[s+1]===r){const d=t[7],j=i[s+2];return d.length>j?d[j]:null}"string"==typeof l&&(s+=2)}return null}(e,t,i,r.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=s,hn.__ngLastListenerFn__=s,Ze=!1;else{s=cg(r,t,Ae,s,!1);const Hn=n.listen(Ut,i,s);ze.push(s,Hn),pe&&pe.push(i,an,Pt,Pt+1)}}else s=cg(r,t,Ae,s,!0),Ut.addEventListener(i,s,l),ze.push(s),pe&&pe.push(i,an,Pt,l)}else s=cg(r,t,Ae,s,!1);const at=r.outputs;let Ct;if(Ze&&null!==at&&(Ct=at[i])){const gt=Ct.length;if(gt)for(let Ut=0;Ut<gt;Ut+=2){const Oi=t[Ct[Ut]][Ct[Ut+1]].subscribe(s),ts=ze.length;ze.push(s,Oi),pe&&pe.push(i,r.index,ts,-(ts+1))}}}(s,i,i[11],l,e,t,!!n,r),Mf}function Gb(e,t,n,r){try{return!1!==n(r)}catch(i){return Ky(e,i),!1}}function cg(e,t,n,r,i){return function s(l){if(l===Function)return r;const d=2&e.flags?uo(e.index,t):t;0==(32&t[2])&&Hp(d);let j=Gb(t,0,r,l),Y=s.__ngNextListenerFn__;for(;Y;)j=Gb(t,0,Y,l)&&j,Y=Y.__ngNextListenerFn__;return i&&!1===j&&(l.preventDefault(),l.returnValue=!1),j}}function Ya(e,t=""){const n=qt(),r=Jn(),i=e+20,s=r.firstCreatePass?gc(r,i,1,t,null):r.data[i],l=n[i]=function(e,t){return Sr(e)?e.createText(t):e.createTextNode(t)}(n[11],t);bf(r,n,l,s),fo(s,!1)}function If(e,t,n){const r=qt(),i=function(e,t,n,r){return Qi(e,Ms(),n)?t+fn(n)+r:Fn}(r,e,t,n);return i!==Fn&&ya(r,si(),i),If}const Al=void 0;var ZS=["en",[["a","p"],["AM","PM"],Al],[["AM","PM"],Al,Al],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Al,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Al,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Al,"{1} 'at' {0}",Al],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ac={};function B0(e){return e in Ac||(Ac[e]=or.ng&&or.ng.common&&or.ng.common.locales&&or.ng.common.locales[e]),Ac[e]}var on=(()=>((on=on||{})[on.LocaleId=0]="LocaleId",on[on.DayPeriodsFormat=1]="DayPeriodsFormat",on[on.DayPeriodsStandalone=2]="DayPeriodsStandalone",on[on.DaysFormat=3]="DaysFormat",on[on.DaysStandalone=4]="DaysStandalone",on[on.MonthsFormat=5]="MonthsFormat",on[on.MonthsStandalone=6]="MonthsStandalone",on[on.Eras=7]="Eras",on[on.FirstDayOfWeek=8]="FirstDayOfWeek",on[on.WeekendRange=9]="WeekendRange",on[on.DateFormat=10]="DateFormat",on[on.TimeFormat=11]="TimeFormat",on[on.DateTimeFormat=12]="DateTimeFormat",on[on.NumberSymbols=13]="NumberSymbols",on[on.NumberFormats=14]="NumberFormats",on[on.CurrencyCode=15]="CurrencyCode",on[on.CurrencySymbol=16]="CurrencySymbol",on[on.CurrencyName=17]="CurrencyName",on[on.Currencies=18]="Currencies",on[on.Directionality=19]="Directionality",on[on.PluralCase=20]="PluralCase",on[on.ExtraData=21]="ExtraData",on))();const jf="en-US";let U0=jf;class fw{}const pw="ngComponent";class XD{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${je(e)}. Did you add it to @NgModule.entryComponents?`);return t[pw]=e,t}(t)}}let Il=(()=>{class e{}return e.NULL=new XD,e})();function Vf(...e){}function jc(e,t){return new No(co(e,t))}const tk=function(){return jc(vr(),qt())};let No=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=tk,e})();class Bf{}let bg=(()=>{class e{}return e.\u0275prov=In({token:e,providedIn:"root",factory:()=>null}),e})();class Hf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const mw=new Hf("13.0.0"),Rc={};function zf(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(zr(s)),di(s))for(let d=10;d<s.length;d++){const j=s[d],Y=j[1].firstChild;null!==Y&&zf(j[1],j,Y,r)}const l=n.type;if(8&l)zf(e,t,n.child,r);else if(32&l){const d=mp(n,t);let j;for(;j=d();)r.push(j)}else if(16&l){const d=uy(t,n);if(Array.isArray(d))r.push(...d);else{const j=Lu(t[16]);zf(j[1],j,d,r,!0)}}n=i?n.projectionNext:n.next}return r}class Xu{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return zf(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(di(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Cp(t,r),f(n,r))}this._attachedToViewContainer=!1}ty(this._lView[1],this._lView)}onDestroy(t){!function(e,t,n,r){const i=qy(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Gy(e).push(r,i.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){Hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$p(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){hl(!0);try{$p(e,t,n)}finally{hl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Fu(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class sk extends Xu{constructor(t){super(t),this._view=t}detectChanges(){Wy(this._view)}checkNoChanges(){!function(e){hl(!0);try{Wy(e)}finally{hl(!1)}}(this._view)}get context(){return null}}class vw extends Il{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Qn(t);return new wg(n,this.ngModule)}}function yw(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const lk=new er("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Gv});class wg extends fw{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(fO).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return yw(this.componentDef.inputs)}get outputs(){return yw(this.componentDef.outputs)}create(t,n,r,i){const s=(i=i||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Rc,i);return s!==Rc||r===Rc?s:t.get(n,r,i)}}}(t,i.injector):t,l=s.get(Bf,Kl),d=s.get(bg,null),j=l.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",pe=r?function(e,t,n){if(Sr(e))return e.selectRootElement(t,n===Lr.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(j,r,this.componentDef.encapsulation):wp(l.createRenderer(null,this.componentDef),Y,function(e){const t=e.toLowerCase();return"svg"===t?Li:"math"===t?"http://www.w3.org/1998/MathML/":null}(Y)),Ae=this.componentDef.onPush?576:528,ze=function(e,t){return{components:[],scheduler:e||Gv,clean:ZO,playerHandler:t||null,flags:0}}(),Ze=Of(0,null,null,1,0,null,null,null,null,null),at=Vu(null,Ze,ze,Ae,null,null,l,j,d,s);let Ct,gt;aa(at);try{const Ut=function(e,t,n,r,i,s){const l=n[1];n[20]=e;const j=gc(l,20,2,"#host",null),Y=j.mergedAttrs=t.hostAttrs;null!==Y&&(Sf(j,Y,!0),null!==e&&(Po(i,e,Y),null!==j.classes&&Sp(i,e,j.classes),null!==j.styles&&hy(i,e,j.styles)));const pe=r.createRenderer(e,t),Ae=Vu(n,Iy(t),null,t.onPush?64:16,n[20],j,r,pe,s||null,null);return l.firstCreatePass&&(ac(ss(j,n),l,t.type),Uy(l,j),Hy(j,n.length,1)),Ef(n,Ae),n[20]=Ae}(pe,this.componentDef,at,l,j);if(pe)if(r)Po(j,pe,["ng-version",mw.full]);else{const{attrs:Pt,classes:an}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ls(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Pt&&Po(j,pe,Pt),an&&an.length>0&&Sp(j,pe,an.join(" "))}if(gt=Zl(Ze,20),void 0!==n){const Pt=gt.projection=[];for(let an=0;an<this.ngContentSelectors.length;an++){const hn=n[an];Pt.push(null!=hn?Array.from(hn):null)}}Ct=function(e,t,n,r,i){const s=n[1],l=function(e,t,n){const r=vr();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zy(e,r,t,mc(e,t,1,null),n));const i=as(t,e,r.directiveStart,r);Zi(i,t);const s=co(r,t);return s&&Zi(s,t),i}(s,n,t);if(r.components.push(l),e[8]=l,i&&i.forEach(j=>j(l,t)),t.contentQueries){const j=vr();t.contentQueries(1,l,j.directiveStart)}const d=vr();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ho(d.index),Vy(n[1],d,0,d.directiveStart,d.directiveEnd,t),By(t,l)),l}(Ut,this.componentDef,at,ze,[_E]),Bu(Ze,at,null)}finally{pl()}return new dk(this.componentType,Ct,jc(gt,at),at,gt)}}class dk extends class{}{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new sk(i),this.componentType=t}get injector(){return new fa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Gs{}class bw{}const Nc=new Map;class Cw extends Gs{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vw(this);const r=Or(t);this._bootstrapComponents=Hs(r.bootstrap),this._r3Injector=Jy(t,n,[{provide:Gs,useValue:this},{provide:Il,useValue:this.componentFactoryResolver}],je(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=yr.THROW_IF_NOT_FOUND,r=Gt.Default){return t===yr||t===Gs||t===Uu?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _g extends bw{constructor(t){super(),this.moduleType=t,null!==Or(t)&&function(e){const t=new Set;!function n(r){const i=Or(r,!0),s=i.id;null!==s&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${je(t)} vs ${je(t.name)}`)}(s,Nc.get(s),r),Nc.set(s,r));const l=Hs(i.imports);for(const d of l)t.has(d)||(t.add(d),n(d))}(e)}(t)}create(t){return new Cw(this.moduleType,t)}}function xg(e){return t=>{setTimeout(e,void 0,t)}}const vo=class extends ye{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var j,Y,pe;let i=t,s=n||(()=>null),l=r;if(t&&"object"==typeof t){const Ae=t;i=null==(j=Ae.next)?void 0:j.bind(Ae),s=null==(Y=Ae.error)?void 0:Y.bind(Ae),l=null==(pe=Ae.complete)?void 0:pe.bind(Ae)}this.__isAsync&&(s=xg(s),i&&(i=xg(i)),l&&(l=xg(l)));const d=super.subscribe({next:i,error:s,complete:l});return t instanceof se&&t.add(d),d}};Symbol;const Vk=function(){return function(e,t){let n;const r=t[e.index];if(di(r))n=r;else{let i;if(8&e.type)i=zr(r);else{const s=t[11];i=s.createComment("");const l=co(e,t);Pl(s,yf(s,l),i,function(e,t){return Sr(e)?e.nextSibling(t):t.nextSibling}(s,l),!1)}t[e.index]=n=function(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,i,e),Ef(t,n)}return new Dw(n,e,t)}(vr(),qt())};let hs=(()=>{class e{}return e.__NG_ELEMENT_ID__=Vk,e})();const Uk=hs,Dw=class extends Uk{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return jc(this._hostTNode,this._hostLView)}get injector(){return new fa(this._hostTNode,this._hostLView)}get parentInjector(){const t=da(this._hostTNode,this._hostLView);if(tf(t)){const n=ca(t,this._hostLView),r=Ua(t);return new fa(n[1].data[r+8],n)}return new fa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=kw(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,s){const l=t&&!("function"==typeof t);let d;if(l)d=n;else{const Ae=n||{};d=Ae.index,r=Ae.injector,i=Ae.projectableNodes,s=Ae.ngModuleRef}const j=l?t:new wg(Qn(t)),Y=r||this.parentInjector;if(!s&&null==j.ngModule&&Y){const Ae=Y.get(Gs,null);Ae&&(s=Ae)}const pe=j.create(Y,i,void 0,s);return this.insert(pe.hostView,d),pe}insert(t,n){const r=t._lView,i=r[1];if(di(r[3])){const pe=this.indexOf(t);if(-1!==pe)this.detach(pe);else{const Ae=r[3],ze=new Dw(Ae,Ae[6],Ae[3]);ze.detach(ze.indexOf(t))}}const s=this._adjustIndex(n),l=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],a(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const l=t[17];null!==l&&n!==l&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(l,t);const d=t[19];null!==d&&d.insertView(e),t[2]|=128}(i,r,l,s);const d=Op(s,l),j=r[11],Y=yf(j,l[7]);return null!==Y&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,Fu(e,r,n,1,i,s)}(i,l[6],j,r,Y,d),t.attachToViewContainerRef(),a(Og(l),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=kw(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Cp(this._lContainer,n);r&&(f(Og(this._lContainer),n),ty(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Cp(this._lContainer,n);return r&&null!=f(Og(this._lContainer),n)?new Xu(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function kw(e){return e[8]}function Og(e){return e[8]||(e[8]=[])}const nd=new er("Application Initializer");let Fc=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Vf,this.reject=Vf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Pf(s))n.push(s);else if(lg(s)){const l=new Promise((d,j)=>{s.subscribe({complete:d,error:j})});n.push(l)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Yt(nd,8))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();const rd=new er("AppId"),OT={provide:rd,useFactory:function(){return`${Fg()}${Fg()}${Fg()}`},deps:[]};function Fg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xw=new er("Platform Initializer"),Vg=new er("Platform ID"),Jw=new er("appBootstrapListener");let Yf=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();const Ka=new er("LocaleId"),e1=new er("DefaultCurrencyCode");class ST{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const Bg=function(e){return new _g(e)},DT=Bg,kT=function(e){return Promise.resolve(Bg(e))},n1=function(e){const t=Bg(e),r=Hs(Or(e).declarations).reduce((i,s)=>{const l=Qn(s);return l&&i.push(new wg(l)),i},[]);return new ST(t,r)},TT=n1,PT=function(e){return Promise.resolve(n1(e))};let Kf=(()=>{class e{constructor(){this.compileModuleSync=DT,this.compileModuleAsync=kT,this.compileModuleAndAllComponentsSync=TT,this.compileModuleAndAllComponentsAsync=PT}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();const IT=(()=>Promise.resolve(0))();function Ug(e){"undefined"==typeof Zone?IT.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class pi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vo(!1),this.onMicrotaskEmpty=new vo(!1),this.onStable=new vo(!1),this.onError=new vo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=or.requestAnimationFrame,t=or.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(or,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,zg(e),e.isCheckStableRunning=!0,Hg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),zg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,l,d)=>{try{return r1(e),n.invokeTask(i,s,l,d)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),i1(e)}},onInvoke:(n,r,i,s,l,d,j)=>{try{return r1(e),n.invoke(i,s,l,d,j)}finally{e.shouldCoalesceRunChangeDetection&&t(),i1(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,zg(e),Hg(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+i,t,RT,Vf,Vf);try{return s.runTask(l,n,r)}finally{s.cancelTask(l)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const RT={};function Hg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function r1(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function i1(e){e._nesting--,Hg(e)}class FT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vo,this.onMicrotaskEmpty=new vo,this.onStable=new vo,this.onError=new vo}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let $g=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pi.assertNotInAngularZone(),Ug(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ug(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Yt(pi))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})(),o1=(()=>{class e{constructor(){this._applications=new Map,Wg.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Wg.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();class VT{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let Wg=new VT,s1=!0,a1=!1;let ps;const c1=new er("AllowMultipleToken");class qg{constructor(t,n){this.name=t,this.token=n}}function u1(e,t,n=[]){const r=`Platform: ${t}`,i=new er(r);return(s=[])=>{let l=d1();if(!l||l.injector.get(c1,!1))if(e)e(n.concat(s).concat({provide:i,useValue:!0}));else{const d=n.concat(s).concat({provide:i,useValue:!0},{provide:Hu,useValue:"platform"});!function(e){if(ps&&!ps.destroyed&&!ps.injector.get(c1,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ps=e.get(f1);const t=e.get(Xw,null);t&&t.forEach(n=>n())}(yr.create({providers:d,name:r}))}return function(e){const t=d1();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function d1(){return ps&&!ps.destroyed?ps:null}let f1=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const d=function(e,t){let n;return n="noop"===e?new FT:("zone.js"===e?void 0:e)||new pi({enableLongStackTrace:(a1=!0,s1),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),j=[{provide:pi,useValue:d}];return d.run(()=>{const Y=yr.create({providers:j,parent:this.injector,name:n.moduleType.name}),pe=n.create(Y),Ae=pe.injector.get(Tl,null);if(!Ae)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return d.runOutsideAngular(()=>{const ze=d.onError.subscribe({next:Ze=>{Ae.handleError(Ze)}});pe.onDestroy(()=>{Gg(this._modules,pe),ze.unsubscribe()})}),function(e,t,n){try{const r=n();return Pf(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(Ae,d,()=>{const ze=pe.injector.get(Fc);return ze.runInitializers(),ze.donePromise.then(()=>(function(e){hr(e,"Expected localeId to be defined"),"string"==typeof e&&(U0=e.toLowerCase().replace(/_/g,"-"))}(pe.injector.get(Ka,jf)||jf),this._moduleDoBootstrap(pe),pe))})})}bootstrapModule(n,r=[]){const i=h1({},r);return function(e,t,n){const r=new _g(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Vc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${je(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Yt(yr))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();function h1(e,t){return Array.isArray(t)?t.reduce(h1,e):Tn(Tn({},e),t)}let Vc=(()=>{class e{constructor(n,r,i,s,l){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new B(Y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Y.next(this._stable),Y.complete()})}),j=new B(Y=>{let pe;this._zone.runOutsideAngular(()=>{pe=this._zone.onStable.subscribe(()=>{pi.assertNotInAngularZone(),Ug(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Y.next(!0))})})});const Ae=this._zone.onUnstable.subscribe(()=>{pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Y.next(!1)}))});return()=>{pe.unsubscribe(),Ae.unsubscribe()}});this.isStable=function(...e){const t=Xt(e),n=function(e,t){return"number"==typeof Mt(e)?e.pop():1/0}(e),r=e;return r.length?1===r.length?Et(r[0]):ee(n)(Jt(r,t)):Ge}(d,j.pipe(function(e={}){const{connector:t=(()=>new ye),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let l=null,d=null,j=null,Y=0,pe=!1,Ae=!1;const ze=()=>{null==d||d.unsubscribe(),d=null},Ze=()=>{ze(),l=j=null,pe=Ae=!1},at=()=>{const Ct=l;Ze(),null==Ct||Ct.unsubscribe()};return Me((Ct,gt)=>{Y++,!Ae&&!pe&&ze();const Ut=j=null!=j?j:t();gt.add(()=>{Y--,0===Y&&!Ae&&!pe&&(d=q(at,i))}),Ut.subscribe(gt),l||(l=new z({next:Pt=>Ut.next(Pt),error:Pt=>{Ae=!0,ze(),d=q(Ze,n,Pt),Ut.error(Pt)},complete:()=>{pe=!0,ze(),d=q(Ze,r),Ut.complete()}}),Jt(Ct).subscribe(l))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof fw?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Gs),d=i.create(yr.NULL,[],r||i.selector,s),j=d.location.nativeElement,Y=d.injector.get($g,null),pe=Y&&d.injector.get(o1);return Y&&pe&&pe.registerApplication(j,Y),d.onDestroy(()=>{this.detachView(d.hostView),Gg(this.components,d),pe&&pe.unregisterApplication(j)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Gg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Jw,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Yt(pi),Yt(yr),Yt(Tl),Yt(Il),Yt(Fc))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();function Gg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const eP=function(e){return function(e,t,n){if(al(e)&&!n){const r=uo(e.index,t);return new Xu(r,r)}return 47&e.type?new Xu(t[16],t):null}(vr(),qt(),16==(16&e))};let Kg=(()=>{class e{}return e.__NG_ELEMENT_ID__=eP,e})();class w1{constructor(){}supports(t){return Wu(t)}create(t){return new hP(t)}}const fP=(e,t)=>t;class hP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fP}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const l=!r||n&&n.currentIndex<_1(r,i,s)?n:r,d=_1(l,i,s),j=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(n=n._next,null==l.previousIndex)i++;else{s||(s=[]);const Y=d-i,pe=j-i;if(Y!=pe){for(let ze=0;ze<Y;ze++){const Ze=ze<s.length?s[ze]:s[ze]=0,at=Ze+ze;pe<=at&&at<Y&&(s[ze]=Ze+1)}s[l.previousIndex]=pe-Y}}d!==j&&t(l,d,j)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Wu(t))throw new Error(`Error trying to diff '${je(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,l,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)s=t[d],l=this._trackByFn(d,s),null!==n&&Object.is(n.trackById,l)?(r&&(n=this._verifyReinsertion(n,s,l,d)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,l,d),r=!0),n=n._next}else i=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[wc()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,d=>{l=this._trackByFn(i,d),null!==n&&Object.is(n.trackById,l)?(r&&(n=this._verifyReinsertion(n,d,l,i)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,l,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new pP(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new C1),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new C1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class pP{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class C1{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new gP,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _1(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class x1{constructor(){}supports(t){return t instanceof Map||eg(t)}create(){return new mP}}class mP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||eg(t)))throw new Error(`Error trying to diff '${je(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,l=i._next;return s&&(s._next=l),l&&(l._prev=s),i._next=null,i._prev=null,i}const r=new vP(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class vP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O1(){return new id([new w1])}let id=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||O1()),deps:[[e,new Ti,new Un]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=In({token:e,providedIn:"root",factory:O1}),e})();function E1(){return new Bc([new x1])}let Bc=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||E1()),deps:[[e,new Ti,new Un]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=In({token:e,providedIn:"root",factory:E1}),e})();const bP=[new x1],CP=new id([new w1]),_P=new Bc(bP),xP=u1(null,"core",[{provide:Vg,useValue:"unknown"},{provide:f1,deps:[yr]},{provide:o1,deps:[]},{provide:Yf,deps:[]}]),kP=[{provide:Vc,useClass:Vc,deps:[pi,yr,Tl,Il,Fc]},{provide:lk,deps:[pi],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Fc,useClass:Fc,deps:[[new Un,nd]]},{provide:Kf,useClass:Kf,deps:[]},OT,{provide:id,useFactory:function(){return CP},deps:[]},{provide:Bc,useFactory:function(){return _P},deps:[]},{provide:Ka,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||jf},deps:[[new jr(Ka),new Un,new Ti]]},{provide:e1,useValue:"USD"}];let PP=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Yt(Vc))},e.\u0275mod=Dt({type:e}),e.\u0275inj=Zn({providers:kP}),e})(),ch=null;function Xa(){return ch}const $i=new er("DocumentToken");let Fl=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=In({token:e,factory:function(){return Yt(cC)},providedIn:"platform"}),e})();const OA=new er("Location Initialized");let cC=(()=>{class e extends Fl{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xa().getBaseHref(this._doc)}onPopState(n){const r=Xa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Xa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){uC()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){uC()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Yt($i))},e.\u0275prov=In({token:e,factory:function(){return new cC(Yt($i))},providedIn:"platform"}),e})();function uC(){return!!window.history.pushState}function _m(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function dC(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function _a(e){return e&&"?"!==e[0]?"?"+e:e}let qc=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=In({token:e,factory:function(){return function(e){const t=Yt($i).location;return new fC(Yt(Fl),t&&t.origin||"")}()},providedIn:"root"}),e})();const xm=new er("appBaseHref");let fC=(()=>{class e extends qc{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return _m(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+_a(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const l=this.prepareExternalUrl(i+_a(s));this._platformLocation.pushState(n,r,l)}replaceState(n,r,i,s){const l=this.prepareExternalUrl(i+_a(s));this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(Yt(Fl),Yt(xm,8))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})(),DA=(()=>{class e extends qc{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=_m(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let l=this.prepareExternalUrl(i+_a(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(n,r,l)}replaceState(n,r,i,s){let l=this.prepareExternalUrl(i+_a(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(Yt(Fl),Yt(xm,8))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})(),Om=(()=>{class e{constructor(n,r){this._subject=new vo,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=dC(hC(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+_a(r))}normalize(n){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,hC(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_a(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_a(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=_a,e.joinWithSlash=_m,e.stripTrailingSlash=dC,e.\u0275fac=function(n){return new(n||e)(Yt(qc),Yt(Fl))},e.\u0275prov=In({token:e,factory:function(){return new Om(Yt(qc),Yt(Fl))},providedIn:"root"}),e})();function hC(e){return e.replace(/\/index.html$/,"")}var gi=(()=>((gi=gi||{})[gi.Zero=0]="Zero",gi[gi.One=1]="One",gi[gi.Two=2]="Two",gi[gi.Few=3]="Few",gi[gi.Many=4]="Many",gi[gi.Other=5]="Other",gi))();const NA=function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=B0(t);if(n)return n;const r=t.split("-")[0];if(n=B0(r),n)return n;if("en"===r)return ZS;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[on.PluralCase]};class bh{}let d2=(()=>{class e extends bh{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(NA(r||this.locale)(n)){case gi.Zero:return"zero";case gi.One:return"one";case gi.Two:return"two";case gi.Few:return"few";case gi.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(Yt(Ka))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})(),q2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=Zn({providers:[{provide:bh,useClass:d2}]}),e})();let Z2=(()=>{class e{}return e.\u0275prov=In({token:e,providedIn:"root",factory:()=>new Q2(Yt($i),window)}),e})();class Q2{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=DC(this.window.history)||DC(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function DC(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Lm extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new Lm,ch||(ch=e)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=(yd=yd||document.querySelector("base"),yd?yd.getAttribute("href"):null);return null==n?null:function(e){wh=wh||document.createElement("a"),wh.setAttribute("href",e);const t=wh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){yd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let wh,yd=null;const kC=new er("TRANSITION_ID"),iI=[{provide:nd,useFactory:function(e,t,n){return()=>{n.get(Fc).donePromise.then(()=>{const r=Xa(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[kC,$i,yr],multi:!0}];class Fm{static init(){var e;e=new Fm,Wg=e}addToWindow(t){or.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},or.getAllAngularTestabilities=()=>t.getAllTestabilities(),or.getAllAngularRootElements=()=>t.getAllRootElements(),or.frameworkStabilizers||(or.frameworkStabilizers=[]),or.frameworkStabilizers.push(r=>{const i=or.getAllAngularTestabilities();let s=i.length,l=!1;const d=function(j){l=l||j,s--,0==s&&r(l)};i.forEach(function(j){j.whenStable(d)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?Xa().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let oI=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();const bd=new er("EventManagerPlugins");let _h=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const l=i[s];if(l.supports(n))return this._eventNameToPlugin.set(n,l),l}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Yt(bd),Yt(pi))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();class Vm{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Xa().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let PC=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})(),wd=(()=>{class e extends PC{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,i.push(r.appendChild(l))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(MC),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(MC))}}return e.\u0275fac=function(n){return new(n||e)(Yt($i))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();function MC(e){Xa().remove(e)}const Bm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Um=/%COMP%/g;function xh(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?xh(e,i,n):(i=i.replace(Um,e),n.push(i))}return n}function jC(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Hm=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zm(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Lr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new wI(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Lr.ShadowDom:return new CI(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=xh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Yt(_h),Yt(wd),Yt(rd))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();class zm{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Bm[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=Bm[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Bm[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(jo.DashCase|jo.Important)?t.style.setProperty(n,r,i&jo.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&jo.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,jC(r)):this.eventManager.addEventListener(t,n,jC(r))}}class wI extends zm{constructor(t,n,r,i){super(t),this.component=r;const s=xh(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Um,i+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(Um,i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class CI extends zm{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=xh(i.id,i.styles,[]);for(let l=0;l<s.length;l++){const d=document.createElement("style");d.textContent=s[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _I=(()=>{class e extends Vm{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Yt($i))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();const LC=["alt","control","meta","shift"],TI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},PI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let MI=(()=>{class e extends Vm{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),l=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xa().onAndCancel(n,s.domEventName,l))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let l="";if(LC.forEach(j=>{const Y=r.indexOf(j);Y>-1&&(r.splice(Y,1),l+=j+".")}),l+=s,0!=r.length||0===s.length)return null;const d={};return d.domEventName=i,d.fullKey=l,d}static getEventFullKey(n){let r="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&FC.hasOwnProperty(t)&&(t=FC[t]))}return TI[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),LC.forEach(s=>{s!=i&&PI[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{e.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Yt($i))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();const VI=u1(xP,"browser",[{provide:Vg,useValue:"browser"},{provide:Xw,useValue:function(){Lm.makeCurrent(),Fm.init()},multi:!0},{provide:$i,useFactory:function(){return e=document,fi=e,document;var e},deps:[]}]),BI=[[],{provide:Hu,useValue:"root"},{provide:Tl,useFactory:function(){return new Tl},deps:[]},{provide:bd,useClass:_I,multi:!0,deps:[$i,pi,Vg]},{provide:bd,useClass:MI,multi:!0,deps:[$i]},[],{provide:Hm,useClass:Hm,deps:[_h,wd,rd]},{provide:Bf,useExisting:Hm},{provide:PC,useExisting:wd},{provide:wd,useClass:wd,deps:[$i]},{provide:$g,useClass:$g,deps:[pi]},{provide:_h,useClass:_h,deps:[bd,pi]},{provide:class{},useClass:oI,deps:[]},[]];let UI=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:rd,useValue:n.appId},{provide:kC,useExisting:rd},iI]}}}return e.\u0275fac=function(n){return new(n||e)(Yt(e,12))},e.\u0275mod=Dt({type:e}),e.\u0275inj=Zn({providers:BI,imports:[q2,PP]}),e})();function Gn(...e){return Jt(e,Xt(e))}"undefined"!=typeof window&&window;class Cs extends ye{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:KI}=Array,{getPrototypeOf:ZI,prototype:QI,keys:XI}=Object;const{isArray:tj}=Array;function oj(...e){const t=Xt(e),n=function(e){return h(Mt(e))?e.pop():void 0}(e),{args:r,keys:i}=function(e){if(1===e.length){const t=e[0];if(KI(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&ZI(e)===QI}(t)){const n=XI(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Jt([],t);const s=new B(function(e,t,n=p){return r=>{BC(t,()=>{const{length:i}=e,s=new Array(i);let l=i,d=i;for(let j=0;j<i;j++)BC(t,()=>{const Y=Jt(e[j],t);let pe=!1;Y.subscribe(new Le(r,Ae=>{s[j]=Ae,pe||(pe=!0,d--),d||r.next(n(s.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,i?l=>function(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,l):p));return n?s.pipe(function(e){return _e(t=>function(e,t){return tj(t)?e(...t):e(t)}(e,t))}(n)):s}function BC(e,t,n){e?w(n,e,t):t()}const Oh=ce(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ym(...e){return ee(1)(Jt(e,Xt(e)))}function UC(e){return new B(t=>{Et(e()).subscribe(t)})}function HC(){return Me((e,t)=>{let n=null;e._refCount++;const r=new Le(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class lj extends B{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new se;const n=this.getSubject();t.add(this.source.subscribe(new Le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=se.EMPTY)}return t}refCount(){return HC()(this)}}function Vl(e,t){return Me((n,r)=>{let i=null,s=0,l=!1;const d=()=>l&&!i&&r.complete();n.subscribe(new Le(r,j=>{null==i||i.unsubscribe();let Y=0;const pe=s++;Et(e(j,pe)).subscribe(i=new Le(r,Ae=>r.next(t?t(j,Ae,pe,Y++):Ae),()=>{i=null,d()}))},()=>{l=!0,d()}))})}function uj(e,t,n,r,i){return(s,l)=>{let d=n,j=t,Y=0;s.subscribe(new Le(l,pe=>{const Ae=Y++;j=d?e(j,pe,Ae):(d=!0,pe),r&&l.next(j)},i&&(()=>{d&&l.next(j),l.complete()})))}}function zC(e,t){return Me(uj(e,t,arguments.length>=2,!0))}function Gc(e,t){return Me((n,r)=>{let i=0;n.subscribe(new Le(r,s=>e.call(t,s,i++)&&r.next(s)))})}function el(e){return Me((t,n)=>{let s,r=null,i=!1;r=t.subscribe(new Le(n,void 0,void 0,l=>{s=Et(e(l,el(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Cd(e,t){return h(t)?we(e,t,1):we(e,1)}function Km(e){return e<=0?()=>Ge:Me((t,n)=>{let r=[];t.subscribe(new Le(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $C(e=dj){return Me((t,n)=>{let r=!1;t.subscribe(new Le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function dj(){return new Oh}function WC(e){return Me((t,n)=>{let r=!1;t.subscribe(new Le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Yc(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Gc((i,s)=>e(i,s,r)):p,An(1),n?WC(t):$C(()=>new Oh))}function Lo(e,t,n){const r=h(e)||t||n?{next:e,error:t,complete:n}:e;return r?Me((i,s)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let d=!0;i.subscribe(new Le(s,j=>{var Y;null===(Y=r.next)||void 0===Y||Y.call(r,j),s.next(j)},()=>{var j;d=!1,null===(j=r.complete)||void 0===j||j.call(r),s.complete()},j=>{var Y;d=!1,null===(Y=r.error)||void 0===Y||Y.call(r,j),s.error(j)},()=>{var j,Y;d&&(null===(j=r.unsubscribe)||void 0===j||j.call(r)),null===(Y=r.finalize)||void 0===Y||Y.call(r)}))}):p}class Oa{constructor(t,n){this.id=t,this.url=n}}class Zm extends Oa{constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _d extends Oa{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qC extends Oa{constructor(t,n,r){super(t,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pj extends Oa{constructor(t,n,r){super(t,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gj extends Oa{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mj extends Oa{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vj extends Oa{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yj extends Oa{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bj extends Oa{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class YC{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wj{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cj{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _j{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xj{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KC{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Xn="primary";class Oj{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Kc(e){return new Oj(e)}const ZC="ngNavigationCancelingError";function Qm(e){const t=Error("NavigationCancelingError: "+e);return t[ZC]=!0,t}function Sj(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const l=r[s],d=e[s];if(l.startsWith(":"))i[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ys(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!QC(e[i],t[i]))return!1;return!0}function QC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function XC(e){return Array.prototype.concat.apply([],e)}function JC(e){return e.length>0?e[e.length-1]:null}function Wi(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ks(e){return lg(e)?e:Pf(e)?Jt(Promise.resolve(e)):Gn(e)}const Tj={exact:function n_(e,t,n){if(!Ul(e.segments,t.segments)||!Eh(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!n_(e.children[r],t.children[r],n))return!1;return!0},subset:r_},e_={exact:function(e,t){return Ys(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>QC(e[n],t[n]))},ignored:()=>!0};function t_(e,t,n){return Tj[n.paths](e.root,t.root,n.matrixParams)&&e_[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function r_(e,t,n){return i_(e,t,t.segments,n)}function i_(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Ul(i,n)||t.hasChildren()||!Eh(i,n,r))}if(e.segments.length===n.length){if(!Ul(e.segments,n)||!Eh(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!r_(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Ul(e.segments,i)&&Eh(e.segments,i,r)&&e.children[Xn])&&i_(e.children[Xn],t,s,r)}}function Eh(e,t,n){return t.every((r,i)=>e_[n](e[i].parameters,r.parameters))}class Bl{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kc(this.queryParams)),this._queryParamMap}toString(){return jj.serialize(this)}}class ar{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Wi(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sh(this)}}class xd{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Kc(this.parameters)),this._parameterMap}toString(){return c_(this)}}function Ul(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class o_{}class s_{parse(t){const n=new zj(t);return new Bl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Od(t.root,!0)}`,r=function(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Dh(n)}=${Dh(i)}`).join("&"):`${Dh(n)}=${Dh(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);var e;return`${n}${r}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const jj=new s_;function Sh(e){return e.segments.map(t=>c_(t)).join("/")}function Od(e,t){if(!e.hasChildren())return Sh(e);if(t){const n=e.children[Xn]?Od(e.children[Xn],!1):"",r=[];return Wi(e.children,(i,s)=>{s!==Xn&&r.push(`${s}:${Od(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(e,t){let n=[];return Wi(e.children,(r,i)=>{i===Xn&&(n=n.concat(t(r,i)))}),Wi(e.children,(r,i)=>{i!==Xn&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===Xn?[Od(e.children[Xn],!1)]:[`${i}:${Od(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Xn]?`${Sh(e)}/${n[0]}`:`${Sh(e)}/(${n.join("//")})`}}function a_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dh(e){return a_(e).replace(/%3B/gi,";")}function Xm(e){return a_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kh(e){return decodeURIComponent(e)}function l_(e){return kh(e.replace(/\+/g,"%20"))}function c_(e){return`${Xm(e.path)}${function(e){return Object.keys(e).map(t=>`;${Xm(t)}=${Xm(e[t])}`).join("")}(e.parameters)}`}const Fj=/^[^\/()?;=#]+/;function Th(e){const t=e.match(Fj);return t?t[0]:""}const Vj=/^[^=?&#]+/,Uj=/^[^&#]+/;class zj{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ar([],{}):new ar([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Xn]=new ar(t,n)),r}parseSegment(){const t=Th(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new xd(kh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Th(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Th(this.remaining);i&&(r=i,this.capture(r))}t[kh(n)]=kh(r)}parseQueryParam(t){const n=function(e){const t=e.match(Vj);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const l=function(e){const t=e.match(Uj);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=l_(n),s=l_(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Th(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Xn);const l=this.parseChildren();n[s]=1===Object.keys(l).length?l[Xn]:new ar([],l),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class u_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Jm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Jm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=ev(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return ev(t,this._root).map(n=>n.value)}}function Jm(e,t){if(e===t.value)return t;for(const n of t.children){const r=Jm(e,n);if(r)return r}return null}function ev(e,t){if(e===t.value)return[t];for(const n of t.children){const r=ev(e,n);if(r.length)return r.unshift(t),r}return[]}class Ea{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Zc(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class d_ extends u_{constructor(t,n){super(t),this.snapshot=n,tv(this,t)}toString(){return this.snapshot.toString()}}function f_(e,t){const n=function(e,t){const l=new Ph([],{},{},"",{},Xn,t,null,e.root,-1,{});return new p_("",new Ea(l,[]))}(e,t),r=new Cs([new xd("",{})]),i=new Cs({}),s=new Cs({}),l=new Cs({}),d=new Cs(""),j=new Qc(r,i,l,d,s,Xn,t,n.root);return j.snapshot=n.root,new d_(new Ea(j,[]),n)}class Qc{constructor(t,n,r,i,s,l,d,j){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=d,this._futureSnapshot=j}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(t=>Kc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(t=>Kc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function h_(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(e){return e.reduce((t,n)=>({params:Tn(Tn({},t.params),n.params),data:Tn(Tn({},t.data),n.data),resolve:Tn(Tn({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ph{constructor(t,n,r,i,s,l,d,j,Y,pe,Ae){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=d,this.routeConfig=j,this._urlSegment=Y,this._lastPathIndex=pe,this._resolve=Ae}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class p_ extends u_{constructor(t,n){super(n),this.url=t,tv(this,n)}toString(){return g_(this._root)}}function tv(e,t){t.value._routerState=e,t.children.forEach(n=>tv(e,n))}function g_(e){const t=e.children.length>0?` { ${e.children.map(g_).join(", ")} } `:"";return`${e.value}${t}`}function nv(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ys(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ys(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ys(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ys(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function rv(e,t){const n=Ys(e.params,t.params)&&function(e,t){return Ul(e,t)&&e.every((n,r)=>Ys(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||rv(e.parent,t.parent))}function Ed(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ed(e,r,i);return Ed(e,r)})}(e,t,n);return new Ea(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(d=>Ed(e,d)),l}}const r=function(e){return new Qc(new Cs(e.url),new Cs(e.params),new Cs(e.queryParams),new Cs(e.fragment),new Cs(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Ed(e,s));return new Ea(r,i)}}function Mh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Sd(e){return"object"==typeof e&&null!=e&&e.outlets}function iv(e,t,n,r,i){let s={};return r&&Wi(r,(l,d)=>{s[d]=Array.isArray(l)?l.map(j=>`${j}`):`${l}`}),new Bl(n.root===e?t:m_(n.root,e,t),s,i)}function m_(e,t,n){const r={};return Wi(e.children,(i,s)=>{r[s]=i===t?n:m_(i,t,n)}),new ar(e.segments,r)}class v_{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Mh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Sd);if(i&&i!==JC(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ov{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function y_(e,t,n){if(e||(e=new ar([],{})),0===e.segments.length&&e.hasChildren())return Ah(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const l=e.segments[i],d=n[r];if(Sd(d))break;const j=`${d}`,Y=r<n.length-1?n[r+1]:null;if(i>0&&void 0===j)break;if(j&&Y&&"object"==typeof Y&&void 0===Y.outlets){if(!w_(j,Y,l))return s;r+=2}else{if(!w_(j,{},l))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new ar(e.segments.slice(0,r.pathIndex),{});return s.children[Xn]=new ar(e.segments.slice(r.pathIndex),e.children),Ah(s,0,i)}return r.match&&0===i.length?new ar(e.segments,{}):r.match&&!e.hasChildren()?sv(e,t,n):r.match?Ah(e,0,i):sv(e,t,n)}function Ah(e,t,n){if(0===n.length)return new ar(e.segments,{});{const r=function(e){return Sd(e[0])?e[0].outlets:{[Xn]:e}}(n),i={};return Wi(r,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[l]=y_(e.children[l],t,s))}),Wi(e.children,(s,l)=>{void 0===r[l]&&(i[l]=s)}),new ar(e.segments,i)}}function sv(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Sd(s)){const j=tR(s.outlets);return new ar(r,j)}if(0===i&&Mh(n[0])){r.push(new xd(e.segments[t].path,b_(n[0]))),i++;continue}const l=Sd(s)?s.outlets[Xn]:`${s}`,d=i<n.length-1?n[i+1]:null;l&&d&&Mh(d)?(r.push(new xd(l,b_(d))),i+=2):(r.push(new xd(l,{})),i++)}return new ar(r,{})}function tR(e){const t={};return Wi(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=sv(new ar([],{}),0,n))}),t}function b_(e){const t={};return Wi(e,(n,r)=>t[r]=`${n}`),t}function w_(e,t,n){return e==n.path&&Ys(t,n.parameters)}class rR{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),nv(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Zc(n);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,i[l],r),delete i[l]}),Wi(i,(s,l)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,n,l.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Zc(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);if(r&&r.outlet){const l=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:d})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Zc(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=Zc(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new xj(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Cj(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(nv(i),i===s)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,l.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const d=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),nv(d.route.value),this.activateChildRoutes(t,null,l.children)}else{const d=function(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),j=d?d.module.componentFactoryResolver:null;l.attachRef=null,l.route=i,l.resolver=j,l.outlet&&l.outlet.activateWith(i,j),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class av{constructor(t,n){this.routes=t,this.module=n}}function tl(e){return"function"==typeof e}function Hl(e){return e instanceof Bl}const Dd=Symbol("INITIAL_VALUE");function kd(){return Vl(e=>oj(e.map(t=>t.pipe(An(1),function(...e){const t=Xt(e);return Me((n,r)=>{(t?Ym(e,n,t):Ym(e,n)).subscribe(r)})}(Dd)))).pipe(zC((t,n)=>{let r=!1;return n.reduce((i,s,l)=>i!==Dd?i:(s===Dd&&(r=!0),r||!1!==s&&l!==n.length-1&&!Hl(s)?i:s),t)},Dd),Gc(t=>t!==Dd),_e(t=>Hl(t)?t:!0===t),An(1)))}class uR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Td,this.attachRef=null}}class Td{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new uR,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let lv=(()=>{class e{constructor(n,r,i,s,l){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new vo,this.deactivateEvents=new vo,this.attachEvents=new vo,this.detachEvents=new vo,this.name=s||Xn,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const l=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,j=new dR(n,d,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,j),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(Cn(Td),Cn(hs),Cn(Il),function(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Va(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(vr(),e)}("name"),Cn(Kg))},e.\u0275dir=cn({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class dR{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Qc?this.route:t===Td?this.childContexts:this.parent.get(t,n)}}let C_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&go(0,"router-outlet")},directives:[lv],encapsulation:2}),e})();function __(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];fR(r,hR(t,r))}}function fR(e,t){e.children&&__(e.children,t)}function hR(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function cv(e){const t=e.children&&e.children.map(cv),n=t?So(Tn({},e),{children:t}):Tn({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Xn&&(n.component=C_),n}function es(e){return e.outlet||Xn}function x_(e,t){const n=e.filter(r=>es(r)===t);return n.push(...e.filter(r=>es(r)!==t)),n}const O_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ih(e,t,n){var d;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Tn({},O_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Sj)(n,e,t);if(!i)return Tn({},O_);const s={};Wi(i.posParams,(j,Y)=>{s[Y]=j.path});const l=i.consumed.length>0?Tn(Tn({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:l,positionalParamSegments:null!=(d=i.posParams)?d:{}}}function jh(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(r=>Rh(e,t,r)&&es(r)!==Xn)}(e,n,r)){const l=new ar(t,function(e,t,n,r){const i={};i[Xn]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&es(s)!==Xn){const l=new ar([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,i[es(s)]=l}return i}(e,t,r,new ar(n,e.children)));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(r=>Rh(e,t,r))}(e,n,r)){const l=new ar(e.segments,function(e,t,n,r,i,s){const l={};for(const d of r)if(Rh(e,n,d)&&!i[es(d)]){const j=new ar([],{});j._sourceSegment=e,j._segmentIndexShift="legacy"===s?e.segments.length:t.length,l[es(d)]=j}return Tn(Tn({},i),l)}(e,t,n,r,e.children,i));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}const s=new ar(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Rh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function E_(e,t,n,r){return!!(es(e)===r||r!==Xn&&Rh(t,n,e))&&("**"===e.path||Ih(t,e,n).matched)}function S_(e,t,n){return 0===t.length&&!e.children[n]}class Pd{constructor(t){this.segmentGroup=t||null}}class D_{constructor(t){this.urlTree=t}}function Nh(e){return new B(t=>t.error(new Pd(e)))}function k_(e){return new B(t=>t.error(new D_(e)))}function yR(e){return new B(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class CR{constructor(t,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(Gs)}apply(){const t=jh(this.urlTree.root,[],[],this.config).segmentGroup,n=new ar(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Xn).pipe(_e(s=>this.createUrlTree(uv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(el(s=>{if(s instanceof D_)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Pd?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Xn).pipe(_e(i=>this.createUrlTree(uv(i),t.queryParams,t.fragment))).pipe(el(i=>{throw i instanceof Pd?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const i=t.segments.length>0?new ar([],{[Xn]:t}):t;return new Bl(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(_e(s=>new ar([],s))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Jt(i).pipe(Cd(s=>{const l=r.children[s],d=x_(n,s);return this.expandSegmentGroup(t,d,l,s).pipe(_e(j=>({segment:j,outlet:s})))}),zC((s,l)=>(s[l.outlet]=l.segment,s),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Gc((i,s)=>e(i,s,r)):p,Km(1),n?WC(t):$C(()=>new Oh))}())}expandSegment(t,n,r,i,s,l){return Jt(r).pipe(Cd(d=>this.expandSegmentAgainstRoute(t,n,r,d,i,s,l).pipe(el(Y=>{if(Y instanceof Pd)return Gn(null);throw Y}))),Yc(d=>!!d),el((d,j)=>{if(d instanceof Oh||"EmptyError"===d.name){if(S_(n,i,s))return Gn(new ar([],{}));throw new Pd(n)}throw d}))}expandSegmentAgainstRoute(t,n,r,i,s,l,d){return E_(i,n,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,s,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,l):Nh(n):Nh(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?k_(s):this.lineralizeSegments(r,s).pipe(we(l=>{const d=new ar(l,{});return this.expandSegment(t,d,n,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,l){const{matched:d,consumedSegments:j,lastChild:Y,positionalParamSegments:pe}=Ih(n,i,s);if(!d)return Nh(n);const Ae=this.applyRedirectCommands(j,i.redirectTo,pe);return i.redirectTo.startsWith("/")?k_(Ae):this.lineralizeSegments(i,Ae).pipe(we(ze=>this.expandSegment(t,n,r,ze.concat(s.slice(Y)),l,!1)))}matchSegmentAgainstRoute(t,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Gn(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(_e(ze=>(r._loadedConfig=ze,new ar(i,{})))):Gn(new ar(i,{}));const{matched:l,consumedSegments:d,lastChild:j}=Ih(n,r,i);if(!l)return Nh(n);const Y=i.slice(j);return this.getChildConfig(t,r,i).pipe(we(Ae=>{const ze=Ae.module,Ze=Ae.routes,{segmentGroup:at,slicedSegments:Ct}=jh(n,d,Y,Ze),gt=new ar(at.segments,at.children);if(0===Ct.length&&gt.hasChildren())return this.expandChildren(ze,Ze,gt).pipe(_e(hn=>new ar(d,hn)));if(0===Ze.length&&0===Ct.length)return Gn(new ar(d,{}));const Ut=es(r)===s;return this.expandSegment(ze,gt,Ze,Ct,Ut?Xn:s,!0).pipe(_e(an=>new ar(d.concat(an.segments),an.children)))}))}getChildConfig(t,n,r){return n.children?Gn(new av(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?Gn(n._loadedConfig):this.runCanLoadGuards(t.injector,n,r).pipe(we(i=>{return i?this.configLoader.load(t.injector,n).pipe(_e(s=>(n._loadedConfig=s,s))):(e=n,new B(t=>t.error(Qm(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))));var e})):Gn(new av([],t))}runCanLoadGuards(t,n,r){const i=n.canLoad;return i&&0!==i.length?Gn(i.map(l=>{const d=t.get(l);let j;if((e=d)&&tl(e.canLoad))j=d.canLoad(n,r);else{if(!tl(d))throw new Error("Invalid CanLoad guard");j=d(n,r)}var e;return Ks(j)})).pipe(kd(),Lo(l=>{if(!Hl(l))return;const d=Qm(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw d.url=l,d}),_e(l=>!0===l)):Gn(!0)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Gn(r);if(i.numberOfChildren>1||!i.children[Xn])return yR(t.redirectTo);i=i.children[Xn]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new Bl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Wi(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const d=i.substring(1);r[s]=n[d]}else r[s]=i}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let l={};return Wi(n.children,(d,j)=>{l[j]=this.createSegmentGroup(t,d,r,i)}),new ar(s,l)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}function uv(e){const t={};for(const r of Object.keys(e.children)){const s=uv(e.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function(e){if(1===e.numberOfChildren&&e.children[Xn]){const t=e.children[Xn];return new ar(e.segments.concat(t.segments),t.children)}return e}(new ar(e.segments,t))}class T_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Lh{constructor(t,n){this.component=t,this.route=n}}function OR(e,t,n){const r=e._root;return Md(r,t?t._root:null,n,[r.value])}function Fh(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Md(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zc(t);return e.children.forEach(l=>{(function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,l=t?t.value:null,d=n?n.getContext(e.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const j=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ul(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ul(e.url,t.url)||!Ys(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rv(e,t)||!Ys(e.queryParams,t.queryParams);default:return!rv(e,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);j?i.canActivateChecks.push(new T_(r)):(s.data=l.data,s._resolvedData=l._resolvedData),Md(e,t,s.component?d?d.children:null:n,r,i),j&&d&&d.outlet&&d.outlet.isActivated&&i.canDeactivateChecks.push(new Lh(d.outlet.component,l))}else l&&Ad(t,d,i),i.canActivateChecks.push(new T_(r)),Md(e,null,s.component?d?d.children:null:n,r,i)})(l,s[l.value.outlet],n,r.concat([l.value]),i),delete s[l.value.outlet]}),Wi(s,(l,d)=>Ad(l,n.getContext(d),i)),i}function Ad(e,t,n){const r=Zc(e),i=e.value;Wi(r,(s,l)=>{Ad(s,i.component?t?t.children.getContext(l):null:t,n)}),n.canDeactivateChecks.push(new Lh(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class LR{}function P_(e){return new B(t=>t.error(e))}class VR{constructor(t,n,r,i,s,l){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){const t=jh(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,Xn);if(null===n)return null;const r=new Ph([],Object.freeze({}),Object.freeze(Tn({},this.urlTree.queryParams)),this.urlTree.fragment,{},Xn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ea(r,n),s=new p_(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const n=t.value,r=h_(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const s of Object.keys(n.children)){const l=n.children[s],d=x_(t,s),j=this.processSegmentGroup(d,l,s);if(null===j)return null;r.push(...j)}const i=M_(r);return i.sort((t,n)=>t.value.outlet===Xn?-1:n.value.outlet===Xn?1:t.value.outlet.localeCompare(n.value.outlet)),i}processSegment(t,n,r,i){for(const s of t){const l=this.processSegmentAgainstRoute(s,n,r,i);if(null!==l)return l}return S_(n,r,i)?[]:null}processSegmentAgainstRoute(t,n,r,i){if(t.redirectTo||!E_(t,n,r,i))return null;let s,l=[],d=[];if("**"===t.path){const Ze=r.length>0?JC(r).parameters:{};s=new Ph(r,Ze,Object.freeze(Tn({},this.urlTree.queryParams)),this.urlTree.fragment,j_(t),es(t),t.component,t,A_(n),I_(n)+r.length,R_(t))}else{const Ze=Ih(n,t,r);if(!Ze.matched)return null;l=Ze.consumedSegments,d=r.slice(Ze.lastChild),s=new Ph(l,Ze.parameters,Object.freeze(Tn({},this.urlTree.queryParams)),this.urlTree.fragment,j_(t),es(t),t.component,t,A_(n),I_(n)+l.length,R_(t))}const j=(e=t).children?e.children:e.loadChildren?e._loadedConfig.routes:[],{segmentGroup:Y,slicedSegments:pe}=jh(n,l,d,j.filter(Ze=>void 0===Ze.redirectTo),this.relativeLinkResolution);var e;if(0===pe.length&&Y.hasChildren()){const Ze=this.processChildren(j,Y);return null===Ze?null:[new Ea(s,Ze)]}if(0===j.length&&0===pe.length)return[new Ea(s,[])];const Ae=es(t)===i,ze=this.processSegment(j,Y,pe,Ae?Xn:i);return null===ze?null:[new Ea(s,ze)]}}function HR(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function M_(e){const t=[],n=new Set;for(const r of e){if(!HR(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=M_(r.children);t.push(new Ea(r.value,i))}return t.filter(r=>!n.has(r))}function A_(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function I_(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function j_(e){return e.data||{}}function R_(e){return e.resolve||{}}function dv(e){return Vl(t=>{const n=e(t);return n?Jt(n).pipe(_e(()=>t)):Gn(t)})}class ZR extends class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const fv=new er("ROUTES");class N_{constructor(t,n,r,i){this.injector=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(_e(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const l=s.create(t);return new av(XC(l.injector.get(fv,void 0,Gt.Self|Gt.Optional)).map(cv),l)}),el(s=>{throw n._loader$=void 0,s}));return n._loader$=new lj(i,()=>new ye).pipe(HC()),n._loader$}loadModuleFactory(t){return Ks(t()).pipe(we(n=>n instanceof bw?Gn(n):Jt(this.compiler.compileModuleAsync(n))))}}class XR{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function JR(e){throw e}function eN(e,t,n){return t.parse("/")}function L_(e,t){return Gn(null)}const tN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fo=(()=>{class e{constructor(n,r,i,s,l,d,j){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=j,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ye,this.errorHandler=JR,this.malformedUriErrorHandler=eN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:L_,afterPreactivation:L_},this.urlHandlingStrategy=new XR,this.routeReuseStrategy=new ZR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(Gs),this.console=l.get(Yf);const Ae=l.get(pi);this.isNgZoneEnabled=Ae instanceof pi&&pi.isInAngularZone(),this.resetConfig(j),this.currentUrlTree=new Bl(new ar([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new N_(l,d,ze=>this.triggerEvent(new GC(ze)),ze=>this.triggerEvent(new YC(ze))),this.routerState=f_(this.currentUrlTree,this.rootComponentType),this.transitions=new Cs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null==(n=this.location.getState())?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Gc(i=>0!==i.id),_e(i=>So(Tn({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Vl(i=>{let s=!1,l=!1;return Gn(i).pipe(Lo(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?So(Tn({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vl(d=>{const j=this.browserUrlTree.toString(),Y=!this.navigated||d.extractedUrl.toString()!==j||j!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Y)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Vh(d.source)&&(this.browserUrlTree=d.extractedUrl),Gn(d).pipe(Vl(Ae=>{const ze=this.transitions.getValue();return r.next(new Zm(Ae.id,this.serializeUrl(Ae.extractedUrl),Ae.source,Ae.restoredState)),ze!==this.transitions.getValue()?Ge:Promise.resolve(Ae)}),function(e,t,n,r){return Vl(i=>function(e,t,n,r,i){return new CR(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(_e(s=>So(Tn({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Lo(Ae=>{this.currentNavigation=So(Tn({},this.currentNavigation),{finalUrl:Ae.urlAfterRedirects})}),function(e,t,n,r,i){return we(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const l=new VR(e,t,n,r,i,s).recognize();return null===l?P_(new LR):Gn(l)}catch(l){return P_(l)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(_e(l=>So(Tn({},s),{targetSnapshot:l}))))}(this.rootComponentType,this.config,Ae=>this.serializeUrl(Ae),this.paramsInheritanceStrategy,this.relativeLinkResolution),Lo(Ae=>{if("eager"===this.urlUpdateStrategy){if(!Ae.extras.skipLocationChange){const Ze=this.urlHandlingStrategy.merge(Ae.urlAfterRedirects,Ae.rawUrl);this.setBrowserUrl(Ze,Ae)}this.browserUrlTree=Ae.urlAfterRedirects}const ze=new gj(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);r.next(ze)}));if(Y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ze,extractedUrl:Ze,source:at,restoredState:Ct,extras:gt}=d,Ut=new Zm(ze,this.serializeUrl(Ze),at,Ct);r.next(Ut);const Pt=f_(Ze,this.rootComponentType).snapshot;return Gn(So(Tn({},d),{targetSnapshot:Pt,urlAfterRedirects:Ze,extras:So(Tn({},gt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Ge}),dv(d=>{const{targetSnapshot:j,id:Y,extractedUrl:pe,rawUrl:Ae,extras:{skipLocationChange:ze,replaceUrl:Ze}}=d;return this.hooks.beforePreactivation(j,{navigationId:Y,appliedUrlTree:pe,rawUrlTree:Ae,skipLocationChange:!!ze,replaceUrl:!!Ze})}),Lo(d=>{const j=new mj(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(j)}),_e(d=>So(Tn({},d),{guards:OR(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function(e,t){return we(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=n;return 0===l.length&&0===s.length?Gn(So(Tn({},n),{guardsResult:!0})):function(e,t,n,r){return Jt(e).pipe(we(i=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Gn(s.map(d=>{const j=Fh(d,t,i);let Y;if(function(e){return e&&tl(e.canDeactivate)}(j))Y=Ks(j.canDeactivate(e,t,n,r));else{if(!tl(j))throw new Error("Invalid CanDeactivate guard");Y=Ks(j(e,t,n,r))}return Y.pipe(Yc())})).pipe(kd()):Gn(!0)}(i.component,i.route,n,t,r)),Yc(i=>!0!==i,!0))}(l,r,i,e).pipe(we(d=>d&&function(e){return"boolean"==typeof e}(d)?function(e,t,n,r){return Jt(t).pipe(Cd(i=>Ym(function(e,t){return null!==e&&t&&t(new wj(e)),Gn(!0)}(i.route.parent,r),function(e,t){return null!==e&&t&&t(new _j(e)),Gn(!0)}(i.route,r),function(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(l)).filter(l=>null!==l).map(l=>UC(()=>Gn(l.guards.map(j=>{const Y=Fh(j,l.node,n);let pe;if(function(e){return e&&tl(e.canActivateChild)}(Y))pe=Ks(Y.canActivateChild(r,e));else{if(!tl(Y))throw new Error("Invalid CanActivateChild guard");pe=Ks(Y(r,e))}return pe.pipe(Yc())})).pipe(kd())));return Gn(s).pipe(kd())}(e,i.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Gn(!0);const i=r.map(s=>UC(()=>{const l=Fh(s,t,n);let d;if(function(e){return e&&tl(e.canActivate)}(l))d=Ks(l.canActivate(t,e));else{if(!tl(l))throw new Error("Invalid CanActivate guard");d=Ks(l(t,e))}return d.pipe(Yc())}));return Gn(i).pipe(kd())}(e,i.route,n))),Yc(i=>!0!==i,!0))}(r,s,e,t):Gn(d)),_e(d=>So(Tn({},n),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),Lo(d=>{if(Hl(d.guardsResult)){const Y=Qm(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw Y.url=d.guardsResult,Y}const j=new vj(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(j)}),Gc(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),dv(d=>{if(d.guards.canActivateChecks.length)return Gn(d).pipe(Lo(j=>{const Y=new yj(j.id,this.serializeUrl(j.extractedUrl),this.serializeUrl(j.urlAfterRedirects),j.targetSnapshot);this.triggerEvent(Y)}),Vl(j=>{let Y=!1;return Gn(j).pipe(function(e,t){return we(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Gn(n);let s=0;return Jt(i).pipe(Cd(l=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return Gn({});const s={};return Jt(i).pipe(we(l=>function(e,t,n,r){const i=Fh(e,t,r);return Ks(i.resolve?i.resolve(t,n):i(t,n))}(e[l],t,n,r).pipe(Lo(d=>{s[l]=d}))),Km(1),we(()=>Object.keys(s).length===i.length?Gn(s):Ge))}(e._resolve,e,t,r).pipe(_e(s=>(e._resolvedData=s,e.data=Tn(Tn({},e.data),h_(e,n).resolve),null)))}(l.route,r,e,t)),Lo(()=>s++),Km(1),we(l=>s===i.length?Gn(n):Ge))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Lo({next:()=>Y=!0,complete:()=>{Y||(this.restoreHistory(j),this.cancelNavigationTransition(j,"At least one route resolver didn't emit any value."))}}))}),Lo(j=>{const Y=new bj(j.id,this.serializeUrl(j.extractedUrl),this.serializeUrl(j.urlAfterRedirects),j.targetSnapshot);this.triggerEvent(Y)}))}),dv(d=>{const{targetSnapshot:j,id:Y,extractedUrl:pe,rawUrl:Ae,extras:{skipLocationChange:ze,replaceUrl:Ze}}=d;return this.hooks.afterPreactivation(j,{navigationId:Y,appliedUrlTree:pe,rawUrlTree:Ae,skipLocationChange:!!ze,replaceUrl:!!Ze})}),_e(d=>{const j=function(e,t,n){const r=Ed(e,t._root,n?n._root:void 0);return new d_(r,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return So(Tn({},d),{targetRouterState:j})}),Lo(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((e,t,n)=>_e(r=>(new rR(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),Lo({next(){s=!0},complete(){s=!0}}),function(e){return Me((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>{var d;s||l||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(d=this.currentNavigation)?void 0:d.id)===i.id&&(this.currentNavigation=null)}),el(d=>{if(l=!0,function(e){return e&&e[ZC]}(d)){const j=Hl(d.url);j||(this.navigated=!0,this.restoreHistory(i,!0));const Y=new qC(i.id,this.serializeUrl(i.extractedUrl),d.message);r.next(Y),j?setTimeout(()=>{const pe=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),Ae={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vh(i.source)};this.scheduleNavigation(pe,"imperative",null,Ae,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const j=new pj(i.id,this.serializeUrl(i.extractedUrl),d);r.next(j);try{i.resolve(this.errorHandler(d))}catch(Y){i.reject(Y)}}return Ge}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Tn(Tn({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var d;const i={replaceUrl:!0},s=(null==(d=n.state)?void 0:d.navigationId)?n.state:null;if(s){const j=Tn({},s);delete j.navigationId,delete j.\u0275routerPageId,0!==Object.keys(j).length&&(i.state=j)}const l=this.parseUrl(n.url);this.scheduleNavigation(l,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){__(n),this.config=n.map(cv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:l,queryParamsHandling:d,preserveFragment:j}=r,Y=i||this.routerState.root,pe=j?this.currentUrlTree.fragment:l;let Ae=null;switch(d){case"merge":Ae=Tn(Tn({},this.currentUrlTree.queryParams),s);break;case"preserve":Ae=this.currentUrlTree.queryParams;break;default:Ae=s||null}return null!==Ae&&(Ae=this.removeEmptyProps(Ae)),function(e,t,n,r,i){if(0===n.length)return iv(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new v_(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Wi(s.outlets,(j,Y)=>{d[Y]="string"==typeof j?j.split("/"):j}),[...i,{outlets:d}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===l?(s.split("/").forEach((d,j)=>{0==j&&"."===d||(0==j&&""===d?n=!0:".."===d?t++:""!=d&&i.push(d))}),i):[...i,s]},[]);return new v_(n,t,r)}(n);if(s.toRoot())return iv(t.root,new ar([],{}),t,r,i);const l=function(e,t,n){if(e.isAbsolute)return new ov(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new ov(s,s===t.root,0)}const r=Mh(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ov(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),d=l.processChildren?Ah(l.segmentGroup,l.index,s.commands):y_(l.segmentGroup,l.index,s.commands);return iv(l.segmentGroup,d,t,r,i)}(Y,this.currentUrlTree,n,Ae,null!=pe?pe:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Hl(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Tn({},tN):!1===r?Tn({},nN):r,Hl(n))return t_(this.currentUrlTree,n,i);const s=this.parseUrl(n);return t_(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new _d(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,l){var Ut,Pt,an;if(this.disposed)return Promise.resolve(!1);const d=this.transitions.value,j=Vh(r)&&d&&!Vh(d.source),Y=d.rawUrl.toString()===n.toString(),pe=d.id===(null==(Ut=this.currentNavigation)?void 0:Ut.id);if(j&&Y&&pe)return Promise.resolve(!0);let ze,Ze,at;l?(ze=l.resolve,Ze=l.reject,at=l.promise):at=new Promise((hn,Hn)=>{ze=hn,Ze=Hn});const Ct=++this.navigationId;let gt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),gt=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!=(Pt=this.browserPageId)?Pt:0:(null!=(an=this.browserPageId)?an:0)+1):gt=0,this.setTransition({id:Ct,targetPageId:gt,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:ze,reject:Ze,promise:at,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),at.catch(hn=>Promise.reject(hn))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Tn(Tn({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===l?this.currentUrlTree===(null==(s=this.currentNavigation)?void 0:s.finalUrl)&&0===l&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new qC(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){sg()},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();function Vh(e){return"imperative"!==e}let Bh=(()=>{class e{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new ye,this.subscription=n.events.subscribe(s=>{s instanceof _d&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,l){if(0!==n||r||i||s||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:Xc(this.skipLocationChange),replaceUrl:Xc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xc(this.preserveFragment)})}}return e.\u0275fac=function(n){return new(n||e)(Cn(Fo),Cn(Qc),Cn(qc))},e.\u0275dir=cn({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Mf("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&tg("target",r.target)("href",r.href,dp)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ss]}),e})();function Xc(e){return""===e||!!e}class F_{}class V_{preload(t,n){return Gn(null)}}let B_=(()=>{class e{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new N_(i,r,j=>n.triggerEvent(new GC(j)),j=>n.triggerEvent(new YC(j)))}setUpPreloading(){this.subscription=this.router.events.pipe(Gc(n=>n instanceof _d),Cd(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Gs);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const l=s._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Jt(i).pipe(ee(),_e(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Gn(r._loadedConfig):this.loader.load(n.injector,r)).pipe(we(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(Yt(Fo),Yt(Kf),Yt(yr),Yt(F_))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})(),pv=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Zm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _d&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof KC&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new KC(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){sg()},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();const zl=new er("ROUTER_CONFIGURATION"),U_=new er("ROUTER_FORROOT_GUARD"),aN=[Om,{provide:o_,useClass:s_},{provide:Fo,useFactory:function(e,t,n,r,i,s,l={},d,j){const Y=new Fo(null,e,t,n,r,i,XC(s));return d&&(Y.urlHandlingStrategy=d),j&&(Y.routeReuseStrategy=j),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(l,Y),l.enableTracing&&Y.events.subscribe(pe=>{var Ae,ze;null==(Ae=console.group)||Ae.call(console,`Router Event: ${pe.constructor.name}`),console.log(pe.toString()),console.log(pe),null==(ze=console.groupEnd)||ze.call(console)}),Y},deps:[o_,Td,Om,yr,Kf,fv,zl,[class{},new Un],[class{},new Un]]},Td,{provide:Qc,useFactory:function(e){return e.routerState.root},deps:[Fo]},B_,V_,class{preload(t,n){return n().pipe(el(()=>Gn(null)))}},{provide:zl,useValue:{enableTracing:!1}}];function lN(){return new qg("Router",Fo)}let H_=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[aN,z_(n),{provide:U_,useFactory:dN,deps:[[Fo,new Un,new Ti]]},{provide:zl,useValue:r||{}},{provide:qc,useFactory:uN,deps:[Fl,[new jr(xm),new Un],zl]},{provide:pv,useFactory:cN,deps:[Fo,Z2,zl]},{provide:F_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:V_},{provide:qg,multi:!0,useFactory:lN},[gv,{provide:nd,multi:!0,useFactory:gN,deps:[gv]},{provide:$_,useFactory:mN,deps:[gv]},{provide:Jw,multi:!0,useExisting:$_}]]}}static forChild(n){return{ngModule:e,providers:[z_(n)]}}}return e.\u0275fac=function(n){return new(n||e)(Yt(U_,8),Yt(Fo,8))},e.\u0275mod=Dt({type:e}),e.\u0275inj=Zn({}),e})();function cN(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new pv(e,t,n)}function uN(e,t,n={}){return n.useHash?new DA(e,t):new fC(e,t)}function dN(e){return"guarded"}function z_(e){return[{provide:af,multi:!0,useValue:e},{provide:fv,multi:!0,useValue:e}]}let gv=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ye}appInitializer(){return this.injector.get(OA,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(d=>r=d),s=this.injector.get(Fo),l=this.injector.get(zl);return"disabled"===l.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Gn(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(zl),i=this.injector.get(B_),s=this.injector.get(pv),l=this.injector.get(Fo),d=this.injector.get(Vc);n===d.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),i.setUpPreloading(),s.init(),l.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(Yt(yr))},e.\u0275prov=In({token:e,factory:e.\u0275fac}),e})();function gN(e){return e.appInitializer.bind(e)}function mN(e){return e.bootstrapListener.bind(e)}const $_=new er("Router Initializer");let yN=(()=>{class e{constructor(){this.title="websiteBuilder"}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-home"]],decls:40,vars:1,consts:[["role","banner",1,"toolbar"],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/angular","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/angular","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(141 696)","fill","#dd0031"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["id","Path_33","data-name","Path 33","d","M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z","transform","translate(0.371 3.363)","fill","#fff"],["id","Path_34","data-name","Path 34","d","M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z","transform","translate(0 0.005)","fill","#fff"],["id","rocket-smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],["rel","noopener","routerLink","/wb",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,r){1&n&&(Wr(0,"div",0),Wr(1,"span"),Ya(2,"Welcome"),qr(),go(3,"div",1),Wr(4,"a",2),As(),Wr(5,"svg",3),go(6,"rect",4),go(7,"path",5),qr(),qr(),$o(),Wr(8,"a",6),As(),Wr(9,"svg",7),go(10,"path",8),go(11,"path",9),qr(),qr(),qr(),$o(),Wr(12,"div",10),Wr(13,"div",11),As(),Wr(14,"svg",12),Wr(15,"title"),Ya(16,"Rocket Ship"),qr(),Wr(17,"g",13),go(18,"circle",14),Wr(19,"g",15),go(20,"path",16),go(21,"path",17),qr(),qr(),qr(),$o(),Wr(22,"span"),Ya(23),qr(),As(),Wr(24,"svg",18),Wr(25,"title"),Ya(26,"Rocket Ship Smoke"),qr(),go(27,"path",19),qr(),qr(),$o(),Wr(28,"h2"),Ya(29,"GrapesJS"),qr(),Wr(30,"p"),Ya(31,"build your own website quickly:"),qr(),Wr(32,"div",20),Wr(33,"a",21),As(),Wr(34,"svg",22),go(35,"path",23),qr(),$o(),Wr(36,"span"),Ya(37,"Build Your Website"),qr(),As(),Wr(38,"svg",22),go(39,"path",24),qr(),qr(),qr(),qr()),2&n&&(function(e){wy(Jn(),qt(),si()+e,ia())}(23),If("",r.title," app is running!"))},directives:[Bh],styles:["",'[_nghost-%COMP%] {\n      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n      font-size: 14px;\n      color: #333;\n      box-sizing: border-box;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n    }\n  \n    h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n      margin: 8px 0;\n    }\n  \n    p[_ngcontent-%COMP%] {\n      margin: 0;\n    }\n  \n    .spacer[_ngcontent-%COMP%] {\n      flex: 1;\n    }\n  \n    .toolbar[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      height: 60px;\n      display: flex;\n      align-items: center;\n      background-color: #1976d2;\n      color: white;\n      font-weight: 600;\n      padding-left: 20px;\n    }\n  \n    .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n      margin: 0 16px;\n    }\n  \n    .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n      height: 40px;\n      margin: 0 8px;\n    }\n  \n    .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n      height: 40px;\n      margin: 0 16px;\n    }\n  \n    .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n      opacity: 0.8;\n    }\n  \n    .content[_ngcontent-%COMP%] {\n      display: flex;\n      margin: 82px auto 32px;\n      padding: 0 16px;\n      max-width: 960px;\n      flex-direction: column;\n      align-items: center;\n    }\n  \n    svg.material-icons[_ngcontent-%COMP%] {\n      height: 24px;\n      width: auto;\n    }\n  \n    svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n      margin-right: 8px;\n    }\n  \n    .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n      fill: #888;\n    }\n  \n    .card-container[_ngcontent-%COMP%] {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: center;\n      margin-top: 16px;\n    }\n  \n    .card[_ngcontent-%COMP%] {\n      all: unset;\n      border-radius: 4px;\n      border: 1px solid #eee;\n      background-color: #fafafa;\n      height: 40px;\n      width: 200px;\n      margin: 0 8px 16px;\n      padding: 16px;\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      align-items: center;\n      transition: all 0.2s ease-in-out;\n      line-height: 24px;\n    }\n  \n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n      margin-right: 0;\n    }\n  \n    .card.card-small[_ngcontent-%COMP%] {\n      height: 16px;\n      width: 168px;\n    }\n  \n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      cursor: pointer;\n    }\n  \n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n      transform: translateY(-3px);\n      box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n    }\n  \n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n      fill: rgb(105, 103, 103);\n    }\n  \n    .card.highlight-card[_ngcontent-%COMP%] {\n      background-color: #1976d2;\n      color: white;\n      font-weight: 600;\n      border: none;\n      width: auto;\n      min-width: 30%;\n      position: relative;\n    }\n  \n    .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 60px;\n    }\n  \n    svg#rocket[_ngcontent-%COMP%] {\n      width: 80px;\n      position: absolute;\n      left: -10px;\n      top: -24px;\n    }\n  \n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      height: calc(100vh - 95px);\n      position: absolute;\n      top: 10px;\n      right: 180px;\n      z-index: -10;\n    }\n  \n    a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n      color: #1976d2;\n      text-decoration: none;\n    }\n  \n    a[_ngcontent-%COMP%]:hover {\n      color: #125699;\n    }\n  \n    .terminal[_ngcontent-%COMP%] {\n      position: relative;\n      width: 80%;\n      max-width: 600px;\n      border-radius: 6px;\n      padding-top: 45px;\n      margin-top: 8px;\n      overflow: hidden;\n      background-color: rgb(15, 15, 16);\n    }\n  \n    .terminal[_ngcontent-%COMP%]::before {\n      content: "\\2022 \\2022 \\2022";\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 4px;\n      background: rgb(58, 58, 58);\n      color: #c2c3c4;\n      width: 100%;\n      font-size: 2rem;\n      line-height: 0;\n      padding: 14px 0;\n      text-indent: 4px;\n    }\n  \n    .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n      font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n      color: white;\n      padding: 0 1rem 1rem;\n      margin: 0;\n    }\n  \n    .circle-link[_ngcontent-%COMP%] {\n      height: 40px;\n      width: 40px;\n      border-radius: 40px;\n      margin: 8px;\n      background-color: white;\n      border: 1px solid #eeeeee;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n      transition: 1s ease-out;\n    }\n  \n    .circle-link[_ngcontent-%COMP%]:hover {\n      transform: translateY(-0.25rem);\n      box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n    }\n  \n    footer[_ngcontent-%COMP%] {\n      margin-top: 8px;\n      display: flex;\n      align-items: center;\n      line-height: 20px;\n    }\n  \n    footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      display: flex;\n      align-items: center;\n    }\n  \n    .github-star-badge[_ngcontent-%COMP%] {\n      color: #24292e;\n      display: flex;\n      align-items: center;\n      font-size: 12px;\n      padding: 3px 10px;\n      border: 1px solid rgba(27,31,35,.2);\n      border-radius: 3px;\n      background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n      margin-left: 4px;\n      font-weight: 600;\n    }\n  \n    .github-star-badge[_ngcontent-%COMP%]:hover {\n      background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n      border-color: rgba(27,31,35,.35);\n      background-position: -.5em;\n    }\n  \n    .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n      height: 16px;\n      width: 16px;\n      margin-right: 4px;\n    }\n  \n    svg#clouds[_ngcontent-%COMP%] {\n      position: fixed;\n      bottom: -160px;\n      left: -230px;\n      z-index: -10;\n      width: 1920px;\n    }\n  \n    \n    @media screen and (max-width: 767px) {\n      .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n        width: 100%;\n      }\n  \n      .card[_ngcontent-%COMP%]:not(.highlight-card) {\n        height: 16px;\n        margin: 8px 0;\n      }\n  \n      .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n        margin-left: 72px;\n      }\n  \n      svg#rocket-smoke[_ngcontent-%COMP%] {\n        right: 120px;\n        transform: rotate(-5deg);\n      }\n    }\n  \n    @media screen and (max-width: 575px) {\n      svg#rocket-smoke[_ngcontent-%COMP%] {\n        display: none;\n        visibility: hidden;\n      }\n    }']}),e})();var bN=ve(668),wN=ve.n(bN);ve(388);const CN=[{path:"",component:yN},{path:"wb",component:(()=>{class e{constructor(){}get editor(){return this._editor}ngOnInit(){this._editor=this.initializeEditor(),this.editor.on("asset:add",()=>{console.log("Asset add fired")})}initializeEditor(){return console.dir(window),wN().init({container:"#gjs",autorender:!0,forceClass:!1,components:"",style:"",plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{navbarOpts:!1,countdownOpts:!1,formsOpts:!1,blocksBasicOpts:{blocks:["link-block","quote","image","video","text","column1","column2","column3"],flexGrid:!1,stylePrefix:"lala-"}}},assetManager:{uploadText:"Add image through link or upload image",modalTitle:"Select Image",openAssetsOnDrop:1,inputPlaceholder:"http://url/to/the/image.jpg",addBtnText:"Add image",uploadFile:n=>{},handleAdd:n=>{this.editor.AssetManager.add(n)}},canvas:{styles:["https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css","https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"],scripts:["https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"]}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-wb"]],decls:1,vars:0,consts:[["id","gjs"]],template:function(n,r){1&n&&go(0,"div",0)},styles:[""]}),e})()}];let _N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=Zn({imports:[[H_.forRoot(CN)],H_]}),e})(),xN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&go(0,"router-outlet")},directives:[lv],styles:[""]}),e})(),ON=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dt({type:e,bootstrap:[xN]}),e.\u0275inj=Zn({providers:[],imports:[[UI,_N]]}),e})();(function(){if(a1)throw new Error("Cannot enable prod mode after platform setup.");s1=!1})(),VI().bootstrapModule(ON).catch(e=>console.error(e))}},Ii=>{Ii(Ii.s=780)}]);