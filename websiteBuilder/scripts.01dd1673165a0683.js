!function(Ye,le){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=Ye.document?le(Ye,!0):function(o){if(!o.document)throw new Error("jQuery requires a window with a document");return le(o)}:le(Ye)}("undefined"!=typeof window?window:this,function(Ye,le){"use strict";var o=[],ee=Object.getPrototypeOf,se=o.slice,J=o.flat?function(c){return o.flat.call(c)}:function(c){return o.concat.apply([],c)},U=o.push,L=o.indexOf,k={},f=k.toString,g=k.hasOwnProperty,h=g.toString,y=h.call(Object),d={},P=function(c){return"function"==typeof c&&"number"!=typeof c.nodeType&&"function"!=typeof c.item},O=function(c){return null!=c&&c===c.window},v=Ye.document,D={type:!0,src:!0,nonce:!0,noModule:!0};function I(c,M,Y){var te,xe,Be=(Y=Y||v).createElement("script");if(Be.text=c,M)for(te in D)(xe=M[te]||M.getAttribute&&M.getAttribute(te))&&Be.setAttribute(te,xe);Y.head.appendChild(Be).parentNode.removeChild(Be)}function T(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?k[f.call(c)]||"object":typeof c}var S="3.6.0",r=function(c,M){return new r.fn.init(c,M)};function _(c){var M=!!c&&"length"in c&&c.length,Y=T(c);return!P(c)&&!O(c)&&("array"===Y||0===M||"number"==typeof M&&0<M&&M-1 in c)}r.fn=r.prototype={jquery:S,constructor:r,length:0,toArray:function(){return se.call(this)},get:function(c){return null==c?se.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var M=r.merge(this.constructor(),c);return M.prevObject=this,M},each:function(c){return r.each(this,c)},map:function(c){return this.pushStack(r.map(this,function(M,Y){return c.call(M,Y,M)}))},slice:function(){return this.pushStack(se.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(r.grep(this,function(c,M){return(M+1)%2}))},odd:function(){return this.pushStack(r.grep(this,function(c,M){return M%2}))},eq:function(c){var M=this.length,Y=+c+(c<0?M:0);return this.pushStack(0<=Y&&Y<M?[this[Y]]:[])},end:function(){return this.prevObject||this.constructor()},push:U,sort:o.sort,splice:o.splice},r.extend=r.fn.extend=function(){var c,M,Y,te,xe,Be,He=arguments[0]||{},tt=1,ot=arguments.length,dt=!1;for("boolean"==typeof He&&(dt=He,He=arguments[tt]||{},tt++),"object"==typeof He||P(He)||(He={}),tt===ot&&(He=this,tt--);tt<ot;tt++)if(null!=(c=arguments[tt]))for(M in c)te=c[M],"__proto__"!==M&&He!==te&&(dt&&te&&(r.isPlainObject(te)||(xe=Array.isArray(te)))?(Y=He[M],Be=xe&&!Array.isArray(Y)?[]:xe||r.isPlainObject(Y)?Y:{},xe=!1,He[M]=r.extend(dt,Be,te)):void 0!==te&&(He[M]=te));return He},r.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var M,Y;return!(!c||"[object Object]"!==f.call(c)||(M=ee(c))&&("function"!=typeof(Y=g.call(M,"constructor")&&M.constructor)||h.call(Y)!==y))},isEmptyObject:function(c){var M;for(M in c)return!1;return!0},globalEval:function(c,M,Y){I(c,{nonce:M&&M.nonce},Y)},each:function(c,M){var Y,te=0;if(_(c))for(Y=c.length;te<Y&&!1!==M.call(c[te],te,c[te]);te++);else for(te in c)if(!1===M.call(c[te],te,c[te]))break;return c},makeArray:function(c,M){var Y=M||[];return null!=c&&(_(Object(c))?r.merge(Y,"string"==typeof c?[c]:c):U.call(Y,c)),Y},inArray:function(c,M,Y){return null==M?-1:L.call(M,c,Y)},merge:function(c,M){for(var Y=+M.length,te=0,xe=c.length;te<Y;te++)c[xe++]=M[te];return c.length=xe,c},grep:function(c,M,Y){for(var te=[],xe=0,Be=c.length,He=!Y;xe<Be;xe++)!M(c[xe],xe)!==He&&te.push(c[xe]);return te},map:function(c,M,Y){var te,xe,Be=0,He=[];if(_(c))for(te=c.length;Be<te;Be++)null!=(xe=M(c[Be],Be,Y))&&He.push(xe);else for(Be in c)null!=(xe=M(c[Be],Be,Y))&&He.push(xe);return J(He)},guid:1,support:d}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=o[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,M){k["[object "+M+"]"]=M.toLowerCase()});var E=function(c){var M,Y,te,xe,Be,He,tt,ot,dt,jt,Ht,_t,Et,en,sn,Xt,nr,lr,cr,Un="sizzle"+1*new Date,wn=c.document,Or=0,Dn=0,Qn=Xi(),wi=Xi(),Ai=Xi(),Tr=Xi(),xi=function(Ve,it){return Ve===it&&(Ht=!0),0},Se={}.hasOwnProperty,ze=[],Xe=ze.pop,et=ze.push,pt=ze.push,lt=ze.slice,Ct=function(Ve,it){for(var yt=0,Bt=Ve.length;yt<Bt;yt++)if(Ve[yt]===it)return yt;return-1},It="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Zt="[\\x20\\t\\r\\n\\f]",rn="(?:\\\\[\\da-fA-F]{1,6}"+Zt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",xn="\\["+Zt+"*("+rn+")(?:"+Zt+"*([*^$|!~]?=)"+Zt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rn+"))|)"+Zt+"*\\]",Bn=":("+rn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+xn+")*)|.*)\\)|)",Mn=new RegExp(Zt+"+","g"),er=new RegExp("^"+Zt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Zt+"+$","g"),kr=new RegExp("^"+Zt+"*,"+Zt+"*"),gi=new RegExp("^"+Zt+"*([>+~]|"+Zt+")"+Zt+"*"),Yi=new RegExp(Zt+"|>"),Lo=new RegExp(Bn),No=new RegExp("^"+rn+"$"),_i={ID:new RegExp("^#("+rn+")"),CLASS:new RegExp("^\\.("+rn+")"),TAG:new RegExp("^("+rn+"|[*])"),ATTR:new RegExp("^"+xn),PSEUDO:new RegExp("^"+Bn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Zt+"*(even|odd|(([+-]|)(\\d*)n|)"+Zt+"*(?:([+-]|)"+Zt+"*(\\d+)|))"+Zt+"*\\)|)","i"),bool:new RegExp("^(?:"+It+")$","i"),needsContext:new RegExp("^"+Zt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Zt+"*((?:-\\d)?\\d*)"+Zt+"*\\)|)(?=[^-]|$)","i")},Ro=/HTML$/i,Io=/^(?:input|select|textarea|button)$/i,co=/^h\d$/i,ji=/^[^{]+\{\s*\[native \w/,Fo=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fi=/[+~]/,Cr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Zt+"?|\\\\([^\\r\\n\\f])","g"),mi=function(Ve,it){var yt="0x"+Ve.slice(1)-65536;return it||(yt<0?String.fromCharCode(yt+65536):String.fromCharCode(yt>>10|55296,1023&yt|56320))},Ki=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Zi=function(Ve,it){return it?"\0"===Ve?"\ufffd":Ve.slice(0,-1)+"\\"+Ve.charCodeAt(Ve.length-1).toString(16)+" ":"\\"+Ve},uo=function(){_t()},Bo=ui(function(Ve){return!0===Ve.disabled&&"fieldset"===Ve.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{pt.apply(ze=lt.call(wn.childNodes),wn.childNodes)}catch(Ve){pt={apply:ze.length?function(it,yt){et.apply(it,lt.call(yt))}:function(it,yt){for(var Bt=it.length,xt=0;it[Bt++]=yt[xt++];);it.length=Bt-1}}}function Kn(Ve,it,yt,Bt){var xt,$t,Gt,Qt,on,yn,mn,vn=it&&it.ownerDocument,Ln=it?it.nodeType:9;if(yt=yt||[],"string"!=typeof Ve||!Ve||1!==Ln&&9!==Ln&&11!==Ln)return yt;if(!Bt&&(_t(it),it=it||Et,sn)){if(11!==Ln&&(on=Fo.exec(Ve)))if(xt=on[1]){if(9===Ln){if(!(Gt=it.getElementById(xt)))return yt;if(Gt.id===xt)return yt.push(Gt),yt}else if(vn&&(Gt=vn.getElementById(xt))&&cr(it,Gt)&&Gt.id===xt)return yt.push(Gt),yt}else{if(on[2])return pt.apply(yt,it.getElementsByTagName(Ve)),yt;if((xt=on[3])&&Y.getElementsByClassName&&it.getElementsByClassName)return pt.apply(yt,it.getElementsByClassName(xt)),yt}if(Y.qsa&&!Tr[Ve+" "]&&(!Xt||!Xt.test(Ve))&&(1!==Ln||"object"!==it.nodeName.toLowerCase())){if(mn=Ve,vn=it,1===Ln&&(Yi.test(Ve)||gi.test(Ve))){for((vn=Fi.test(Ve)&&ki(it.parentNode)||it)===it&&Y.scope||((Qt=it.getAttribute("id"))?Qt=Qt.replace(Ki,Zi):it.setAttribute("id",Qt=Un)),$t=(yn=He(Ve)).length;$t--;)yn[$t]=(Qt?"#"+Qt:":scope")+" "+Er(yn[$t]);mn=yn.join(",")}try{return pt.apply(yt,vn.querySelectorAll(mn)),yt}catch(ur){Tr(Ve,!0)}finally{Qt===Un&&it.removeAttribute("id")}}}return ot(Ve.replace(er,"$1"),it,yt,Bt)}function Xi(){var Ve=[];return function it(yt,Bt){return Ve.push(yt+" ")>te.cacheLength&&delete it[Ve.shift()],it[yt+" "]=Bt}}function li(Ve){return Ve[Un]=!0,Ve}function ci(Ve){var it=Et.createElement("fieldset");try{return!!Ve(it)}catch(yt){return!1}finally{it.parentNode&&it.parentNode.removeChild(it),it=null}}function Ti(Ve,it){for(var yt=Ve.split("|"),Bt=yt.length;Bt--;)te.attrHandle[yt[Bt]]=it}function Di(Ve,it){var yt=it&&Ve,Bt=yt&&1===Ve.nodeType&&1===it.nodeType&&Ve.sourceIndex-it.sourceIndex;if(Bt)return Bt;if(yt)for(;yt=yt.nextSibling;)if(yt===it)return-1;return Ve?1:-1}function fo(Ve){return function(it){return"input"===it.nodeName.toLowerCase()&&it.type===Ve}}function ho(Ve){return function(it){var yt=it.nodeName.toLowerCase();return("input"===yt||"button"===yt)&&it.type===Ve}}function po(Ve){return function(it){return"form"in it?it.parentNode&&!1===it.disabled?"label"in it?"label"in it.parentNode?it.parentNode.disabled===Ve:it.disabled===Ve:it.isDisabled===Ve||it.isDisabled!==!Ve&&Bo(it)===Ve:it.disabled===Ve:"label"in it&&it.disabled===Ve}}function Oi(Ve){return li(function(it){return it=+it,li(function(yt,Bt){for(var xt,$t=Ve([],yt.length,it),Gt=$t.length;Gt--;)yt[xt=$t[Gt]]&&(yt[xt]=!(Bt[xt]=yt[xt]))})})}function ki(Ve){return Ve&&void 0!==Ve.getElementsByTagName&&Ve}for(M in Y=Kn.support={},Be=Kn.isXML=function(Ve){var yt=Ve&&(Ve.ownerDocument||Ve).documentElement;return!Ro.test(Ve&&Ve.namespaceURI||yt&&yt.nodeName||"HTML")},_t=Kn.setDocument=function(Ve){var it,yt,Bt=Ve?Ve.ownerDocument||Ve:wn;return Bt!=Et&&9===Bt.nodeType&&Bt.documentElement&&(en=(Et=Bt).documentElement,sn=!Be(Et),wn!=Et&&(yt=Et.defaultView)&&yt.top!==yt&&(yt.addEventListener?yt.addEventListener("unload",uo,!1):yt.attachEvent&&yt.attachEvent("onunload",uo)),Y.scope=ci(function(xt){return en.appendChild(xt).appendChild(Et.createElement("div")),void 0!==xt.querySelectorAll&&!xt.querySelectorAll(":scope fieldset div").length}),Y.attributes=ci(function(xt){return xt.className="i",!xt.getAttribute("className")}),Y.getElementsByTagName=ci(function(xt){return xt.appendChild(Et.createComment("")),!xt.getElementsByTagName("*").length}),Y.getElementsByClassName=ji.test(Et.getElementsByClassName),Y.getById=ci(function(xt){return en.appendChild(xt).id=Un,!Et.getElementsByName||!Et.getElementsByName(Un).length}),Y.getById?(te.filter.ID=function(xt){var $t=xt.replace(Cr,mi);return function(Gt){return Gt.getAttribute("id")===$t}},te.find.ID=function(xt,$t){if(void 0!==$t.getElementById&&sn){var Gt=$t.getElementById(xt);return Gt?[Gt]:[]}}):(te.filter.ID=function(xt){var $t=xt.replace(Cr,mi);return function(Gt){var Qt=void 0!==Gt.getAttributeNode&&Gt.getAttributeNode("id");return Qt&&Qt.value===$t}},te.find.ID=function(xt,$t){if(void 0!==$t.getElementById&&sn){var Gt,Qt,on,yn=$t.getElementById(xt);if(yn){if((Gt=yn.getAttributeNode("id"))&&Gt.value===xt)return[yn];for(on=$t.getElementsByName(xt),Qt=0;yn=on[Qt++];)if((Gt=yn.getAttributeNode("id"))&&Gt.value===xt)return[yn]}return[]}}),te.find.TAG=Y.getElementsByTagName?function(xt,$t){return void 0!==$t.getElementsByTagName?$t.getElementsByTagName(xt):Y.qsa?$t.querySelectorAll(xt):void 0}:function(xt,$t){var Gt,Qt=[],on=0,yn=$t.getElementsByTagName(xt);if("*"===xt){for(;Gt=yn[on++];)1===Gt.nodeType&&Qt.push(Gt);return Qt}return yn},te.find.CLASS=Y.getElementsByClassName&&function(xt,$t){if(void 0!==$t.getElementsByClassName&&sn)return $t.getElementsByClassName(xt)},nr=[],Xt=[],(Y.qsa=ji.test(Et.querySelectorAll))&&(ci(function(xt){var $t;en.appendChild(xt).innerHTML="<a id='"+Un+"'></a><select id='"+Un+"-\r\\' msallowcapture=''><option selected=''></option></select>",xt.querySelectorAll("[msallowcapture^='']").length&&Xt.push("[*^$]="+Zt+"*(?:''|\"\")"),xt.querySelectorAll("[selected]").length||Xt.push("\\["+Zt+"*(?:value|"+It+")"),xt.querySelectorAll("[id~="+Un+"-]").length||Xt.push("~="),($t=Et.createElement("input")).setAttribute("name",""),xt.appendChild($t),xt.querySelectorAll("[name='']").length||Xt.push("\\["+Zt+"*name"+Zt+"*="+Zt+"*(?:''|\"\")"),xt.querySelectorAll(":checked").length||Xt.push(":checked"),xt.querySelectorAll("a#"+Un+"+*").length||Xt.push(".#.+[+~]"),xt.querySelectorAll("\\\f"),Xt.push("[\\r\\n\\f]")}),ci(function(xt){xt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var $t=Et.createElement("input");$t.setAttribute("type","hidden"),xt.appendChild($t).setAttribute("name","D"),xt.querySelectorAll("[name=d]").length&&Xt.push("name"+Zt+"*[*^$|!~]?="),2!==xt.querySelectorAll(":enabled").length&&Xt.push(":enabled",":disabled"),en.appendChild(xt).disabled=!0,2!==xt.querySelectorAll(":disabled").length&&Xt.push(":enabled",":disabled"),xt.querySelectorAll("*,:x"),Xt.push(",.*:")})),(Y.matchesSelector=ji.test(lr=en.matches||en.webkitMatchesSelector||en.mozMatchesSelector||en.oMatchesSelector||en.msMatchesSelector))&&ci(function(xt){Y.disconnectedMatch=lr.call(xt,"*"),lr.call(xt,"[s!='']:x"),nr.push("!=",Bn)}),Xt=Xt.length&&new RegExp(Xt.join("|")),nr=nr.length&&new RegExp(nr.join("|")),it=ji.test(en.compareDocumentPosition),cr=it||ji.test(en.contains)?function(xt,$t){var Gt=9===xt.nodeType?xt.documentElement:xt,Qt=$t&&$t.parentNode;return xt===Qt||!(!Qt||1!==Qt.nodeType||!(Gt.contains?Gt.contains(Qt):xt.compareDocumentPosition&&16&xt.compareDocumentPosition(Qt)))}:function(xt,$t){if($t)for(;$t=$t.parentNode;)if($t===xt)return!0;return!1},xi=it?function(xt,$t){if(xt===$t)return Ht=!0,0;var Gt=!xt.compareDocumentPosition-!$t.compareDocumentPosition;return Gt||(1&(Gt=(xt.ownerDocument||xt)==($t.ownerDocument||$t)?xt.compareDocumentPosition($t):1)||!Y.sortDetached&&$t.compareDocumentPosition(xt)===Gt?xt==Et||xt.ownerDocument==wn&&cr(wn,xt)?-1:$t==Et||$t.ownerDocument==wn&&cr(wn,$t)?1:jt?Ct(jt,xt)-Ct(jt,$t):0:4&Gt?-1:1)}:function(xt,$t){if(xt===$t)return Ht=!0,0;var Gt,Qt=0,on=xt.parentNode,yn=$t.parentNode,mn=[xt],vn=[$t];if(!on||!yn)return xt==Et?-1:$t==Et?1:on?-1:yn?1:jt?Ct(jt,xt)-Ct(jt,$t):0;if(on===yn)return Di(xt,$t);for(Gt=xt;Gt=Gt.parentNode;)mn.unshift(Gt);for(Gt=$t;Gt=Gt.parentNode;)vn.unshift(Gt);for(;mn[Qt]===vn[Qt];)Qt++;return Qt?Di(mn[Qt],vn[Qt]):mn[Qt]==wn?-1:vn[Qt]==wn?1:0}),Et},Kn.matches=function(Ve,it){return Kn(Ve,null,null,it)},Kn.matchesSelector=function(Ve,it){if(_t(Ve),Y.matchesSelector&&sn&&!Tr[it+" "]&&(!nr||!nr.test(it))&&(!Xt||!Xt.test(it)))try{var yt=lr.call(Ve,it);if(yt||Y.disconnectedMatch||Ve.document&&11!==Ve.document.nodeType)return yt}catch(Bt){Tr(it,!0)}return 0<Kn(it,Et,null,[Ve]).length},Kn.contains=function(Ve,it){return(Ve.ownerDocument||Ve)!=Et&&_t(Ve),cr(Ve,it)},Kn.attr=function(Ve,it){(Ve.ownerDocument||Ve)!=Et&&_t(Ve);var yt=te.attrHandle[it.toLowerCase()],Bt=yt&&Se.call(te.attrHandle,it.toLowerCase())?yt(Ve,it,!sn):void 0;return void 0!==Bt?Bt:Y.attributes||!sn?Ve.getAttribute(it):(Bt=Ve.getAttributeNode(it))&&Bt.specified?Bt.value:null},Kn.escape=function(Ve){return(Ve+"").replace(Ki,Zi)},Kn.error=function(Ve){throw new Error("Syntax error, unrecognized expression: "+Ve)},Kn.uniqueSort=function(Ve){var it,yt=[],Bt=0,xt=0;if(Ht=!Y.detectDuplicates,jt=!Y.sortStable&&Ve.slice(0),Ve.sort(xi),Ht){for(;it=Ve[xt++];)it===Ve[xt]&&(Bt=yt.push(xt));for(;Bt--;)Ve.splice(yt[Bt],1)}return jt=null,Ve},xe=Kn.getText=function(Ve){var it,yt="",Bt=0,xt=Ve.nodeType;if(xt){if(1===xt||9===xt||11===xt){if("string"==typeof Ve.textContent)return Ve.textContent;for(Ve=Ve.firstChild;Ve;Ve=Ve.nextSibling)yt+=xe(Ve)}else if(3===xt||4===xt)return Ve.nodeValue}else for(;it=Ve[Bt++];)yt+=xe(it);return yt},(te=Kn.selectors={cacheLength:50,createPseudo:li,match:_i,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ve){return Ve[1]=Ve[1].replace(Cr,mi),Ve[3]=(Ve[3]||Ve[4]||Ve[5]||"").replace(Cr,mi),"~="===Ve[2]&&(Ve[3]=" "+Ve[3]+" "),Ve.slice(0,4)},CHILD:function(Ve){return Ve[1]=Ve[1].toLowerCase(),"nth"===Ve[1].slice(0,3)?(Ve[3]||Kn.error(Ve[0]),Ve[4]=+(Ve[4]?Ve[5]+(Ve[6]||1):2*("even"===Ve[3]||"odd"===Ve[3])),Ve[5]=+(Ve[7]+Ve[8]||"odd"===Ve[3])):Ve[3]&&Kn.error(Ve[0]),Ve},PSEUDO:function(Ve){var it,yt=!Ve[6]&&Ve[2];return _i.CHILD.test(Ve[0])?null:(Ve[3]?Ve[2]=Ve[4]||Ve[5]||"":yt&&Lo.test(yt)&&(it=He(yt,!0))&&(it=yt.indexOf(")",yt.length-it)-yt.length)&&(Ve[0]=Ve[0].slice(0,it),Ve[2]=yt.slice(0,it)),Ve.slice(0,3))}},filter:{TAG:function(Ve){var it=Ve.replace(Cr,mi).toLowerCase();return"*"===Ve?function(){return!0}:function(yt){return yt.nodeName&&yt.nodeName.toLowerCase()===it}},CLASS:function(Ve){var it=Qn[Ve+" "];return it||(it=new RegExp("(^|"+Zt+")"+Ve+"("+Zt+"|$)"))&&Qn(Ve,function(yt){return it.test("string"==typeof yt.className&&yt.className||void 0!==yt.getAttribute&&yt.getAttribute("class")||"")})},ATTR:function(Ve,it,yt){return function(Bt){var xt=Kn.attr(Bt,Ve);return null==xt?"!="===it:!it||(xt+="","="===it?xt===yt:"!="===it?xt!==yt:"^="===it?yt&&0===xt.indexOf(yt):"*="===it?yt&&-1<xt.indexOf(yt):"$="===it?yt&&xt.slice(-yt.length)===yt:"~="===it?-1<(" "+xt.replace(Mn," ")+" ").indexOf(yt):"|="===it&&(xt===yt||xt.slice(0,yt.length+1)===yt+"-"))}},CHILD:function(Ve,it,yt,Bt,xt){var $t="nth"!==Ve.slice(0,3),Gt="last"!==Ve.slice(-4),Qt="of-type"===it;return 1===Bt&&0===xt?function(on){return!!on.parentNode}:function(on,yn,mn){var vn,Ln,ur,On,fr,gr,Wr=$t!==Gt?"nextSibling":"previousSibling",Wn=on.parentNode,fi=Qt&&on.nodeName.toLowerCase(),hr=!mn&&!Qt,ir=!1;if(Wn){if($t){for(;Wr;){for(On=on;On=On[Wr];)if(Qt?On.nodeName.toLowerCase()===fi:1===On.nodeType)return!1;gr=Wr="only"===Ve&&!gr&&"nextSibling"}return!0}if(gr=[Gt?Wn.firstChild:Wn.lastChild],Gt&&hr){for(ir=(fr=(vn=(Ln=(ur=(On=Wn)[Un]||(On[Un]={}))[On.uniqueID]||(ur[On.uniqueID]={}))[Ve]||[])[0]===Or&&vn[1])&&vn[2],On=fr&&Wn.childNodes[fr];On=++fr&&On&&On[Wr]||(ir=fr=0)||gr.pop();)if(1===On.nodeType&&++ir&&On===on){Ln[Ve]=[Or,fr,ir];break}}else if(hr&&(ir=fr=(vn=(Ln=(ur=(On=on)[Un]||(On[Un]={}))[On.uniqueID]||(ur[On.uniqueID]={}))[Ve]||[])[0]===Or&&vn[1]),!1===ir)for(;(On=++fr&&On&&On[Wr]||(ir=fr=0)||gr.pop())&&((Qt?On.nodeName.toLowerCase()!==fi:1!==On.nodeType)||!++ir||(hr&&((Ln=(ur=On[Un]||(On[Un]={}))[On.uniqueID]||(ur[On.uniqueID]={}))[Ve]=[Or,ir]),On!==on)););return(ir-=xt)===Bt||ir%Bt==0&&0<=ir/Bt}}},PSEUDO:function(Ve,it){var yt,Bt=te.pseudos[Ve]||te.setFilters[Ve.toLowerCase()]||Kn.error("unsupported pseudo: "+Ve);return Bt[Un]?Bt(it):1<Bt.length?(yt=[Ve,Ve,"",it],te.setFilters.hasOwnProperty(Ve.toLowerCase())?li(function(xt,$t){for(var Gt,Qt=Bt(xt,it),on=Qt.length;on--;)xt[Gt=Ct(xt,Qt[on])]=!($t[Gt]=Qt[on])}):function(xt){return Bt(xt,0,yt)}):Bt}},pseudos:{not:li(function(Ve){var it=[],yt=[],Bt=tt(Ve.replace(er,"$1"));return Bt[Un]?li(function(xt,$t,Gt,Qt){for(var on,yn=Bt(xt,null,Qt,[]),mn=xt.length;mn--;)(on=yn[mn])&&(xt[mn]=!($t[mn]=on))}):function(xt,$t,Gt){return it[0]=xt,Bt(it,null,Gt,yt),it[0]=null,!yt.pop()}}),has:li(function(Ve){return function(it){return 0<Kn(Ve,it).length}}),contains:li(function(Ve){return Ve=Ve.replace(Cr,mi),function(it){return-1<(it.textContent||xe(it)).indexOf(Ve)}}),lang:li(function(Ve){return No.test(Ve||"")||Kn.error("unsupported lang: "+Ve),Ve=Ve.replace(Cr,mi).toLowerCase(),function(it){var yt;do{if(yt=sn?it.lang:it.getAttribute("xml:lang")||it.getAttribute("lang"))return(yt=yt.toLowerCase())===Ve||0===yt.indexOf(Ve+"-")}while((it=it.parentNode)&&1===it.nodeType);return!1}}),target:function(Ve){var it=c.location&&c.location.hash;return it&&it.slice(1)===Ve.id},root:function(Ve){return Ve===en},focus:function(Ve){return Ve===Et.activeElement&&(!Et.hasFocus||Et.hasFocus())&&!!(Ve.type||Ve.href||~Ve.tabIndex)},enabled:po(!1),disabled:po(!0),checked:function(Ve){var it=Ve.nodeName.toLowerCase();return"input"===it&&!!Ve.checked||"option"===it&&!!Ve.selected},selected:function(Ve){return!0===Ve.selected},empty:function(Ve){for(Ve=Ve.firstChild;Ve;Ve=Ve.nextSibling)if(Ve.nodeType<6)return!1;return!0},parent:function(Ve){return!te.pseudos.empty(Ve)},header:function(Ve){return co.test(Ve.nodeName)},input:function(Ve){return Io.test(Ve.nodeName)},button:function(Ve){var it=Ve.nodeName.toLowerCase();return"input"===it&&"button"===Ve.type||"button"===it},text:function(Ve){var it;return"input"===Ve.nodeName.toLowerCase()&&"text"===Ve.type&&(null==(it=Ve.getAttribute("type"))||"text"===it.toLowerCase())},first:Oi(function(){return[0]}),last:Oi(function(Ve,it){return[it-1]}),eq:Oi(function(Ve,it,yt){return[yt<0?yt+it:yt]}),even:Oi(function(Ve,it){for(var yt=0;yt<it;yt+=2)Ve.push(yt);return Ve}),odd:Oi(function(Ve,it){for(var yt=1;yt<it;yt+=2)Ve.push(yt);return Ve}),lt:Oi(function(Ve,it,yt){for(var Bt=yt<0?yt+it:it<yt?it:yt;0<=--Bt;)Ve.push(Bt);return Ve}),gt:Oi(function(Ve,it,yt){for(var Bt=yt<0?yt+it:yt;++Bt<it;)Ve.push(Bt);return Ve})}}).pseudos.nth=te.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})te.pseudos[M]=fo(M);for(M in{submit:!0,reset:!0})te.pseudos[M]=ho(M);function Ei(){}function Er(Ve){for(var it=0,yt=Ve.length,Bt="";it<yt;it++)Bt+=Ve[it].value;return Bt}function ui(Ve,it,yt){var Bt=it.dir,xt=it.next,$t=xt||Bt,Gt=yt&&"parentNode"===$t,Qt=Dn++;return it.first?function(on,yn,mn){for(;on=on[Bt];)if(1===on.nodeType||Gt)return Ve(on,yn,mn);return!1}:function(on,yn,mn){var vn,Ln,ur,On=[Or,Qt];if(mn){for(;on=on[Bt];)if((1===on.nodeType||Gt)&&Ve(on,yn,mn))return!0}else for(;on=on[Bt];)if(1===on.nodeType||Gt)if(Ln=(ur=on[Un]||(on[Un]={}))[on.uniqueID]||(ur[on.uniqueID]={}),xt&&xt===on.nodeName.toLowerCase())on=on[Bt]||on;else{if((vn=Ln[$t])&&vn[0]===Or&&vn[1]===Qt)return On[2]=vn[2];if((Ln[$t]=On)[2]=Ve(on,yn,mn))return!0}return!1}}function vi(Ve){return 1<Ve.length?function(it,yt,Bt){for(var xt=Ve.length;xt--;)if(!Ve[xt](it,yt,Bt))return!1;return!0}:Ve[0]}function Mi(Ve,it,yt,Bt,xt){for(var $t,Gt=[],Qt=0,on=Ve.length,yn=null!=it;Qt<on;Qt++)($t=Ve[Qt])&&(yt&&!yt($t,Bt,xt)||(Gt.push($t),yn&&it.push(Qt)));return Gt}function Ji(Ve,it,yt,Bt,xt,$t){return Bt&&!Bt[Un]&&(Bt=Ji(Bt)),xt&&!xt[Un]&&(xt=Ji(xt,$t)),li(function(Gt,Qt,on,yn){var mn,vn,Ln,ur=[],On=[],fr=Qt.length,gr=Gt||function(fi,hr,ir){for(var Nr=0,Pi=hr.length;Nr<Pi;Nr++)Kn(fi,hr[Nr],ir);return ir}(it||"*",on.nodeType?[on]:on,[]),Wr=!Ve||!Gt&&it?gr:Mi(gr,ur,Ve,on,yn),Wn=yt?xt||(Gt?Ve:fr||Bt)?[]:Qt:Wr;if(yt&&yt(Wr,Wn,on,yn),Bt)for(mn=Mi(Wn,On),Bt(mn,[],on,yn),vn=mn.length;vn--;)(Ln=mn[vn])&&(Wn[On[vn]]=!(Wr[On[vn]]=Ln));if(Gt){if(xt||Ve){if(xt){for(mn=[],vn=Wn.length;vn--;)(Ln=Wn[vn])&&mn.push(Wr[vn]=Ln);xt(null,Wn=[],mn,yn)}for(vn=Wn.length;vn--;)(Ln=Wn[vn])&&-1<(mn=xt?Ct(Gt,Ln):ur[vn])&&(Gt[mn]=!(Qt[mn]=Ln))}}else Wn=Mi(Wn===Qt?Wn.splice(fr,Wn.length):Wn),xt?xt(null,Qt,Wn,yn):pt.apply(Qt,Wn)})}function Li(Ve){for(var it,yt,Bt,xt=Ve.length,$t=te.relative[Ve[0].type],Gt=$t||te.relative[" "],Qt=$t?1:0,on=ui(function(vn){return vn===it},Gt,!0),yn=ui(function(vn){return-1<Ct(it,vn)},Gt,!0),mn=[function(vn,Ln,ur){var On=!$t&&(ur||Ln!==dt)||((it=Ln).nodeType?on(vn,Ln,ur):yn(vn,Ln,ur));return it=null,On}];Qt<xt;Qt++)if(yt=te.relative[Ve[Qt].type])mn=[ui(vi(mn),yt)];else{if((yt=te.filter[Ve[Qt].type].apply(null,Ve[Qt].matches))[Un]){for(Bt=++Qt;Bt<xt&&!te.relative[Ve[Bt].type];Bt++);return Ji(1<Qt&&vi(mn),1<Qt&&Er(Ve.slice(0,Qt-1).concat({value:" "===Ve[Qt-2].type?"*":""})).replace(er,"$1"),yt,Qt<Bt&&Li(Ve.slice(Qt,Bt)),Bt<xt&&Li(Ve=Ve.slice(Bt)),Bt<xt&&Er(Ve))}mn.push(yt)}return vi(mn)}return Ei.prototype=te.filters=te.pseudos,te.setFilters=new Ei,He=Kn.tokenize=function(Ve,it){var yt,Bt,xt,$t,Gt,Qt,on,yn=wi[Ve+" "];if(yn)return it?0:yn.slice(0);for(Gt=Ve,Qt=[],on=te.preFilter;Gt;){for($t in yt&&!(Bt=kr.exec(Gt))||(Bt&&(Gt=Gt.slice(Bt[0].length)||Gt),Qt.push(xt=[])),yt=!1,(Bt=gi.exec(Gt))&&(yt=Bt.shift(),xt.push({value:yt,type:Bt[0].replace(er," ")}),Gt=Gt.slice(yt.length)),te.filter)!(Bt=_i[$t].exec(Gt))||on[$t]&&!(Bt=on[$t](Bt))||(yt=Bt.shift(),xt.push({value:yt,type:$t,matches:Bt}),Gt=Gt.slice(yt.length));if(!yt)break}return it?Gt.length:Gt?Kn.error(Ve):wi(Ve,Qt).slice(0)},tt=Kn.compile=function(Ve,it){var yt,Bt,xt,$t,Gt,Qt,on=[],yn=[],mn=Ai[Ve+" "];if(!mn){for(it||(it=He(Ve)),yt=it.length;yt--;)(mn=Li(it[yt]))[Un]?on.push(mn):yn.push(mn);(mn=Ai(Ve,(Bt=yn,$t=0<(xt=on).length,Gt=0<Bt.length,Qt=function(vn,Ln,ur,On,fr){var gr,Wr,Wn,fi=0,hr="0",ir=vn&&[],Nr=[],Pi=dt,Ni=vn||Gt&&te.find.TAG("*",fr),go=Or+=null==Pi?1:Math.random()||.1,zo=Ni.length;for(fr&&(dt=Ln==Et||Ln||fr);hr!==zo&&null!=(gr=Ni[hr]);hr++){if(Gt&&gr){for(Wr=0,Ln||gr.ownerDocument==Et||(_t(gr),ur=!sn);Wn=Bt[Wr++];)if(Wn(gr,Ln||Et,ur)){On.push(gr);break}fr&&(Or=go)}$t&&((gr=!Wn&&gr)&&fi--,vn&&ir.push(gr))}if(fi+=hr,$t&&hr!==fi){for(Wr=0;Wn=xt[Wr++];)Wn(ir,Nr,Ln,ur);if(vn){if(0<fi)for(;hr--;)ir[hr]||Nr[hr]||(Nr[hr]=Xe.call(On));Nr=Mi(Nr)}pt.apply(On,Nr),fr&&!vn&&0<Nr.length&&1<fi+xt.length&&Kn.uniqueSort(On)}return fr&&(Or=go,dt=Pi),ir},$t?li(Qt):Qt))).selector=Ve}return mn},ot=Kn.select=function(Ve,it,yt,Bt){var xt,$t,Gt,Qt,on,yn="function"==typeof Ve&&Ve,mn=!Bt&&He(Ve=yn.selector||Ve);if(yt=yt||[],1===mn.length){if(2<($t=mn[0]=mn[0].slice(0)).length&&"ID"===(Gt=$t[0]).type&&9===it.nodeType&&sn&&te.relative[$t[1].type]){if(!(it=(te.find.ID(Gt.matches[0].replace(Cr,mi),it)||[])[0]))return yt;yn&&(it=it.parentNode),Ve=Ve.slice($t.shift().value.length)}for(xt=_i.needsContext.test(Ve)?0:$t.length;xt--&&!te.relative[Qt=(Gt=$t[xt]).type];)if((on=te.find[Qt])&&(Bt=on(Gt.matches[0].replace(Cr,mi),Fi.test($t[0].type)&&ki(it.parentNode)||it))){if($t.splice(xt,1),!(Ve=Bt.length&&Er($t)))return pt.apply(yt,Bt),yt;break}}return(yn||tt(Ve,mn))(Bt,it,!sn,yt,!it||Fi.test(Ve)&&ki(it.parentNode)||it),yt},Y.sortStable=Un.split("").sort(xi).join("")===Un,Y.detectDuplicates=!!Ht,_t(),Y.sortDetached=ci(function(Ve){return 1&Ve.compareDocumentPosition(Et.createElement("fieldset"))}),ci(function(Ve){return Ve.innerHTML="<a href='#'></a>","#"===Ve.firstChild.getAttribute("href")})||Ti("type|href|height|width",function(Ve,it,yt){if(!yt)return Ve.getAttribute(it,"type"===it.toLowerCase()?1:2)}),Y.attributes&&ci(function(Ve){return Ve.innerHTML="<input/>",Ve.firstChild.setAttribute("value",""),""===Ve.firstChild.getAttribute("value")})||Ti("value",function(Ve,it,yt){if(!yt&&"input"===Ve.nodeName.toLowerCase())return Ve.defaultValue}),ci(function(Ve){return null==Ve.getAttribute("disabled")})||Ti(It,function(Ve,it,yt){var Bt;if(!yt)return!0===Ve[it]?it.toLowerCase():(Bt=Ve.getAttributeNode(it))&&Bt.specified?Bt.value:null}),Kn}(Ye);r.find=E,r.expr=E.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=E.uniqueSort,r.text=E.getText,r.isXMLDoc=E.isXML,r.contains=E.contains,r.escapeSelector=E.escape;var B=function(c,M,Y){for(var te=[],xe=void 0!==Y;(c=c[M])&&9!==c.nodeType;)if(1===c.nodeType){if(xe&&r(c).is(Y))break;te.push(c)}return te},$=function(c,M){for(var Y=[];c;c=c.nextSibling)1===c.nodeType&&c!==M&&Y.push(c);return Y},w=r.expr.match.needsContext;function p(c,M){return c.nodeName&&c.nodeName.toLowerCase()===M.toLowerCase()}var u=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function x(c,M,Y){return P(M)?r.grep(c,function(te,xe){return!!M.call(te,xe,te)!==Y}):M.nodeType?r.grep(c,function(te){return te===M!==Y}):"string"!=typeof M?r.grep(c,function(te){return-1<L.call(M,te)!==Y}):r.filter(M,c,Y)}r.filter=function(c,M,Y){var te=M[0];return Y&&(c=":not("+c+")"),1===M.length&&1===te.nodeType?r.find.matchesSelector(te,c)?[te]:[]:r.find.matches(c,r.grep(M,function(xe){return 1===xe.nodeType}))},r.fn.extend({find:function(c){var M,Y,te=this.length,xe=this;if("string"!=typeof c)return this.pushStack(r(c).filter(function(){for(M=0;M<te;M++)if(r.contains(xe[M],this))return!0}));for(Y=this.pushStack([]),M=0;M<te;M++)r.find(c,xe[M],Y);return 1<te?r.uniqueSort(Y):Y},filter:function(c){return this.pushStack(x(this,c||[],!1))},not:function(c){return this.pushStack(x(this,c||[],!0))},is:function(c){return!!x(this,"string"==typeof c&&w.test(c)?r(c):c||[],!1).length}});var b,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(r.fn.init=function(c,M,Y){var te,xe;if(!c)return this;if(Y=Y||b,"string"==typeof c){if(!(te="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:R.exec(c))||!te[1]&&M)return!M||M.jquery?(M||Y).find(c):this.constructor(M).find(c);if(te[1]){if(r.merge(this,r.parseHTML(te[1],(M=M instanceof r?M[0]:M)&&M.nodeType?M.ownerDocument||M:v,!0)),u.test(te[1])&&r.isPlainObject(M))for(te in M)P(this[te])?this[te](M[te]):this.attr(te,M[te]);return this}return(xe=v.getElementById(te[2]))&&(this[0]=xe,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):P(c)?void 0!==Y.ready?Y.ready(c):c(r):r.makeArray(c,this)}).prototype=r.fn,b=r(v);var Q=/^(?:parents|prev(?:Until|All))/,re={children:!0,contents:!0,next:!0,prev:!0};function Fe(c,M){for(;(c=c[M])&&1!==c.nodeType;);return c}r.fn.extend({has:function(c){var M=r(c,this),Y=M.length;return this.filter(function(){for(var te=0;te<Y;te++)if(r.contains(this,M[te]))return!0})},closest:function(c,M){var Y,te=0,xe=this.length,Be=[],He="string"!=typeof c&&r(c);if(!w.test(c))for(;te<xe;te++)for(Y=this[te];Y&&Y!==M;Y=Y.parentNode)if(Y.nodeType<11&&(He?-1<He.index(Y):1===Y.nodeType&&r.find.matchesSelector(Y,c))){Be.push(Y);break}return this.pushStack(1<Be.length?r.uniqueSort(Be):Be)},index:function(c){return c?"string"==typeof c?L.call(r(c),this[0]):L.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,M){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(c,M))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}}),r.each({parent:function(c){var M=c.parentNode;return M&&11!==M.nodeType?M:null},parents:function(c){return B(c,"parentNode")},parentsUntil:function(c,M,Y){return B(c,"parentNode",Y)},next:function(c){return Fe(c,"nextSibling")},prev:function(c){return Fe(c,"previousSibling")},nextAll:function(c){return B(c,"nextSibling")},prevAll:function(c){return B(c,"previousSibling")},nextUntil:function(c,M,Y){return B(c,"nextSibling",Y)},prevUntil:function(c,M,Y){return B(c,"previousSibling",Y)},siblings:function(c){return $((c.parentNode||{}).firstChild,c)},children:function(c){return $(c.firstChild)},contents:function(c){return null!=c.contentDocument&&ee(c.contentDocument)?c.contentDocument:(p(c,"template")&&(c=c.content||c),r.merge([],c.childNodes))}},function(c,M){r.fn[c]=function(Y,te){var xe=r.map(this,M,Y);return"Until"!==c.slice(-5)&&(te=Y),te&&"string"==typeof te&&(xe=r.filter(te,xe)),1<this.length&&(re[c]||r.uniqueSort(xe),Q.test(c)&&xe.reverse()),this.pushStack(xe)}});var ge=/[^\x20\t\r\n\f]+/g;function fe(c){return c}function Ae(c){throw c}function Pe(c,M,Y,te){var xe;try{c&&P(xe=c.promise)?xe.call(c).done(M).fail(Y):c&&P(xe=c.then)?xe.call(c,M,Y):M.apply(void 0,[c].slice(te))}catch(Be){Y.apply(void 0,[Be])}}r.Callbacks=function(c){var Y;c="string"==typeof c?(Y={},r.each(c.match(ge)||[],function(_t,Et){Y[Et]=!0}),Y):r.extend({},c);var te,xe,Be,He,tt=[],ot=[],dt=-1,jt=function(){for(He=He||c.once,Be=te=!0;ot.length;dt=-1)for(xe=ot.shift();++dt<tt.length;)!1===tt[dt].apply(xe[0],xe[1])&&c.stopOnFalse&&(dt=tt.length,xe=!1);c.memory||(xe=!1),te=!1,He&&(tt=xe?[]:"")},Ht={add:function(){return tt&&(xe&&!te&&(dt=tt.length-1,ot.push(xe)),function _t(Et){r.each(Et,function(en,sn){P(sn)?c.unique&&Ht.has(sn)||tt.push(sn):sn&&sn.length&&"string"!==T(sn)&&_t(sn)})}(arguments),xe&&!te&&jt()),this},remove:function(){return r.each(arguments,function(_t,Et){for(var en;-1<(en=r.inArray(Et,tt,en));)tt.splice(en,1),en<=dt&&dt--}),this},has:function(_t){return _t?-1<r.inArray(_t,tt):0<tt.length},empty:function(){return tt&&(tt=[]),this},disable:function(){return He=ot=[],tt=xe="",this},disabled:function(){return!tt},lock:function(){return He=ot=[],xe||te||(tt=xe=""),this},locked:function(){return!!He},fireWith:function(_t,Et){return He||(Et=[_t,(Et=Et||[]).slice?Et.slice():Et],ot.push(Et),te||jt()),this},fire:function(){return Ht.fireWith(this,arguments),this},fired:function(){return!!Be}};return Ht},r.extend({Deferred:function(c){var M=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],Y="pending",te={state:function(){return Y},always:function(){return xe.done(arguments).fail(arguments),this},catch:function(Be){return te.then(null,Be)},pipe:function(){var Be=arguments;return r.Deferred(function(He){r.each(M,function(tt,ot){var dt=P(Be[ot[4]])&&Be[ot[4]];xe[ot[1]](function(){var jt=dt&&dt.apply(this,arguments);jt&&P(jt.promise)?jt.promise().progress(He.notify).done(He.resolve).fail(He.reject):He[ot[0]+"With"](this,dt?[jt]:arguments)})}),Be=null}).promise()},then:function(Be,He,tt){var ot=0;function dt(jt,Ht,_t,Et){return function(){var en=this,sn=arguments,Xt=function(){var lr,cr;if(!(jt<ot)){if((lr=_t.apply(en,sn))===Ht.promise())throw new TypeError("Thenable self-resolution");P(cr=lr&&("object"==typeof lr||"function"==typeof lr)&&lr.then)?Et?cr.call(lr,dt(ot,Ht,fe,Et),dt(ot,Ht,Ae,Et)):(ot++,cr.call(lr,dt(ot,Ht,fe,Et),dt(ot,Ht,Ae,Et),dt(ot,Ht,fe,Ht.notifyWith))):(_t!==fe&&(en=void 0,sn=[lr]),(Et||Ht.resolveWith)(en,sn))}},nr=Et?Xt:function(){try{Xt()}catch(lr){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(lr,nr.stackTrace),ot<=jt+1&&(_t!==Ae&&(en=void 0,sn=[lr]),Ht.rejectWith(en,sn))}};jt?nr():(r.Deferred.getStackHook&&(nr.stackTrace=r.Deferred.getStackHook()),Ye.setTimeout(nr))}}return r.Deferred(function(jt){M[0][3].add(dt(0,jt,P(tt)?tt:fe,jt.notifyWith)),M[1][3].add(dt(0,jt,P(Be)?Be:fe)),M[2][3].add(dt(0,jt,P(He)?He:Ae))}).promise()},promise:function(Be){return null!=Be?r.extend(Be,te):te}},xe={};return r.each(M,function(Be,He){var tt=He[2],ot=He[5];te[He[1]]=tt.add,ot&&tt.add(function(){Y=ot},M[3-Be][2].disable,M[3-Be][3].disable,M[0][2].lock,M[0][3].lock),tt.add(He[3].fire),xe[He[0]]=function(){return xe[He[0]+"With"](this===xe?void 0:this,arguments),this},xe[He[0]+"With"]=tt.fireWith}),te.promise(xe),c&&c.call(xe,xe),xe},when:function(c){var M=arguments.length,Y=M,te=Array(Y),xe=se.call(arguments),Be=r.Deferred(),He=function(tt){return function(ot){te[tt]=this,xe[tt]=1<arguments.length?se.call(arguments):ot,--M||Be.resolveWith(te,xe)}};if(M<=1&&(Pe(c,Be.done(He(Y)).resolve,Be.reject,!M),"pending"===Be.state()||P(xe[Y]&&xe[Y].then)))return Be.then();for(;Y--;)Pe(xe[Y],He(Y),Be.reject);return Be.promise()}});var de=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(c,M){Ye.console&&Ye.console.warn&&c&&de.test(c.name)&&Ye.console.warn("jQuery.Deferred exception: "+c.message,c.stack,M)},r.readyException=function(c){Ye.setTimeout(function(){throw c})};var pe=r.Deferred();function _e(){v.removeEventListener("DOMContentLoaded",_e),Ye.removeEventListener("load",_e),r.ready()}r.fn.ready=function(c){return pe.then(c).catch(function(M){r.readyException(M)}),this},r.extend({isReady:!1,readyWait:1,ready:function(c){(!0===c?--r.readyWait:r.isReady)||(r.isReady=!0)!==c&&0<--r.readyWait||pe.resolveWith(v,[r])}}),r.ready.then=pe.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?Ye.setTimeout(r.ready):(v.addEventListener("DOMContentLoaded",_e),Ye.addEventListener("load",_e));var ae=function(c,M,Y,te,xe,Be,He){var tt=0,ot=c.length,dt=null==Y;if("object"===T(Y))for(tt in xe=!0,Y)ae(c,M,tt,Y[tt],!0,Be,He);else if(void 0!==te&&(xe=!0,P(te)||(He=!0),dt&&(He?(M.call(c,te),M=null):(dt=M,M=function(jt,Ht,_t){return dt.call(r(jt),_t)})),M))for(;tt<ot;tt++)M(c[tt],Y,He?te:te.call(c[tt],tt,M(c[tt],Y)));return xe?c:dt?M.call(c):ot?M(c[0],Y):Be},ne=/^-ms-/,G=/-([a-z])/g;function W(c,M){return M.toUpperCase()}function j(c){return c.replace(ne,"ms-").replace(G,W)}var C=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};function H(){this.expando=r.expando+H.uid++}H.uid=1,H.prototype={cache:function(c){var M=c[this.expando];return M||(M={},C(c)&&(c.nodeType?c[this.expando]=M:Object.defineProperty(c,this.expando,{value:M,configurable:!0}))),M},set:function(c,M,Y){var te,xe=this.cache(c);if("string"==typeof M)xe[j(M)]=Y;else for(te in M)xe[j(te)]=M[te];return xe},get:function(c,M){return void 0===M?this.cache(c):c[this.expando]&&c[this.expando][j(M)]},access:function(c,M,Y){return void 0===M||M&&"string"==typeof M&&void 0===Y?this.get(c,M):(this.set(c,M,Y),void 0!==Y?Y:M)},remove:function(c,M){var Y,te=c[this.expando];if(void 0!==te){if(void 0!==M)for((Y=(M=Array.isArray(M)?M.map(j):(M=j(M))in te?[M]:M.match(ge)||[]).length);Y--;)delete te[M[Y]];(void 0===M||r.isEmptyObject(te))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var M=c[this.expando];return void 0!==M&&!r.isEmptyObject(M)}};var n=new H,m=new H,l=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,A=/[A-Z]/g;function q(c,M,Y){var te,xe;if(void 0===Y&&1===c.nodeType)if(te="data-"+M.replace(A,"-$&").toLowerCase(),"string"==typeof(Y=c.getAttribute(te))){try{Y="true"===(xe=Y)||"false"!==xe&&("null"===xe?null:xe===+xe+""?+xe:l.test(xe)?JSON.parse(xe):xe)}catch(Be){}m.set(c,M,Y)}else Y=void 0;return Y}r.extend({hasData:function(c){return m.hasData(c)||n.hasData(c)},data:function(c,M,Y){return m.access(c,M,Y)},removeData:function(c,M){m.remove(c,M)},_data:function(c,M,Y){return n.access(c,M,Y)},_removeData:function(c,M){n.remove(c,M)}}),r.fn.extend({data:function(c,M){var Y,te,xe,Be=this[0],He=Be&&Be.attributes;if(void 0===c){if(this.length&&(xe=m.get(Be),1===Be.nodeType&&!n.get(Be,"hasDataAttrs"))){for(Y=He.length;Y--;)He[Y]&&0===(te=He[Y].name).indexOf("data-")&&(te=j(te.slice(5)),q(Be,te,xe[te]));n.set(Be,"hasDataAttrs",!0)}return xe}return"object"==typeof c?this.each(function(){m.set(this,c)}):ae(this,function(tt){var ot;if(Be&&void 0===tt)return void 0!==(ot=m.get(Be,c))||void 0!==(ot=q(Be,c))?ot:void 0;this.each(function(){m.set(this,c,tt)})},null,M,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){m.remove(this,c)})}}),r.extend({queue:function(c,M,Y){var te;if(c)return te=n.get(c,M=(M||"fx")+"queue"),Y&&(!te||Array.isArray(Y)?te=n.access(c,M,r.makeArray(Y)):te.push(Y)),te||[]},dequeue:function(c,M){var Y=r.queue(c,M=M||"fx"),te=Y.length,xe=Y.shift(),Be=r._queueHooks(c,M);"inprogress"===xe&&(xe=Y.shift(),te--),xe&&("fx"===M&&Y.unshift("inprogress"),delete Be.stop,xe.call(c,function(){r.dequeue(c,M)},Be)),!te&&Be&&Be.empty.fire()},_queueHooks:function(c,M){var Y=M+"queueHooks";return n.get(c,Y)||n.access(c,Y,{empty:r.Callbacks("once memory").add(function(){n.remove(c,[M+"queue",Y])})})}}),r.fn.extend({queue:function(c,M){var Y=2;return"string"!=typeof c&&(M=c,c="fx",Y--),arguments.length<Y?r.queue(this[0],c):void 0===M?this:this.each(function(){var te=r.queue(this,c,M);r._queueHooks(this,c),"fx"===c&&"inprogress"!==te[0]&&r.dequeue(this,c)})},dequeue:function(c){return this.each(function(){r.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,M){var Y,te=1,xe=r.Deferred(),Be=this,He=this.length,tt=function(){--te||xe.resolveWith(Be,[Be])};for("string"!=typeof c&&(M=c,c=void 0),c=c||"fx";He--;)(Y=n.get(Be[He],c+"queueHooks"))&&Y.empty&&(te++,Y.empty.add(tt));return tt(),xe.promise(M)}});var be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+be+")([a-z%]*)$","i"),ke=["Top","Right","Bottom","Left"],ve=v.documentElement,Ee=function(c){return r.contains(c.ownerDocument,c)},Ne={composed:!0};ve.getRootNode&&(Ee=function(c){return r.contains(c.ownerDocument,c)||c.getRootNode(Ne)===c.ownerDocument});var Je=function(c,M){return"none"===(c=M||c).style.display||""===c.style.display&&Ee(c)&&"none"===r.css(c,"display")};function St(c,M,Y,te){var xe,Be,He=20,tt=te?function(){return te.cur()}:function(){return r.css(c,M,"")},ot=tt(),dt=Y&&Y[3]||(r.cssNumber[M]?"":"px"),jt=c.nodeType&&(r.cssNumber[M]||"px"!==dt&&+ot)&&Le.exec(r.css(c,M));if(jt&&jt[3]!==dt){for(dt=dt||jt[3],jt=+(ot/=2)||1;He--;)r.style(c,M,jt+dt),(1-Be)*(1-(Be=tt()/ot||.5))<=0&&(He=0),jt/=Be;r.style(c,M,(jt*=2)+dt),Y=Y||[]}return Y&&(jt=+jt||+ot||0,xe=Y[1]?jt+(Y[1]+1)*Y[2]:+Y[2],te&&(te.unit=dt,te.start=jt,te.end=xe)),xe}var vt={};function Z(c,M){for(var Y,te,xe,Be,He,tt,ot,dt=[],jt=0,Ht=c.length;jt<Ht;jt++)(te=c[jt]).style&&(Y=te.style.display,M?("none"===Y&&(dt[jt]=n.get(te,"display")||null,dt[jt]||(te.style.display="")),""===te.style.display&&Je(te)&&(dt[jt]=(ot=He=Be=void 0,He=(xe=te).ownerDocument,(ot=vt[tt=xe.nodeName])||(Be=He.body.appendChild(He.createElement(tt)),ot=r.css(Be,"display"),Be.parentNode.removeChild(Be),"none"===ot&&(ot="block"),vt[tt]=ot)))):"none"!==Y&&(dt[jt]="none",n.set(te,"display",Y)));for(jt=0;jt<Ht;jt++)null!=dt[jt]&&(c[jt].style.display=dt[jt]);return c}r.fn.extend({show:function(){return Z(this,!0)},hide:function(){return Z(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){Je(this)?r(this).show():r(this).hide()})}});var ce,je,qe=/^(?:checkbox|radio)$/i,nt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ut=/^$|^module$|\/(?:java|ecma)script/i;ce=v.createDocumentFragment().appendChild(v.createElement("div")),(je=v.createElement("input")).setAttribute("type","radio"),je.setAttribute("checked","checked"),je.setAttribute("name","t"),ce.appendChild(je),d.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",d.option=!!ce.lastChild;var mt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function X(c,M){var Y;return Y=void 0!==c.getElementsByTagName?c.getElementsByTagName(M||"*"):void 0!==c.querySelectorAll?c.querySelectorAll(M||"*"):[],void 0===M||M&&p(c,M)?r.merge([c],Y):Y}function Te(c,M){for(var Y=0,te=c.length;Y<te;Y++)n.set(c[Y],"globalEval",!M||n.get(M[Y],"globalEval"))}mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td,d.option||(mt.optgroup=mt.option=[1,"<select multiple='multiple'>","</select>"]);var Re=/<|&#?\w+;/;function $e(c,M,Y,te,xe){for(var Be,He,tt,ot,dt,jt,Ht=M.createDocumentFragment(),_t=[],Et=0,en=c.length;Et<en;Et++)if((Be=c[Et])||0===Be)if("object"===T(Be))r.merge(_t,Be.nodeType?[Be]:Be);else if(Re.test(Be)){for(He=He||Ht.appendChild(M.createElement("div")),tt=(nt.exec(Be)||["",""])[1].toLowerCase(),He.innerHTML=(ot=mt[tt]||mt._default)[1]+r.htmlPrefilter(Be)+ot[2],jt=ot[0];jt--;)He=He.lastChild;r.merge(_t,He.childNodes),(He=Ht.firstChild).textContent=""}else _t.push(M.createTextNode(Be));for(Ht.textContent="",Et=0;Be=_t[Et++];)if(te&&-1<r.inArray(Be,te))xe&&xe.push(Be);else if(dt=Ee(Be),He=X(Ht.appendChild(Be),"script"),dt&&Te(He),Y)for(jt=0;Be=He[jt++];)ut.test(Be.type||"")&&Y.push(Be);return Ht}var me=/^([^.]*)(?:\.(.+)|)/;function Ke(){return!0}function Ze(){return!1}function ht(c,M){return c===function(){try{return v.activeElement}catch(Y){}}()==("focus"===M)}function Pt(c,M,Y,te,xe,Be){var He,tt;if("object"==typeof M){for(tt in"string"!=typeof Y&&(te=te||Y,Y=void 0),M)Pt(c,tt,Y,te,M[tt],Be);return c}if(null==te&&null==xe?(xe=Y,te=Y=void 0):null==xe&&("string"==typeof Y?(xe=te,te=void 0):(xe=te,te=Y,Y=void 0)),!1===xe)xe=Ze;else if(!xe)return c;return 1===Be&&(He=xe,(xe=function(ot){return r().off(ot),He.apply(this,arguments)}).guid=He.guid||(He.guid=r.guid++)),c.each(function(){r.event.add(this,M,xe,te,Y)})}function Dt(c,M,Y){Y?(n.set(c,M,!1),r.event.add(c,M,{namespace:!1,handler:function(te){var xe,Be,He=n.get(this,M);if(1&te.isTrigger&&this[M]){if(He.length)(r.event.special[M]||{}).delegateType&&te.stopPropagation();else if(He=se.call(arguments),n.set(this,M,He),xe=Y(this,M),this[M](),He!==(Be=n.get(this,M))||xe?n.set(this,M,!1):Be={},He!==Be)return te.stopImmediatePropagation(),te.preventDefault(),Be&&Be.value}else He.length&&(n.set(this,M,{value:r.event.trigger(r.extend(He[0],r.Event.prototype),He.slice(1),this)}),te.stopImmediatePropagation())}})):void 0===n.get(c,M)&&r.event.add(c,M,Ke)}r.event={global:{},add:function(c,M,Y,te,xe){var Be,He,tt,ot,dt,jt,Ht,_t,Et,en,sn,Xt=n.get(c);if(C(c))for(Y.handler&&(Y=(Be=Y).handler,xe=Be.selector),xe&&r.find.matchesSelector(ve,xe),Y.guid||(Y.guid=r.guid++),(ot=Xt.events)||(ot=Xt.events=Object.create(null)),(He=Xt.handle)||(He=Xt.handle=function(nr){return void 0!==r&&r.event.triggered!==nr.type?r.event.dispatch.apply(c,arguments):void 0}),dt=(M=(M||"").match(ge)||[""]).length;dt--;)Et=sn=(tt=me.exec(M[dt])||[])[1],en=(tt[2]||"").split(".").sort(),Et&&(Ht=r.event.special[Et]||{},Ht=r.event.special[Et=(xe?Ht.delegateType:Ht.bindType)||Et]||{},jt=r.extend({type:Et,origType:sn,data:te,handler:Y,guid:Y.guid,selector:xe,needsContext:xe&&r.expr.match.needsContext.test(xe),namespace:en.join(".")},Be),(_t=ot[Et])||((_t=ot[Et]=[]).delegateCount=0,Ht.setup&&!1!==Ht.setup.call(c,te,en,He)||c.addEventListener&&c.addEventListener(Et,He)),Ht.add&&(Ht.add.call(c,jt),jt.handler.guid||(jt.handler.guid=Y.guid)),xe?_t.splice(_t.delegateCount++,0,jt):_t.push(jt),r.event.global[Et]=!0)},remove:function(c,M,Y,te,xe){var Be,He,tt,ot,dt,jt,Ht,_t,Et,en,sn,Xt=n.hasData(c)&&n.get(c);if(Xt&&(ot=Xt.events)){for(dt=(M=(M||"").match(ge)||[""]).length;dt--;)if(Et=sn=(tt=me.exec(M[dt])||[])[1],en=(tt[2]||"").split(".").sort(),Et){for(Ht=r.event.special[Et]||{},_t=ot[Et=(te?Ht.delegateType:Ht.bindType)||Et]||[],tt=tt[2]&&new RegExp("(^|\\.)"+en.join("\\.(?:.*\\.|)")+"(\\.|$)"),He=Be=_t.length;Be--;)jt=_t[Be],!xe&&sn!==jt.origType||Y&&Y.guid!==jt.guid||tt&&!tt.test(jt.namespace)||te&&te!==jt.selector&&("**"!==te||!jt.selector)||(_t.splice(Be,1),jt.selector&&_t.delegateCount--,Ht.remove&&Ht.remove.call(c,jt));He&&!_t.length&&(Ht.teardown&&!1!==Ht.teardown.call(c,en,Xt.handle)||r.removeEvent(c,Et,Xt.handle),delete ot[Et])}else for(Et in ot)r.event.remove(c,Et+M[dt],Y,te,!0);r.isEmptyObject(ot)&&n.remove(c,"handle events")}},dispatch:function(c){var M,Y,te,xe,Be,He,tt=new Array(arguments.length),ot=r.event.fix(c),dt=(n.get(this,"events")||Object.create(null))[ot.type]||[],jt=r.event.special[ot.type]||{};for(tt[0]=ot,M=1;M<arguments.length;M++)tt[M]=arguments[M];if(ot.delegateTarget=this,!jt.preDispatch||!1!==jt.preDispatch.call(this,ot)){for(He=r.event.handlers.call(this,ot,dt),M=0;(xe=He[M++])&&!ot.isPropagationStopped();)for(ot.currentTarget=xe.elem,Y=0;(Be=xe.handlers[Y++])&&!ot.isImmediatePropagationStopped();)ot.rnamespace&&!1!==Be.namespace&&!ot.rnamespace.test(Be.namespace)||(ot.handleObj=Be,ot.data=Be.data,void 0!==(te=((r.event.special[Be.origType]||{}).handle||Be.handler).apply(xe.elem,tt))&&!1===(ot.result=te)&&(ot.preventDefault(),ot.stopPropagation()));return jt.postDispatch&&jt.postDispatch.call(this,ot),ot.result}},handlers:function(c,M){var Y,te,xe,Be,He,tt=[],ot=M.delegateCount,dt=c.target;if(ot&&dt.nodeType&&!("click"===c.type&&1<=c.button))for(;dt!==this;dt=dt.parentNode||this)if(1===dt.nodeType&&("click"!==c.type||!0!==dt.disabled)){for(Be=[],He={},Y=0;Y<ot;Y++)void 0===He[xe=(te=M[Y]).selector+" "]&&(He[xe]=te.needsContext?-1<r(xe,this).index(dt):r.find(xe,this,null,[dt]).length),He[xe]&&Be.push(te);Be.length&&tt.push({elem:dt,handlers:Be})}return dt=this,ot<M.length&&tt.push({elem:dt,handlers:M.slice(ot)}),tt},addProp:function(c,M){Object.defineProperty(r.Event.prototype,c,{enumerable:!0,configurable:!0,get:P(M)?function(){if(this.originalEvent)return M(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(Y){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:Y})}})},fix:function(c){return c[r.expando]?c:new r.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var M=this||c;return qe.test(M.type)&&M.click&&p(M,"input")&&Dt(M,"click",Ke),!1},trigger:function(c){var M=this||c;return qe.test(M.type)&&M.click&&p(M,"input")&&Dt(M,"click"),!0},_default:function(c){var M=c.target;return qe.test(M.type)&&M.click&&p(M,"input")&&n.get(M,"click")||p(M,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}},r.removeEvent=function(c,M,Y){c.removeEventListener&&c.removeEventListener(M,Y)},r.Event=function(c,M){if(!(this instanceof r.Event))return new r.Event(c,M);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?Ke:Ze,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,M&&r.extend(this,M),this.timeStamp=c&&c.timeStamp||Date.now(),this[r.expando]=!0},r.Event.prototype={constructor:r.Event,isDefaultPrevented:Ze,isPropagationStopped:Ze,isImmediatePropagationStopped:Ze,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=Ke,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=Ke,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=Ke,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},r.event.addProp),r.each({focus:"focusin",blur:"focusout"},function(c,M){r.event.special[c]={setup:function(){return Dt(this,c,ht),!1},trigger:function(){return Dt(this,c),!0},_default:function(){return!0},delegateType:M}}),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,M){r.event.special[c]={delegateType:M,bindType:M,handle:function(Y){var te,xe=Y.relatedTarget,Be=Y.handleObj;return xe&&(xe===this||r.contains(this,xe))||(Y.type=Be.origType,te=Be.handler.apply(this,arguments),Y.type=M),te}}}),r.fn.extend({on:function(c,M,Y,te){return Pt(this,c,M,Y,te)},one:function(c,M,Y,te){return Pt(this,c,M,Y,te,1)},off:function(c,M,Y){var te,xe;if(c&&c.preventDefault&&c.handleObj)return te=c.handleObj,r(c.delegateTarget).off(te.namespace?te.origType+"."+te.namespace:te.origType,te.selector,te.handler),this;if("object"==typeof c){for(xe in c)this.off(xe,M,c[xe]);return this}return!1!==M&&"function"!=typeof M||(Y=M,M=void 0),!1===Y&&(Y=Ze),this.each(function(){r.event.remove(this,c,Y,M)})}});var ct=/<script|<style|<link/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ot(c,M){return p(c,"table")&&p(11!==M.nodeType?M:M.firstChild,"tr")&&r(c).children("tbody")[0]||c}function oe(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function rt(c){return"true/"===(c.type||"").slice(0,5)?c.type=c.type.slice(5):c.removeAttribute("type"),c}function V(c,M){var Y,te,xe,Be,He,tt;if(1===M.nodeType){if(n.hasData(c)&&(tt=n.get(c).events))for(xe in n.remove(M,"handle events"),tt)for(Y=0,te=tt[xe].length;Y<te;Y++)r.event.add(M,xe,tt[xe][Y]);m.hasData(c)&&(Be=m.access(c),He=r.extend({},Be),m.set(M,He))}}function z(c,M,Y,te){M=J(M);var xe,Be,He,tt,ot,dt,jt=0,Ht=c.length,_t=Ht-1,Et=M[0],en=P(Et);if(en||1<Ht&&"string"==typeof Et&&!d.checkClone&&Tt.test(Et))return c.each(function(sn){var Xt=c.eq(sn);en&&(M[0]=Et.call(this,sn,Xt.html())),z(Xt,M,Y,te)});if(Ht&&(Be=(xe=$e(M,c[0].ownerDocument,!1,c,te)).firstChild,1===xe.childNodes.length&&(xe=Be),Be||te)){for(tt=(He=r.map(X(xe,"script"),oe)).length;jt<Ht;jt++)ot=xe,jt!==_t&&(ot=r.clone(ot,!0,!0),tt&&r.merge(He,X(ot,"script"))),Y.call(c[jt],ot,jt);if(tt)for(dt=He[He.length-1].ownerDocument,r.map(He,rt),jt=0;jt<tt;jt++)ut.test((ot=He[jt]).type||"")&&!n.access(ot,"globalEval")&&r.contains(dt,ot)&&(ot.src&&"module"!==(ot.type||"").toLowerCase()?r._evalUrl&&!ot.noModule&&r._evalUrl(ot.src,{nonce:ot.nonce||ot.getAttribute("nonce")},dt):I(ot.textContent.replace(De,""),ot,dt))}return c}function we(c,M,Y){for(var te,xe=M?r.filter(M,c):c,Be=0;null!=(te=xe[Be]);Be++)Y||1!==te.nodeType||r.cleanData(X(te)),te.parentNode&&(Y&&Ee(te)&&Te(X(te,"script")),te.parentNode.removeChild(te));return c}r.extend({htmlPrefilter:function(c){return c},clone:function(c,M,Y){var te,xe,Be,He,tt,ot,dt,jt=c.cloneNode(!0),Ht=Ee(c);if(!(d.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||r.isXMLDoc(c)))for(He=X(jt),te=0,xe=(Be=X(c)).length;te<xe;te++)tt=Be[te],"input"===(dt=(ot=He[te]).nodeName.toLowerCase())&&qe.test(tt.type)?ot.checked=tt.checked:"input"!==dt&&"textarea"!==dt||(ot.defaultValue=tt.defaultValue);if(M)if(Y)for(Be=Be||X(c),He=He||X(jt),te=0,xe=Be.length;te<xe;te++)V(Be[te],He[te]);else V(c,jt);return 0<(He=X(jt,"script")).length&&Te(He,!Ht&&X(c,"script")),jt},cleanData:function(c){for(var M,Y,te,xe=r.event.special,Be=0;void 0!==(Y=c[Be]);Be++)if(C(Y)){if(M=Y[n.expando]){if(M.events)for(te in M.events)xe[te]?r.event.remove(Y,te):r.removeEvent(Y,te,M.handle);Y[n.expando]=void 0}Y[m.expando]&&(Y[m.expando]=void 0)}}}),r.fn.extend({detach:function(c){return we(this,c,!0)},remove:function(c){return we(this,c)},text:function(c){return ae(this,function(M){return void 0===M?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=M)})},null,c,arguments.length)},append:function(){return z(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ot(this,c).appendChild(c)})},prepend:function(){return z(this,arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var M=Ot(this,c);M.insertBefore(c,M.firstChild)}})},before:function(){return z(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return z(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,M=0;null!=(c=this[M]);M++)1===c.nodeType&&(r.cleanData(X(c,!1)),c.textContent="");return this},clone:function(c,M){return c=null!=c&&c,M=null==M?c:M,this.map(function(){return r.clone(this,c,M)})},html:function(c){return ae(this,function(M){var Y=this[0]||{},te=0,xe=this.length;if(void 0===M&&1===Y.nodeType)return Y.innerHTML;if("string"==typeof M&&!ct.test(M)&&!mt[(nt.exec(M)||["",""])[1].toLowerCase()]){M=r.htmlPrefilter(M);try{for(;te<xe;te++)1===(Y=this[te]||{}).nodeType&&(r.cleanData(X(Y,!1)),Y.innerHTML=M);Y=0}catch(Be){}}Y&&this.empty().append(M)},null,c,arguments.length)},replaceWith:function(){var c=[];return z(this,arguments,function(M){var Y=this.parentNode;r.inArray(this,c)<0&&(r.cleanData(X(this)),Y&&Y.replaceChild(M,this))},c)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,M){r.fn[c]=function(Y){for(var te,xe=[],Be=r(Y),He=Be.length-1,tt=0;tt<=He;tt++)te=tt===He?this:this.clone(!0),r(Be[tt])[M](te),U.apply(xe,te.get());return this.pushStack(xe)}});var he=new RegExp("^("+be+")(?!px)[a-z%]+$","i"),Ie=function(c){var M=c.ownerDocument.defaultView;return M&&M.opener||(M=Ye),M.getComputedStyle(c)},st=function(c,M,Y){var te,xe,Be={};for(xe in M)Be[xe]=c.style[xe],c.style[xe]=M[xe];for(xe in te=Y.call(c),M)c.style[xe]=Be[xe];return te},kt=new RegExp(ke.join("|"),"i");function ft(c,M,Y){var te,xe,Be,He,tt=c.style;return(Y=Y||Ie(c))&&(""!==(He=Y.getPropertyValue(M)||Y[M])||Ee(c)||(He=r.style(c,M)),!d.pixelBoxStyles()&&he.test(He)&&kt.test(M)&&(te=tt.width,xe=tt.minWidth,Be=tt.maxWidth,tt.minWidth=tt.maxWidth=tt.width=He,He=Y.width,tt.width=te,tt.minWidth=xe,tt.maxWidth=Be)),void 0!==He?He+"":He}function zt(c,M){return{get:function(){if(!c())return(this.get=M).apply(this,arguments);delete this.get}}}!function(){function c(){if(dt){ot.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",dt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ve.appendChild(ot).appendChild(dt);var jt=Ye.getComputedStyle(dt);Y="1%"!==jt.top,tt=12===M(jt.marginLeft),dt.style.right="60%",Be=36===M(jt.right),te=36===M(jt.width),dt.style.position="absolute",xe=12===M(dt.offsetWidth/3),ve.removeChild(ot),dt=null}}function M(jt){return Math.round(parseFloat(jt))}var Y,te,xe,Be,He,tt,ot=v.createElement("div"),dt=v.createElement("div");dt.style&&(dt.style.backgroundClip="content-box",dt.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===dt.style.backgroundClip,r.extend(d,{boxSizingReliable:function(){return c(),te},pixelBoxStyles:function(){return c(),Be},pixelPosition:function(){return c(),Y},reliableMarginLeft:function(){return c(),tt},scrollboxSize:function(){return c(),xe},reliableTrDimensions:function(){var jt,Ht,_t,Et;return null==He&&(jt=v.createElement("table"),Ht=v.createElement("tr"),_t=v.createElement("div"),jt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ht.style.cssText="border:1px solid",Ht.style.height="1px",_t.style.height="9px",_t.style.display="block",ve.appendChild(jt).appendChild(Ht).appendChild(_t),Et=Ye.getComputedStyle(Ht),He=parseInt(Et.height,10)+parseInt(Et.borderTopWidth,10)+parseInt(Et.borderBottomWidth,10)===Ht.offsetHeight,ve.removeChild(jt)),He}}))}();var nn=["Webkit","Moz","ms"],Wt=v.createElement("div").style,ln={};function tn(c){return r.cssProps[c]||ln[c]||(c in Wt?c:ln[c]=function(Y){for(var te=Y[0].toUpperCase()+Y.slice(1),xe=nn.length;xe--;)if((Y=nn[xe]+te)in Wt)return Y}(c)||c)}var kn=/^(none|table(?!-c[ea]).+)/,Cn=/^--/,Fn={position:"absolute",visibility:"hidden",display:"block"},jn={letterSpacing:"0",fontWeight:"400"};function cn(c,M,Y){var te=Le.exec(M);return te?Math.max(0,te[2]-(Y||0))+(te[3]||"px"):M}function qt(c,M,Y,te,xe,Be){var He="width"===M?1:0,tt=0,ot=0;if(Y===(te?"border":"content"))return 0;for(;He<4;He+=2)"margin"===Y&&(ot+=r.css(c,Y+ke[He],!0,xe)),te?("content"===Y&&(ot-=r.css(c,"padding"+ke[He],!0,xe)),"margin"!==Y&&(ot-=r.css(c,"border"+ke[He]+"Width",!0,xe))):(ot+=r.css(c,"padding"+ke[He],!0,xe),"padding"!==Y?ot+=r.css(c,"border"+ke[He]+"Width",!0,xe):tt+=r.css(c,"border"+ke[He]+"Width",!0,xe));return!te&&0<=Be&&(ot+=Math.max(0,Math.ceil(c["offset"+M[0].toUpperCase()+M.slice(1)]-Be-ot-tt-.5))||0),ot}function dn(c,M,Y){var te=Ie(c),xe=(!d.boxSizingReliable()||Y)&&"border-box"===r.css(c,"boxSizing",!1,te),Be=xe,He=ft(c,M,te),tt="offset"+M[0].toUpperCase()+M.slice(1);if(he.test(He)){if(!Y)return He;He="auto"}return(!d.boxSizingReliable()&&xe||!d.reliableTrDimensions()&&p(c,"tr")||"auto"===He||!parseFloat(He)&&"inline"===r.css(c,"display",!1,te))&&c.getClientRects().length&&(xe="border-box"===r.css(c,"boxSizing",!1,te),(Be=tt in c)&&(He=c[tt])),(He=parseFloat(He)||0)+qt(c,M,Y||(xe?"border":"content"),Be,te,He)+"px"}function fn(c,M,Y,te,xe){return new fn.prototype.init(c,M,Y,te,xe)}r.extend({cssHooks:{opacity:{get:function(c,M){if(M){var Y=ft(c,"opacity");return""===Y?"1":Y}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(c,M,Y,te){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var xe,Be,He,tt=j(M),ot=Cn.test(M),dt=c.style;if(ot||(M=tn(tt)),He=r.cssHooks[M]||r.cssHooks[tt],void 0===Y)return He&&"get"in He&&void 0!==(xe=He.get(c,!1,te))?xe:dt[M];"string"==(Be=typeof Y)&&(xe=Le.exec(Y))&&xe[1]&&(Y=St(c,M,xe),Be="number"),null!=Y&&Y==Y&&("number"!==Be||ot||(Y+=xe&&xe[3]||(r.cssNumber[tt]?"":"px")),d.clearCloneStyle||""!==Y||0!==M.indexOf("background")||(dt[M]="inherit"),He&&"set"in He&&void 0===(Y=He.set(c,Y,te))||(ot?dt.setProperty(M,Y):dt[M]=Y))}},css:function(c,M,Y,te){var xe,Be,He,tt=j(M);return Cn.test(M)||(M=tn(tt)),(He=r.cssHooks[M]||r.cssHooks[tt])&&"get"in He&&(xe=He.get(c,!0,Y)),void 0===xe&&(xe=ft(c,M,te)),"normal"===xe&&M in jn&&(xe=jn[M]),""===Y||Y?(Be=parseFloat(xe),!0===Y||isFinite(Be)?Be||0:xe):xe}}),r.each(["height","width"],function(c,M){r.cssHooks[M]={get:function(Y,te,xe){if(te)return!kn.test(r.css(Y,"display"))||Y.getClientRects().length&&Y.getBoundingClientRect().width?dn(Y,M,xe):st(Y,Fn,function(){return dn(Y,M,xe)})},set:function(Y,te,xe){var Be,He=Ie(Y),tt=!d.scrollboxSize()&&"absolute"===He.position,ot=(tt||xe)&&"border-box"===r.css(Y,"boxSizing",!1,He),dt=xe?qt(Y,M,xe,ot,He):0;return ot&&tt&&(dt-=Math.ceil(Y["offset"+M[0].toUpperCase()+M.slice(1)]-parseFloat(He[M])-qt(Y,M,"border",!1,He)-.5)),dt&&(Be=Le.exec(te))&&"px"!==(Be[3]||"px")&&(Y.style[M]=te,te=r.css(Y,M)),cn(0,te,dt)}}}),r.cssHooks.marginLeft=zt(d.reliableMarginLeft,function(c,M){if(M)return(parseFloat(ft(c,"marginLeft"))||c.getBoundingClientRect().left-st(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(c,M){r.cssHooks[c+M]={expand:function(Y){for(var te=0,xe={},Be="string"==typeof Y?Y.split(" "):[Y];te<4;te++)xe[c+ke[te]+M]=Be[te]||Be[te-2]||Be[0];return xe}},"margin"!==c&&(r.cssHooks[c+M].set=cn)}),r.fn.extend({css:function(c,M){return ae(this,function(Y,te,xe){var Be,He,tt={},ot=0;if(Array.isArray(te)){for(Be=Ie(Y),He=te.length;ot<He;ot++)tt[te[ot]]=r.css(Y,te[ot],!1,Be);return tt}return void 0!==xe?r.style(Y,te,xe):r.css(Y,te)},c,M,1<arguments.length)}}),((r.Tween=fn).prototype={constructor:fn,init:function(c,M,Y,te,xe,Be){this.elem=c,this.prop=Y,this.easing=xe||r.easing._default,this.options=M,this.start=this.now=this.cur(),this.end=te,this.unit=Be||(r.cssNumber[Y]?"":"px")},cur:function(){var c=fn.propHooks[this.prop];return c&&c.get?c.get(this):fn.propHooks._default.get(this)},run:function(c){var M,Y=fn.propHooks[this.prop];return this.pos=M=this.options.duration?r.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):c,this.now=(this.end-this.start)*M+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Y&&Y.set?Y.set(this):fn.propHooks._default.set(this),this}}).init.prototype=fn.prototype,(fn.propHooks={_default:{get:function(c){var M;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(M=r.css(c.elem,c.prop,""))&&"auto"!==M?M:0},set:function(c){r.fx.step[c.prop]?r.fx.step[c.prop](c):1!==c.elem.nodeType||!r.cssHooks[c.prop]&&null==c.elem.style[tn(c.prop)]?c.elem[c.prop]=c.now:r.style(c.elem,c.prop,c.now+c.unit)}}}).scrollTop=fn.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},r.easing={linear:function(c){return c},swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"},r.fx=fn.prototype.init,r.fx.step={};var Jt,pn,Zn,Xn,F=/^(?:toggle|show|hide)$/,K=/queueHooks$/;function ye(){pn&&(!1===v.hidden&&Ye.requestAnimationFrame?Ye.requestAnimationFrame(ye):Ye.setTimeout(ye,r.fx.interval),r.fx.tick())}function Me(){return Ye.setTimeout(function(){Jt=void 0}),Jt=Date.now()}function wt(c,M){var Y,te=0,xe={height:c};for(M=M?1:0;te<4;te+=2-M)xe["margin"+(Y=ke[te])]=xe["padding"+Y]=c;return M&&(xe.opacity=xe.width=c),xe}function Rt(c,M,Y){for(var te,xe=(Nt.tweeners[M]||[]).concat(Nt.tweeners["*"]),Be=0,He=xe.length;Be<He;Be++)if(te=xe[Be].call(Y,M,c))return te}function Nt(c,M,Y){var te,xe,Be=0,He=Nt.prefilters.length,tt=r.Deferred().always(function(){delete ot.elem}),ot=function(){if(xe)return!1;for(var Ht=Jt||Me(),_t=Math.max(0,dt.startTime+dt.duration-Ht),Et=1-(_t/dt.duration||0),en=0,sn=dt.tweens.length;en<sn;en++)dt.tweens[en].run(Et);return tt.notifyWith(c,[dt,Et,_t]),Et<1&&sn?_t:(sn||tt.notifyWith(c,[dt,1,0]),tt.resolveWith(c,[dt]),!1)},dt=tt.promise({elem:c,props:r.extend({},M),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},Y),originalProperties:M,originalOptions:Y,startTime:Jt||Me(),duration:Y.duration,tweens:[],createTween:function(Ht,_t){var Et=r.Tween(c,dt.opts,Ht,_t,dt.opts.specialEasing[Ht]||dt.opts.easing);return dt.tweens.push(Et),Et},stop:function(Ht){var _t=0,Et=Ht?dt.tweens.length:0;if(xe)return this;for(xe=!0;_t<Et;_t++)dt.tweens[_t].run(1);return Ht?(tt.notifyWith(c,[dt,1,0]),tt.resolveWith(c,[dt,Ht])):tt.rejectWith(c,[dt,Ht]),this}}),jt=dt.props;for(function(Ht,_t){var Et,en,sn,Xt,nr;for(Et in Ht)if(sn=_t[en=j(Et)],Xt=Ht[Et],Array.isArray(Xt)&&(sn=Xt[1],Xt=Ht[Et]=Xt[0]),Et!==en&&(Ht[en]=Xt,delete Ht[Et]),(nr=r.cssHooks[en])&&"expand"in nr)for(Et in Xt=nr.expand(Xt),delete Ht[en],Xt)Et in Ht||(Ht[Et]=Xt[Et],_t[Et]=sn);else _t[en]=sn}(jt,dt.opts.specialEasing);Be<He;Be++)if(te=Nt.prefilters[Be].call(dt,c,jt,dt.opts))return P(te.stop)&&(r._queueHooks(dt.elem,dt.opts.queue).stop=te.stop.bind(te)),te;return r.map(jt,Rt,dt),P(dt.opts.start)&&dt.opts.start.call(c,dt),dt.progress(dt.opts.progress).done(dt.opts.done,dt.opts.complete).fail(dt.opts.fail).always(dt.opts.always),r.fx.timer(r.extend(ot,{elem:c,anim:dt,queue:dt.opts.queue})),dt}r.Animation=r.extend(Nt,{tweeners:{"*":[function(c,M){var Y=this.createTween(c,M);return St(Y.elem,c,Le.exec(M),Y),Y}]},tweener:function(c,M){P(c)?(M=c,c=["*"]):c=c.match(ge);for(var Y,te=0,xe=c.length;te<xe;te++)(Nt.tweeners[Y=c[te]]=Nt.tweeners[Y]||[]).unshift(M)},prefilters:[function(c,M,Y){var te,xe,Be,He,tt,ot,dt,jt,Ht="width"in M||"height"in M,_t=this,Et={},en=c.style,sn=c.nodeType&&Je(c),Xt=n.get(c,"fxshow");for(te in Y.queue||(null==(He=r._queueHooks(c,"fx")).unqueued&&(He.unqueued=0,tt=He.empty.fire,He.empty.fire=function(){He.unqueued||tt()}),He.unqueued++,_t.always(function(){_t.always(function(){He.unqueued--,r.queue(c,"fx").length||He.empty.fire()})})),M)if(F.test(xe=M[te])){if(delete M[te],Be=Be||"toggle"===xe,xe===(sn?"hide":"show")){if("show"!==xe||!Xt||void 0===Xt[te])continue;sn=!0}Et[te]=Xt&&Xt[te]||r.style(c,te)}if((ot=!r.isEmptyObject(M))||!r.isEmptyObject(Et))for(te in Ht&&1===c.nodeType&&(Y.overflow=[en.overflow,en.overflowX,en.overflowY],null==(dt=Xt&&Xt.display)&&(dt=n.get(c,"display")),"none"===(jt=r.css(c,"display"))&&(dt?jt=dt:(Z([c],!0),dt=c.style.display||dt,jt=r.css(c,"display"),Z([c]))),("inline"===jt||"inline-block"===jt&&null!=dt)&&"none"===r.css(c,"float")&&(ot||(_t.done(function(){en.display=dt}),null==dt&&(dt="none"===(jt=en.display)?"":jt)),en.display="inline-block")),Y.overflow&&(en.overflow="hidden",_t.always(function(){en.overflow=Y.overflow[0],en.overflowX=Y.overflow[1],en.overflowY=Y.overflow[2]})),ot=!1,Et)ot||(Xt?"hidden"in Xt&&(sn=Xt.hidden):Xt=n.access(c,"fxshow",{display:dt}),Be&&(Xt.hidden=!sn),sn&&Z([c],!0),_t.done(function(){for(te in sn||Z([c]),n.remove(c,"fxshow"),Et)r.style(c,te,Et[te])})),ot=Rt(sn?Xt[te]:0,te,_t),te in Xt||(Xt[te]=ot.start,sn&&(ot.end=ot.start,ot.start=0))}],prefilter:function(c,M){M?Nt.prefilters.unshift(c):Nt.prefilters.push(c)}}),r.speed=function(c,M,Y){var te=c&&"object"==typeof c?r.extend({},c):{complete:Y||!Y&&M||P(c)&&c,duration:c,easing:Y&&M||M&&!P(M)&&M};return r.fx.off?te.duration=0:"number"!=typeof te.duration&&(te.duration=te.duration in r.fx.speeds?r.fx.speeds[te.duration]:r.fx.speeds._default),null!=te.queue&&!0!==te.queue||(te.queue="fx"),te.old=te.complete,te.complete=function(){P(te.old)&&te.old.call(this),te.queue&&r.dequeue(this,te.queue)},te},r.fn.extend({fadeTo:function(c,M,Y,te){return this.filter(Je).css("opacity",0).show().end().animate({opacity:M},c,Y,te)},animate:function(c,M,Y,te){var xe=r.isEmptyObject(c),Be=r.speed(M,Y,te),He=function(){var tt=Nt(this,r.extend({},c),Be);(xe||n.get(this,"finish"))&&tt.stop(!0)};return He.finish=He,xe||!1===Be.queue?this.each(He):this.queue(Be.queue,He)},stop:function(c,M,Y){var te=function(xe){var Be=xe.stop;delete xe.stop,Be(Y)};return"string"!=typeof c&&(Y=M,M=c,c=void 0),M&&this.queue(c||"fx",[]),this.each(function(){var xe=!0,Be=null!=c&&c+"queueHooks",He=r.timers,tt=n.get(this);if(Be)tt[Be]&&tt[Be].stop&&te(tt[Be]);else for(Be in tt)tt[Be]&&tt[Be].stop&&K.test(Be)&&te(tt[Be]);for(Be=He.length;Be--;)He[Be].elem!==this||null!=c&&He[Be].queue!==c||(He[Be].anim.stop(Y),xe=!1,He.splice(Be,1));!xe&&Y||r.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var M,Y=n.get(this),te=Y[c+"queue"],xe=Y[c+"queueHooks"],Be=r.timers,He=te?te.length:0;for(Y.finish=!0,r.queue(this,c,[]),xe&&xe.stop&&xe.stop.call(this,!0),M=Be.length;M--;)Be[M].elem===this&&Be[M].queue===c&&(Be[M].anim.stop(!0),Be.splice(M,1));for(M=0;M<He;M++)te[M]&&te[M].finish&&te[M].finish.call(this);delete Y.finish})}}),r.each(["toggle","show","hide"],function(c,M){var Y=r.fn[M];r.fn[M]=function(te,xe,Be){return null==te||"boolean"==typeof te?Y.apply(this,arguments):this.animate(wt(M,!0),te,xe,Be)}}),r.each({slideDown:wt("show"),slideUp:wt("hide"),slideToggle:wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,M){r.fn[c]=function(Y,te,xe){return this.animate(M,Y,te,xe)}}),r.timers=[],r.fx.tick=function(){var c,M=0,Y=r.timers;for(Jt=Date.now();M<Y.length;M++)(c=Y[M])()||Y[M]!==c||Y.splice(M--,1);Y.length||r.fx.stop(),Jt=void 0},r.fx.timer=function(c){r.timers.push(c),r.fx.start()},r.fx.interval=13,r.fx.start=function(){pn||(pn=!0,ye())},r.fx.stop=function(){pn=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(c,M){return c=r.fx&&r.fx.speeds[c]||c,this.queue(M=M||"fx",function(Y,te){var xe=Ye.setTimeout(Y,c);te.stop=function(){Ye.clearTimeout(xe)}})},Zn=v.createElement("input"),Xn=v.createElement("select").appendChild(v.createElement("option")),Zn.type="checkbox",d.checkOn=""!==Zn.value,d.optSelected=Xn.selected,(Zn=v.createElement("input")).value="t",Zn.type="radio",d.radioValue="t"===Zn.value;var Mt,Ft=r.expr.attrHandle;r.fn.extend({attr:function(c,M){return ae(this,r.attr,c,M,1<arguments.length)},removeAttr:function(c){return this.each(function(){r.removeAttr(this,c)})}}),r.extend({attr:function(c,M,Y){var te,xe,Be=c.nodeType;if(3!==Be&&8!==Be&&2!==Be)return void 0===c.getAttribute?r.prop(c,M,Y):(1===Be&&r.isXMLDoc(c)||(xe=r.attrHooks[M.toLowerCase()]||(r.expr.match.bool.test(M)?Mt:void 0)),void 0!==Y?null===Y?void r.removeAttr(c,M):xe&&"set"in xe&&void 0!==(te=xe.set(c,Y,M))?te:(c.setAttribute(M,Y+""),Y):xe&&"get"in xe&&null!==(te=xe.get(c,M))?te:null==(te=r.find.attr(c,M))?void 0:te)},attrHooks:{type:{set:function(c,M){if(!d.radioValue&&"radio"===M&&p(c,"input")){var Y=c.value;return c.setAttribute("type",M),Y&&(c.value=Y),M}}}},removeAttr:function(c,M){var Y,te=0,xe=M&&M.match(ge);if(xe&&1===c.nodeType)for(;Y=xe[te++];)c.removeAttribute(Y)}}),Mt={set:function(c,M,Y){return!1===M?r.removeAttr(c,Y):c.setAttribute(Y,Y),Y}},r.each(r.expr.match.bool.source.match(/\w+/g),function(c,M){var Y=Ft[M]||r.find.attr;Ft[M]=function(te,xe,Be){var He,tt,ot=xe.toLowerCase();return Be||(tt=Ft[ot],Ft[ot]=He,He=null!=Y(te,xe,Be)?ot:null,Ft[ot]=tt),He}});var gn=/^(?:input|select|textarea|button)$/i,Tn=/^(?:a|area)$/i;function An(c){return(c.match(ge)||[]).join(" ")}function Yn(c){return c.getAttribute&&c.getAttribute("class")||""}function wr(c){return Array.isArray(c)?c:"string"==typeof c&&c.match(ge)||[]}r.fn.extend({prop:function(c,M){return ae(this,r.prop,c,M,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[r.propFix[c]||c]})}}),r.extend({prop:function(c,M,Y){var te,xe,Be=c.nodeType;if(3!==Be&&8!==Be&&2!==Be)return 1===Be&&r.isXMLDoc(c)||(xe=r.propHooks[M=r.propFix[M]||M]),void 0!==Y?xe&&"set"in xe&&void 0!==(te=xe.set(c,Y,M))?te:c[M]=Y:xe&&"get"in xe&&null!==(te=xe.get(c,M))?te:c[M]},propHooks:{tabIndex:{get:function(c){var M=r.find.attr(c,"tabindex");return M?parseInt(M,10):gn.test(c.nodeName)||Tn.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(r.propHooks.selected={get:function(c){return null},set:function(c){}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this}),r.fn.extend({addClass:function(c){var M,Y,te,xe,Be,He,tt,ot=0;if(P(c))return this.each(function(dt){r(this).addClass(c.call(this,dt,Yn(this)))});if((M=wr(c)).length)for(;Y=this[ot++];)if(xe=Yn(Y),te=1===Y.nodeType&&" "+An(xe)+" "){for(He=0;Be=M[He++];)te.indexOf(" "+Be+" ")<0&&(te+=Be+" ");xe!==(tt=An(te))&&Y.setAttribute("class",tt)}return this},removeClass:function(c){var M,Y,te,xe,Be,He,tt,ot=0;if(P(c))return this.each(function(dt){r(this).removeClass(c.call(this,dt,Yn(this)))});if(!arguments.length)return this.attr("class","");if((M=wr(c)).length)for(;Y=this[ot++];)if(xe=Yn(Y),te=1===Y.nodeType&&" "+An(xe)+" "){for(He=0;Be=M[He++];)for(;-1<te.indexOf(" "+Be+" ");)te=te.replace(" "+Be+" "," ");xe!==(tt=An(te))&&Y.setAttribute("class",tt)}return this},toggleClass:function(c,M){var Y=typeof c,te="string"===Y||Array.isArray(c);return"boolean"==typeof M&&te?M?this.addClass(c):this.removeClass(c):P(c)?this.each(function(xe){r(this).toggleClass(c.call(this,xe,Yn(this),M),M)}):this.each(function(){var xe,Be,He,tt;if(te)for(Be=0,He=r(this),tt=wr(c);xe=tt[Be++];)He.hasClass(xe)?He.removeClass(xe):He.addClass(xe);else void 0!==c&&"boolean"!==Y||((xe=Yn(this))&&n.set(this,"__className__",xe),this.setAttribute&&this.setAttribute("class",xe||!1===c?"":n.get(this,"__className__")||""))})},hasClass:function(c){var M,Y,te=0;for(M=" "+c+" ";Y=this[te++];)if(1===Y.nodeType&&-1<(" "+An(Yn(Y))+" ").indexOf(M))return!0;return!1}});var Zr=/\r/g;r.fn.extend({val:function(c){var M,Y,te,xe=this[0];return arguments.length?(te=P(c),this.each(function(Be){var He;1===this.nodeType&&(null==(He=te?c.call(this,Be,r(this).val()):c)?He="":"number"==typeof He?He+="":Array.isArray(He)&&(He=r.map(He,function(tt){return null==tt?"":tt+""})),(M=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()])&&"set"in M&&void 0!==M.set(this,He,"value")||(this.value=He))})):xe?(M=r.valHooks[xe.type]||r.valHooks[xe.nodeName.toLowerCase()])&&"get"in M&&void 0!==(Y=M.get(xe,"value"))?Y:"string"==typeof(Y=xe.value)?Y.replace(Zr,""):null==Y?"":Y:void 0}}),r.extend({valHooks:{option:{get:function(c){var M=r.find.attr(c,"value");return null!=M?M:An(r.text(c))}},select:{get:function(c){var M,Y,te,xe=c.options,Be=c.selectedIndex,He="select-one"===c.type,tt=He?null:[],ot=He?Be+1:xe.length;for(te=Be<0?ot:He?Be:0;te<ot;te++)if(((Y=xe[te]).selected||te===Be)&&!Y.disabled&&(!Y.parentNode.disabled||!p(Y.parentNode,"optgroup"))){if(M=r(Y).val(),He)return M;tt.push(M)}return tt},set:function(c,M){for(var Y,te,xe=c.options,Be=r.makeArray(M),He=xe.length;He--;)((te=xe[He]).selected=-1<r.inArray(r.valHooks.option.get(te),Be))&&(Y=!0);return Y||(c.selectedIndex=-1),Be}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(c,M){if(Array.isArray(M))return c.checked=-1<r.inArray(r(c).val(),M)}},d.checkOn||(r.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})}),d.focusin="onfocusin"in Ye;var Ar=/^(?:focusinfocus|focusoutblur)$/,$r=function(c){c.stopPropagation()};r.extend(r.event,{trigger:function(c,M,Y,te){var xe,Be,He,tt,ot,dt,jt,Ht,_t=[Y||v],Et=g.call(c,"type")?c.type:c,en=g.call(c,"namespace")?c.namespace.split("."):[];if(Be=Ht=He=Y=Y||v,3!==Y.nodeType&&8!==Y.nodeType&&!Ar.test(Et+r.event.triggered)&&(-1<Et.indexOf(".")&&(Et=(en=Et.split(".")).shift(),en.sort()),ot=Et.indexOf(":")<0&&"on"+Et,(c=c[r.expando]?c:new r.Event(Et,"object"==typeof c&&c)).isTrigger=te?2:3,c.namespace=en.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+en.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=Y),M=null==M?[c]:r.makeArray(M,[c]),jt=r.event.special[Et]||{},te||!jt.trigger||!1!==jt.trigger.apply(Y,M))){if(!te&&!jt.noBubble&&!O(Y)){for(Ar.test((tt=jt.delegateType||Et)+Et)||(Be=Be.parentNode);Be;Be=Be.parentNode)_t.push(Be),He=Be;He===(Y.ownerDocument||v)&&_t.push(He.defaultView||He.parentWindow||Ye)}for(xe=0;(Be=_t[xe++])&&!c.isPropagationStopped();)Ht=Be,c.type=1<xe?tt:jt.bindType||Et,(dt=(n.get(Be,"events")||Object.create(null))[c.type]&&n.get(Be,"handle"))&&dt.apply(Be,M),(dt=ot&&Be[ot])&&dt.apply&&C(Be)&&(c.result=dt.apply(Be,M),!1===c.result&&c.preventDefault());return c.type=Et,te||c.isDefaultPrevented()||jt._default&&!1!==jt._default.apply(_t.pop(),M)||!C(Y)||ot&&P(Y[Et])&&!O(Y)&&((He=Y[ot])&&(Y[ot]=null),r.event.triggered=Et,c.isPropagationStopped()&&Ht.addEventListener(Et,$r),Y[Et](),c.isPropagationStopped()&&Ht.removeEventListener(Et,$r),r.event.triggered=void 0,He&&(Y[ot]=He)),c.result}},simulate:function(c,M,Y){var te=r.extend(new r.Event,Y,{type:c,isSimulated:!0});r.event.trigger(te,null,M)}}),r.fn.extend({trigger:function(c,M){return this.each(function(){r.event.trigger(c,M,this)})},triggerHandler:function(c,M){var Y=this[0];if(Y)return r.event.trigger(c,M,Y,!0)}}),d.focusin||r.each({focus:"focusin",blur:"focusout"},function(c,M){var Y=function(te){r.event.simulate(M,te.target,r.event.fix(te))};r.event.special[M]={setup:function(){var te=this.ownerDocument||this.document||this,xe=n.access(te,M);xe||te.addEventListener(c,Y,!0),n.access(te,M,(xe||0)+1)},teardown:function(){var te=this.ownerDocument||this.document||this,xe=n.access(te,M)-1;xe?n.access(te,M,xe):(te.removeEventListener(c,Y,!0),n.remove(te,M))}}});var pr=Ye.location,zr={guid:Date.now()},Dr=/\?/;r.parseXML=function(c){var M,Y;if(!c||"string"!=typeof c)return null;try{M=(new Ye.DOMParser).parseFromString(c,"text/xml")}catch(te){}return Y=M&&M.getElementsByTagName("parsererror")[0],M&&!Y||r.error("Invalid XML: "+(Y?r.map(Y.childNodes,function(te){return te.textContent}).join("\n"):c)),M};var vr=/\[\]$/,ii=/\r?\n/g,Mr=/^(?:submit|button|image|reset|file)$/i,tr=/^(?:input|select|textarea|keygen)/i;function Sr(c,M,Y,te){var xe;if(Array.isArray(M))r.each(M,function(Be,He){Y||vr.test(c)?te(c,He):Sr(c+"["+("object"==typeof He&&null!=He?Be:"")+"]",He,Y,te)});else if(Y||"object"!==T(M))te(c,M);else for(xe in M)Sr(c+"["+xe+"]",M[xe],Y,te)}r.param=function(c,M){var Y,te=[],xe=function(Be,He){var tt=P(He)?He():He;te[te.length]=encodeURIComponent(Be)+"="+encodeURIComponent(null==tt?"":tt)};if(null==c)return"";if(Array.isArray(c)||c.jquery&&!r.isPlainObject(c))r.each(c,function(){xe(this.name,this.value)});else for(Y in c)Sr(Y,c[Y],M,xe);return te.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=r.prop(this,"elements");return c?r.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!r(this).is(":disabled")&&tr.test(this.nodeName)&&!Mr.test(c)&&(this.checked||!qe.test(c))}).map(function(c,M){var Y=r(this).val();return null==Y?null:Array.isArray(Y)?r.map(Y,function(te){return{name:M.name,value:te.replace(ii,"\r\n")}}):{name:M.name,value:Y.replace(ii,"\r\n")}}).get()}});var ar=/%20/g,_r=/#.*$/,si=/([?&])_=[^&]*/,Xr=/^(.*?):[ \t]*([^\r\n]*)$/gm,ei=/^(?:GET|HEAD)$/,Lr=/^\/\//,qr={},jr={},Hr="*/".concat("*"),sr=v.createElement("a");function yi(c){return function(M,Y){"string"!=typeof M&&(Y=M,M="*");var te,xe=0,Be=M.toLowerCase().match(ge)||[];if(P(Y))for(;te=Be[xe++];)"+"===te[0]?(te=te.slice(1)||"*",(c[te]=c[te]||[]).unshift(Y)):(c[te]=c[te]||[]).push(Y)}}function xr(c,M,Y,te){var xe={},Be=c===jr;function He(tt){var ot;return xe[tt]=!0,r.each(c[tt]||[],function(dt,jt){var Ht=jt(M,Y,te);return"string"!=typeof Ht||Be||xe[Ht]?Be?!(ot=Ht):void 0:(M.dataTypes.unshift(Ht),He(Ht),!1)}),ot}return He(M.dataTypes[0])||!xe["*"]&&He("*")}function bi(c,M){var Y,te,xe=r.ajaxSettings.flatOptions||{};for(Y in M)void 0!==M[Y]&&((xe[Y]?c:te||(te={}))[Y]=M[Y]);return te&&r.extend(!0,c,te),c}sr.href=pr.href,r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pr.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,M){return M?bi(bi(c,r.ajaxSettings),M):bi(r.ajaxSettings,c)},ajaxPrefilter:yi(qr),ajaxTransport:yi(jr),ajax:function(c,M){"object"==typeof c&&(M=c,c=void 0);var Y,te,xe,Be,He,tt,ot,dt,jt,Ht,_t=r.ajaxSetup({},M=M||{}),Et=_t.context||_t,en=_t.context&&(Et.nodeType||Et.jquery)?r(Et):r.event,sn=r.Deferred(),Xt=r.Callbacks("once memory"),nr=_t.statusCode||{},lr={},cr={},Un="canceled",wn={readyState:0,getResponseHeader:function(Dn){var Qn;if(ot){if(!Be)for(Be={};Qn=Xr.exec(xe);)Be[Qn[1].toLowerCase()+" "]=(Be[Qn[1].toLowerCase()+" "]||[]).concat(Qn[2]);Qn=Be[Dn.toLowerCase()+" "]}return null==Qn?null:Qn.join(", ")},getAllResponseHeaders:function(){return ot?xe:null},setRequestHeader:function(Dn,Qn){return null==ot&&(Dn=cr[Dn.toLowerCase()]=cr[Dn.toLowerCase()]||Dn,lr[Dn]=Qn),this},overrideMimeType:function(Dn){return null==ot&&(_t.mimeType=Dn),this},statusCode:function(Dn){var Qn;if(Dn)if(ot)wn.always(Dn[wn.status]);else for(Qn in Dn)nr[Qn]=[nr[Qn],Dn[Qn]];return this},abort:function(Dn){var Qn=Dn||Un;return Y&&Y.abort(Qn),Or(0,Qn),this}};if(sn.promise(wn),_t.url=((c||_t.url||pr.href)+"").replace(Lr,pr.protocol+"//"),_t.type=M.method||M.type||_t.method||_t.type,_t.dataTypes=(_t.dataType||"*").toLowerCase().match(ge)||[""],null==_t.crossDomain){tt=v.createElement("a");try{tt.href=_t.url,tt.href=tt.href,_t.crossDomain=sr.protocol+"//"+sr.host!=tt.protocol+"//"+tt.host}catch(Dn){_t.crossDomain=!0}}if(_t.data&&_t.processData&&"string"!=typeof _t.data&&(_t.data=r.param(_t.data,_t.traditional)),xr(qr,_t,M,wn),ot)return wn;for(jt in(dt=r.event&&_t.global)&&0==r.active++&&r.event.trigger("ajaxStart"),_t.type=_t.type.toUpperCase(),_t.hasContent=!ei.test(_t.type),te=_t.url.replace(_r,""),_t.hasContent?_t.data&&_t.processData&&0===(_t.contentType||"").indexOf("application/x-www-form-urlencoded")&&(_t.data=_t.data.replace(ar,"+")):(Ht=_t.url.slice(te.length),_t.data&&(_t.processData||"string"==typeof _t.data)&&(te+=(Dr.test(te)?"&":"?")+_t.data,delete _t.data),!1===_t.cache&&(te=te.replace(si,"$1"),Ht=(Dr.test(te)?"&":"?")+"_="+zr.guid+++Ht),_t.url=te+Ht),_t.ifModified&&(r.lastModified[te]&&wn.setRequestHeader("If-Modified-Since",r.lastModified[te]),r.etag[te]&&wn.setRequestHeader("If-None-Match",r.etag[te])),(_t.data&&_t.hasContent&&!1!==_t.contentType||M.contentType)&&wn.setRequestHeader("Content-Type",_t.contentType),wn.setRequestHeader("Accept",_t.dataTypes[0]&&_t.accepts[_t.dataTypes[0]]?_t.accepts[_t.dataTypes[0]]+("*"!==_t.dataTypes[0]?", "+Hr+"; q=0.01":""):_t.accepts["*"]),_t.headers)wn.setRequestHeader(jt,_t.headers[jt]);if(_t.beforeSend&&(!1===_t.beforeSend.call(Et,wn,_t)||ot))return wn.abort();if(Un="abort",Xt.add(_t.complete),wn.done(_t.success),wn.fail(_t.error),Y=xr(jr,_t,M,wn)){if(wn.readyState=1,dt&&en.trigger("ajaxSend",[wn,_t]),ot)return wn;_t.async&&0<_t.timeout&&(He=Ye.setTimeout(function(){wn.abort("timeout")},_t.timeout));try{ot=!1,Y.send(lr,Or)}catch(Dn){if(ot)throw Dn;Or(-1,Dn)}}else Or(-1,"No Transport");function Or(Dn,Qn,wi,Ai){var Tr,xi,Se,ze,Xe,et=Qn;ot||(ot=!0,He&&Ye.clearTimeout(He),Y=void 0,xe=Ai||"",wn.readyState=0<Dn?4:0,Tr=200<=Dn&&Dn<300||304===Dn,wi&&(ze=function(pt,lt,Ct){for(var It,Zt,rn,xn,Bn=pt.contents,Mn=pt.dataTypes;"*"===Mn[0];)Mn.shift(),void 0===It&&(It=pt.mimeType||lt.getResponseHeader("Content-Type"));if(It)for(Zt in Bn)if(Bn[Zt]&&Bn[Zt].test(It)){Mn.unshift(Zt);break}if(Mn[0]in Ct)rn=Mn[0];else{for(Zt in Ct){if(!Mn[0]||pt.converters[Zt+" "+Mn[0]]){rn=Zt;break}xn||(xn=Zt)}rn=rn||xn}if(rn)return rn!==Mn[0]&&Mn.unshift(rn),Ct[rn]}(_t,wn,wi)),!Tr&&-1<r.inArray("script",_t.dataTypes)&&r.inArray("json",_t.dataTypes)<0&&(_t.converters["text script"]=function(){}),ze=function(pt,lt,Ct,It){var Zt,rn,xn,Bn,Mn,er={},kr=pt.dataTypes.slice();if(kr[1])for(xn in pt.converters)er[xn.toLowerCase()]=pt.converters[xn];for(rn=kr.shift();rn;)if(pt.responseFields[rn]&&(Ct[pt.responseFields[rn]]=lt),!Mn&&It&&pt.dataFilter&&(lt=pt.dataFilter(lt,pt.dataType)),Mn=rn,rn=kr.shift())if("*"===rn)rn=Mn;else if("*"!==Mn&&Mn!==rn){if(!(xn=er[Mn+" "+rn]||er["* "+rn]))for(Zt in er)if((Bn=Zt.split(" "))[1]===rn&&(xn=er[Mn+" "+Bn[0]]||er["* "+Bn[0]])){!0===xn?xn=er[Zt]:!0!==er[Zt]&&(rn=Bn[0],kr.unshift(Bn[1]));break}if(!0!==xn)if(xn&&pt.throws)lt=xn(lt);else try{lt=xn(lt)}catch(gi){return{state:"parsererror",error:xn?gi:"No conversion from "+Mn+" to "+rn}}}return{state:"success",data:lt}}(_t,ze,wn,Tr),Tr?(_t.ifModified&&((Xe=wn.getResponseHeader("Last-Modified"))&&(r.lastModified[te]=Xe),(Xe=wn.getResponseHeader("etag"))&&(r.etag[te]=Xe)),204===Dn||"HEAD"===_t.type?et="nocontent":304===Dn?et="notmodified":(et=ze.state,xi=ze.data,Tr=!(Se=ze.error))):(Se=et,!Dn&&et||(et="error",Dn<0&&(Dn=0))),wn.status=Dn,wn.statusText=(Qn||et)+"",Tr?sn.resolveWith(Et,[xi,et,wn]):sn.rejectWith(Et,[wn,et,Se]),wn.statusCode(nr),nr=void 0,dt&&en.trigger(Tr?"ajaxSuccess":"ajaxError",[wn,_t,Tr?xi:Se]),Xt.fireWith(Et,[wn,et]),dt&&(en.trigger("ajaxComplete",[wn,_t]),--r.active||r.event.trigger("ajaxStop")))}return wn},getJSON:function(c,M,Y){return r.get(c,M,Y,"json")},getScript:function(c,M){return r.get(c,void 0,M,"script")}}),r.each(["get","post"],function(c,M){r[M]=function(Y,te,xe,Be){return P(te)&&(Be=Be||xe,xe=te,te=void 0),r.ajax(r.extend({url:Y,type:M,dataType:Be,data:te,success:xe},r.isPlainObject(Y)&&Y))}}),r.ajaxPrefilter(function(c){var M;for(M in c.headers)"content-type"===M.toLowerCase()&&(c.contentType=c.headers[M]||"")}),r._evalUrl=function(c,M,Y){return r.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(te){r.globalEval(te,M,Y)}})},r.fn.extend({wrapAll:function(c){var M;return this[0]&&(P(c)&&(c=c.call(this[0])),M=r(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&M.insertBefore(this[0]),M.map(function(){for(var Y=this;Y.firstElementChild;)Y=Y.firstElementChild;return Y}).append(this)),this},wrapInner:function(c){return P(c)?this.each(function(M){r(this).wrapInner(c.call(this,M))}):this.each(function(){var M=r(this),Y=M.contents();Y.length?Y.wrapAll(c):M.append(c)})},wrap:function(c){var M=P(c);return this.each(function(Y){r(this).wrapAll(M?c.call(this,Y):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(c){return!r.expr.pseudos.visible(c)},r.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new Ye.XMLHttpRequest}catch(c){}};var Jr={0:200,1223:204},Hn=r.ajaxSettings.xhr();d.cors=!!Hn&&"withCredentials"in Hn,d.ajax=Hn=!!Hn,r.ajaxTransport(function(c){var M,Y;if(d.cors||Hn&&!c.crossDomain)return{send:function(te,xe){var Be,He=c.xhr();if(He.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(Be in c.xhrFields)He[Be]=c.xhrFields[Be];for(Be in c.mimeType&&He.overrideMimeType&&He.overrideMimeType(c.mimeType),c.crossDomain||te["X-Requested-With"]||(te["X-Requested-With"]="XMLHttpRequest"),te)He.setRequestHeader(Be,te[Be]);M=function(tt){return function(){M&&(M=Y=He.onload=He.onerror=He.onabort=He.ontimeout=He.onreadystatechange=null,"abort"===tt?He.abort():"error"===tt?"number"!=typeof He.status?xe(0,"error"):xe(He.status,He.statusText):xe(Jr[He.status]||He.status,He.statusText,"text"!==(He.responseType||"text")||"string"!=typeof He.responseText?{binary:He.response}:{text:He.responseText},He.getAllResponseHeaders()))}},He.onload=M(),Y=He.onerror=He.ontimeout=M("error"),void 0!==He.onabort?He.onabort=Y:He.onreadystatechange=function(){4===He.readyState&&Ye.setTimeout(function(){M&&Y()})},M=M("abort");try{He.send(c.hasContent&&c.data||null)}catch(tt){if(M)throw tt}},abort:function(){M&&M()}}}),r.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return r.globalEval(c),c}}}),r.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),r.ajaxTransport("script",function(c){var M,Y;if(c.crossDomain||c.scriptAttrs)return{send:function(te,xe){M=r("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",Y=function(Be){M.remove(),Y=null,Be&&xe("error"===Be.type?404:200,Be.type)}),v.head.appendChild(M[0])},abort:function(){Y&&Y()}}});var Gr,ti=[],Vr=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=ti.pop()||r.expando+"_"+zr.guid++;return this[c]=!0,c}}),r.ajaxPrefilter("json jsonp",function(c,M,Y){var te,xe,Be,He=!1!==c.jsonp&&(Vr.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vr.test(c.data)&&"data");if(He||"jsonp"===c.dataTypes[0])return te=c.jsonpCallback=P(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,He?c[He]=c[He].replace(Vr,"$1"+te):!1!==c.jsonp&&(c.url+=(Dr.test(c.url)?"&":"?")+c.jsonp+"="+te),c.converters["script json"]=function(){return Be||r.error(te+" was not called"),Be[0]},c.dataTypes[0]="json",xe=Ye[te],Ye[te]=function(){Be=arguments},Y.always(function(){void 0===xe?r(Ye).removeProp(te):Ye[te]=xe,c[te]&&(c.jsonpCallback=M.jsonpCallback,ti.push(te)),Be&&P(xe)&&xe(Be[0]),Be=xe=void 0}),"script"}),d.createHTMLDocument=((Gr=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gr.childNodes.length),r.parseHTML=function(c,M,Y){return"string"!=typeof c?[]:("boolean"==typeof M&&(Y=M,M=!1),M||(d.createHTMLDocument?((te=(M=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,M.head.appendChild(te)):M=v),Be=!Y&&[],(xe=u.exec(c))?[M.createElement(xe[1])]:(xe=$e([c],M,Be),Be&&Be.length&&r(Be).remove(),r.merge([],xe.childNodes)));var te,xe,Be},r.fn.load=function(c,M,Y){var te,xe,Be,He=this,tt=c.indexOf(" ");return-1<tt&&(te=An(c.slice(tt)),c=c.slice(0,tt)),P(M)?(Y=M,M=void 0):M&&"object"==typeof M&&(xe="POST"),0<He.length&&r.ajax({url:c,type:xe||"GET",dataType:"html",data:M}).done(function(ot){Be=arguments,He.html(te?r("<div>").append(r.parseHTML(ot)).find(te):ot)}).always(Y&&function(ot,dt){He.each(function(){Y.apply(this,Be||[ot.responseText,dt,ot])})}),this},r.expr.pseudos.animated=function(c){return r.grep(r.timers,function(M){return c===M.elem}).length},r.offset={setOffset:function(c,M,Y){var te,xe,Be,He,tt,ot,dt=r.css(c,"position"),jt=r(c),Ht={};"static"===dt&&(c.style.position="relative"),tt=jt.offset(),Be=r.css(c,"top"),ot=r.css(c,"left"),("absolute"===dt||"fixed"===dt)&&-1<(Be+ot).indexOf("auto")?(He=(te=jt.position()).top,xe=te.left):(He=parseFloat(Be)||0,xe=parseFloat(ot)||0),P(M)&&(M=M.call(c,Y,r.extend({},tt))),null!=M.top&&(Ht.top=M.top-tt.top+He),null!=M.left&&(Ht.left=M.left-tt.left+xe),"using"in M?M.using.call(c,Ht):jt.css(Ht)}},r.fn.extend({offset:function(c){if(arguments.length)return void 0===c?this:this.each(function(xe){r.offset.setOffset(this,c,xe)});var M,Y,te=this[0];return te?te.getClientRects().length?{top:(M=te.getBoundingClientRect()).top+(Y=te.ownerDocument.defaultView).pageYOffset,left:M.left+Y.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var c,M,Y,te=this[0],xe={top:0,left:0};if("fixed"===r.css(te,"position"))M=te.getBoundingClientRect();else{for(M=this.offset(),Y=te.ownerDocument,c=te.offsetParent||Y.documentElement;c&&(c===Y.body||c===Y.documentElement)&&"static"===r.css(c,"position");)c=c.parentNode;c&&c!==te&&1===c.nodeType&&((xe=r(c).offset()).top+=r.css(c,"borderTopWidth",!0),xe.left+=r.css(c,"borderLeftWidth",!0))}return{top:M.top-xe.top-r.css(te,"marginTop",!0),left:M.left-xe.left-r.css(te,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===r.css(c,"position");)c=c.offsetParent;return c||ve})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,M){var Y="pageYOffset"===M;r.fn[c]=function(te){return ae(this,function(xe,Be,He){var tt;if(O(xe)?tt=xe:9===xe.nodeType&&(tt=xe.defaultView),void 0===He)return tt?tt[M]:xe[Be];tt?tt.scrollTo(Y?tt.pageXOffset:He,Y?He:tt.pageYOffset):xe[Be]=He},c,te,arguments.length)}}),r.each(["top","left"],function(c,M){r.cssHooks[M]=zt(d.pixelPosition,function(Y,te){if(te)return te=ft(Y,M),he.test(te)?r(Y).position()[M]+"px":te})}),r.each({Height:"height",Width:"width"},function(c,M){r.each({padding:"inner"+c,content:M,"":"outer"+c},function(Y,te){r.fn[te]=function(xe,Be){var He=arguments.length&&(Y||"boolean"!=typeof xe),tt=Y||(!0===xe||!0===Be?"margin":"border");return ae(this,function(ot,dt,jt){var Ht;return O(ot)?0===te.indexOf("outer")?ot["inner"+c]:ot.document.documentElement["client"+c]:9===ot.nodeType?(Ht=ot.documentElement,Math.max(ot.body["scroll"+c],Ht["scroll"+c],ot.body["offset"+c],Ht["offset"+c],Ht["client"+c])):void 0===jt?r.css(ot,dt,tt):r.style(ot,dt,jt,tt)},M,He?xe:void 0,He)}})}),r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,M){r.fn[M]=function(Y){return this.on(M,Y)}}),r.fn.extend({bind:function(c,M,Y){return this.on(c,null,M,Y)},unbind:function(c,M){return this.off(c,null,M)},delegate:function(c,M,Y,te){return this.on(M,c,Y,te)},undelegate:function(c,M,Y){return 1===arguments.length?this.off(c,"**"):this.off(M,c||"**",Y)},hover:function(c,M){return this.mouseenter(c).mouseleave(M||c)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,M){r.fn[M]=function(Y,te){return 0<arguments.length?this.on(M,null,Y,te):this.trigger(M)}});var Ur=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;r.proxy=function(c,M){var Y,te,xe;if("string"==typeof M&&(Y=c[M],M=c,c=Y),P(c))return te=se.call(arguments,2),(xe=function(){return c.apply(M||this,te.concat(se.call(arguments)))}).guid=c.guid=c.guid||r.guid++,xe},r.holdReady=function(c){c?r.readyWait++:r.ready(!0)},r.isArray=Array.isArray,r.parseJSON=JSON.parse,r.nodeName=p,r.isFunction=P,r.isWindow=O,r.camelCase=j,r.type=T,r.now=Date.now,r.isNumeric=function(c){var M=r.type(c);return("number"===M||"string"===M)&&!isNaN(c-parseFloat(c))},r.trim=function(c){return null==c?"":(c+"").replace(Ur,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var yr=Ye.jQuery,pi=Ye.$;return r.noConflict=function(c){return Ye.$===r&&(Ye.$=pi),c&&Ye.jQuery===r&&(Ye.jQuery=yr),r},void 0===le&&(Ye.jQuery=Ye.$=r),r}),function(Ye,le){"object"==typeof exports&&"object"==typeof module?module.exports=le():"function"==typeof define&&define.amd?define([],le):"object"==typeof exports?exports.grapesjs=le():Ye.grapesjs=le()}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:this,function(){return function(Ye){var le={};function o(ee){if(le[ee])return le[ee].exports;var se=le[ee]={i:ee,l:!1,exports:{}};return Ye[ee].call(se.exports,se,se.exports,o),se.l=!0,se.exports}return o.m=Ye,o.c=le,o.d=function(ee,se,J){o.o(ee,se)||Object.defineProperty(ee,se,{enumerable:!0,get:J})},o.r=function(ee){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ee,"__esModule",{value:!0})},o.t=function(ee,se){if(1&se&&(ee=o(ee)),8&se||4&se&&"object"==typeof ee&&ee&&ee.__esModule)return ee;var J=Object.create(null);if(o.r(J),Object.defineProperty(J,"default",{enumerable:!0,value:ee}),2&se&&"string"!=typeof ee)for(var U in ee)o.d(J,U,function(L){return ee[L]}.bind(null,U));return J},o.n=function(ee){var se=ee&&ee.__esModule?function(){return ee.default}:function(){return ee};return o.d(se,"a",se),se},o.o=function(ee,se){return Object.prototype.hasOwnProperty.call(ee,se)},o.p="",o(o.s=100)}([function(Ye,le,o){"use strict";o.r(le),o.d(le,"default",function(){return xi}),o.d(le,"VERSION",function(){return se.e}),o.d(le,"restArguments",function(){return J}),o.d(le,"isObject",function(){return U}),o.d(le,"isNull",function(){return L}),o.d(le,"isUndefined",function(){return k}),o.d(le,"isBoolean",function(){return f}),o.d(le,"isElement",function(){return g}),o.d(le,"isString",function(){return y}),o.d(le,"isNumber",function(){return d}),o.d(le,"isDate",function(){return P}),o.d(le,"isRegExp",function(){return O}),o.d(le,"isError",function(){return v}),o.d(le,"isSymbol",function(){return D}),o.d(le,"isArrayBuffer",function(){return I}),o.d(le,"isDataView",function(){return w}),o.d(le,"isArray",function(){return p}),o.d(le,"isFunction",function(){return r}),o.d(le,"isArguments",function(){return b}),o.d(le,"isFinite",function(){return R}),o.d(le,"isNaN",function(){return Q}),o.d(le,"isTypedArray",function(){return de}),o.d(le,"isEmpty",function(){return ne}),o.d(le,"isMatch",function(){return G}),o.d(le,"isEqual",function(){return n}),o.d(le,"isMap",function(){return Ne}),o.d(le,"isWeakMap",function(){return Je}),o.d(le,"isSet",function(){return St}),o.d(le,"isWeakSet",function(){return vt}),o.d(le,"keys",function(){return ae}),o.d(le,"allKeys",function(){return m}),o.d(le,"values",function(){return Z}),o.d(le,"pairs",function(){return ce}),o.d(le,"invert",function(){return je}),o.d(le,"functions",function(){return qe}),o.d(le,"methods",function(){return qe}),o.d(le,"extend",function(){return ut}),o.d(le,"extendOwn",function(){return mt}),o.d(le,"assign",function(){return mt}),o.d(le,"defaults",function(){return X}),o.d(le,"create",function(){return Re}),o.d(le,"clone",function(){return $e}),o.d(le,"tap",function(){return me}),o.d(le,"get",function(){return Pt}),o.d(le,"has",function(){return Dt}),o.d(le,"mapObject",function(){return z}),o.d(le,"identity",function(){return ct}),o.d(le,"constant",function(){return re}),o.d(le,"noop",function(){return we}),o.d(le,"toPath",function(){return Ke}),o.d(le,"property",function(){return De}),o.d(le,"propertyOf",function(){return he}),o.d(le,"matcher",function(){return Tt}),o.d(le,"matches",function(){return Tt}),o.d(le,"times",function(){return Ie}),o.d(le,"random",function(){return st}),o.d(le,"now",function(){return kt}),o.d(le,"escape",function(){return nn}),o.d(le,"unescape",function(){return Wt}),o.d(le,"templateSettings",function(){return ln}),o.d(le,"template",function(){return cn}),o.d(le,"result",function(){return qt}),o.d(le,"uniqueId",function(){return fn}),o.d(le,"chain",function(){return Jt}),o.d(le,"iteratee",function(){return rt}),o.d(le,"partial",function(){return Xn}),o.d(le,"bind",function(){return F}),o.d(le,"bindAll",function(){return Me}),o.d(le,"memoize",function(){return wt}),o.d(le,"delay",function(){return Rt}),o.d(le,"defer",function(){return Nt}),o.d(le,"throttle",function(){return Mt}),o.d(le,"debounce",function(){return Ft}),o.d(le,"wrap",function(){return gn}),o.d(le,"negate",function(){return Tn}),o.d(le,"compose",function(){return An}),o.d(le,"after",function(){return Yn}),o.d(le,"before",function(){return wr}),o.d(le,"once",function(){return Zr}),o.d(le,"findKey",function(){return Ar}),o.d(le,"findIndex",function(){return pr}),o.d(le,"findLastIndex",function(){return zr}),o.d(le,"sortedIndex",function(){return Dr}),o.d(le,"indexOf",function(){return ii}),o.d(le,"lastIndexOf",function(){return Mr}),o.d(le,"find",function(){return tr}),o.d(le,"detect",function(){return tr}),o.d(le,"findWhere",function(){return Sr}),o.d(le,"each",function(){return ar}),o.d(le,"forEach",function(){return ar}),o.d(le,"map",function(){return _r}),o.d(le,"collect",function(){return _r}),o.d(le,"reduce",function(){return Xr}),o.d(le,"foldl",function(){return Xr}),o.d(le,"inject",function(){return Xr}),o.d(le,"reduceRight",function(){return ei}),o.d(le,"foldr",function(){return ei}),o.d(le,"filter",function(){return Lr}),o.d(le,"select",function(){return Lr}),o.d(le,"reject",function(){return qr}),o.d(le,"every",function(){return jr}),o.d(le,"all",function(){return jr}),o.d(le,"some",function(){return Hr}),o.d(le,"any",function(){return Hr}),o.d(le,"contains",function(){return sr}),o.d(le,"includes",function(){return sr}),o.d(le,"include",function(){return sr}),o.d(le,"invoke",function(){return yi}),o.d(le,"pluck",function(){return xr}),o.d(le,"where",function(){return bi}),o.d(le,"max",function(){return Jr}),o.d(le,"min",function(){return Hn}),o.d(le,"shuffle",function(){return ti}),o.d(le,"sample",function(){return Gr}),o.d(le,"sortBy",function(){return Vr}),o.d(le,"groupBy",function(){return yr}),o.d(le,"indexBy",function(){return pi}),o.d(le,"countBy",function(){return c}),o.d(le,"partition",function(){return M}),o.d(le,"toArray",function(){return te}),o.d(le,"size",function(){return xe}),o.d(le,"pick",function(){return He}),o.d(le,"omit",function(){return tt}),o.d(le,"first",function(){return dt}),o.d(le,"head",function(){return dt}),o.d(le,"take",function(){return dt}),o.d(le,"initial",function(){return ot}),o.d(le,"last",function(){return Ht}),o.d(le,"rest",function(){return jt}),o.d(le,"tail",function(){return jt}),o.d(le,"drop",function(){return jt}),o.d(le,"compact",function(){return _t}),o.d(le,"flatten",function(){return Et}),o.d(le,"without",function(){return sn}),o.d(le,"uniq",function(){return Xt}),o.d(le,"unique",function(){return Xt}),o.d(le,"union",function(){return nr}),o.d(le,"intersection",function(){return lr}),o.d(le,"difference",function(){return en}),o.d(le,"unzip",function(){return cr}),o.d(le,"transpose",function(){return cr}),o.d(le,"zip",function(){return Un}),o.d(le,"object",function(){return wn}),o.d(le,"range",function(){return Or}),o.d(le,"chunk",function(){return Dn}),o.d(le,"mixin",function(){return wi});var ee={};o.r(ee),o.d(ee,"VERSION",function(){return se.e}),o.d(ee,"restArguments",function(){return J}),o.d(ee,"isObject",function(){return U}),o.d(ee,"isNull",function(){return L}),o.d(ee,"isUndefined",function(){return k}),o.d(ee,"isBoolean",function(){return f}),o.d(ee,"isElement",function(){return g}),o.d(ee,"isString",function(){return y}),o.d(ee,"isNumber",function(){return d}),o.d(ee,"isDate",function(){return P}),o.d(ee,"isRegExp",function(){return O}),o.d(ee,"isError",function(){return v}),o.d(ee,"isSymbol",function(){return D}),o.d(ee,"isArrayBuffer",function(){return I}),o.d(ee,"isDataView",function(){return w}),o.d(ee,"isArray",function(){return p}),o.d(ee,"isFunction",function(){return r}),o.d(ee,"isArguments",function(){return b}),o.d(ee,"isFinite",function(){return R}),o.d(ee,"isNaN",function(){return Q}),o.d(ee,"isTypedArray",function(){return de}),o.d(ee,"isEmpty",function(){return ne}),o.d(ee,"isMatch",function(){return G}),o.d(ee,"isEqual",function(){return n}),o.d(ee,"isMap",function(){return Ne}),o.d(ee,"isWeakMap",function(){return Je}),o.d(ee,"isSet",function(){return St}),o.d(ee,"isWeakSet",function(){return vt}),o.d(ee,"keys",function(){return ae}),o.d(ee,"allKeys",function(){return m}),o.d(ee,"values",function(){return Z}),o.d(ee,"pairs",function(){return ce}),o.d(ee,"invert",function(){return je}),o.d(ee,"functions",function(){return qe}),o.d(ee,"methods",function(){return qe}),o.d(ee,"extend",function(){return ut}),o.d(ee,"extendOwn",function(){return mt}),o.d(ee,"assign",function(){return mt}),o.d(ee,"defaults",function(){return X}),o.d(ee,"create",function(){return Re}),o.d(ee,"clone",function(){return $e}),o.d(ee,"tap",function(){return me}),o.d(ee,"get",function(){return Pt}),o.d(ee,"has",function(){return Dt}),o.d(ee,"mapObject",function(){return z}),o.d(ee,"identity",function(){return ct}),o.d(ee,"constant",function(){return re}),o.d(ee,"noop",function(){return we}),o.d(ee,"toPath",function(){return Ke}),o.d(ee,"property",function(){return De}),o.d(ee,"propertyOf",function(){return he}),o.d(ee,"matcher",function(){return Tt}),o.d(ee,"matches",function(){return Tt}),o.d(ee,"times",function(){return Ie}),o.d(ee,"random",function(){return st}),o.d(ee,"now",function(){return kt}),o.d(ee,"escape",function(){return nn}),o.d(ee,"unescape",function(){return Wt}),o.d(ee,"templateSettings",function(){return ln}),o.d(ee,"template",function(){return cn}),o.d(ee,"result",function(){return qt}),o.d(ee,"uniqueId",function(){return fn}),o.d(ee,"chain",function(){return Jt}),o.d(ee,"iteratee",function(){return rt}),o.d(ee,"partial",function(){return Xn}),o.d(ee,"bind",function(){return F}),o.d(ee,"bindAll",function(){return Me}),o.d(ee,"memoize",function(){return wt}),o.d(ee,"delay",function(){return Rt}),o.d(ee,"defer",function(){return Nt}),o.d(ee,"throttle",function(){return Mt}),o.d(ee,"debounce",function(){return Ft}),o.d(ee,"wrap",function(){return gn}),o.d(ee,"negate",function(){return Tn}),o.d(ee,"compose",function(){return An}),o.d(ee,"after",function(){return Yn}),o.d(ee,"before",function(){return wr}),o.d(ee,"once",function(){return Zr}),o.d(ee,"findKey",function(){return Ar}),o.d(ee,"findIndex",function(){return pr}),o.d(ee,"findLastIndex",function(){return zr}),o.d(ee,"sortedIndex",function(){return Dr}),o.d(ee,"indexOf",function(){return ii}),o.d(ee,"lastIndexOf",function(){return Mr}),o.d(ee,"find",function(){return tr}),o.d(ee,"detect",function(){return tr}),o.d(ee,"findWhere",function(){return Sr}),o.d(ee,"each",function(){return ar}),o.d(ee,"forEach",function(){return ar}),o.d(ee,"map",function(){return _r}),o.d(ee,"collect",function(){return _r}),o.d(ee,"reduce",function(){return Xr}),o.d(ee,"foldl",function(){return Xr}),o.d(ee,"inject",function(){return Xr}),o.d(ee,"reduceRight",function(){return ei}),o.d(ee,"foldr",function(){return ei}),o.d(ee,"filter",function(){return Lr}),o.d(ee,"select",function(){return Lr}),o.d(ee,"reject",function(){return qr}),o.d(ee,"every",function(){return jr}),o.d(ee,"all",function(){return jr}),o.d(ee,"some",function(){return Hr}),o.d(ee,"any",function(){return Hr}),o.d(ee,"contains",function(){return sr}),o.d(ee,"includes",function(){return sr}),o.d(ee,"include",function(){return sr}),o.d(ee,"invoke",function(){return yi}),o.d(ee,"pluck",function(){return xr}),o.d(ee,"where",function(){return bi}),o.d(ee,"max",function(){return Jr}),o.d(ee,"min",function(){return Hn}),o.d(ee,"shuffle",function(){return ti}),o.d(ee,"sample",function(){return Gr}),o.d(ee,"sortBy",function(){return Vr}),o.d(ee,"groupBy",function(){return yr}),o.d(ee,"indexBy",function(){return pi}),o.d(ee,"countBy",function(){return c}),o.d(ee,"partition",function(){return M}),o.d(ee,"toArray",function(){return te}),o.d(ee,"size",function(){return xe}),o.d(ee,"pick",function(){return He}),o.d(ee,"omit",function(){return tt}),o.d(ee,"first",function(){return dt}),o.d(ee,"head",function(){return dt}),o.d(ee,"take",function(){return dt}),o.d(ee,"initial",function(){return ot}),o.d(ee,"last",function(){return Ht}),o.d(ee,"rest",function(){return jt}),o.d(ee,"tail",function(){return jt}),o.d(ee,"drop",function(){return jt}),o.d(ee,"compact",function(){return _t}),o.d(ee,"flatten",function(){return Et}),o.d(ee,"without",function(){return sn}),o.d(ee,"uniq",function(){return Xt}),o.d(ee,"unique",function(){return Xt}),o.d(ee,"union",function(){return nr}),o.d(ee,"intersection",function(){return lr}),o.d(ee,"difference",function(){return en}),o.d(ee,"unzip",function(){return cr}),o.d(ee,"transpose",function(){return cr}),o.d(ee,"zip",function(){return Un}),o.d(ee,"object",function(){return wn}),o.d(ee,"range",function(){return Or}),o.d(ee,"chunk",function(){return Dn}),o.d(ee,"mixin",function(){return wi}),o.d(ee,"default",function(){return Ai});var se=o(7);function J(Se,ze){return ze=null==ze?Se.length-1:+ze,function(){for(var Xe=Math.max(arguments.length-ze,0),et=Array(Xe),pt=0;pt<Xe;pt++)et[pt]=arguments[pt+ze];switch(ze){case 0:return Se.call(this,et);case 1:return Se.call(this,arguments[0],et);case 2:return Se.call(this,arguments[0],arguments[1],et)}var lt=Array(ze+1);for(pt=0;pt<ze;pt++)lt[pt]=arguments[pt];return lt[ze]=et,Se.apply(this,lt)}}function U(Se){var ze=typeof Se;return"function"===ze||"object"===ze&&!!Se}function L(Se){return null===Se}function k(Se){return void 0===Se}function f(Se){return!0===Se||!1===Se||"[object Boolean]"===se.t.call(Se)}function g(Se){return!(!Se||1!==Se.nodeType)}function h(Se){var ze="[object "+Se+"]";return function(Xe){return se.t.call(Xe)===ze}}var y=h("String"),d=h("Number"),P=h("Date"),O=h("RegExp"),v=h("Error"),D=h("Symbol"),I=h("ArrayBuffer"),T=h("Function");"object"!=typeof Int8Array&&"function"!=typeof(se.p.document&&se.p.document.childNodes)&&(T=function(Se){return"function"==typeof Se||!1});var r=T,_=h("Object"),E=se.s&&_(new DataView(new ArrayBuffer(8))),B="undefined"!=typeof Map&&_(new Map),$=h("DataView"),w=E?function(Se){return null!=Se&&r(Se.getInt8)&&I(Se.buffer)}:$,p=se.k||h("Array");function u(Se,ze){return null!=Se&&se.i.call(Se,ze)}var x=h("Arguments");!function(){x(arguments)||(x=function(Se){return u(Se,"callee")})}();var b=x;function R(Se){return!D(Se)&&Object(se.f)(Se)&&!isNaN(parseFloat(Se))}function Q(Se){return d(Se)&&Object(se.g)(Se)}function re(Se){return function(){return Se}}function Fe(Se){return function(ze){var Xe=Se(ze);return"number"==typeof Xe&&Xe>=0&&Xe<=se.b}}function ge(Se){return function(ze){return null==ze?void 0:ze[Se]}}var fe=ge("byteLength"),Ae=Fe(fe),Pe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,de=se.r?function(Se){return se.l?Object(se.l)(Se)&&!w(Se):Ae(Se)&&Pe.test(se.t.call(Se))}:re(!1),pe=ge("length");function _e(Se,ze){ze=function(Ct){for(var It={},Zt=Ct.length,rn=0;rn<Zt;++rn)It[Ct[rn]]=!0;return{contains:function(xn){return It[xn]},push:function(xn){return It[xn]=!0,Ct.push(xn)}}}(ze);var Xe=se.n.length,et=Se.constructor,pt=r(et)&&et.prototype||se.c,lt="constructor";for(u(Se,lt)&&!ze.contains(lt)&&ze.push(lt);Xe--;)(lt=se.n[Xe])in Se&&Se[lt]!==pt[lt]&&!ze.contains(lt)&&ze.push(lt)}function ae(Se){if(!U(Se))return[];if(se.m)return Object(se.m)(Se);var ze=[];for(var Xe in Se)u(Se,Xe)&&ze.push(Xe);return se.h&&_e(Se,ze),ze}function ne(Se){if(null==Se)return!0;var ze=pe(Se);return"number"==typeof ze&&(p(Se)||y(Se)||b(Se))?0===ze:0===pe(ae(Se))}function G(Se,ze){var Xe=ae(ze),et=Xe.length;if(null==Se)return!et;for(var pt=Object(Se),lt=0;lt<et;lt++){var Ct=Xe[lt];if(ze[Ct]!==pt[Ct]||!(Ct in pt))return!1}return!0}function W(Se){return Se instanceof W?Se:this instanceof W?void(this._wrapped=Se):new W(Se)}function j(Se){return new Uint8Array(Se.buffer||Se,Se.byteOffset||0,fe(Se))}W.VERSION=se.e,W.prototype.valueOf=W.prototype.toJSON=W.prototype.value=function(){return this._wrapped},W.prototype.toString=function(){return String(this._wrapped)};var C="[object DataView]";function H(Se,ze,Xe,et){if(Se===ze)return 0!==Se||1/Se==1/ze;if(null==Se||null==ze)return!1;if(Se!=Se)return ze!=ze;var pt=typeof Se;return("function"===pt||"object"===pt||"object"==typeof ze)&&function lt(Ct,It,Zt,rn){Ct instanceof W&&(Ct=Ct._wrapped),It instanceof W&&(It=It._wrapped);var xn=se.t.call(Ct);if(xn!==se.t.call(It))return!1;if(E&&"[object Object]"==xn&&w(Ct)){if(!w(It))return!1;xn=C}switch(xn){case"[object RegExp]":case"[object String]":return""+Ct==""+It;case"[object Number]":return+Ct!=+Ct?+It!=+It:0==+Ct?1/+Ct==1/It:+Ct==+It;case"[object Date]":case"[object Boolean]":return+Ct==+It;case"[object Symbol]":return se.d.valueOf.call(Ct)===se.d.valueOf.call(It);case"[object ArrayBuffer]":case C:return lt(j(Ct),j(It),Zt,rn)}var Bn="[object Array]"===xn;if(!Bn&&de(Ct)){if(fe(Ct)!==fe(It))return!1;if(Ct.buffer===It.buffer&&Ct.byteOffset===It.byteOffset)return!0;Bn=!0}if(!Bn){if("object"!=typeof Ct||"object"!=typeof It)return!1;var Mn=Ct.constructor,er=It.constructor;if(Mn!==er&&!(r(Mn)&&Mn instanceof Mn&&r(er)&&er instanceof er)&&"constructor"in Ct&&"constructor"in It)return!1}rn=rn||[];for(var kr=(Zt=Zt||[]).length;kr--;)if(Zt[kr]===Ct)return rn[kr]===It;if(Zt.push(Ct),rn.push(It),Bn){if((kr=Ct.length)!==It.length)return!1;for(;kr--;)if(!H(Ct[kr],It[kr],Zt,rn))return!1}else{var gi,Yi=ae(Ct);if(kr=Yi.length,ae(It).length!==kr)return!1;for(;kr--;)if(!u(It,gi=Yi[kr])||!H(Ct[gi],It[gi],Zt,rn))return!1}return Zt.pop(),rn.pop(),!0}(Se,ze,Xe,et)}function n(Se,ze){return H(Se,ze)}function m(Se){if(!U(Se))return[];var ze=[];for(var Xe in Se)ze.push(Xe);return se.h&&_e(Se,ze),ze}function l(Se){var ze=pe(Se);return function(Xe){if(null==Xe)return!1;var et=m(Xe);if(pe(et))return!1;for(var pt=0;pt<ze;pt++)if(!r(Xe[Se[pt]]))return!1;return Se!==ve||!r(Xe[A])}}var A="forEach",be=["clear","delete"],Le=["get","has","set"],ke=be.concat(A,Le),ve=be.concat(Le),Ee=["add"].concat(be,A,"has"),Ne=B?l(ke):h("Map"),Je=B?l(ve):h("WeakMap"),St=B?l(Ee):h("Set"),vt=h("WeakSet");function Z(Se){for(var ze=ae(Se),Xe=ze.length,et=Array(Xe),pt=0;pt<Xe;pt++)et[pt]=Se[ze[pt]];return et}function ce(Se){for(var ze=ae(Se),Xe=ze.length,et=Array(Xe),pt=0;pt<Xe;pt++)et[pt]=[ze[pt],Se[ze[pt]]];return et}function je(Se){for(var ze={},Xe=ae(Se),et=0,pt=Xe.length;et<pt;et++)ze[Se[Xe[et]]]=Xe[et];return ze}function qe(Se){var ze=[];for(var Xe in Se)r(Se[Xe])&&ze.push(Xe);return ze.sort()}function nt(Se,ze){return function(Xe){var et=arguments.length;if(ze&&(Xe=Object(Xe)),et<2||null==Xe)return Xe;for(var pt=1;pt<et;pt++)for(var lt=arguments[pt],Ct=Se(lt),It=Ct.length,Zt=0;Zt<It;Zt++){var rn=Ct[Zt];ze&&void 0!==Xe[rn]||(Xe[rn]=lt[rn])}return Xe}}var ut=nt(m),mt=nt(ae),X=nt(m,!0);function Te(Se){if(!U(Se))return{};if(se.j)return Object(se.j)(Se);var ze=function(){};ze.prototype=Se;var Xe=new ze;return ze.prototype=null,Xe}function Re(Se,ze){var Xe=Te(Se);return ze&&mt(Xe,ze),Xe}function $e(Se){return U(Se)?p(Se)?Se.slice():ut({},Se):Se}function me(Se,ze){return ze(Se),Se}function Ke(Se){return p(Se)?Se:[Se]}function Ze(Se){return W.toPath(Se)}function ht(Se,ze){for(var Xe=ze.length,et=0;et<Xe;et++){if(null==Se)return;Se=Se[ze[et]]}return Xe?Se:void 0}function Pt(Se,ze,Xe){var et=ht(Se,Ze(ze));return k(et)?Xe:et}function Dt(Se,ze){for(var Xe=(ze=Ze(ze)).length,et=0;et<Xe;et++){var pt=ze[et];if(!u(Se,pt))return!1;Se=Se[pt]}return!!Xe}function ct(Se){return Se}function Tt(Se){return Se=mt({},Se),function(ze){return G(ze,Se)}}function De(Se){return Se=Ze(Se),function(ze){return ht(ze,Se)}}function Ot(Se,ze,Xe){if(void 0===ze)return Se;switch(null==Xe?3:Xe){case 1:return function(et){return Se.call(ze,et)};case 3:return function(et,pt,lt){return Se.call(ze,et,pt,lt)};case 4:return function(et,pt,lt,Ct){return Se.call(ze,et,pt,lt,Ct)}}return function(){return Se.apply(ze,arguments)}}function oe(Se,ze,Xe){return null==Se?ct:r(Se)?Ot(Se,ze,Xe):U(Se)&&!p(Se)?Tt(Se):De(Se)}function rt(Se,ze){return oe(Se,ze,1/0)}function V(Se,ze,Xe){return W.iteratee!==rt?W.iteratee(Se,ze):oe(Se,ze,Xe)}function z(Se,ze,Xe){ze=V(ze,Xe);for(var et=ae(Se),pt=et.length,lt={},Ct=0;Ct<pt;Ct++){var It=et[Ct];lt[It]=ze(Se[It],It,Se)}return lt}function we(){}function he(Se){return null==Se?we:function(ze){return Pt(Se,ze)}}function Ie(Se,ze,Xe){var et=Array(Math.max(0,Se));ze=Ot(ze,Xe,1);for(var pt=0;pt<Se;pt++)et[pt]=ze(pt);return et}function st(Se,ze){return null==ze&&(ze=Se,Se=0),Se+Math.floor(Math.random()*(ze-Se+1))}W.toPath=Ke,W.iteratee=rt;var kt=Date.now||function(){return(new Date).getTime()};function ft(Se){var ze=function(lt){return Se[lt]},Xe="(?:"+ae(Se).join("|")+")",et=RegExp(Xe),pt=RegExp(Xe,"g");return function(lt){return et.test(lt=null==lt?"":""+lt)?lt.replace(pt,ze):lt}}var zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},nn=ft(zt),Wt=ft(je(zt)),ln=W.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},tn=/(.)^/,kn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Cn=/\\|'|\r|\n|\u2028|\u2029/g;function Fn(Se){return"\\"+kn[Se]}var jn=/^\s*(\w|\$)+\s*$/;function cn(Se,ze,Xe){!ze&&Xe&&(ze=Xe),ze=X({},ze,W.templateSettings);var et=RegExp([(ze.escape||tn).source,(ze.interpolate||tn).source,(ze.evaluate||tn).source].join("|")+"|$","g"),pt=0,lt="__p+='";Se.replace(et,function(rn,xn,Bn,Mn,er){return lt+=Se.slice(pt,er).replace(Cn,Fn),pt=er+rn.length,xn?lt+="'+\n((__t=("+xn+"))==null?'':_.escape(__t))+\n'":Bn?lt+="'+\n((__t=("+Bn+"))==null?'':__t)+\n'":Mn&&(lt+="';\n"+Mn+"\n__p+='"),rn}),lt+="';\n";var Ct,It=ze.variable;if(It){if(!jn.test(It))throw new Error("variable is not a bare identifier: "+It)}else lt="with(obj||{}){\n"+lt+"}\n",It="obj";lt="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+lt+"return __p;\n";try{Ct=new Function(It,"_",lt)}catch(rn){throw rn.source=lt,rn}var Zt=function(rn){return Ct.call(this,rn,W)};return Zt.source="function("+It+"){\n"+lt+"}",Zt}function qt(Se,ze,Xe){var et=(ze=Ze(ze)).length;if(!et)return r(Xe)?Xe.call(Se):Xe;for(var pt=0;pt<et;pt++){var lt=null==Se?void 0:Se[ze[pt]];void 0===lt&&(lt=Xe,pt=et),Se=r(lt)?lt.call(Se):lt}return Se}var dn=0;function fn(Se){var ze=++dn+"";return Se?Se+ze:ze}function Jt(Se){var ze=W(Se);return ze._chain=!0,ze}function pn(Se,ze,Xe,et,pt){if(!(et instanceof ze))return Se.apply(Xe,pt);var lt=Te(Se.prototype),Ct=Se.apply(lt,pt);return U(Ct)?Ct:lt}var Zn=J(function(Se,ze){var Xe=Zn.placeholder,et=function(){for(var pt=0,lt=ze.length,Ct=Array(lt),It=0;It<lt;It++)Ct[It]=ze[It]===Xe?arguments[pt++]:ze[It];for(;pt<arguments.length;)Ct.push(arguments[pt++]);return pn(Se,et,this,this,Ct)};return et});Zn.placeholder=W;var Xn=Zn,F=J(function(Se,ze,Xe){if(!r(Se))throw new TypeError("Bind must be called on a function");var et=J(function(pt){return pn(Se,et,ze,this,Xe.concat(pt))});return et}),K=Fe(pe);function ye(Se,ze,Xe,et){if(et=et||[],ze||0===ze){if(ze<=0)return et.concat(Se)}else ze=1/0;for(var pt=et.length,lt=0,Ct=pe(Se);lt<Ct;lt++){var It=Se[lt];if(K(It)&&(p(It)||b(It)))if(ze>1)ye(It,ze-1,Xe,et),pt=et.length;else for(var Zt=0,rn=It.length;Zt<rn;)et[pt++]=It[Zt++];else Xe||(et[pt++]=It)}return et}var Me=J(function(Se,ze){var Xe=(ze=ye(ze,!1,!1)).length;if(Xe<1)throw new Error("bindAll must be passed function names");for(;Xe--;){var et=ze[Xe];Se[et]=F(Se[et],Se)}return Se});function wt(Se,ze){var Xe=function(et){var pt=Xe.cache,lt=""+(ze?ze.apply(this,arguments):et);return u(pt,lt)||(pt[lt]=Se.apply(this,arguments)),pt[lt]};return Xe.cache={},Xe}var Rt=J(function(Se,ze,Xe){return setTimeout(function(){return Se.apply(null,Xe)},ze)}),Nt=Xn(Rt,W,1);function Mt(Se,ze,Xe){var et,pt,lt,Ct,It=0;Xe||(Xe={});var Zt=function(){It=!1===Xe.leading?0:kt(),et=null,Ct=Se.apply(pt,lt),et||(pt=lt=null)},rn=function(){var xn=kt();It||!1!==Xe.leading||(It=xn);var Bn=ze-(xn-It);return pt=this,lt=arguments,Bn<=0||Bn>ze?(et&&(clearTimeout(et),et=null),It=xn,Ct=Se.apply(pt,lt),et||(pt=lt=null)):et||!1===Xe.trailing||(et=setTimeout(Zt,Bn)),Ct};return rn.cancel=function(){clearTimeout(et),It=0,et=pt=lt=null},rn}function Ft(Se,ze,Xe){var et,pt,lt,Ct,It,Zt=function(){var xn=kt()-pt;ze>xn?et=setTimeout(Zt,ze-xn):(et=null,Xe||(Ct=Se.apply(It,lt)),et||(lt=It=null))},rn=J(function(xn){return It=this,lt=xn,pt=kt(),et||(et=setTimeout(Zt,ze),Xe&&(Ct=Se.apply(It,lt))),Ct});return rn.cancel=function(){clearTimeout(et),et=lt=It=null},rn}function gn(Se,ze){return Xn(ze,Se)}function Tn(Se){return function(){return!Se.apply(this,arguments)}}function An(){var Se=arguments,ze=Se.length-1;return function(){for(var Xe=ze,et=Se[ze].apply(this,arguments);Xe--;)et=Se[Xe].call(this,et);return et}}function Yn(Se,ze){return function(){if(--Se<1)return ze.apply(this,arguments)}}function wr(Se,ze){var Xe;return function(){return--Se>0&&(Xe=ze.apply(this,arguments)),Se<=1&&(ze=null),Xe}}var Zr=Xn(wr,2);function Ar(Se,ze,Xe){ze=V(ze,Xe);for(var et,pt=ae(Se),lt=0,Ct=pt.length;lt<Ct;lt++)if(ze(Se[et=pt[lt]],et,Se))return et}function $r(Se){return function(ze,Xe,et){Xe=V(Xe,et);for(var pt=pe(ze),lt=Se>0?0:pt-1;lt>=0&&lt<pt;lt+=Se)if(Xe(ze[lt],lt,ze))return lt;return-1}}var pr=$r(1),zr=$r(-1);function Dr(Se,ze,Xe,et){for(var pt=(Xe=V(Xe,et,1))(ze),lt=0,Ct=pe(Se);lt<Ct;){var It=Math.floor((lt+Ct)/2);Xe(Se[It])<pt?lt=It+1:Ct=It}return lt}function vr(Se,ze,Xe){return function(et,pt,lt){var Ct=0,It=pe(et);if("number"==typeof lt)Se>0?Ct=lt>=0?lt:Math.max(lt+It,Ct):It=lt>=0?Math.min(lt+1,It):lt+It+1;else if(Xe&&lt&&It)return et[lt=Xe(et,pt)]===pt?lt:-1;if(pt!=pt)return(lt=ze(se.q.call(et,Ct,It),Q))>=0?lt+Ct:-1;for(lt=Se>0?Ct:It-1;lt>=0&&lt<It;lt+=Se)if(et[lt]===pt)return lt;return-1}}var ii=vr(1,pr,Dr),Mr=vr(-1,zr);function tr(Se,ze,Xe){var et=(K(Se)?pr:Ar)(Se,ze,Xe);if(void 0!==et&&-1!==et)return Se[et]}function Sr(Se,ze){return tr(Se,Tt(ze))}function ar(Se,ze,Xe){var et,pt;if(ze=Ot(ze,Xe),K(Se))for(et=0,pt=Se.length;et<pt;et++)ze(Se[et],et,Se);else{var lt=ae(Se);for(et=0,pt=lt.length;et<pt;et++)ze(Se[lt[et]],lt[et],Se)}return Se}function _r(Se,ze,Xe){ze=V(ze,Xe);for(var et=!K(Se)&&ae(Se),pt=(et||Se).length,lt=Array(pt),Ct=0;Ct<pt;Ct++){var It=et?et[Ct]:Ct;lt[Ct]=ze(Se[It],It,Se)}return lt}function si(Se){var ze=function(Xe,et,pt,lt){var Ct=!K(Xe)&&ae(Xe),It=(Ct||Xe).length,Zt=Se>0?0:It-1;for(lt||(pt=Xe[Ct?Ct[Zt]:Zt],Zt+=Se);Zt>=0&&Zt<It;Zt+=Se){var rn=Ct?Ct[Zt]:Zt;pt=et(pt,Xe[rn],rn,Xe)}return pt};return function(Xe,et,pt,lt){var Ct=arguments.length>=3;return ze(Xe,Ot(et,lt,4),pt,Ct)}}var Xr=si(1),ei=si(-1);function Lr(Se,ze,Xe){var et=[];return ze=V(ze,Xe),ar(Se,function(pt,lt,Ct){ze(pt,lt,Ct)&&et.push(pt)}),et}function qr(Se,ze,Xe){return Lr(Se,Tn(V(ze)),Xe)}function jr(Se,ze,Xe){ze=V(ze,Xe);for(var et=!K(Se)&&ae(Se),pt=(et||Se).length,lt=0;lt<pt;lt++){var Ct=et?et[lt]:lt;if(!ze(Se[Ct],Ct,Se))return!1}return!0}function Hr(Se,ze,Xe){ze=V(ze,Xe);for(var et=!K(Se)&&ae(Se),pt=(et||Se).length,lt=0;lt<pt;lt++){var Ct=et?et[lt]:lt;if(ze(Se[Ct],Ct,Se))return!0}return!1}function sr(Se,ze,Xe,et){return K(Se)||(Se=Z(Se)),("number"!=typeof Xe||et)&&(Xe=0),ii(Se,ze,Xe)>=0}var yi=J(function(Se,ze,Xe){var et,pt;return r(ze)?pt=ze:(ze=Ze(ze),et=ze.slice(0,-1),ze=ze[ze.length-1]),_r(Se,function(lt){var Ct=pt;if(!Ct){if(et&&et.length&&(lt=ht(lt,et)),null==lt)return;Ct=lt[ze]}return null==Ct?Ct:Ct.apply(lt,Xe)})});function xr(Se,ze){return _r(Se,De(ze))}function bi(Se,ze){return Lr(Se,Tt(ze))}function Jr(Se,ze,Xe){var et,pt,lt=-1/0,Ct=-1/0;if(null==ze||"number"==typeof ze&&"object"!=typeof Se[0]&&null!=Se)for(var It=0,Zt=(Se=K(Se)?Se:Z(Se)).length;It<Zt;It++)null!=(et=Se[It])&&et>lt&&(lt=et);else ze=V(ze,Xe),ar(Se,function(rn,xn,Bn){((pt=ze(rn,xn,Bn))>Ct||pt===-1/0&&lt===-1/0)&&(lt=rn,Ct=pt)});return lt}function Hn(Se,ze,Xe){var et,pt,lt=1/0,Ct=1/0;if(null==ze||"number"==typeof ze&&"object"!=typeof Se[0]&&null!=Se)for(var It=0,Zt=(Se=K(Se)?Se:Z(Se)).length;It<Zt;It++)null!=(et=Se[It])&&et<lt&&(lt=et);else ze=V(ze,Xe),ar(Se,function(rn,xn,Bn){((pt=ze(rn,xn,Bn))<Ct||pt===1/0&&lt===1/0)&&(lt=rn,Ct=pt)});return lt}function Gr(Se,ze,Xe){if(null==ze||Xe)return K(Se)||(Se=Z(Se)),Se[st(Se.length-1)];var et=K(Se)?$e(Se):Z(Se),pt=pe(et);ze=Math.max(Math.min(ze,pt),0);for(var lt=pt-1,Ct=0;Ct<ze;Ct++){var It=st(Ct,lt),Zt=et[Ct];et[Ct]=et[It],et[It]=Zt}return et.slice(0,ze)}function ti(Se){return Gr(Se,1/0)}function Vr(Se,ze,Xe){var et=0;return ze=V(ze,Xe),xr(_r(Se,function(pt,lt,Ct){return{value:pt,index:et++,criteria:ze(pt,lt,Ct)}}).sort(function(pt,lt){var Ct=pt.criteria,It=lt.criteria;if(Ct!==It){if(Ct>It||void 0===Ct)return 1;if(Ct<It||void 0===It)return-1}return pt.index-lt.index}),"value")}function Ur(Se,ze){return function(Xe,et,pt){var lt=ze?[[],[]]:{};return et=V(et,pt),ar(Xe,function(Ct,It){var Zt=et(Ct,It,Xe);Se(lt,Ct,Zt)}),lt}}var yr=Ur(function(Se,ze,Xe){u(Se,Xe)?Se[Xe].push(ze):Se[Xe]=[ze]}),pi=Ur(function(Se,ze,Xe){Se[Xe]=ze}),c=Ur(function(Se,ze,Xe){u(Se,Xe)?Se[Xe]++:Se[Xe]=1}),M=Ur(function(Se,ze,Xe){Se[Xe?0:1].push(ze)},!0),Y=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function te(Se){return Se?p(Se)?se.q.call(Se):y(Se)?Se.match(Y):K(Se)?_r(Se,ct):Z(Se):[]}function xe(Se){return null==Se?0:K(Se)?Se.length:ae(Se).length}function Be(Se,ze,Xe){return ze in Xe}var He=J(function(Se,ze){var Xe={},et=ze[0];if(null==Se)return Xe;r(et)?(ze.length>1&&(et=Ot(et,ze[1])),ze=m(Se)):(et=Be,ze=ye(ze,!1,!1),Se=Object(Se));for(var pt=0,lt=ze.length;pt<lt;pt++){var Ct=ze[pt],It=Se[Ct];et(It,Ct,Se)&&(Xe[Ct]=It)}return Xe}),tt=J(function(Se,ze){var Xe,et=ze[0];return r(et)?(et=Tn(et),ze.length>1&&(Xe=ze[1])):(ze=_r(ye(ze,!1,!1),String),et=function(pt,lt){return!sr(ze,lt)}),He(Se,et,Xe)});function ot(Se,ze,Xe){return se.q.call(Se,0,Math.max(0,Se.length-(null==ze||Xe?1:ze)))}function dt(Se,ze,Xe){return null==Se||Se.length<1?null==ze||Xe?void 0:[]:null==ze||Xe?Se[0]:ot(Se,Se.length-ze)}function jt(Se,ze,Xe){return se.q.call(Se,null==ze||Xe?1:ze)}function Ht(Se,ze,Xe){return null==Se||Se.length<1?null==ze||Xe?void 0:[]:null==ze||Xe?Se[Se.length-1]:jt(Se,Math.max(0,Se.length-ze))}function _t(Se){return Lr(Se,Boolean)}function Et(Se,ze){return ye(Se,ze,!1)}var en=J(function(Se,ze){return ze=ye(ze,!0,!0),Lr(Se,function(Xe){return!sr(ze,Xe)})}),sn=J(function(Se,ze){return en(Se,ze)});function Xt(Se,ze,Xe,et){f(ze)||(et=Xe,Xe=ze,ze=!1),null!=Xe&&(Xe=V(Xe,et));for(var pt=[],lt=[],Ct=0,It=pe(Se);Ct<It;Ct++){var Zt=Se[Ct],rn=Xe?Xe(Zt,Ct,Se):Zt;ze&&!Xe?(Ct&&lt===rn||pt.push(Zt),lt=rn):Xe?sr(lt,rn)||(lt.push(rn),pt.push(Zt)):sr(pt,Zt)||pt.push(Zt)}return pt}var nr=J(function(Se){return Xt(ye(Se,!0,!0))});function lr(Se){for(var ze=[],Xe=arguments.length,et=0,pt=pe(Se);et<pt;et++){var lt=Se[et];if(!sr(ze,lt)){var Ct;for(Ct=1;Ct<Xe&&sr(arguments[Ct],lt);Ct++);Ct===Xe&&ze.push(lt)}}return ze}function cr(Se){for(var ze=Se&&Jr(Se,pe).length||0,Xe=Array(ze),et=0;et<ze;et++)Xe[et]=xr(Se,et);return Xe}var Un=J(cr);function wn(Se,ze){for(var Xe={},et=0,pt=pe(Se);et<pt;et++)ze?Xe[Se[et]]=ze[et]:Xe[Se[et][0]]=Se[et][1];return Xe}function Or(Se,ze,Xe){null==ze&&(ze=Se||0,Se=0),Xe||(Xe=ze<Se?-1:1);for(var et=Math.max(Math.ceil((ze-Se)/Xe),0),pt=Array(et),lt=0;lt<et;lt++,Se+=Xe)pt[lt]=Se;return pt}function Dn(Se,ze){if(null==ze||ze<1)return[];for(var Xe=[],et=0,pt=Se.length;et<pt;)Xe.push(se.q.call(Se,et,et+=ze));return Xe}function Qn(Se,ze){return Se._chain?W(ze).chain():ze}function wi(Se){return ar(qe(Se),function(ze){var Xe=W[ze]=Se[ze];W.prototype[ze]=function(){var et=[this._wrapped];return se.o.apply(et,arguments),Qn(this,Xe.apply(W,et))}}),W}ar(["pop","push","reverse","shift","sort","splice","unshift"],function(Se){var ze=se.a[Se];W.prototype[Se]=function(){var Xe=this._wrapped;return null!=Xe&&(ze.apply(Xe,arguments),"shift"!==Se&&"splice"!==Se||0!==Xe.length||delete Xe[0]),Qn(this,Xe)}}),ar(["concat","join","slice"],function(Se){var ze=se.a[Se];W.prototype[Se]=function(){var Xe=this._wrapped;return null!=Xe&&(Xe=ze.apply(Xe,arguments)),Qn(this,Xe)}});var Ai=W,Tr=wi(ee);Tr._=Tr;var xi=Tr},function(Ye,le,o){"use strict";o.r(le),o.d(le,"hasWin",function(){return k}),o.d(le,"toLowerCase",function(){return f}),o.d(le,"getUiClass",function(){return y}),o.d(le,"isCommentNode",function(){return B}),o.d(le,"isTaggableNode",function(){return $}),o.d(le,"find",function(){return w}),o.d(le,"escape",function(){return p}),o.d(le,"on",function(){return O}),o.d(le,"off",function(){return v}),o.d(le,"hasDnd",function(){return r}),o.d(le,"upFirst",function(){return I}),o.d(le,"matches",function(){return h}),o.d(le,"getModel",function(){return u}),o.d(le,"getElRect",function(){return x}),o.d(le,"camelCase",function(){return T}),o.d(le,"isTextNode",function(){return E}),o.d(le,"getKeyCode",function(){return R}),o.d(le,"getKeyChar",function(){return Q}),o.d(le,"isEscKey",function(){return re}),o.d(le,"isEnterKey",function(){return Fe}),o.d(le,"getElement",function(){return _}),o.d(le,"shallowDiff",function(){return P}),o.d(le,"normalizeFloat",function(){return S}),o.d(le,"getPointerEvent",function(){return b}),o.d(le,"getUnitFromValue",function(){return D}),o.d(le,"capitalize",function(){return Ae}),o.d(le,"getViewEl",function(){return pe}),o.d(le,"setViewEl",function(){return _e}),o.d(le,"appendStyles",function(){return d}),o.d(le,"isObject",function(){return ge}),o.d(le,"isEmptyObj",function(){return fe}),o.d(le,"isComponent",function(){return Pe}),o.d(le,"createId",function(){return ae}),o.d(le,"isRule",function(){return de});var ee=o(14),se=o.n(ee),J=o(11),U=o.n(J),L=o(0),k=function(){return"undefined"!=typeof window},f=function(ne){return(ne||"").toLowerCase()},g=k()?window.Element.prototype:{},h=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector,y=function(ne,G){var W=ne.getConfig();return[W.customUI&&"".concat(W.stylePrefix,"cui"),G].filter(function(C){return C}).join(" ")},d=function ne(G){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=Object(L.isArray)(G)?U()(G):[G];if(j.length){var C=j.shift();if(C&&(!W.unique||!document.querySelector('link[href="'.concat(C,'"]')))){var H=document,n=H.head,m=document.createElement("link");m.href=C,m.rel="stylesheet",W.prepand?n.insertBefore(m,n.firstChild):n.appendChild(m)}ne(j)}},P=function(ne,G){var W={},j=Object(L.keys)(G);for(var C in ne)if(ne.hasOwnProperty(C)){var H=ne[C],n=G[C];j.indexOf(C)>=0?H!==n&&(W[C]=n):W[C]=null}for(var m in G)G.hasOwnProperty(m)&&Object(L.isUndefined)(ne[m])&&(W[m]=G[m]);return W},O=function(ne,G,W,j){G=G.split(/\s+/),ne=ne instanceof Array?ne:[ne];for(var C=function(n){ne.forEach(function(m){return m&&m.addEventListener(G[n],W,j)})},H=0;H<G.length;++H)C(H)},v=function(ne,G,W,j){G=G.split(/\s+/),ne=ne instanceof Array?ne:[ne];for(var C=function(n){ne.forEach(function(m){return m&&m.removeEventListener(G[n],W,j)})},H=0;H<G.length;++H)C(H)},D=function(ne){return ne.replace(parseFloat(ne),"")},I=function(ne){return ne[0].toUpperCase()+ne.toLowerCase().slice(1)},T=function(ne){var G=ne.split("-").filter(String);return G[0].toLowerCase()+G.slice(1).map(I)},S=function(ne){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,j=0;if(isNaN(ne))return W;if(ne=parseFloat(ne),Math.floor(ne)!==ne){var C=G.toString().split(".")[1];j=C?C.length:0}return j?parseFloat(ne.toFixed(j)):ne},r=function(ne){return"draggable"in document.createElement("i")&&(ne?ne.get("Config").nativeDnD:1)},_=function(ne){return Object(L.isElement)(ne)||E(ne)?ne:ne&&ne.getEl?ne.getEl():void 0},E=function(ne){return ne&&3===ne.nodeType},B=function(ne){return ne&&8===ne.nodeType},$=function(ne){return ne&&!E(ne)&&!B(ne)},w=function(ne,G){var W=null;return ne.some(function(j,C){return G(j,C,ne)?(W=j,1):0}),W},p=function(){var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(ne).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},u=function(ne,G){var W=ne;return Object(L.isElement)(ne)&&(W=G(ne).data("model")),W},x=function(ne){var G,W={top:0,left:0,width:0,height:0};if(!ne)return W;if(E(ne)){var j=document.createRange();j.selectNode(ne),G=j.getBoundingClientRect(),j.detach()}return G||(ne.getBoundingClientRect?ne.getBoundingClientRect():W)},b=function(ne){return ne.touches&&ne.touches[0]?ne.touches[0]:ne},R=function(ne){return ne.which||ne.keyCode},Q=function(ne){return String.fromCharCode(R(ne))},re=function(ne){return 27===R(ne)},Fe=function(ne){return 13===R(ne)},ge=function(ne){return null!==ne&&!Array.isArray(ne)&&"object"===se()(ne)},fe=function(ne){return Object.keys(ne).length<=0},Ae=function(ne){return ne&&ne.charAt(0).toUpperCase()+ne.substring(1)},Pe=function(ne){return ne&&ne.toHTML},de=function(ne){return ne&&ne.toCSS},pe=function(ne){return ne.__gjsv},_e=function(ne,G){ne.__gjsv=G},ae=function(){for(var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,G="",W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",j=W.length,C=0;C<ne;C++)G+=W.charAt(Math.floor(Math.random()*j));return G}},function(Ye,le,o){(function(ee){var se,J,L;L="object"==typeof self&&self.self===self&&self||"object"==typeof ee&&ee.global===ee&&ee,se=[o(0),o(18),le],void 0===(J=function(k,f,g){L.Backbone=function(h,y,d,P){var O=h.Backbone,v=Array.prototype.slice;y.VERSION="1.3.3",y.$=P,y.noConflict=function(){return h.Backbone=O,this},y.emulateHTTP=!1,y.emulateJSON=!1;var D=function(n,m,l){d.each(m,function(A,q){d[q]&&(n.prototype[q]=function(be,Le,ke){switch(be){case 1:return function(){return d[Le](this[ke])};case 2:return function(ve){return d[Le](this[ke],ve)};case 3:return function(ve,Ee){return d[Le](this[ke],I(ve,this),Ee)};case 4:return function(ve,Ee,Ne){return d[Le](this[ke],I(ve,this),Ee,Ne)};default:return function(){var ve=v.call(arguments);return ve.unshift(this[ke]),d[Le].apply(d,ve)}}}(A,q,l))})},I=function(n,m){return d.isFunction(n)?n:d.isObject(n)&&!m._isModel(n)?T(n):d.isString(n)?function(l){return l.get(n)}:n},T=function(n){var m=d.matches(n);return function(l){return m(l.attributes)}},S=y.Events={},r=/\s+/,_=function(n,m,l,A,q){var be,Le=0;if(l&&"object"==typeof l)for((void 0!==A&&"context"in q&&void 0===q.context&&(q.context=A),be=d.keys(l));Le<be.length;Le++)m=_(n,m,be[Le],l[be[Le]],q);else if(l&&r.test(l))for(be=l.split(r);Le<be.length;Le++)m=n(m,be[Le],A,q);else m=n(m,l,A,q);return m};S.on=function(n,m,l){return E(this,n,m,l)};var E=function(n,m,l,A,q){return n._events=_(B,n._events||{},m,l,{context:A,ctx:n,listening:q}),q&&((n._listeners||(n._listeners={}))[q.id]=q),n};S.listenTo=function(n,m,l){if(!n)return this;var A=n._listenId||(n._listenId=d.uniqueId("l")),q=this._listeningTo||(this._listeningTo={}),be=q[A];if(!be){var Le=this._listenId||(this._listenId=d.uniqueId("l"));be=q[A]={obj:n,objId:A,id:Le,listeningTo:q,count:0}}return E(n,m,l,this,be),this};var B=function(n,m,l,A){if(l){var q=n[m]||(n[m]=[]),be=A.context,Le=A.ctx,ke=A.listening;ke&&ke.count++,q.push({callback:l,context:be,ctx:be||Le,listening:ke})}return n};S.off=function(n,m,l){return this._events?(this._events=_($,this._events,n,m,{context:l,listeners:this._listeners}),this):this},S.stopListening=function(n,m,l){var A=this._listeningTo;if(!A)return this;for(var q=n?[n._listenId]:d.keys(A),be=0;be<q.length;be++){var Le=A[q[be]];if(!Le)break;Le.obj.off(m,l,this)}return this};var $=function(n,m,l,A){if(n){var q,be=0,Le=A.context,ke=A.listeners;if(m||l||Le){for(var ve=m?[m]:d.keys(n);be<ve.length;be++){var Ee=n[m=ve[be]];if(!Ee)break;for(var Ne=[],Je=0;Je<Ee.length;Je++){var St=Ee[Je];l&&l!==St.callback&&l!==St.callback._callback||Le&&Le!==St.context?Ne.push(St):(q=St.listening)&&0==--q.count&&(delete ke[q.id],delete q.listeningTo[q.objId])}Ne.length?n[m]=Ne:delete n[m]}return n}for(var vt=d.keys(ke);be<vt.length;be++)delete ke[(q=ke[vt[be]]).id],delete q.listeningTo[q.objId]}};S.once=function(n,m,l){var A=_(w,{},n,m,d.bind(this.off,this));return"string"==typeof n&&null==l&&(m=void 0),this.on(A,m,l)},S.listenToOnce=function(n,m,l){var A=_(w,{},m,l,d.bind(this.stopListening,this,n));return this.listenTo(n,A)};var w=function(n,m,l,A){if(l){var q=n[m]=d.once(function(){A(m,q),l.apply(this,arguments)});q._callback=l}return n};S.trigger=function(n){if(!this._events)return this;for(var m=Math.max(0,arguments.length-1),l=Array(m),A=0;A<m;A++)l[A]=arguments[A+1];return _(p,this._events,n,void 0,l),this};var p=function(n,m,l,A){if(n){var q=n[m],be=n.all;q&&be&&(be=be.slice()),q&&u(q,A),be&&u(be,[m].concat(A))}return n},u=function(n,m){var l,A=-1,q=n.length,be=m[0],Le=m[1],ke=m[2];switch(m.length){case 0:for(;++A<q;)(l=n[A]).callback.call(l.ctx);return;case 1:for(;++A<q;)(l=n[A]).callback.call(l.ctx,be);return;case 2:for(;++A<q;)(l=n[A]).callback.call(l.ctx,be,Le);return;case 3:for(;++A<q;)(l=n[A]).callback.call(l.ctx,be,Le,ke);return;default:for(;++A<q;)(l=n[A]).callback.apply(l.ctx,m);return}};S.bind=S.on,S.unbind=S.off,d.extend(y,S);var x=y.Model=function(n,m){var l=n||{};m||(m={}),this.cid=d.uniqueId(this.cidPrefix),this.attributes={},m.collection&&(this.collection=m.collection),m.parse&&(l=this.parse(l,m)||{});var A=d.result(this,"defaults");l=d.defaults(d.extend({},A,l),A),this.set(l,m),this.changed={},this.initialize.apply(this,arguments)};d.extend(x.prototype,S,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(n){return d.clone(this.attributes)},sync:function(){return y.sync.apply(this,arguments)},get:function(n){return this.attributes[n]},escape:function(n){return d.escape(this.get(n))},has:function(n){return null!=this.get(n)},matches:function(n){return!!d.iteratee(n,this)(this.attributes)},set:function(n,m,l){if(null==n)return this;var A;if("object"==typeof n?(A=n,l=m):(A={})[n]=m,l||(l={}),!this._validate(A,l))return!1;var q=l.unset,be=l.silent,Le=[],ke=this._changing;this._changing=!0,ke||(this._previousAttributes=d.clone(this.attributes),this.changed={});var ve=this.attributes,Ee=this.changed,Ne=this._previousAttributes;for(var Je in A)d.isEqual(ve[Je],m=A[Je])||Le.push(Je),d.isEqual(Ne[Je],m)?delete Ee[Je]:Ee[Je]=m,q?delete ve[Je]:ve[Je]=m;if(this.idAttribute in A&&(this.id=this.get(this.idAttribute)),!be){Le.length&&(this._pending=l);for(var St=0;St<Le.length;St++)this.trigger("change:"+Le[St],this,ve[Le[St]],l)}if(ke)return this;if(!be)for(;this._pending;)l=this._pending,this._pending=!1,this.trigger("change",this,l);return this._pending=!1,this._changing=!1,this},unset:function(n,m){return this.set(n,void 0,d.extend({},m,{unset:!0}))},clear:function(n){var m={};for(var l in this.attributes)m[l]=void 0;return this.set(m,d.extend({},n,{unset:!0}))},hasChanged:function(n){return null==n?!d.isEmpty(this.changed):d.has(this.changed,n)},changedAttributes:function(n){if(!n)return!!this.hasChanged()&&d.clone(this.changed);var m=this._changing?this._previousAttributes:this.attributes,l={};for(var A in n){var q=n[A];d.isEqual(m[A],q)||(l[A]=q)}return!!d.size(l)&&l},previous:function(n){return null!=n&&this._previousAttributes?this._previousAttributes[n]:null},previousAttributes:function(){return d.clone(this._previousAttributes)},fetch:function(n){n=d.extend({parse:!0},n);var m=this,l=n.success;return n.success=function(A){var q=n.parse?m.parse(A,n):A;if(!m.set(q,n))return!1;l&&l.call(n.context,m,A,n),m.trigger("sync",m,A,n)},H(this,n),this.sync("read",this,n)},save:function(n,m,l){var A;null==n||"object"==typeof n?(A=n,l=m):(A={})[n]=m;var q=(l=d.extend({validate:!0,parse:!0},l)).wait;if(A&&!q){if(!this.set(A,l))return!1}else if(!this._validate(A,l))return!1;var be=this,Le=l.success,ke=this.attributes;l.success=function(Ne){be.attributes=ke;var Je=l.parse?be.parse(Ne,l):Ne;if(q&&(Je=d.extend({},A,Je)),Je&&!be.set(Je,l))return!1;Le&&Le.call(l.context,be,Ne,l),be.trigger("sync",be,Ne,l)},H(this,l),A&&q&&(this.attributes=d.extend({},ke,A));var ve=this.isNew()?"create":l.patch?"patch":"update";"patch"!==ve||l.attrs||(l.attrs=A);var Ee=this.sync(ve,this,l);return this.attributes=ke,Ee},destroy:function(n){n=n?d.clone(n):{};var m=this,l=n.success,A=n.wait,q=function(){m.stopListening(),m.trigger("destroy",m,m.collection,n)};n.success=function(Le){A&&q(),l&&l.call(n.context,m,Le,n),m.isNew()||m.trigger("sync",m,Le,n)};var be=!1;return this.isNew()?d.defer(n.success):(H(this,n),be=this.sync("delete",this,n)),A||q(),be},url:function(){var n=d.result(this,"urlRoot")||d.result(this.collection,"url")||C();if(this.isNew())return n;var m=this.get(this.idAttribute);return n.replace(/[^\/]$/,"$&/")+encodeURIComponent(m)},parse:function(n,m){return n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(n){return this._validate({},d.extend({},n,{validate:!0}))},_validate:function(n,m){if(!m.validate||!this.validate)return!0;n=d.extend({},this.attributes,n);var l=this.validationError=this.validate(n,m)||null;return!l||(this.trigger("invalid",this,l,d.extend(m,{validationError:l})),!1)}}),D(x,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=y.Collection=function(n,m){m||(m={}),m.model&&(this.model=m.model),void 0!==m.comparator&&(this.comparator=m.comparator),this._reset(),this.initialize.apply(this,arguments),n&&this.reset(n,d.extend({silent:!0},m))},R={add:!0,remove:!0,merge:!0},Q={add:!0,remove:!1},re=function(n,m,l){l=Math.min(Math.max(l,0),n.length);var A,q=Array(n.length-l),be=m.length;for(A=0;A<q.length;A++)q[A]=n[A+l];for(A=0;A<be;A++)n[A+l]=m[A];for(A=0;A<q.length;A++)n[A+be+l]=q[A]};d.extend(b.prototype,S,{model:x,initialize:function(){},toJSON:function(n){return this.map(function(m){return m.toJSON(n)})},sync:function(){return y.sync.apply(this,arguments)},add:function(n,m){return this.set(n,d.extend({merge:!1},m,Q))},remove:function(n,m){m=d.extend({},m);var l=!d.isArray(n);n=l?[n]:n.slice();var A=this._removeModels(n,m);return!m.silent&&A.length&&(m.changes={added:[],merged:[],removed:A},this.trigger("update",this,m)),l?A[0]:A},set:function(n,m){if(null!=n){(m=d.extend({},R,m)).parse&&!this._isModel(n)&&(n=this.parse(n,m)||[]);var l=!d.isArray(n);n=l?[n]:n.slice();var A=m.at;null!=A&&(A=+A),A>this.length&&(A=this.length),A<0&&(A+=this.length+1);var q,be,Le=[],ke=[],ve=[],Ee=[],Ne={},Je=m.add,St=m.merge,vt=m.remove,Z=!1,ce=this.comparator&&null==A&&!1!==m.sort,je=d.isString(this.comparator)?this.comparator:null;for(be=0;be<n.length;be++){var qe=this.get(q=n[be]);if(qe){if(St&&q!==qe){var nt=this._isModel(q)?q.attributes:q;m.parse&&(nt=qe.parse(nt,m)),qe.set(nt,m),ve.push(qe),ce&&!Z&&(Z=qe.hasChanged(je))}Ne[qe.cid]||(Ne[qe.cid]=!0,Le.push(qe)),n[be]=qe}else Je&&(q=n[be]=this._prepareModel(q,m))&&(ke.push(q),this._addReference(q,m),Ne[q.cid]=!0,Le.push(q))}if(vt){for(be=0;be<this.length;be++)Ne[(q=this.models[be]).cid]||Ee.push(q);Ee.length&&this._removeModels(Ee,m)}var ut=!1;if(Le.length&&!ce&&Je&&vt?(ut=this.length!==Le.length||d.some(this.models,function(X,Te){return X!==Le[Te]}),this.models.length=0,re(this.models,Le,0),this.length=this.models.length):ke.length&&(ce&&(Z=!0),re(this.models,ke,null==A?this.length:A),this.length=this.models.length),Z&&this.sort({silent:!0}),!m.silent){for(be=0;be<ke.length;be++)null!=A&&(m.index=A+be),(q=ke[be]).trigger("add",q,this,m);(Z||ut)&&this.trigger("sort",this,m),(ke.length||Ee.length||ve.length)&&(m.changes={added:ke,removed:Ee,merged:ve},this.trigger("update",this,m))}return l?n[0]:n}},reset:function(n,m){m=m?d.clone(m):{};for(var l=0;l<this.models.length;l++)this._removeReference(this.models[l],m);return m.previousModels=this.models,this._reset(),n=this.add(n,d.extend({silent:!0},m)),m.silent||this.trigger("reset",this,m),n},push:function(n,m){return this.add(n,d.extend({at:this.length},m))},pop:function(n){var m=this.at(this.length-1);return this.remove(m,n)},unshift:function(n,m){return this.add(n,d.extend({at:0},m))},shift:function(n){var m=this.at(0);return this.remove(m,n)},slice:function(){return v.apply(this.models,arguments)},get:function(n){if(null!=n)return this._byId[n]||this._byId[this.modelId(n.attributes||n)]||n.cid&&this._byId[n.cid]},has:function(n){return null!=this.get(n)},at:function(n){return n<0&&(n+=this.length),this.models[n]},where:function(n,m){return this[m?"find":"filter"](n)},findWhere:function(n){return this.where(n,!0)},sort:function(n){var m=this.comparator;if(!m)throw new Error("Cannot sort a set without a comparator");n||(n={});var l=m.length;return d.isFunction(m)&&(m=d.bind(m,this)),1===l||d.isString(m)?this.models=this.sortBy(m):this.models.sort(m),n.silent||this.trigger("sort",this,n),this},pluck:function(n){return this.map(n+"")},fetch:function(n){var m=(n=d.extend({parse:!0},n)).success,l=this;return n.success=function(A){l[n.reset?"reset":"set"](A,n),m&&m.call(n.context,l,A,n),l.trigger("sync",l,A,n)},H(this,n),this.sync("read",this,n)},create:function(n,m){var l=(m=m?d.clone(m):{}).wait;if(!(n=this._prepareModel(n,m)))return!1;l||this.add(n,m);var A=this,q=m.success;return m.success=function(be,Le,ke){l&&A.add(be,ke),q&&q.call(ke.context,be,Le,ke)},n.save(null,m),n},parse:function(n,m){return n},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(n){return n[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(n,m){if(this._isModel(n))return n.collection||(n.collection=this),n;(m=m?d.clone(m):{}).collection=this;var l=new this.model(n,m);return l.validationError?(this.trigger("invalid",this,l.validationError,m),!1):l},_removeModels:function(n,m){for(var l=[],A=0;A<n.length;A++){var q=this.get(n[A]);if(q){var be=this.indexOf(q);this.models.splice(be,1),this.length--,delete this._byId[q.cid];var Le=this.modelId(q.attributes);null!=Le&&delete this._byId[Le],m.silent||(m.index=be,q.trigger("remove",q,this,m)),l.push(q),this._removeReference(q,m)}}return l},_isModel:function(n){return n instanceof x},_addReference:function(n,m){this._byId[n.cid]=n;var l=this.modelId(n.attributes);null!=l&&(this._byId[l]=n),n.on("all",this._onModelEvent,this)},_removeReference:function(n,m){delete this._byId[n.cid];var l=this.modelId(n.attributes);null!=l&&delete this._byId[l],this===n.collection&&delete n.collection,n.off("all",this._onModelEvent,this)},_onModelEvent:function(n,m,l,A){if(m){if(("add"===n||"remove"===n)&&l!==this)return;if("destroy"===n&&this.remove(m,A),"change"===n){var q=this.modelId(m.previousAttributes()),be=this.modelId(m.attributes);q!==be&&(null!=q&&delete this._byId[q],null!=be&&(this._byId[be]=m))}}this.trigger.apply(this,arguments)}}),D(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var Fe=y.View=function(n){this.cid=d.uniqueId("view"),d.extend(this,d.pick(n,fe)),this._ensureElement(),this.initialize.apply(this,arguments)},ge=/^(\S+)\s*(.*)$/,fe=["model","collection","el","id","attributes","className","tagName","events"];d.extend(Fe.prototype,S,{tagName:"div",$:function(n){return this.$el.find(n)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(n){return this.undelegateEvents(),this._setElement(n),this.delegateEvents(),this},_setElement:function(n){this.$el=n instanceof y.$?n:y.$(n),this.el=this.$el[0]},delegateEvents:function(n){if(n||(n=d.result(this,"events")),!n)return this;for(var m in this.undelegateEvents(),n){var l=n[m];if(d.isFunction(l)||(l=this[l]),l){var A=m.match(ge);this.delegate(A[1],A[2],d.bind(l,this))}}return this},delegate:function(n,m,l){return this.$el.on(n+".delegateEvents"+this.cid,m,l),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(n,m,l){return this.$el.off(n+".delegateEvents"+this.cid,m,l),this},_createElement:function(n){return document.createElement(n)},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"));else{var n=d.extend({},d.result(this,"attributes"));this.id&&(n.id=d.result(this,"id")),this.className&&(n.class=d.result(this,"className")),this.setElement(this._createElement(d.result(this,"tagName"))),this._setAttributes(n)}},_setAttributes:function(n){this.$el.attr(n)}}),y.sync=function(n,m,l){var A=Ae[n];d.defaults(l||(l={}),{emulateHTTP:y.emulateHTTP,emulateJSON:y.emulateJSON});var q={type:A,dataType:"json"};if(l.url||(q.url=d.result(m,"url")||C()),null!=l.data||!m||"create"!==n&&"update"!==n&&"patch"!==n||(q.contentType="application/json",q.data=JSON.stringify(l.attrs||m.toJSON(l))),l.emulateJSON&&(q.contentType="application/x-www-form-urlencoded",q.data=q.data?{model:q.data}:{}),l.emulateHTTP&&("PUT"===A||"DELETE"===A||"PATCH"===A)){q.type="POST",l.emulateJSON&&(q.data._method=A);var be=l.beforeSend;l.beforeSend=function(ve){if(ve.setRequestHeader("X-HTTP-Method-Override",A),be)return be.apply(this,arguments)}}"GET"===q.type||l.emulateJSON||(q.processData=!1);var Le=l.error;l.error=function(ve,Ee,Ne){l.textStatus=Ee,l.errorThrown=Ne,Le&&Le.call(l.context,ve,Ee,Ne)};var ke=l.xhr=y.ajax(d.extend(q,l));return m.trigger("request",m,ke,l),ke};var Ae={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};y.ajax=function(){return y.$.ajax.apply(y.$,arguments)};var Pe=y.Router=function(n){n||(n={}),n.routes&&(this.routes=n.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},de=/\((.*?)\)/g,pe=/(\(\?)?:\w+/g,_e=/\*\w+/g,ae=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(Pe.prototype,S,{initialize:function(){},route:function(n,m,l){d.isRegExp(n)||(n=this._routeToRegExp(n)),d.isFunction(m)&&(l=m,m=""),l||(l=this[m]);var A=this;return y.history.route(n,function(q){var be=A._extractParameters(n,q);!1!==A.execute(l,be,m)&&(A.trigger.apply(A,["route:"+m].concat(be)),A.trigger("route",m,be),y.history.trigger("route",A,m,be))}),this},execute:function(n,m,l){n&&n.apply(this,m)},navigate:function(n,m){return y.history.navigate(n,m),this},_bindRoutes:function(){if(this.routes){this.routes=d.result(this,"routes");for(var n,m=d.keys(this.routes);null!=(n=m.pop());)this.route(n,this.routes[n])}},_routeToRegExp:function(n){return n=n.replace(ae,"\\$&").replace(de,"(?:$1)?").replace(pe,function(m,l){return l?m:"([^/?]+)"}).replace(_e,"([^?]*?)"),new RegExp("^"+n+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(n,m){var l=n.exec(m).slice(1);return d.map(l,function(A,q){return q===l.length-1?A||null:A?decodeURIComponent(A):null})}});var ne=y.History=function(){this.handlers=[],this.checkUrl=d.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},G=/^[#\/]|\s+$/g,W=/^\/+|\/+$/g,j=/#.*$/;ne.started=!1,d.extend(ne.prototype,S,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(n){return decodeURI(n.replace(/%25/g,"%2525"))},getSearch:function(){var n=this.location.href.replace(/#.*/,"").match(/\?.+/);return n?n[0]:""},getHash:function(n){var m=(n||this).location.href.match(/#(.*)$/);return m?m[1]:""},getPath:function(){var n=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===n.charAt(0)?n.slice(1):n},getFragment:function(n){return null==n&&(n=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),n.replace(G,"")},start:function(n){if(ne.started)throw new Error("Backbone.history has already been started");if(ne.started=!0,this.options=d.extend({root:"/"},this.options,n),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(W,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var m=this.root.slice(0,-1)||"/";return this.location.replace(m+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var l=document.body,A=l.insertBefore(this.iframe,l.firstChild).contentWindow;A.document.open(),A.document.close(),A.location.hash="#"+this.fragment}var q=window.addEventListener||function(be,Le){return attachEvent("on"+be,Le)};if(this._usePushState?q("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?q("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var n=window.removeEventListener||function(m,l){return detachEvent("on"+m,l)};this._usePushState?n("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&n("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),ne.started=!1},route:function(n,m){this.handlers.unshift({route:n,callback:m})},checkUrl:function(n){var m=this.getFragment();if(m===this.fragment&&this.iframe&&(m=this.getHash(this.iframe.contentWindow)),m===this.fragment)return!1;this.iframe&&this.navigate(m),this.loadUrl()},loadUrl:function(n){return!!this.matchRoot()&&(n=this.fragment=this.getFragment(n),d.some(this.handlers,function(m){if(m.route.test(n))return m.callback(n),!0}))},navigate:function(n,m){if(!ne.started)return!1;m&&!0!==m||(m={trigger:!!m}),n=this.getFragment(n||"");var l=this.root;""!==n&&"?"!==n.charAt(0)||(l=l.slice(0,-1)||"/");var A=l+n;if(n=this.decodeFragment(n.replace(j,"")),this.fragment!==n){if(this.fragment=n,this._usePushState)this.history[m.replace?"replaceState":"pushState"]({},document.title,A);else{if(!this._wantsHashChange)return this.location.assign(A);if(this._updateHash(this.location,n,m.replace),this.iframe&&n!==this.getHash(this.iframe.contentWindow)){var q=this.iframe.contentWindow;m.replace||(q.document.open(),q.document.close()),this._updateHash(q.location,n,m.replace)}}return m.trigger?this.loadUrl(n):void 0}},_updateHash:function(n,m,l){if(l){var A=n.href.replace(/(javascript:|#).*$/,"");n.replace(A+"#"+m)}else n.hash="#"+m}}),y.history=new ne,x.extend=b.extend=Pe.extend=Fe.extend=ne.extend=function(n,m){var l,A=this;return l=n&&d.has(n,"constructor")?n.constructor:function(){return A.apply(this,arguments)},d.extend(l,A,m),l.prototype=d.create(A.prototype,n),l.prototype.constructor=l,l.__super__=A.prototype,l};var C=function(){throw new Error('A "url" property or function must be specified')},H=function(n,m){var l=m.error;m.error=function(A){l&&l.call(m.context,n,A,m),n.trigger("error",n,A,m)}};return y}(L,g,k,f)}.apply(le,se))||(Ye.exports=J)}).call(this,o(35))},function(Ye,le){Ye.exports=function(o,ee,se){return ee in o?Object.defineProperty(o,ee,{value:se,enumerable:!0,configurable:!0,writable:!0}):o[ee]=se,o},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le){function o(ee){return Ye.exports=o=Object.setPrototypeOf?Object.getPrototypeOf:function(se){return se.__proto__||Object.getPrototypeOf(se)},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0,o(ee)}Ye.exports=o,Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le){Ye.exports=function(o,ee){if(!(o instanceof ee))throw new TypeError("Cannot call a class as a function")},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le){function o(ee,se){for(var J=0;J<se.length;J++){var U=se[J];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(ee,U.key,U)}}Ye.exports=function(ee,se,J){return se&&o(ee.prototype,se),J&&o(ee,J),ee},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){"use strict";(function(ee){o.d(le,"e",function(){return se}),o.d(le,"p",function(){return J}),o.d(le,"a",function(){return U}),o.d(le,"c",function(){return L}),o.d(le,"d",function(){return k}),o.d(le,"o",function(){return f}),o.d(le,"q",function(){return g}),o.d(le,"t",function(){return h}),o.d(le,"i",function(){return y}),o.d(le,"r",function(){return d}),o.d(le,"s",function(){return P}),o.d(le,"k",function(){return O}),o.d(le,"m",function(){return v}),o.d(le,"j",function(){return D}),o.d(le,"l",function(){return I}),o.d(le,"g",function(){return T}),o.d(le,"f",function(){return S}),o.d(le,"h",function(){return r}),o.d(le,"n",function(){return _}),o.d(le,"b",function(){return E});var se="1.13.1",J="object"==typeof self&&self.self===self&&self||"object"==typeof ee&&ee.global===ee&&ee||Function("return this")()||{},U=Array.prototype,L=Object.prototype,k="undefined"!=typeof Symbol?Symbol.prototype:null,f=U.push,g=U.slice,h=L.toString,y=L.hasOwnProperty,d="undefined"!=typeof ArrayBuffer,P="undefined"!=typeof DataView,O=Array.isArray,v=Object.keys,D=Object.create,I=d&&ArrayBuffer.isView,T=isNaN,S=isFinite,r=!{toString:null}.propertyIsEnumerable("toString"),_=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],E=Math.pow(2,53)-1}).call(this,o(35))},function(Ye,le,o){var ee=o(87);Ye.exports=function(se,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(J&&J.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),J&&ee(se,J)},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){var ee=o(14).default,se=o(88);Ye.exports=function(J,U){return!U||"object"!==ee(U)&&"function"!=typeof U?se(J):U},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){"use strict";o.d(le,"b",function(){return de}),o.d(le,"a",function(){return W});var ee=o(14),se=o.n(ee),J=o(11),U=o.n(J),L=o(41),k=o.n(L),f=o(3),g=o.n(f),h=o(5),y=o.n(h),d=o(6),P=o.n(d),O=o(8),v=o.n(O),D=o(9),I=o.n(D),T=o(4),S=o.n(T),r=o(0),_=o(1),E=o(32),B=o(2),$=o.n(B),w=o(30),p=o(16),u=o(20);function x(j,C){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(j);C&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),H.push.apply(H,n)}return H}function b(j){for(var C=1;C<arguments.length;C++){var H=null!=arguments[C]?arguments[C]:{};C%2?x(Object(H),!0).forEach(function(n){g()(j,n,H[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):x(Object(H)).forEach(function(n){Object.defineProperty(j,n,Object.getOwnPropertyDescriptor(H,n))})}return j}var R,Q=$.a.Model.extend({defaults:{type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]},initialize:function(){var j=this.get("target"),C=this.get("name"),H=this.get("changeProp");if(!this.get("id")&&this.set("id",C),j){this.target=j,this.unset("target");var n=H?"change:".concat(C):"change:attributes:".concat(C);this.listenTo(j,n,this.targetUpdated)}},props:function(){return this.attributes},targetUpdated:function(){var j=this.getTargetValue();this.set({value:j},{fromTarget:1})},getTargetValue:function(){var j,C=this.get("name"),H=this.target;return j=this.get("changeProp")?H.get(C):H.getAttributes()[C],Object(r.isUndefined)(j)?"":j},setTargetValue:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=this.target,n=this.get("name");if(!Object(r.isUndefined)(j)){var m=j;if("false"===j?m=!1:"true"===j&&(m=!0),this.get("changeProp"))H.set(n,m,C);else{var l=b({},H.get("attributes"));l[n]=m,H.set("attributes",l,C)}}},setValueFromInput:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={value:j};this.set(n,b(b({},H),{},{avoidStore:1})),C&&(this.set("value","",H),this.set(n,H))},getInitValue:function(){var j,C=this.target,H=this.get("name");if(C){var n=C.get("attributes");j=this.get("changeProp")?C.get(H):n[H]}return j||this.get("value")||this.get("default")}}),re=$.a.Collection.extend({model:Q,initialize:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.em=C.em||"",this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)},handleReset:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=C.previousModels,n=void 0===H?[]:H;n.forEach(function(m){return m.trigger("remove")})},handleAdd:function(j){var C=this.target;C&&(j.target=C)},setTarget:function(j){this.target=j},add:function(j,C){var H=this.em;if(Object(r.isString)(j)||Object(r.isArray)(j)){var n=H&&H.get&&H.get("TraitManager"),m=function(){var Le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{build:function(ke){var ve=[];"string"==typeof ke&&(ke=[ke]);for(var Ee=0;Ee<ke.length;Ee++){var Ne={},Je=ke[Ee];"target"===(Ne.name=Je,Je)&&(Ne.type="select",Ne.default=!1,Ne.options=Le.optionsTarget),ve.push(Ne)}return ve}}}(n&&n.getConfig());Object(r.isString)(j)&&(j=[j]);for(var l=0,A=j.length;l<A;l++){var q=j[l],be=Object(r.isString)(q)?m.build(q)[0]:q;be.target=this.target,j[l]=be}}return $.a.Collection.prototype.add.apply(this,[j,C])}});function Fe(j,C){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(j);C&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),H.push.apply(H,n)}return H}function ge(j){for(var C=1;C<arguments.length;C++){var H=null!=arguments[C]?arguments[C]:{};C%2?Fe(Object(H),!0).forEach(function(n){g()(j,n,H[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):Fe(Object(H)).forEach(function(n){Object.defineProperty(j,n,Object.getOwnPropertyDescriptor(H,n))})}return j}var Ae=function(j){return j.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Pe=function(j){return j&&j.getConfig("avoidInlineStyle")},de="component:drag",pe="__symbols",_e="__symbol",ae="__symbol_ovrd",ne="component:update",G="".concat(ne,"-inside"),W=function(j){v()(H,j);var C=function(j){var C=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H,n=S()(j);if(C){var m=S()(this).constructor;H=Reflect.construct(n,arguments,m)}else H=n.apply(this,arguments);return I()(this,H)}}(H);function H(){return y()(this,H),C.apply(this,arguments)}return P()(H,[{key:"init",value:function(){}},{key:"updated",value:function(n,m,l){}},{key:"removed",value:function(){}},{key:"initialize",value:function(){var n=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var A=l.em,q=this.parent(),be=q&&q.attributes;if(be&&be.propagate){var Le={},ke=be.propagate;ke.forEach(function(vt){return Le[vt]=q.get(vt)}),Le.propagate=ke,Le=ge(ge({},Le),m),this.set(Le)}var ve=this.get("propagate");if(ve&&this.set("propagate",Object(r.isArray)(ve)?ve:[ve]),l&&l.config&&l.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),l.em=A,this.opt=l,this.em=A,this.frame=l.frame,this.config=l.config||{},this.set("attributes",ge(ge({},Object(r.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=H.createId(this,l),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(G,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(vt){var Z="add remove ".concat("components"!==vt?"change":"");n.listenTo(n.get(vt),Z.trim(),function(){for(var ce=arguments.length,je=new Array(ce),qe=0;qe<ce;qe++)je[qe]=arguments[qe];return n.emitUpdate.apply(n,[vt].concat(je))})}),!l.temporary){var Ee=A&&A.get("CssComposer"),Ne=this.attributes,Je=Ne.styles,St=Ne.type;Je&&Ee&&Ee.addCollection(Je,{},{group:"cmp:".concat(St)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),A&&A.trigger("component:create",this)}}},{key:"__postAdd",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.em,l=m&&m.get("UndoManager"),A=this.components();l&&!this.__hasUm&&(l.add(A),l.add(this.getSelectors()),this.__hasUm=1),n.recursive&&A.map(function(q){return q.__postAdd(n)})}},{key:"__postRemove",value:function(){var n=this.em,m=n&&n.get("UndoManager");m&&(m.remove(this.components()),m.remove(this.getSelectors()),delete this.__hasUm)}},{key:"__onChange",value:function(n,m){var l=this.changedAttributes();["status","open","toolbar","traits"].forEach(function(A){return delete l[A]}),Object(_.isEmptyObj)(l)||(this.__changesUp(m),this.__propSelfToParent({component:this,changed:l,options:m}))}},{key:"__changesUp",value:function(n){[this.frame,this.em].forEach(function(l){return l&&l.changesUp(n)})}},{key:"__propSelfToParent",value:function(n){this.trigger(ne,n),this.__propToParent(n)}},{key:"__propToParent",value:function(n){var m=this.parent();m&&m.trigger(G,n)}},{key:"__emitUpdateTlb",value:function(){this.emitUpdate("toolbar")}},{key:"is",value:function(n){return this.get("type")==n}},{key:"props",value:function(){return this.attributes}},{key:"index",value:function(){var n=this.collection;return n?n.indexOf(this):0}},{key:"setDragMode",value:function(n){return this.set("dmode",n)}},{key:"find",value:function(n){var m=[],l=this.view.$el.find(n);return l.each(function(A){var q=l.eq(A).data("model");q&&m.push(q)}),m}},{key:"findType",value:function(n){var m=[];return function l(A){return A.forEach(function(q){q.is(n)&&m.push(q),l(q.components())})}(this.components()),m}},{key:"closest",value:function(n){var m=this.view.$el.closest(n);return m.length&&m.data("model")}},{key:"closestType",value:function(n){for(var m=this.parent();m&&!m.is(n);)m=m.parent();return m}},{key:"contains",value:function(n){var m=!1;return n?(function A(q){!m&&q.forEach(function(be){be===n&&(m=!0),!m&&A(be.components())})}(this.components()),m):m}},{key:"tagUpdated",value:function(){this.trigger("rerender")}},{key:"replaceWith",value:function(n){var m=this.collection,l=m.indexOf(this);return m.remove(this),m.add(n,{at:l})}},{key:"attrUpdated",value:function(n,m){var l=this,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},q=this.get("attributes"),be=q.class;be&&this.setClass(be),delete q.class;var Le=q.style;Le&&this.setStyle(Le),delete q.style;var ke=ge({},this.previous("attributes")),ve=Object(_.shallowDiff)(ke,this.get("attributes"));Object(r.keys)(ve).forEach(function(Ee){return l.trigger("change:attributes:".concat(Ee),l,ve[Ee],A)})}},{key:"setAttributes",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.set("attributes",ge({},n),m),this}},{key:"addAttributes",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setAttributes(ge(ge({},this.getAttributes({noClass:1})),n),m)}},{key:"removeAttributes",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Array.isArray(n)?n:[n],A=this.getAttributes();return l.map(function(q){return delete A[q]}),this.setAttributes(A,m)}},{key:"getStyle",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=this.em,A=Object(r.isString)(n)?n:"",q=A?m:n;if(l&&l.getConfig("avoidInlineStyle")&&!q.inline){var be=l.get("state"),Le=l.get("CssComposer"),ke=Le.getIdRule(this.getId(),ge({state:be},q));if(this.rule=ke,ke)return ke.getStyle(A)}return E.a.getStyle.call(this,A)}},{key:"setStyle",value:function(){var n=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=this.em,q=this.opt;if(A&&A.getConfig("avoidInlineStyle")&&!q.temporary&&!l.inline){var be=this.get("style")||{};m=ge(ge({},m=Object(r.isString)(m)?this.parseStyle(m):m),be);var Le=A.get("state"),ke=A.get("CssComposer"),ve=this.getStyle(l);this.rule=ke.setIdRule(this.getId(),m,ge(ge({},l),{},{state:Le}));var Ee=Object(_.shallowDiff)(ve,m);this.set("style","",{silent:1}),Object(r.keys)(Ee).forEach(function(Ne){return n.trigger("change:style:".concat(Ne))})}else m=E.a.setStyle.apply(this,arguments);return m}},{key:"getAttributes",value:function(){var n,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=this.em,A=[],q=ge({},this.get("attributes")),be=l&&l.get("SelectorManager"),Le=this.getId();if(m.noClass||(this.get("classes").forEach(function(ve){return A.push(Object(r.isString)(ve)?ve:ve.get("name"))}),A.length&&(q.class=A.join(" "))),!m.noStyle){var ke=this.get("style");Object(_.isObject)(ke)&&!Object(_.isEmptyObj)(ke)&&(q.style=this.styleToString({inline:1}))}return Object(r.has)(q,"id")||(Pe(l)?n=be&&be.get(Le,be.Selector.TYPE_ID):Object(r.isEmpty)(this.getStyle())||(n=1),(this.__getSymbol()||this.__getSymbols())&&(n=1),n&&(q.id=Le)),q}},{key:"addClass",value:function(n){var m=this.em.get("SelectorManager").addClass(n);return this.get("classes").add(m)}},{key:"setClass",value:function(n){return this.get("classes").reset(),this.addClass(n)}},{key:"removeClass",value:function(n){var m=[];n=Object(r.isArray)(n)?n:[n];var l=this.get("classes"),A=p.a.TYPE_CLASS;return n.forEach(function(q){q.split(" ").forEach(function(be){var Le=l.where({name:be,type:A})[0];Le&&m.push(l.remove(Le))})}),m}},{key:"getClasses",value:function(){var n=this.getAttributes().class;return n?n.split(" "):[]}},{key:"__logSymbol",value:function(n,m){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},A=this.__getSymbol(),q=this.__getSymbols();(A||q)&&this.em.log(n,{model:this,toUp:m,context:"symbols",opts:l})}},{key:"__initSymb",value:function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=1)}},{key:"__isSymbol",value:function(){return Object(r.isArray)(this.get(pe))}},{key:"__isSymbolOrInst",value:function(){return!(!this.__isSymbol()&&!this.get(_e))}},{key:"__isSymbolTop",value:function(){var n=this.parent();return this.__isSymbolOrInst()&&(!n||n&&!n.__isSymbol()&&!n.__getSymbol())}},{key:"__isSymbolNested",value:function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var n=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),m=this.__getSymbTop();return(m.__isSymbol()?m:m.__getSymbol())!==n}},{key:"__getAllById",value:function(){var n=this.em;return n?n.get("DomComponents").allById():{}}},{key:"__getSymbol",value:function(){var n=this.get(_e);if(n&&Object(r.isString)(n)){var m=this.__getAllById()[n];m?(n=m,this.set(_e,m)):n=0}return n}},{key:"__getSymbols",value:function(){var n=this,m=this.get(pe);return m&&Object(r.isArray)(m)&&(m.forEach(function(l,A){l&&Object(r.isString)(l)&&(m[A]=n.__getAllById()[l])}),m=m.filter(function(l){return l&&!Object(r.isString)(l)})),m}},{key:"__isSymbOvrd",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",m=this.get(ae),l=n.split(":"),A=k()(l,1),q=A[0],be=n!==q?[n,q]:[n];return!0===m||Object(r.isArray)(m)&&be.some(function(Le){return m.indexOf(Le)>=0})}},{key:"__getSymbToUp",value:function(){var n=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=[],A=this.em,q=m.changed,be=A&&A.get("symbols");if(m.fromInstance||m.noPropagate||m.fromUndo||!be||q&&this.__isSymbOvrd(q))return l;var Le=this.__getSymbols()||[],ke=this.__getSymbol(),ve=ke?[ke].concat(U()(ke.__getSymbols()||[])):Le;return ve.filter(function(Ee){return Ee!==n}).filter(function(Ee){return!(q&&Ee.__isSymbOvrd(q))})}},{key:"__getSymbTop",value:function(n){for(var m=this,l=this.parent(n);l&&(l.__isSymbol()||l.__getSymbol());)m=l,l=l.parent(n);return m}},{key:"__upSymbProps",value:function(n){var m=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=this.changedAttributes(),q=A.attributes||{};if(delete A.status,delete A.open,delete A[pe],delete A[_e],delete A[ae],delete A.attributes,delete q.id,Object(_.isEmptyObj)(q)||(A.attributes=q),!Object(_.isEmptyObj)(A)){var be=this.__getSymbToUp(l);Object(r.keys)(A).map(function(Le){m.__isSymbOvrd(Le)&&delete A[Le]}),this.__logSymbol("props",be,{opts:l,changed:A}),be.forEach(function(Le){var ke=ge({},A);Object(r.keys)(ke).map(function(ve){Le.__isSymbOvrd(ve)&&delete ke[ve]}),Le.set(ke,ge({fromInstance:m},l))})}}},{key:"__upSymbCls",value:function(n,m){var l=this,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},q=this.__getSymbToUp(A);this.__logSymbol("classes",q,{opts:A}),q.forEach(function(be){be.set("classes",l.get("classes"),{fromInstance:l})}),this.__changesUp(A)}},{key:"__upSymbComps",value:function(n,m,l){var A=this,q=l||m||{},be={fromInstance:q.fromInstance,fromUndo:q.fromUndo},Le=n.opt.temporary;if(l)if(l.add){var ke=[],ve=!!this.__getSymbols(),Ee=this.__getSymbToUp(ge(ge({},be),{},{changed:"components:add"}));if(Ee.length){var Ne=n.__getSymbol();ke=(Ne?Ne.__getSymbols():n.__getSymbols())||[],(ke=U()(ke)).push(Ne||n)}!Le&&this.__logSymbol("add",Ee,{opts:l,addedInstances:ke.map(function(mt){return mt.cid}),added:n.cid}),Ee.forEach(function(mt){var X=mt.__getSymbTop(),Te=ke.filter(function(Re){var $e=Re.__getSymbTop({prev:1});return X&&$e&&$e===X})[0]||n.clone({symbol:1,symbolInv:ve});mt.append(Te,ge({fromInstance:A},l))})}else{var Je=n.__getSymbol();if(Je&&!l.temporary&&Je.set(pe,Je.__getSymbols().filter(function(mt){return mt!==n})),!n.__isSymbolTop()){var St="components:remove",vt=l.index,Z=n.parent(),ce=ge({fromInstance:n},l),je=n.__isSymbolNested(),qe=function(mt){var X=mt.parent();X&&!X.__isSymbOvrd(St)&&mt.remove(ce)},nt=Z.__isSymbOvrd(St)?[]:n.__getSymbToUp(be);je&&(nt=Z.__getSymbToUp(ge(ge({},be),{},{changed:St})),qe=function(mt){var X=mt.components().at(vt);X&&X.remove(ge({fromInstance:Z},ce))}),!Le&&this.__logSymbol("remove",nt,{opts:l,removed:n.cid,isSymbNested:je}),nt.forEach(qe)}}else{var ut=this.__getSymbToUp(ge(ge({},be),{},{changed:"components:reset"}));this.__logSymbol("reset",ut,{components:n.models}),ut.forEach(function(mt){var X=n.models.map(function(Te){return Te.clone({symbol:1})});mt.components().reset(X,ge({fromInstance:A},m))})}this.__changesUp(q)}},{key:"initClasses",value:function(n,m){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},A="change:classes",q=this.get("attributes").class||[],be=[this,A,this.initClasses],Le=this.get("classes")||q,ke=Object(r.isString)(Le)?Le.split(" "):Le;this.stopListening.apply(this,be);var ve=this.normalizeClasses(ke),Ee=new u.a([]);return this.set("classes",Ee,l),Ee.add(ve),Ee.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,be),this}},{key:"initComponents",value:function(){var n=[this,"change:components",this.initComponents];this.stopListening.apply(this,n);var m=new w.a(null,this.opt);m.parent=this;var l=this.get("components"),A=!this.opt.avoidChildren;return this.set("components",m),A&&l&&m.add(Object(r.isFunction)(l)?l(this):l,this.opt),m.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,n),this}},{key:"initTraits",value:function(n){var m=this.em,l=[this,"change:traits",this.initTraits];this.stopListening.apply(this,l),this.loadTraits();var A=ge({},this.get("attributes")),q=this.get("traits");return q.each(function(be){if(!be.get("changeProp")){var Le=be.get("name"),ke=be.getInitValue();Le&&ke&&(A[Le]=ke)}}),q.length&&this.set("attributes",A),this.listenTo.apply(this,l),n&&m&&m.trigger("component:toggled"),this}},{key:"initScriptProps",value:function(){if(!this.opt.temporary){var n="script-props",m=["change:".concat(n),this.initScriptProps];this.off.apply(this,m);var l=this.previous(n)||[],A=this.get(n)||[],q=l.map(function(Le){return"change:".concat(Le)}).join(" "),be=A.map(function(Le){return"change:".concat(Le)}).join(" ");q&&this.off(q,this.__scriptPropsChange),be&&this.on(be,this.__scriptPropsChange),this.on.apply(this,m)}}},{key:"__scriptPropsChange",value:function(n,m){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l.avoidStore||this.trigger("rerender")}},{key:"append",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Object(r.isArray)(n)?n:[n],A=l.map(function(be){return Object(r.isString)(be)||be.collection&&be.collection.remove(be,{temporary:1}),be}),q=this.components().add(A,m);return Object(r.isArray)(q)?q:[q]}},{key:"components",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=this.get("components");return Object(r.isUndefined)(n)?l:(l.reset(null,m),n?this.append(n,m):[])}},{key:"getChildAt",value:function(n){return this.components().at(n||0)||null}},{key:"getLastChild",value:function(){var n=this.components();return n.at(n.length-1)||null}},{key:"empty",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.components().reset(null,n),this}},{key:"parent",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.collection||n.prev&&this.prevColl;return m?m.parent:null}},{key:"scriptUpdated",value:function(){this.set("scriptUpdated",1)}},{key:"initToolbar",value:function(){var n=this.em,m=n&&n.getConfig("stylePrefix")||"";if(!this.get("toolbar")){var l=[];this.collection&&l.push({attributes:{class:"fa fa-arrow-up"},command:function(A){return A.runCommand("core:component-exit",{force:1})}}),this.get("draggable")&&l.push({attributes:{class:"fa fa-arrows ".concat(m,"no-touch-actions"),draggable:!0},command:"tlb-move"}),this.get("copyable")&&l.push({attributes:{class:"fa fa-clone"},command:"tlb-clone"}),this.get("removable")&&l.push({attributes:{class:"fa fa-trash-o"},command:"tlb-delete"}),this.set("toolbar",l)}}},{key:"loadTraits",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n=n||this.get("traits"),!((n=Object(r.isFunction)(n)?n(this):n)instanceof re)){var l=new re([],this.opt);l.setTarget(this),n.length&&(n.forEach(function(A){return A.attributes&&delete A.attributes.value}),l.add(n)),this.set("traits",l,m)}return this}},{key:"getTrait",value:function(n){return this.get("traits").filter(function(m){return m.get("id")===n||m.get("name")===n})[0]}},{key:"updateTrait",value:function(n,m){var l=this.em,A=this.getTrait(n);return A&&A.set(m),l&&l.trigger("component:toggled"),this}},{key:"getTraitIndex",value:function(n){var m=this.getTrait(n);return m?this.get("traits").indexOf(m):-1}},{key:"removeTrait",value:function(n){var m=this,l=this.em,A=(Object(r.isArray)(n)?n:[n]).map(function(be){return m.getTrait(be)}),q=this.get("traits").remove(A);return l&&l.trigger("component:toggled"),q}},{key:"addTrait",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=this.em,A=this.get("traits").add(n,m);return l&&l.trigger("component:toggled"),A}},{key:"normalizeClasses",value:function(n){var m=[],l=this.em,A=l&&l.get("SelectorManager");if(A)return n.models?U()(n.models):(n.forEach(function(q){return m.push(A.add(q))}),m)}},{key:"clone",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.em,l=ge({},this.attributes),A=ge({},this.opt),q=this.getId(),be=m&&m.get("CssComposer");l.attributes=ge({},l.attributes),delete l.attributes.id,l.components=[],l.classes=[],l.traits=[],this.__isSymbolTop()&&(n.symbol=1),this.get("components").each(function(St,vt){l.components[vt]=St.clone(ge(ge({},n),{},{_inner:1}))}),this.get("traits").each(function(St,vt){l.traits[vt]=St.clone()}),this.get("classes").each(function(St,vt){l.classes[vt]=St.get("name")}),l.status="",A.collection=null;var Le=new this.constructor(l,A),ke="#".concat(Le.getId()),ve=be?be.getRules("#".concat(q)):[];ve.forEach(function(St){var vt=St.clone();vt.set("selectors",[ke]),be.getAll().add(vt)}),Le.set(pe,0);var Ee=this.__getSymbol(),Ne=this.__getSymbols();n.symbol||!Ee&&!Ne?Ee?(Ee.set(pe,[].concat(U()(Ee.__getSymbols()),[Le])),Le.__initSymb()):n.symbol&&(this.__isSymbol()?(this.set(pe,[].concat(U()(Ne),[Le])),Le.set(_e,this),Le.__initSymb()):n.symbolInv?(this.set(pe,[Le]),Le.set(_e,this),[this,Le].map(function(St){return St.__initSymb()})):(Le.set(pe,[this]),[this,Le].map(function(St){return St.__initSymb()}),this.set(_e,Le))):(Le.set(_e,0),Le.set(pe,0));var Je="component:clone";return m&&m.trigger(Je,Le),this.trigger(Je,Le),Le}},{key:"getName",value:function(){var n=this.em,m=this.attributes,l=m.type,A=m.tagName,q=this.get("name"),be="div"==A,Le=l||(be?"box":A),ke=!l&&A&&!be&&A,ve="domComponents.names.",Ee=q&&n&&n.t("".concat(ve).concat(q)),Ne=ke&&n&&n.t("".concat(ve).concat(ke)),Je=n&&(n.t("".concat(ve).concat(l))||n.t("".concat(ve).concat(A)));return this.get("custom-name")||Ee||q||Ne||Object(_.capitalize)(ke)||Je||Object(_.capitalize)(Le)}},{key:"getIcon",value:function(){var n=this.get("icon");return n?n+" ":""}},{key:"toHTML",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this,l=[],A=n.tag,q=A||m.get("tagName"),be=m.get("void"),Le=n.attributes,ke=this.getAttrToHTML();for(var ve in delete n.tag,Le&&(Object(r.isFunction)(Le)?ke=Le(m,ke)||{}:Object(_.isObject)(Le)&&(ke=Le)),ke){var Ee=ke[ve],Ne=Object(r.isString)(Ee)?Ee.replace(/"/g,"&quot;"):Ee;Object(r.isUndefined)(Ne)||(Object(r.isBoolean)(Ne)?Ne&&l.push(ve):l.push("".concat(ve,'="').concat(Ne,'"')))}var Je=l.length?" ".concat(l.join(" ")):"",St=m.__innerHTML(n),vt="<".concat(q).concat(Je).concat(be?"/":"",">").concat(St);return!be&&(vt+="</".concat(q,">")),vt}},{key:"__innerHTML",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.components();return m.length?m.map(function(l){return l.toHTML(n)}).join(""):this.get("content")}},{key:"getAttrToHTML",value:function(){var n=this.getAttributes();return delete n.style,n}},{key:"toJSON",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=B.Model.prototype.toJSON.call(this,n);if(m.attributes=this.getAttributes(),delete m.attributes.class,delete m.toolbar,delete m.traits,delete m.status,delete m.open,!n.fromUndo){var l=m[_e],A=m[pe];A&&Object(r.isArray)(A)&&(m[pe]=A.filter(function(q){return q}).map(function(q){return q.getId?q.getId():q})),l&&!Object(r.isString)(l)&&(m[_e]=l.getId())}return this.em.getConfig("avoidDefaults")&&this.getChangedProps(m),m}},{key:"getChangedProps",value:function(n){var m=n||B.Model.prototype.toJSON.apply(this),l=Object(r.result)(this,"defaults");return Object(r.forEach)(l,function(A,q){-1===["type"].indexOf(q)&&m[q]===A&&delete m[q]}),Object(r.isEmpty)(m.type)&&delete m.type,Object(r.forEach)(["attributes","style"],function(A){Object(r.isEmpty)(l[A])&&Object(r.isEmpty)(m[A])&&delete m[A]}),Object(r.forEach)(["classes","components"],function(A){(!m[A]||Object(r.isEmpty)(l[A])&&!m[A].length)&&delete m[A]}),m}},{key:"getId",value:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid}},{key:"setId",value:function(n,m){var l=ge({},this.get("attributes"));return l.id=n,this.set("attributes",l,m),this}},{key:"getEl",value:function(n){var m=this.getView(n);return m&&m.el}},{key:"getView",value:function(n){var m=this.view;return n&&(m=this.views.filter(function(A){return A._getFrame()===n.view})[0]),m}},{key:"getCurrentView",value:function(){var n=(this.em.get("currentFrame")||{}).model;return this.getView(n)}},{key:"__getScriptProps",value:function(){var n=this.props();return(this.get("script-props")||[]).reduce(function(m,l){return m[l]=n[l],m},{})}},{key:"getScriptString",value:function(n){var m=this,l=n||this.get("script");if(!l)return l;if(this.get("script-props"))l=l.toString().trim();else{if("function"==typeof l){var A=l.toString().trim();l=(A=A.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var q=this.em.getConfig(),be=Ae(q.tagVarStart||"{[ "),Le=Ae(q.tagVarEnd||" ]}"),ke=new RegExp("".concat(be,"([\\w\\d-]*)").concat(Le),"g");l=l.replace(ke,function(ve,Ee){m.scriptUpdated();var Ne=m.attributes[Ee]||"";return Object(r.isArray)(Ne)||"object"==se()(Ne)?JSON.stringify(Ne):Ne})}return l}},{key:"emitUpdate",value:function(n){for(var m=this.em,l=ne+(n?":".concat(n):""),A=n&&this.get(n),q=arguments.length,be=new Array(q>1?q-1:0),Le=1;Le<q;Le++)be[Le-1]=arguments[Le];n&&this.updated.apply(this,[n,A,n&&this.previous(n)].concat(be)),this.trigger.apply(this,[l].concat(be)),m&&m.trigger.apply(m,[l,this].concat(be)),["components","classes"].indexOf(n)>=0&&this.__propSelfToParent({component:this,changed:g()({},n,A),options:be[2]||be[1]||{}})}},{key:"onAll",value:function(n){return Object(r.isFunction)(n)&&(n(this),this.components().forEach(function(m){return m.onAll(n)})),this}},{key:"remove",value:function(){var n=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=this.em,A=this.collection,q=function(){A&&A.remove(n,m),m.root&&n.components("")},be=ge({},m);return[this,l].map(function(Le){return Le.trigger("component:remove:before",n,q,be)}),!be.abort&&q(),this}},{key:"move",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.remove({temporary:1}),n&&n.append(this,m),this}},{key:"resetId",value:function(){var n=this.em,m=this.getId();if(m){var l=H.createId(this);this.setId(l);var A=n&&n.get("CssComposer").getIdRule(m),q=A&&A.get("selectors").at(0);return q&&q.set("name",l),this}}},{key:"_getStyleRule",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=n.id,l=this.em,A=m||this.getId();return l&&l.get("CssComposer").getIdRule(A)}},{key:"_getStyleSelector",value:function(n){var m=this._getStyleRule(n);return m&&m.get("selectors").at(0)}},{key:"_idUpdated",value:function(n,m){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!l.idUpdate){var A=this.ccid,q=this.get("attributes")||{},be=q.id,Le=(this.previous("attributes")||{}).id||A,ke=H.getList(this);if(ke[be]||!be&&Le)return this.setId(Le,{idUpdate:1});delete ke[Le],ke[be]=this,this.ccid=be;var ve=this._getStyleSelector({id:Le});ve&&ve.set({name:be,label:be})}}}]),H}(B.Model.extend(E.a));W.isComponent=function(j){return{tagName:Object(_.toLowerCase)(j.tagName)}},W.ensureInList=function(j){var C=W.getList(j),H=j.getId(),n=C[H];if(n){if(n!==j){var m=W.getIncrementId(H,C);j.setId(m),C[m]=j}}else C[H]=j;j.components().forEach(function(l){return W.ensureInList(l)})},W.createId=function(j){var C,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=W.getList(j),m=H.idMap,l=void 0===m?{}:m,A=j.get("attributes"),q=A.id;return q?(C=W.getIncrementId(q,n,H),j.setId(C),q!==C&&(l[q]=C)):C=W.getNewId(n),n[C]=j,C},W.getNewId=function(j){for(var C=Object.keys(j).length.toString().length+2,H=(Math.random()+1.1).toString(36).slice(-C),n="i".concat(H);j[n];)n=W.getNewId(j);return n},W.getIncrementId=function(j,C){var H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=H.keepIds,m=void 0===n?[]:n,l=1,A=j;if(m.indexOf(j)<0)for(;C[A];)l++,A="".concat(j,"-").concat(l);return A},W.getList=function(j){var C=j.opt,H=void 0===C?{}:C,m=H.em,l=H.domc||m&&m.get("DomComponents");return l?l.componentsById:{}},W.checkId=function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=Object(r.isArray)(j)?j:[j],l=n.keepIds,A=void 0===l?[]:l;m.forEach(function(q){var be=q.attributes,Le=void 0===be?{}:be,ke=q.components,ve=Le.id;if(ve&&H[ve]&&A.indexOf(ve)<0){var Ee=W.getIncrementId(ve,H);Le.id=Ee,Object(r.isArray)(C)&&C.forEach(function(Ne){var Je=Ne.selectors;Je.forEach(function(St,vt){St==="#".concat(ve)&&(Je[vt]="#".concat(Ee))})})}ke&&W.checkId(ke,C,H,n)})},W.getDefaults=function(){return Object(r.result)(this.prototype,"defaults")},W.prototype.defaults=(R={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null},g()(R,_e,0),g()(R,pe,0),g()(R,ae,0),g()(R,"_undo",!0),g()(R,"_undoexc",["status","open"]),R)},function(Ye,le,o){var ee=o(79),se=o(80),J=o(50),U=o(81);Ye.exports=function(L){return ee(L)||se(L)||J(L)||U()},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(2),U=o.n(J),L=o(0),k=o(30),f=o(42),g=o(20),h=o(13),y=o(1);function d(O,v){var D=Object.keys(O);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(O);v&&(I=I.filter(function(T){return Object.getOwnPropertyDescriptor(O,T).enumerable})),D.push.apply(D,I)}return D}function P(O){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?d(Object(D),!0).forEach(function(I){se()(O,I,D[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(D)):d(Object(D)).forEach(function(I){Object.defineProperty(O,I,Object.getOwnPropertyDescriptor(D,I))})}return O}le.default=U.a.View.extend({className:function(){return this.getClasses()},tagName:function(){return this.model.get("tagName")},initialize:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=this.model,D=O.config||{},I=D.em,T=v.opt||{},S=this.$el,r=this.el;this.opts=O,this.modelOpt=T,this.config=D,this.em=I||"",this.pfx=D.stylePrefix||"",this.ppfx=D.pStylePrefix||"",this.attr=v.get("attributes"),this.classe=this.attr.class||[],this.listenTo(v,"change:style",this.updateStyle),this.listenTo(v,"change:attributes change:_innertext",this.renderAttributes),this.listenTo(v,"change:highlightable",this.updateHighlight),this.listenTo(v,"change:status",this.updateStatus),this.listenTo(v,"change:script rerender",this.reset),this.listenTo(v,"change:content",this.updateContent),this.listenTo(v,"change",this.handleChange),this.listenTo(v,"active",this.onActive),this.listenTo(v,"disable",this.onDisable),S.data("model",v),Object(y.setViewEl)(r,this),v.view=this,this._getFrame()&&v.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=P(P({},this.events),this.__isDraggable()&&{dragstart:"handleDragStart"}),this.delegateEvents(),!T.temporary&&this.init(this._clbObj())},__isDraggable:function(){var D=this.model.attributes;return this.config.draggableComponents&&D.draggable&&!D._innertext},_clbObj:function(){var O=this.em,v=this.model,D=this.el;return{editor:O&&O.getEditor(),model:v,el:D}},init:function(){},removed:function(){},onActive:function(){},onDisable:function(){},remove:function(){var O=this;U.a.View.prototype.remove.apply(O,arguments);var v=O.model,D=O._getFrame()||{},I=D.model;v.components().forEach(function(r){var _=r.getView(I);_&&_.remove()});var T=O.childrenView;T&&T.remove();var S=v.views;return S.splice(S.indexOf(O),1),O.removed(O._clbObj()),O.$el.data({model:"",collection:"",view:""}),O},handleDragStart:function(O){O.preventDefault(),O.stopPropagation(),this.em.get("Commands").run("tlb-move",{target:this.model,event:O})},initClasses:function(){var O=this.model,v="change:classes",D=O.get("classes");D instanceof g.a&&(this.stopListening(O,v,this.initClasses),this.listenTo(O,v,this.initClasses),this.listenTo(D,"add remove change",this.updateClasses),D.length&&this.importClasses())},initComponents:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=this.model,D=this.$el,I=this.childrenView,T="change:components",S=v.get("components"),r=[v,T,this.initComponents];S instanceof k.a&&(D.data("collection",S),I&&I.remove(),this.stopListening.apply(this,r),!O.avoidRender&&this.renderChildren(),this.listenTo.apply(this,r))},handleChange:function(){var O=this.model,v=Object(L.keys)(O.changed);if(1!==v.length||"status"!==v[0])for(var D in O.emitUpdate(),O.changed)O.emitUpdate(D)},importClasses:function(){var O=this.config.em.get("SelectorManager");O&&this.model.get("classes").each(function(v){O.add(v.get("name"))})},updateStatus:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=this.em,D=v?v.get("Canvas").getConfig():{},I=D.extHl,T=this.el,S=this.model.get("status"),r=this.ppfx,_="".concat(r,"selected"),E="".concat(_,"-parent"),B="".concat(r,"freezed"),$="".concat(r,"hovered"),w=[_,E,B,$],p=I&&!O.noExtHl?"":_;this.$el.removeClass(w.join(" "));var u=T.getAttribute("class")||"",x="";switch(S){case"selected":x="".concat(u," ").concat(p);break;case"selected-parent":x="".concat(u," ").concat(E);break;case"freezed":x="".concat(u," ").concat(B);break;case"freezed-selected":x="".concat(u," ").concat(B," ").concat(p);break;case"hovered":x=O.avoidHover?"":"".concat(u," ").concat($)}(x=x.trim())&&T.setAttribute("class",x)},updateHighlight:function(){var O=this.model.get("highlightable");this.setAttribute("data-highlightable",O?1:"")},updateStyle:function(O,v){var D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},I=this.model,T=this.em,S=this.el;if(T&&T.getConfig("avoidInlineStyle")&&!D.inline){var r=I.getStyle(),_=Object(L.isEmpty)(r);!_&&I.setStyle(r),I.get("_innertext")&&_?S.removeAttribute("id"):S.id=I.getId()}else this.setAttribute("style",I.styleToString(D))},updateClasses:function(){var O=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",O),this.updateStatus(),this.onAttrUpdate()},setAttribute:function(O,v){var D=this.$el;v?D.attr(O,v):D.removeAttr(O)},getClasses:function(){return this.model.getClasses().join(" ")},updateAttributes:function(){var O=[],v=this.model,D=this.$el,I=this.el,T=v.attributes,S=T.highlightable,r=T.textable,_=P(P(P({"data-gjs-type":T.type||"default"},this.__isDraggable()?{draggable:!0}:{}),S?{"data-highlightable":1}:{}),r?{contenteditable:"false","data-gjs-textable":"true"}:{});Object(L.each)(I.attributes,function(B){return O.push(B.nodeName)}),O.forEach(function(B){return D.removeAttr(B)}),this.updateStyle();var E=P(P({},_),v.getAttributes());Object(L.keys)(E).forEach(function(B){return!1===E[B]&&delete E[B]}),D.attr(E)},updateContent:function(){var O=this.model.get("content"),v=this.model.components().length;this.getChildrenContainer().innerHTML=v?"":O},prevDef:function(O){O.preventDefault()},updateScript:function(){var v=this.em;this.model.get("script")&&v&&v.get("Canvas").getCanvasView().updateScript(this)},getChildrenContainer:function(){var O=this.el;return"function"==typeof this.getChildrenSelector&&(O=this.el.querySelector(this.getChildrenSelector())),O},getOffsetRect:function(){var O={},v=this.el,D=0,I=0;return function T(S){var r=S.offsetParent;r?(D+=r.offsetTop,I+=r.offsetLeft,T(r)):(O.top=v.offsetTop+D,O.left=v.offsetLeft+I,O.bottom=O.top+v.offsetHeight,O.right=O.left+v.offsetWidth)}(v),O},isInViewport:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=O.rect,D=this.el,I=D.ownerDocument,T=I.body,S=I.defaultView.frameElement,r=v||this.getOffsetRect(),_=r.top,E=r.left,B=this._getFrame().getOffsetRect();return _>=B.scrollTop&&E>=B.scrollLeft&&_<=B.scrollBottom&&E<=S.offsetWidth+T.scrollLeft},scrollIntoView:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=this.getOffsetRect(),D=this.isInViewport({rect:v});if(!D||O.force){var I=this.el;"smooth"!==O.behavior?I.ownerDocument.defaultView.scrollTo(0,v.top):I.scrollIntoView(P({behavior:"smooth",block:"nearest"},O))}},reset:function(){var O=this.el;this.el="",this._ensureElement(),this._setData(),Object(h.m)(O,this.el),this.render()},_setData:function(){var O=this.model,v=O.components();this.$el.data({model:O,collection:v,view:this})},_getFrame:function(){return this.config.frameView},renderChildren:function(){this.updateContent();var O=this.getChildrenContainer(),v=this.childrenView||new f.a({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});v.render(O),this.childrenView=v;for(var D=Array.prototype.slice.call(v.el.childNodes),I=0,T=D.length;I<T;I++)O.appendChild(D.shift())},renderAttributes:function(){this.updateAttributes(),this.updateClasses()},onAttrUpdate:function(){},render:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),Object(y.setViewEl)(this.el,this),this.postRender()),this},postRender:function(){var O=this.em,v=this.model;this.modelOpt.temporary||(this.onRender(this._clbObj()),O&&O.trigger("component:mount",v))},onRender:function(){}})},function(Ye,le,o){"use strict";o.d(le,"k",function(){return U}),o.d(le,"i",function(){return L}),o.d(le,"l",function(){return k}),o.d(le,"h",function(){return f}),o.d(le,"d",function(){return g}),o.d(le,"j",function(){return h}),o.d(le,"m",function(){return y}),o.d(le,"b",function(){return d}),o.d(le,"a",function(){return P}),o.d(le,"f",function(){return O}),o.d(le,"g",function(){return v}),o.d(le,"e",function(){return D}),o.d(le,"c",function(){return I});var ee=o(0),J="attributes",U="transitionend oTransitionEnd transitionend webkitTransitionEnd",L=function(T){return T&&9===T.nodeType},k=function(T){var S=T&&T.parentNode;S&&S.removeChild(T)},f=function(T,S){return T.querySelectorAll(S)},g=function(T){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T&&T.setAttribute&&Object(ee.each)(S,function(r,_){return T.setAttribute(_,r)})},h=function(T){return T&&!!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)},y=function(T,S){T.parentNode.replaceChild(S,T)},d=function(T,S,r){var _=T.childNodes,E=_.length,B=Object(ee.isUndefined)(r)?E:r;Object(ee.isString)(S)&&(T.insertAdjacentHTML("beforeEnd",S),T.removeChild(S=T.lastChild)),B>=E?T.appendChild(S):T.insertBefore(S,_[B])},P=function(T,S){return d(T,S)},O=function(T){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,_=document.createElement(T);return S&&Object(ee.each)(S,function(E,B){return _.setAttribute(B,E)}),r&&(Object(ee.isString)(r)?_.innerHTML=r:_.appendChild(r)),_},v=function(T){return document.createTextNode(T)},D=function(T,S){var r,_=T.type;try{r=new window[S](_,T)}catch(E){(r=document.createEvent(S)).initEvent(_,!0,!0)}return r._parentEvent=T,0===_.indexOf("key")&&(r.keyCodeVal=T.keyCode,["keyCode","which"].forEach(function(E){Object.defineProperty(r,E,{get:function(){return this.keyCodeVal}})})),r},I=function(T){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Array.isArray(S)?S:[S];r.forEach(function(_){var B=_[J]||{},$=document.createElement(_.tag||"div");Object(ee.each)(B,function(w,p){$.setAttribute(p,w)}),T.appendChild($)})}},function(Ye,le){function o(ee){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(Ye.exports=o=function(se){return typeof se},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0):(Ye.exports=o=function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0),o(ee)}Ye.exports=o,Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},,function(Ye,le,o){"use strict";o.d(le,"a",function(){return I});var ee=o(5),se=o.n(ee),J=o(6),U=o.n(J),L=o(8),k=o.n(L),f=o(9),g=o.n(f),h=o(4),y=o.n(h),d=o(2),P=o(0),I=function(T){k()(r,T);var S=function(T){var S=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}();return function(){var r,_=y()(T);if(S){var E=y()(this).constructor;r=Reflect.construct(_,arguments,E)}else r=_.apply(this,arguments);return g()(this,r)}}(r);function r(){return se()(this,r),S.apply(this,arguments)}return U()(r,[{key:"defaults",value:function(){return{name:"",label:"",type:1,active:!0,private:!1,protected:!1,_undo:!0}}},{key:"initialize",value:function(_){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},B=E.config,$=void 0===B?{}:B,w=this.get("name"),p=this.get("label");w?p||this.set("label",w):this.set("name",p);var u=this.get("name"),x=$.escapeName,b=x?x(u):r.escapeName(u);this.set("name",b),this.em=$.em}},{key:"isId",value:function(){return 2===this.get("type")}},{key:"isClass",value:function(){return 1===this.get("type")}},{key:"getFullName",value:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=_.escape,B=this.get("name"),$="";switch(this.get("type")){case 1:$=".";break;case 2:$="#"}return $+(E?E(B):B)}},{key:"toString",value:function(){return this.getFullName()}},{key:"getLabel",value:function(){return this.get("label")}},{key:"setLabel",value:function(_){return this.set("label",_)}},{key:"getActive",value:function(){return this.get("active")}},{key:"setActive",value:function(_){return this.set("active",_)}},{key:"toJSON",value:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=this.em,B=d.Model.prototype.toJSON.call(this,[_]),$=Object(P.result)(this,"defaults");if(E&&E.getConfig("avoidDefaults")){Object(P.forEach)($,function(p,u){B[u]===p&&delete B[u]}),B.label===B.name&&delete B.label;var w=Object(P.keys)(B).length;1===w&&B.name&&(B=B.name),2===w&&B.name&&B.type&&(B=this.getFullName())}return B}}]),r}(d.Model);I.prototype.idAttribute="name",I.TYPE_CLASS=1,I.TYPE_ID=2,I.escapeName=function(T){return"".concat(T).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")}},function(Ye,le,o){"use strict";o.d(le,"a",function(){return se});var ee=o(1);function se(J){for(var U=arguments.length,L=new Array(U>1?U-1:0),k=1;k<U;k++)L[k-1]=arguments[k];var f=J.raw;return f.reduce(function(g,h,y){var d=L[y-1],P=f[y-1];return Array.isArray(d)?d=d.join(""):P&&"$"===P.slice(-1)?g=g.slice(0,-1):d=Object(ee.escape)(d),g+d+h})}},function(Ye,le,o){"use strict";o.r(le);var ee="undefined"!=typeof document?document:null,se="undefined"!=typeof window?window:null,J=Array.prototype,U=J.filter,L=J.indexOf,k=J.map,f=J.push,g=J.reverse,h=J.slice,d=/^#[\w-]*$/,P=/^\.[\w-]*$/,O=/<.+>/,v=/^\w+$/;function D(X,Te){return void 0===Te&&(Te=ee),P.test(X)?Te.getElementsByClassName(X.slice(1)):v.test(X)?Te.getElementsByTagName(X):Te.querySelectorAll(X)}function I(X,Te){if(void 0===Te&&(Te=ee),X){if(X.__cash)return X;var Re=X;if(u(X)){if(Te.__cash&&(Te=Te[0]),!(Re=d.test(X)?Te.getElementById(X.slice(1)):O.test(X)?nt(X):D(X,Te)))return}else if(p(X))return this.ready(X);(Re.nodeType||Re===se)&&(Re=[Re]),this.length=Re.length;for(var $e=0,me=this.length;$e<me;$e++)this[$e]=Re[$e]}}function T(X,Te){return new I(X,Te)}var S=T.fn=T.prototype=I.prototype={constructor:T,__cash:!0,length:0,splice:J.splice};S.get=function(X){return void 0===X?h.call(this):this[X<0?X+this.length:X]},S.eq=function(X){return T(this.get(X))},S.first=function(){return this.eq(0)},S.last=function(){return this.eq(-1)},S.map=function(X){return T(k.call(this,function(Te,Re){return X.call(Te,Re,Te)}))},S.slice=function(){return T(h.apply(this,arguments))};var r=/(?:^\w|[A-Z]|\b\w)/g,_=/[\s-_]+/g;function E(X){return X.replace(r,function(Te,Re){return Te[Re?"toUpperCase":"toLowerCase"]()}).replace(_,"")}function B(X,Te){for(var Re=0,$e=X.length;Re<$e&&!1!==Te.call(X[Re],X[Re],Re,X);Re++);}T.camelCase=E,T.each=B,S.each=function(X){return B(this,function(Te,Re){return X.call(Te,Re,Te)}),this},S.removeProp=function(X){return this.each(function(Te,Re){delete Re[X]})},T.extend=S.extend=function(X){void 0===X&&(X=this);for(var Te=arguments,Re=Te.length,$e=Re<2?0:1;$e<Re;$e++)for(var me in Te[$e])X[me]=Te[$e][me];return X};var $=1;function w(X,Te){var Re=X&&(X.matches||X.webkitMatchesSelector||X.mozMatchesSelector||X.msMatchesSelector||X.oMatchesSelector);return!!Re&&Re.call(X,Te)}function p(X){return"function"==typeof X}function u(X){return"string"==typeof X}function x(X){return!isNaN(parseFloat(X))&&isFinite(X)}T.guid=$,T.matches=w,T.isFunction=p,T.isString=u,T.isNumeric=x;var b=Array.isArray;function R(X){return u(X)?function(Te,Re){return w(Re,X)}:X.__cash?function(Te,Re){return X.is(Re)}:function(Te,Re,$e){return Re===$e}}T.isArray=b,S.prop=function(X,Te){if(X){if(u(X))return arguments.length<2?this[0]&&this[0][X]:this.each(function($e,me){me[X]=Te});for(var Re in X)this.prop(Re,X[Re]);return this}},S.filter=function(X){if(!X)return T();var Te=p(X)?X:R(X);return T(U.call(this,function(Re,$e){return Te.call(Re,$e,Re,X)}))};var Q=/\S+/g;function re(X){return u(X)&&X.match(Q)||[]}function Fe(X){return X.filter(function(Te,Re,$e){return $e.indexOf(Te)===Re})}function ge(X,Te,Re){if(1===X.nodeType){var $e=se.getComputedStyle(X,null);return Te?Re?$e.getPropertyValue(Te):$e[Te]:$e}}function fe(X,Te){return parseInt(ge(X,Te),10)||0}S.hasClass=function(X){var Te=re(X),Re=!1;return Te.length&&this.each(function($e,me){return!(Re=me.classList.contains(Te[0]))}),Re},S.removeAttr=function(X){var Te=re(X);return Te.length?this.each(function(Re,$e){B(Te,function(me){$e.removeAttribute(me)})}):this},S.attr=function(X,Te){if(X){if(u(X)){if(arguments.length<2){if(!this[0])return;var Re=this[0].getAttribute(X);return null===Re?void 0:Re}return null===Te?this.removeAttr(X):this.each(function(me,Ke){Ke.setAttribute(X,Te)})}for(var $e in X)this.attr($e,X[$e]);return this}},S.toggleClass=function(X,Te){var Re=re(X),$e=void 0!==Te;return Re.length?this.each(function(me,Ke){B(Re,function(Ze){$e?Te?Ke.classList.add(Ze):Ke.classList.remove(Ze):Ke.classList.toggle(Ze)})}):this},S.addClass=function(X){return this.toggleClass(X,!0)},S.removeClass=function(X){return arguments.length?this.toggleClass(X,!1):this.attr("class","")},T.unique=Fe,S.add=function(X,Te){return T(Fe(this.get().concat(T(X,Te).get())))};var Ae=/^--/;function Pe(X){return Ae.test(X)}var de={},pe=ee&&ee.createElement("div"),_e=pe?pe.style:{},ae=["webkit","moz","ms","o"];function ne(X,Te){if(void 0===Te&&(Te=Pe(X)),Te)return X;if(!de[X]){var Re=E(X),$e=""+Re.charAt(0).toUpperCase()+Re.slice(1);B((Re+" "+ae.join($e+" ")+$e).split(" "),function(me){if(me in _e)return de[X]=me,!1})}return de[X]}T.prefixedProp=ne;var G={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function W(X,Te,Re){return void 0===Re&&(Re=Pe(X)),Re||G[X]||!x(Te)?Te:Te+"px"}S.css=function(X,Te){if(u(X)){var Re=Pe(X);return X=ne(X,Re),arguments.length<2?this[0]&&ge(this[0],X,Re):X?(Te=W(X,Te,Re),this.each(function(me,Ke){1===Ke.nodeType&&(Re?Ke.style.setProperty(X,Te):Ke.style[X]=Te)})):this}for(var $e in X)this.css($e,X[$e]);return this};var j="__cashData",C=/^data-(.*)/;function H(X){return X[j]=X[j]||{}}function n(X,Te){var Re=H(X);if(Te){if(!(Te in Re)){var $e=X.dataset?X.dataset[Te]||X.dataset[E(Te)]:T(X).attr("data-"+Te);if(void 0!==$e){try{$e=JSON.parse($e)}catch(me){}Re[Te]=$e}}return Re[Te]}return Re}function m(X,Te){return fe(X,"border"+(Te?"Left":"Top")+"Width")+fe(X,"padding"+(Te?"Left":"Top"))+fe(X,"padding"+(Te?"Right":"Bottom"))+fe(X,"border"+(Te?"Right":"Bottom")+"Width")}function l(X,Te){for(var Re=0,$e=Te.length;Re<$e;Re++)if(X.indexOf(Te[Re])<0)return!1;return!0}function A(X,Te,Re){B(X[Re],function($e){Te.removeEventListener(Re,$e[1])}),delete X[Re]}T.hasData=function(X){return j in X},S.data=function(X,Te){var Re=this;if(!X)return this[0]?(B(this[0].attributes,function(me){var Ke=me.name.match(C);Ke&&Re.data(Ke[1])}),n(this[0])):void 0;if(u(X))return void 0===Te?this[0]&&n(this[0],X):this.each(function(me,Ke){return ht=X,Pt=Te,void(H(Ke)[ht]=Pt);var ht,Pt});for(var $e in X)this.data($e,X[$e]);return this},S.removeData=function(X){return this.each(function(Te,Re){return $e=Re,void(void 0===(me=X)?delete $e[j]:delete H($e)[me]);var $e,me})},B(["Width","Height"],function(X){S["inner"+X]=function(){if(this[0])return this[0]===se?se["inner"+X]:this[0]["client"+X]}}),B(["width","height"],function(X,Te){S[X]=function(Re){return this[0]?arguments.length?(Re=parseInt(Re,10),this.each(function($e,me){if(1===me.nodeType){var Ke=ge(me,"boxSizing");me.style[X]=W(X,Re+("border-box"===Ke?m(me,!Te):0))}})):this[0]===se?this[0][E("outer-"+X)]:this[0].getBoundingClientRect()[X]-m(this[0],!Te):void 0===Re?void 0:this}}),B(["Width","Height"],function(X,Te){S["outer"+X]=function(Re){if(this[0])return this[0]===se?se["outer"+X]:this[0]["offset"+X]+(Re?fe(this[0],"margin"+(Te?"Top":"Left"))+fe(this[0],"margin"+(Te?"Bottom":"Right")):0)}});var q="__cashEvents";function Le(X){return X[q]=X[q]||{}}function ke(X){var Te=X.split(".");return[Te[0],Te.slice(1).sort()]}function ve(X,Te,Re,$e){var me=Le(X);if(Te){var Ke=me[Te];if(!Ke)return;$e&&($e.guid=$e.guid||$++),me[Te]=Ke.filter(function(Ze){var Pt=Ze[1];if($e&&Pt.guid!==$e.guid||!l(Ze[0],Re))return!0;X.removeEventListener(Te,Pt)})}else if(Re&&Re.length)for(Te in me)ve(X,Te,Re,$e);else for(Te in me)A(me,X,Te)}S.off=function(X,Te){var Re=this;return void 0===X?this.each(function($e,me){return ve(me)}):B(re(X),function($e){var me=ke($e),Ke=me[0],Ze=me[1];Re.each(function(ht,Pt){return ve(Pt,Ke,Ze,Te)})}),this},S.on=function(X,Te,Re,$e){var me=this;if(!u(X)){for(var Ke in X)this.on(Ke,Te,X[Ke]);return this}return p(Te)&&(Re=Te,Te=!1),B(re(X),function(Ze){var ht=ke(Ze),Pt=ht[0],Dt=ht[1];me.each(function(ct,Tt){var De=function Ot(oe){if(!oe.namespace||l(Dt,oe.namespace.split("."))){var rt=Tt;if(Te){for(var V=oe.target;!w(V,Te);)if(V===Tt||!(V=V.parentNode))return;rt=V}oe.namespace=oe.namespace||"";var z=Re.call(rt,oe,oe.data);$e&&ve(Tt,Pt,Dt,Ot),!1===z&&(oe.preventDefault(),oe.stopPropagation())}};De.guid=Re.guid=Re.guid||$++,function(Ot,oe,rt,V){V.guid=V.guid||$++;var z=Le(Ot);z[oe]=z[oe]||[],z[oe].push([rt,V]),Ot.addEventListener(oe,V)}(Tt,Pt,Dt,De)})}),this},S.one=function(X,Te,Re){return this.on(X,Te,Re,!0)},S.ready=function(X){var Te=function(){return X(T)};return"loading"!==ee.readyState?setTimeout(Te):ee.addEventListener("DOMContentLoaded",Te),this},S.trigger=function(X,Te){var Re=X;if(u(X)){var $e=ke(X),me=$e[0],Ke=$e[1];(Re=ee.createEvent("HTMLEvents")).initEvent(me,!0,!0),Re.namespace=Ke.join(".")}return Re.data=Te,this.each(function(Ze,ht){ht.dispatchEvent(Re)})};var Ee=/select-one/i,Ne=/select-multiple/i;function Je(X){var Re,Te=X.type;return Ee.test(Te)?(Re=X).selectedIndex<0?null:Re.options[Re.selectedIndex].value:Ne.test(Te)?function(Re){var $e=[];return B(Re.options,function(me){!me.selected||me.disabled||me.parentNode.disabled||$e.push(me.value)}),$e}(X):X.value}var St=/%20/g,vt=/file|reset|submit|button|image/i,Z=/radio|checkbox/i;S.serialize=function(){var X="";return this.each(function(Te,Re){B(Re.elements||[Re],function($e){if(!$e.disabled&&$e.name&&"FIELDSET"!==$e.tagName&&!vt.test($e.type)&&(!Z.test($e.type)||$e.checked)){var me=Je($e);void 0!==me&&B(b(me)?me:[me],function(Ke){var ht;X+=(ht=Ke,"&"+encodeURIComponent($e.name)+"="+encodeURIComponent(ht).replace(St,"+"))})}})}),X.substr(1)},S.val=function(X){return void 0===X?this[0]&&Je(this[0]):this.each(function(Te,Re){var $e=Ne.test(Re.type),me=null===X?$e?[]:"":X;$e&&b(me)?B(Re.options,function(Ke){Ke.selected=me.indexOf(Ke.value)>=0}):Re.value=me})},S.clone=function(){return this.map(function(X,Te){return Te.cloneNode(!0)})},S.detach=function(){return this.each(function(X,Te){Te.parentNode&&Te.parentNode.removeChild(Te)})};var ce,je=/^\s*<(\w+)[^>]*>/,qe=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function nt(X){if(function(){if(!ce){var $e=ee.createElement("table"),me=ee.createElement("tr");ce={"*":ee.createElement("div"),tr:ee.createElement("tbody"),td:me,th:me,thead:$e,tbody:$e,tfoot:$e}}}(),!u(X))return[];if(qe.test(X))return[ee.createElement(RegExp.$1)];var Te=je.test(X)&&RegExp.$1,Re=ce[Te]||ce["*"];return Re.innerHTML=X,T(Re.childNodes).detach().get()}function ut(X,Te,Re){if(void 0!==Te){var $e=u(Te);!$e&&Te.length?B(Te,function(me){return ut(X,me,Re)}):B(X,$e?function(me){me.insertAdjacentHTML(Re?"afterbegin":"beforeend",Te)}:function(me,Ke){return Ze=me,ht=Ke?Te.cloneNode(!0):Te,void(Re?Ze.insertBefore(ht,Ze.childNodes[0]):Ze.appendChild(ht));var Ze,ht})}}T.parseHTML=nt,S.empty=function(){var X=this[0];if(X)for(;X.firstChild;)X.removeChild(X.firstChild);return this},S.append=function(){var X=this;return B(arguments,function(Te){ut(X,Te)}),this},S.appendTo=function(X){return ut(T(X),this),this},S.html=function(X){if(void 0===X)return this[0]&&this[0].innerHTML;var Te=X.nodeType?X[0].outerHTML:X;return this.each(function(Re,$e){$e.innerHTML=Te})},S.insertAfter=function(X){var Te=this;return T(X).each(function(Re,$e){var me=$e.parentNode;Te.each(function(Ke,Ze){me.insertBefore(Re?Ze.cloneNode(!0):Ze,$e.nextSibling)})}),this},S.after=function(){var X=this;return B(g.apply(arguments),function(Te){g.apply(T(Te).slice()).insertAfter(X)}),this},S.insertBefore=function(X){var Te=this;return T(X).each(function(Re,$e){var me=$e.parentNode;Te.each(function(Ke,Ze){me.insertBefore(Re?Ze.cloneNode(!0):Ze,$e)})}),this},S.before=function(){var X=this;return B(arguments,function(Te){T(Te).insertBefore(X)}),this},S.prepend=function(){var X=this;return B(arguments,function(Te){ut(X,Te,!0)}),this},S.prependTo=function(X){return ut(T(X),g.apply(this.slice()),!0),this},S.remove=function(){return this.detach().off()},S.replaceWith=function(X){var Te=this;return this.each(function(Re,$e){var me=$e.parentNode;if(me){var Ke=Re?T(X).clone():T(X);if(!Ke[0])return Te.remove(),!1;me.replaceChild(Ke[0],$e),T(Ke[0]).after(Ke.slice(1))}})},S.replaceAll=function(X){return T(X).replaceWith(this),this},S.text=function(X){return void 0===X?this[0]?this[0].textContent:"":this.each(function(Te,Re){Re.textContent=X})};var mt=ee&&ee.documentElement;S.offset=function(){var X=this[0];if(X){var Te=X.getBoundingClientRect();return{top:Te.top+se.pageYOffset-mt.clientTop,left:Te.left+se.pageXOffset-mt.clientLeft}}},S.offsetParent=function(){return T(this[0]&&this[0].offsetParent)},S.position=function(){var X=this[0];if(X)return{left:X.offsetLeft,top:X.offsetTop}},S.children=function(X){var Te=[];return this.each(function(Re,$e){f.apply(Te,$e.children)}),Te=T(Fe(Te)),X?Te.filter(function(Re,$e){return w($e,X)}):Te},S.contents=function(){var X=[];return this.each(function(Te,Re){f.apply(X,"IFRAME"===Re.tagName?[Re.contentDocument]:Re.childNodes)}),T(X.length&&Fe(X))},S.find=function(X){for(var Te=[],Re=0,$e=this.length;Re<$e;Re++){var me=D(X,this[Re]);me.length&&f.apply(Te,me)}return T(Te.length&&Fe(Te))},S.has=function(X){var Te=u(X)?function(Re,$e){return!!D(X,$e).length}:function(Re,$e){return $e.contains(X)};return this.filter(Te)},S.is=function(X){if(!X||!this[0])return!1;var Te=R(X),Re=!1;return this.each(function($e,me){return!(Re=Te($e,me,X))}),Re},S.next=function(){return T(this[0]&&this[0].nextElementSibling)},S.not=function(X){if(!X||!this[0])return this;var Te=R(X);return this.filter(function(Re,$e){return!Te(Re,$e,X)})},S.parent=function(){var X=[];return this.each(function(Te,Re){Re&&Re.parentNode&&X.push(Re.parentNode)}),T(Fe(X))},S.index=function(X){var Te=X?T(X)[0]:this[0],Re=X?this:T(Te).parent().children();return L.call(Re,Te)},S.closest=function(X){return X&&this[0]?this.is(X)?this.filter(X):this.parent().closest(X):T()},S.parents=function(X){var Te,Re=[];return this.each(function($e,me){for(Te=me;Te&&Te.parentNode&&Te!==ee.body.parentNode;)Te=Te.parentNode,(!X||X&&w(Te,X))&&Re.push(Te)}),T(Fe(Re))},S.prev=function(){return T(this[0]&&this[0].previousElementSibling)},S.siblings=function(){var X=this[0];return this.parent().children().filter(function(Te,Re){return Re!==X})},le.default=T},function(Ye,le){Ye.exports=function(o,ee){return ee||(ee=o.slice(0)),Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(ee)}}))},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){"use strict";o.d(le,"a",function(){return D});var ee=o(5),se=o.n(ee),J=o(6),U=o.n(J),L=o(8),k=o.n(L),f=o(9),g=o.n(f),h=o(4),y=o.n(h),d=o(0),P=o(2),O=o(16),D=function(I){k()(S,I);var T=function(I){var T=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(S){return!1}}();return function(){var S,r=y()(I);if(T){var _=y()(this).constructor;S=Reflect.construct(r,arguments,_)}else S=r.apply(this,arguments);return g()(this,S)}}(S);function S(){return se()(this,S),T.apply(this,arguments)}return U()(S,[{key:"modelId",value:function(r){return"".concat(r.name,"_").concat(r.type||O.a.TYPE_CLASS)}},{key:"getStyleable",value:function(){return Object(d.filter)(this.models,function(r){return r.get("active")&&!r.get("private")})}},{key:"getValid",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=r.noDisabled;return Object(d.filter)(this.models,function(E){return!E.get("private")}).filter(function(E){return _?E.get("active"):1})}},{key:"getFullString",value:function(r){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=[],B=r||this;return B.forEach(function($){return E.push($.getFullName(_))}),E.join("").trim()}}]),S}(P.Collection);D.prototype.model=O.a},function(Ye,le,o){"use strict";var ee=o(3),se=o.n(ee),J=o(11),U=o.n(J),L=o(0),k=o(1);function f(h,y){var d=Object.keys(h);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(h);y&&(P=P.filter(function(O){return Object.getOwnPropertyDescriptor(h,O).enumerable})),d.push.apply(d,P)}return d}function g(h){for(var y=1;y<arguments.length;y++){var d=null!=arguments[y]?arguments[y]:{};y%2?f(Object(d),!0).forEach(function(P){se()(h,P,d[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(d)):f(Object(d)).forEach(function(P){Object.defineProperty(h,P,Object.getOwnPropertyDescriptor(d,P))})}return h}le.a={getConfig:function(h){return this.__getConfig(h)},__getConfig:function(h){var y=this.config||{};return h?y[h]:y},getAll:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.all?h.array?U()(this.all.models):this.all:[]},getAllMap:function(){return this.getAll().reduce(function(h,y){return h[y.get(y.idAttribute)]=y,h},{})},__initConfig:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=g(g({},h),y),this.em=this.config.em},__initListen:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=this.all,d=this.em,P=this.events;y&&d&&y.on("add",function(O,v,D){return d.trigger(P.add,O,D)}).on("remove",function(O,v,D){return d.trigger(P.remove,O,D)}).on("change",function(O,v){return d.trigger(P.update,O,O.changedAttributes(),v)}).on("all",this.__catchAllEvent,this),this.cls=[y].concat(h.collections||[]),(h.propagate||[]).forEach(function(O){var D=O.event;O.entity.on("all",function(I,T,S,r){var _=g({event:I},r||S);[d,y].map(function(E){return E.trigger(D,T,_)})})})},__remove:function(h){var y=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=this.em,O=Object(L.isString)(h)?this.get(h):h,v=function(){return O&&y.all.remove(O,d),O};return!d.silent&&P&&P.trigger(this.events.removeBefore,O,v,d),!d.abort&&v()},__catchAllEvent:function(h,y,d,P){var O=this.em,v=this.events;O&&v.all&&O.trigger(v.all,{event:h,model:y,options:P||d}),this.__onAllEvent()},__appendTo:function(){var h=this.getConfig().appendTo;if(h){var y=Object(L.isElement)(h)?h:document.querySelector(h);if(!y)return this.__logWarn('"appendTo" element not found');y.appendChild(this.render())}},__onAllEvent:function(){},__logWarn:function(h){this.em.logWarning("[".concat(this.name,"]: ").concat(h))},_createId:function(){var h,y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,d=this.getAll(),P=d.length+y,O=this.getAllMap();do{h=Object(k.createId)(P)}while(O[h]);return h},__destroy:function(){this.cls.forEach(function(h){h.stopListening(),h.reset()}),this.em=0}}},function(Ye,le,o){var ee=o(82);Ye.exports=function(se,J){if(null==se)return{};var U,L,k=ee(se,J);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(se);for(L=0;L<f.length;L++)J.indexOf(U=f[L])>=0||Object.prototype.propertyIsEnumerable.call(se,U)&&(k[U]=se[U])}return k},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){"use strict";o.r(le);var ee=o(14),se=o.n(ee),J=o(3),U=o.n(J),L=o(2),k=o.n(L),f=o(0),g=o(1),h=o(13),y=o(29);function d(E,B){var $=Object.keys(E);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(E);B&&(w=w.filter(function(p){return Object.getOwnPropertyDescriptor(E,p).enumerable})),$.push.apply($,w)}return $}function P(E){for(var B=1;B<arguments.length;B++){var $=null!=arguments[B]?arguments[B]:{};B%2?d(Object($),!0).forEach(function(w){U()(E,w,$[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors($)):d(Object($)).forEach(function(w){Object.defineProperty(E,w,Object.getOwnPropertyDescriptor($,w))})}return E}var O=k.a.View.extend({events:function(){return this.model.get("events")||{mousedown:"handleClick"}},attributes:function(){return this.model.get("attributes")},initialize:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},B=E.config,$=void 0===B?{}:B;this.em=$.em,this.editor=$.editor},handleClick:function(E){E.preventDefault(),E.stopPropagation();var $=this.em,w=this.editor.Canvas.getFrameEl().getBoundingClientRect(),p=w.left,u=w.top,x=P(P({},E),{},{clientX:E.clientX-p,clientY:E.clientY-u});$.trigger("toolbar:run:before"),this.execCommand(x)},execCommand:function(E){var B={event:E},$=this.model.get("command"),w=this.editor;"function"==typeof $&&$(w,null,B),"string"==typeof $&&w.runCommand($,B)},render:function(){var E=this.editor,B=this.$el,$=this.model,w=$.get("id"),p=$.get("label"),u=E.getConfig("stylePrefix");return B.addClass("".concat(u,"toolbar-item")),w&&B.addClass("".concat(u,"toolbar-item__").concat(w)),p&&B.append(p),this}}),v=y.a.extend({itemView:O,initialize:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config={editor:E.editor||"",em:E.em},this.listenTo(this.collection,"reset",this.render)}}),D=k.a.Model.extend({defaults:{command:"",attributes:{}}}),I=k.a.Collection.extend({model:D});function T(E,B){var $=Object.keys(E);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(E);B&&(w=w.filter(function(p){return Object.getOwnPropertyDescriptor(E,p).enumerable})),$.push.apply($,w)}return $}function S(E){for(var B=1;B<arguments.length;B++){var $=null!=arguments[B]?arguments[B]:{};B%2?T(Object($),!0).forEach(function(w){U()(E,w,$[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors($)):T(Object($)).forEach(function(w){Object.defineProperty(E,w,Object.getOwnPropertyDescriptor($,w))})}return E}var r,_=k.a.$;le.default={init:function(E){Object(f.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),r=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(E){var B=this,$=this.em,w=$.getConfig("listenToEl"),p=$.getContainer().parentNode,u=E?"on":"off",x={on:g.on,off:g.off};!w.length&&p&&w.push(p),x[u](window,"resize",this.onFrameUpdated),x[u](w,"scroll",this.onContainerChange),$[u]("component:toggled component:update",this.onSelect,this),$[u]("change:componentHovered",this.onHovered,this),$[u]("component:resize component:styleUpdate component:input",this.updateGlobalPos,this),$[u]("component:update:toolbar",this._upToolbar,this),$[u]("change:canvasOffset",this.updateAttached,this),$[u]("frame:updated",this.onFrameUpdated,this),$[u]("canvas:updateTools",this.onFrameUpdated,this),$.get("Canvas").getFrames().forEach(function(b){var R,Q,re=b.view;re&&(R=re.getWindow(),Q=re.getBody(),x[u](Q,"mouseover",B.onHover),x[u](Q,"mouseleave",B.onOut),x[u](Q,"click touchend",B.onClick),x[u](R,"scroll",B.onFrameScroll,!0))})},onHover:function(E){E.stopPropagation();var B=E.target,$=Object(g.getViewEl)(B),w=$&&$._getFrame(),p=_(B),u=p.data("model");if(!u)for(var x=p.parent();!u&&x.length&&!Object(h.i)(x[0]);)u=x.data("model"),x=x.parent();if(u&&!u.get("hoverable")){for(var b=u&&u.parent();b&&!b.get("hoverable");)b=b.parent();u=b}this.currentDoc=B.ownerDocument,this.em.setHovered(u),w&&this.em.set("currentFrame",w)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(E,B){var $=this,w={};B?B.views.forEach(function(p){var u=p.el,x=$.getElementPos(u);w={el:u,pos:x,component:B,view:Object(g.getViewEl)(u)},$.updateToolsLocal(w),u.ownerDocument===$.currentDoc&&($.elHovered=w)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(p){var u=p.view,x=u&&u.getToolsEl();x&&$.toggleToolsEl(0,0,{el:x})}))},onSelect:Object(f.debounce)(function(){var E=this.em,B=E.getSelected(),$=E.get("currentFrame")||{},w=B&&B.getView($.model),p=w&&w.el,u={};p&&Object(h.j)(p)&&(u={el:p,pos:this.getElementPos(p),component:B,view:Object(g.getViewEl)(p)}),this.elSelected=u,this.updateToolsGlobal(),this.updateLocalPos(u),this.initResize(B)}),updateGlobalPos:function(){var E=this.getElSelected();E.el&&(E.pos=this.getElementPos(E.el),this.updateToolsGlobal())},updateLocalPos:function(E){var B=this.getElHovered();B.el&&(B.pos=this.getElementPos(B.el),this.updateToolsLocal(E))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(E,B){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},w=$.el||this.canvas.getToolsEl(B);return w&&(w.style.display=E?"":"none"),w||{}},showElementOffset:function(E,B){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r&&this.editor.runCommand("show-offset",{el:E,elPos:B,view:$.view,force:1,top:0,left:0})},hideElementOffset:function(E){this.editor.stopCommand("show-offset",{view:E})},showFixedElementOffset:function(E,B){this.editor.runCommand("show-offset",{el:E,elPos:B,state:"Fixed"})},hideFixedElementOffset:function(E,B){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(E){this.canvas.getHighlighter(E).style.opacity=0},onClick:function(E){E.stopPropagation(),E.preventDefault();var B=this.em;if(B.get("_cmpDrag"))return B.set("_cmpDrag");var $=_(E.target),w=$.data("model");if(!w)for(var p=$.parent();!w&&p.length&&!Object(h.i)(p[0]);)w=p.data("model"),p=p.parent();if(w)if(w.get("selectable"))this.select(w,E);else{for(var u=w.parent();u&&!u.get("selectable");)u=u.parent();this.select(u,E)}},select:function(E){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E&&(this.editor.select(E,{scroll:{},event:B}),this.initResize(E))},updateBadge:function(E,B){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},w=this.canvas,p=_(E).data("model");if(p&&p.get("badgable")){var u=this.getBadge($);if(!$.posOnly){var x=this.canvas.getConfig(),b=p.getIcon(),R=x.pStylePrefix||"",Q="".concat(R,"badge"),re=x.customBadgeLabel,Fe="".concat(b?'<div class="'.concat(Q,'__icon">').concat(b,"</div>"):"",'\n        <div class="').concat(Q,'__name">').concat(p.getName(),"</div>");u.innerHTML=re?re(p):Fe}var ge="px",fe=u.style;fe.display="block";var Ae=w.getTargetToElementFixed(E,u,{pos:B}),Pe=Ae.top,de=$.leftOff<0?-$.leftOff:0;fe.top=Pe+ge,fe.left=de+ge}},showHighlighter:function(E){this.canvas.getHighlighter(E).style.opacity=""},initResize:function(E){var B,$=this.em,w=this.canvas,p=$?$.get("Editor"):"",u=($?$.get("Config"):"").stylePrefix||"",x="".concat(u,"resizing"),b=!Object(f.isElement)(E)&&Object(g.isTaggableNode)(E)?E:$.getSelected(),R=b&&b.get("resizable"),Q={},re=function(ge,fe,Ae){var Pe=Ae.docs;Pe&&Pe.forEach(function(de){var pe=de.body,_e=pe.className||"";pe.className=("add"==ge?"".concat(_e," ").concat(x):_e.replace(x,"")).trim()})};if(p&&R){var Fe=Object(f.isElement)(E)?E:b.getEl();Q={onStart:function(ge){var fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ae=fe.el,Pe=fe.config,de=fe.resizer,pe=Pe.keyHeight,_e=Pe.keyWidth,ae=Pe.currentUnit,ne=Pe.keepAutoHeight,G=Pe.keepAutoWidth;re("add",0,fe),B=$.get("StyleManager").getModelToStyle(b),w.toggleFramesEvents();var W=getComputedStyle(Ae),j=B.getStyle(),C=j[_e];Pe.autoWidth=G&&"auto"===C,isNaN(parseFloat(C))&&(C=W[_e]);var H=j[pe];Pe.autoHeight=ne&&"auto"===H,isNaN(parseFloat(H))&&(H=W[pe]),de.startDim.w=parseFloat(C),de.startDim.h=parseFloat(H),r=0,ae&&(Pe.unitHeight=Object(g.getUnitFromValue)(H),Pe.unitWidth=Object(g.getUnitFromValue)(C))},onMove:function(){p.trigger("component:resize")},onEnd:function(ge,fe){re("remove",0,fe),p.trigger("component:resize"),w.toggleFramesEvents(1),r=1},updateTarget:function(ge,fe){var Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(B){var Pe=Ae.store,de=Ae.selectedHandler,pe=Ae.config,_e=pe.keyHeight,ae=pe.keyWidth,ne=pe.autoHeight,G=pe.autoWidth,W=pe.unitWidth,j=pe.unitHeight,C=["tc","bc"].indexOf(de)>=0,H=["cl","cr"].indexOf(de)>=0,n={},m=Pe?"":1;if(!C){var l=w.getBody().offsetWidth,A=fe.w<l?fe.w:l;n[ae]=G?"auto":"".concat(A).concat(W)}H||(n[_e]=ne?"auto":"".concat(fe.h).concat(j)),B.addStyle(S(S({},n),{},{en:m}),{avoidStore:!Pe});var q="update:component:style",be="".concat(q,":").concat(_e," ").concat(q,":").concat(ae);$&&$.trigger(be,null,null,{noEmit:1})}}},"object"==se()(R)&&(Q=S(S(S({},Q),R),{},{parent:Q})),this.resizer=p.runCommand("resize",{el:Fe,options:Q,force:1})}else p.stopCommand("resize"),this.resizer=null},updateToolbar:function(E){var B=this.config.em,$=E==B?B.getSelected():E,w=this.canvas.getToolbarEl(),p=w.style,u=$.get("toolbar"),x=B.get("Config").showToolbar;if($&&x&&u&&u.length){if(p.display="",!this.toolbar){w.innerHTML="",this.toolbar=new I(u);var b=new v({collection:this.toolbar,editor:this.editor,em:B});w.appendChild(b.render().el)}this.toolbar.reset(u),p.top="-100px",p.left=0}else p.display="none"},updateToolbarPos:function(E){var $=this.canvas.getToolbarEl().style;$.top="".concat(E.top).concat("px"),$.left="".concat(E.left).concat("px"),$.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.canvas.getBadgeEl(E.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(E){return E&&"selected"===E.get("status")},updateToolsLocal:function(E){var B=E||this.getElHovered(),$=B.el,w=B.pos,p=B.view,u=B.component;if($){var x=u.get("hoverable"),b=this.lastHovered!==$,R=b?{}:{posOnly:1};b&&x&&(this.lastHovered=$,this.showHighlighter(p),this.showElementOffset($,w,{view:p})),this.isCompSelected(u)&&(this.hideHighlighter(p),this.hideElementOffset(p));var Q="px",re=this.toggleToolsEl(1,p),Fe=re.style,ge=this.canvas.canvasRectOffset($,w),fe=ge.top,Ae=ge.left;this.updateBadge($,w,S(S({},R),{},{view:p,topOff:fe,leftOff:Ae})),Fe.top=fe+Q,Fe.left=Ae+Q,Fe.width=w.width+Q,Fe.height=w.height+Q,this._trgToolUp("local",{component:u,el:re,top:fe,left:Ae,width:w.width,height:w.height})}else this.lastHovered=0},_upToolbar:Object(f.debounce)(function(){this.updateToolsGlobal({force:1})}),_trgToolUp:function(E){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.em.trigger("canvas:tools:update",S({type:E},B))},updateToolsGlobal:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},B=this.getElSelected(),$=B.el,w=B.pos,p=B.component;if(!$)return this.toggleToolsEl(),void(this.lastSelected=0);var u=this.canvas,x=this.lastSelected!==$;(x||E.force)&&(this.lastSelected=$,this.updateToolbar(p));var b="px",R=this.toggleToolsEl(1),Q=R.style,re=u.getTargetToElementFixed($,u.getToolbarEl(),{pos:w}),Fe=re.canvasOffsetTop,ge=re.canvasOffsetLeft;Q.top=Fe+b,Q.left=ge+b,Q.width=w.width+b,Q.height=w.height+b,this.updateToolbarPos({top:re.top,left:re.left}),this._trgToolUp("global",{component:p,el:R,top:Fe,left:ge,width:w.width,height:w.height})},updateAttached:Object(f.debounce)(function(){this.updateGlobalPos()}),onContainerChange:Object(f.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(E){return this.canvas.getCanvasView().getElementPos(E)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(E){E&&E.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(E){Object(g.hasWin)()&&(this.editor=E&&E.get("Editor"),this.enable())},stop:function(E,B){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(g.hasWin)()){var w=this.em,p=this.editor;this.onHovered(),this.stopSelectComponent(),!$.preserveSelected&&w.setSelected(null),this.toggleToolsEl(),p&&p.stopCommand("resize")}}}},function(Ye,le,o){"use strict";o.d(le,"a",function(){return d});var ee=o(3),se=o.n(ee),J=o(5),U=o.n(J),L=o(6),k=o.n(L),f=o(0),g=o(1);function h(P,O){var v=Object.keys(P);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(P);O&&(D=D.filter(function(I){return Object.getOwnPropertyDescriptor(P,I).enumerable})),v.push.apply(v,D)}return v}function y(P){for(var O=1;O<arguments.length;O++){var v=null!=arguments[O]?arguments[O]:{};O%2?h(Object(v),!0).forEach(function(D){se()(P,D,v[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(v)):h(Object(v)).forEach(function(D){Object.defineProperty(P,D,Object.getOwnPropertyDescriptor(v,D))})}return P}var d=function(){function P(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U()(this,P),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},Object(f.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(O),this.delta={x:0,y:0},this}return k()(P,[{key:"setOptions",value:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=y(y({},this.opts),O)}},{key:"toggleDrag",value:function(O){var v=this.getDocumentEl(),D=this.getContainerEl(),I=this.getWindowEl(),T=O?"on":"off",S={on:g.on,off:g.off};S[T](D,"mousemove dragover",this.drag),S[T](v,"mouseup dragend touchend",this.stop),S[T](v,"keydown",this.keyHandle),S[T](I,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var O=this.lastScroll,v=this.delta,D=this.getScrollInfo(),I={x:D.x-O.x,y:D.y-O.y};this.move(v.x+I.x,v.y+I.y),this.lastScrollDiff=I}},{key:"start",value:function(O){var v=this.opts,D=v.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(O),this.guidesStatic=Object(f.result)(v,"guidesStatic")||[],this.guidesTarget=Object(f.result)(v,"guidesTarget")||[],Object(f.isFunction)(D)&&D(O,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(O)}},{key:"drag",value:function(O){var v=this,D=this.opts,I=this.lastScrollDiff,T=this.globScrollDiff,S=D.onDrag,r=this.startPointer,_=this.getPointerPos(O),E={x:T.x+I.x,y:T.y+I.y};this.globScrollDiff=E;var B={x:_.x-r.x+E.x,y:_.y-r.y+E.y};this.lastScrollDiff={x:0,y:0};var $=this.lockedAxis;"x"===($=O.shiftKey?!$&&this.detectAxisLock(B.x,B.y):null)?B.x=r.x:"y"===$&&(B.y=r.y);var w=function(Q){["x","y"].forEach(function(re){return Q[re]=Q[re]*Object(f.result)(D,"scale")}),v.delta=Q,v.move(Q.x,Q.y),Object(f.isFunction)(S)&&S(O,v)},p=y({},B);if(this.currentPointer=_,this.lockedAxis=$,this.lastScroll=this.getScrollInfo(),w(B),this.guidesTarget.length){var u=this.snapGuides(p);(u.trgX||u.trgY)&&w(u.newDelta)}0===O.which&&this.stop(O)}},{key:"snapGuides",value:function(O){var v=this,D=O,I=this.trgX,T=this.trgY;return this.guidesTarget.forEach(function(S){S.x&&v.trgX||S.y&&v.trgY||(S.active=0,v.guidesStatic.forEach(function(r){if(!(S.y&&r.x||S.x&&r.y)){var _=S.y&&r.y,E=_?"y":"x",B=S[E],$=r[E],w=O[E],p=_?T:I;v.isPointIn(B,$)&&Object(f.isUndefined)(p)&&v.setGuideLock(S,w-(B-$))}}))}),I=this.trgX,T=this.trgY,["x","y"].forEach(function(S){var r=S.toUpperCase(),_=v["trg".concat(r)];_&&!v.isPointIn(O[S],_.lock)&&(v.setGuideLock(_,null),_=null),_&&!Object(f.isUndefined)(_.lock)&&(D[S]=_.lock)}),{newDelta:D,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(O,v){var D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},I=D.offset,T=I||this.opts.snapOffset;return O>=v&&O<=v+T||O<=v&&O>=v-T}},{key:"setGuideLock",value:function(O,v){var D=Object(f.isUndefined)(O.x)?"Y":"X",I="trg".concat(D);return null!==v?(O.active=1,O.lock=v,this[I]=O):(delete O.active,delete O.lock,delete this[I]),O}},{key:"stop",value:function(O){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=this.delta,I=v.cancel,T=I?0:D.x,S=I?0:D.y;this.toggleDrag(),this.lockedAxis=null,this.move(T,S,1);var r=this.opts.onEnd;Object(f.isFunction)(r)&&r(O,this,{cancelled:I})}},{key:"keyHandle",value:function(O){Object(g.isEscKey)(O)&&this.stop(O,{cancel:1})}},{key:"move",value:function(O,v,D){var I=this.el,S=this.startPosition;if(S){var r=this.opts.setPosition,_=S.x+O,E=S.y+v;this.position={x:_,y:E,end:D},Object(f.isFunction)(r)&&r(this.position),I&&(I.style.left="".concat(_,"px"),I.style.top="".concat(E,"px"))}}},{key:"getContainerEl",value:function(){var O=this.opts.container;return O?[O]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(O){var v=O.ownerDocument||O;return v.defaultView||v.parentWindow})}},{key:"getDocumentEl",value:function(O){var v=this.opts.doc;if(O=O||this.el,!this.docs){var D=[document];O&&D.push(O.ownerDocument),v&&D.push(v),this.docs=D}return this.docs}},{key:"getPointerPos",value:function(O){var v=this.opts.getPointerPosition,D=Object(g.getPointerEvent)(O);return v?v(O):{x:D.clientX,y:D.clientY}}},{key:"getStartPosition",value:function(){var O=this.el,v=this.opts.getPosition,D={x:0,y:0};return Object(f.isFunction)(v)?D=v():O&&(D={x:parseFloat(O.style.left),y:parseFloat(O.style.top)}),D}},{key:"getScrollInfo",value:function(){var O=this.opts.doc,v=O&&O.body;return{y:v?v.scrollTop:0,x:v?v.scrollLeft:0}}},{key:"detectAxisLock",value:function(O,v){var D=O,I=v,T=Math.abs(D),S=Math.abs(I);return I>=T||I<=-T?"x":D>S||D<-S?"y":void 0}}]),P}()},function(Ye,le,o){"use strict";var ee=o(2),se=o.n(ee),J=se.a.$;le.a=se.a.View.extend({events:{change:"handleChange"},template:function(){return'<span class="'.concat(this.holderClass(),'"></span>')},inputClass:function(){return"".concat(this.ppfx,"field")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},initialize:function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=U.ppfx||"";this.opts=U,this.ppfx=L,this.em=U.target||{},this.listenTo(this.model,"change:value",this.handleModelChange)},elementUpdated:function(){this.model.trigger("el:change")},setValue:function(U){var k=U||this.model.get("defaults"),f=this.getInputEl();f&&(f.value=k)},handleModelChange:function(U,L,k){this.setValue(L,k)},handleChange:function(U){U.stopPropagation();var L=this.getInputEl().value;this.__onInputChange(L),this.elementUpdated()},__onInputChange:function(U){this.model.set({value:U},{fromInput:1})},getInputEl:function(){if(!this.inputEl){var U=this.model,L=this.opts.type||"text",k=U.get("placeholder")||U.get("defaults")||U.get("default")||"";this.inputEl=J('<input type="'.concat(L,'" placeholder="').concat(k,'">'))}return this.inputEl.get(0)},render:function(){this.inputEl=null;var U=this.$el;return U.addClass(this.inputClass()),U.html(this.template()),U.find(".".concat(this.holderClass())).append(this.getInputEl()),this}})},function(Ye,le,o){Ye.exports=o(93)},function(Ye,le,o){Ye.exports=function(){"use strict";var ee=navigator.userAgent,se=navigator.platform,J=/gecko\/\d/i.test(ee),U=/MSIE \d/.test(ee),L=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ee),k=/Edge\/(\d+)/.exec(ee),f=U||L||k,g=f&&(U?document.documentMode||6:+(k||L)[1]),h=!k&&/WebKit\//.test(ee),y=h&&/Qt\/\d+\.\d+/.test(ee),d=!k&&/Chrome\//.test(ee),P=/Opera\//.test(ee),O=/Apple Computer/.test(navigator.vendor),v=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ee),D=/PhantomJS/.test(ee),I=O&&(/Mobile\/\w+/.test(ee)||navigator.maxTouchPoints>2),T=/Android/.test(ee),S=I||T||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ee),r=I||/Mac/.test(se),_=/\bCrOS\b/.test(ee),E=/win/i.test(se),B=P&&ee.match(/Version\/(\d*\.\d*)/);B&&(B=Number(B[1])),B&&B>=15&&(P=!1,h=!0);var $=r&&(y||P&&(null==B||B<12.11)),w=J||f&&g>=9;function p(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var u,x=function(e,t){var a=e.className,i=p(t).exec(a);if(i){var s=a.slice(i.index+i[0].length);e.className=a.slice(0,i.index)+(s?i[1]+s:"")}};function b(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function R(e,t){return b(e).appendChild(t)}function Q(e,t,a,i){var s=document.createElement(e);if(a&&(s.className=a),i&&(s.style.cssText=i),"string"==typeof t)s.appendChild(document.createTextNode(t));else if(t)for(var N=0;N<t.length;++N)s.appendChild(t[N]);return s}function re(e,t,a,i){var s=Q(e,t,a,i);return s.setAttribute("role","presentation"),s}function Fe(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function ge(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function fe(e,t){var a=e.className;p(t).test(a)||(e.className+=(a?" ":"")+t)}function Ae(e,t){for(var a=e.split(" "),i=0;i<a.length;i++)a[i]&&!p(a[i]).test(t)&&(t+=" "+a[i]);return t}u=document.createRange?function(e,t,a,i){var s=document.createRange();return s.setEnd(i||e,a),s.setStart(e,t),s}:function(e,t,a){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(s){return i}return i.collapse(!0),i.moveEnd("character",a),i.moveStart("character",t),i};var Pe=function(e){e.select()};function de(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function pe(e,t,a){for(var i in t||(t={}),e)!e.hasOwnProperty(i)||!1===a&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function _e(e,t,a,i,s){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var N=i||0,ie=s||0;;){var ue=e.indexOf("\t",N);if(ue<0||ue>=t)return ie+(t-N);ie+=ue-N,ie+=a-ie%a,N=ue+1}}I?Pe=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:f&&(Pe=function(e){try{e.select()}catch(t){}});var ae=function(){this.id=null,this.f=null,this.time=0,this.handler=de(this.onTimeout,this)};function ne(e,t){for(var a=0;a<e.length;++a)if(e[a]==t)return a;return-1}ae.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},ae.prototype.set=function(e,t){this.f=t;var a=+new Date+e;(!this.id||a<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=a)};var W={toString:function(){return"CodeMirror.Pass"}},j={scroll:!1},C={origin:"*mouse"},H={origin:"+move"};function n(e,t,a){for(var i=0,s=0;;){var N=e.indexOf("\t",i);-1==N&&(N=e.length);var ie=N-i;if(N==e.length||s+ie>=t)return i+Math.min(ie,t-s);if(s+=N-i,i=N+1,(s+=a-s%a)>=t)return i}}var m=[""];function l(e){for(;m.length<=e;)m.push(A(m)+" ");return m[e]}function A(e){return e[e.length-1]}function q(e,t){for(var a=[],i=0;i<e.length;i++)a[i]=t(e[i],i);return a}function be(){}function Le(e,t){var a;return Object.create?a=Object.create(e):(be.prototype=e,a=new be),t&&pe(t,a),a}var ke=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ve(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||ke.test(e))}function Ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ve(e))||t.test(e):ve(e)}function Ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var Je=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function St(e){return e.charCodeAt(0)>=768&&Je.test(e)}function vt(e,t,a){for(;(a<0?t>0:t<e.length)&&St(e.charAt(t));)t+=a;return t}function Z(e,t,a){for(var i=t>a?-1:1;;){if(t==a)return t;var s=(t+a)/2,N=i<0?Math.ceil(s):Math.floor(s);if(N==t)return e(N)?t:a;e(N)?a=N:t=N+i}}var ce=null;function je(e,t,a){var i;ce=null;for(var s=0;s<e.length;++s){var N=e[s];if(N.from<t&&N.to>t)return s;N.to==t&&(N.from!=N.to&&"before"==a?i=s:ce=s),N.from==t&&(N.from!=N.to&&"before"!=a?i=s:ce=s)}return null!=i?i:ce}var qe=function(){var a=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,s=/[LRr]/,N=/[Lb1n]/,ie=/[1n]/;function ue(Oe,Ce,We){this.level=Oe,this.from=Ce,this.to=We}return function(Oe,Ce){var We="ltr"==Ce?"L":"R";if(0==Oe.length||"ltr"==Ce&&!a.test(Oe))return!1;for(var Ue,Qe=Oe.length,Ge=[],gt=0;gt<Qe;++gt)Ge.push((Ue=Oe.charCodeAt(gt))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Ue):1424<=Ue&&Ue<=1524?"R":1536<=Ue&&Ue<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Ue-1536):1774<=Ue&&Ue<=2220?"r":8192<=Ue&&Ue<=8203?"w":8204==Ue?"b":"L");for(var at=0,bt=We;at<Qe;++at){var At=Ge[at];"m"==At?Ge[at]=bt:bt=At}for(var Lt=0,Vt=We;Lt<Qe;++Lt){var Kt=Ge[Lt];"1"==Kt&&"r"==Vt?Ge[Lt]="n":s.test(Kt)&&(Vt=Kt,"r"==Kt&&(Ge[Lt]="R"))}for(var Ut=1,Yt=Ge[0];Ut<Qe-1;++Ut){var hn=Ge[Ut];"+"==hn&&"1"==Yt&&"1"==Ge[Ut+1]?Ge[Ut]="1":","!=hn||Yt!=Ge[Ut+1]||"1"!=Yt&&"n"!=Yt||(Ge[Ut]=Yt),Yt=hn}for(var an=0;an<Qe;++an){var _n=Ge[an];if(","==_n)Ge[an]="N";else if("%"==_n){var un=void 0;for(un=an+1;un<Qe&&"%"==Ge[un];++un);for(var Vn=an&&"!"==Ge[an-1]||un<Qe&&"1"==Ge[un]?"1":"N",qn=an;qn<un;++qn)Ge[qn]=Vn;an=un-1}}for(var Nn=0,zn=We;Nn<Qe;++Nn){var Sn=Ge[Nn];"L"==zn&&"1"==Sn?Ge[Nn]="L":s.test(Sn)&&(zn=Sn)}for(var Rn=0;Rn<Qe;++Rn)if(i.test(Ge[Rn])){var En=void 0;for(En=Rn+1;En<Qe&&i.test(Ge[En]);++En);for(var Pn="L"==(Rn?Ge[Rn-1]:We),bn=Pn==("L"==(En<Qe?Ge[En]:We))?Pn?"L":"R":We,Pr=Rn;Pr<En;++Pr)Ge[Pr]=bn;Rn=En-1}for(var or,Gn=[],In=0;In<Qe;)if(N.test(Ge[In])){var ri=In;for(++In;In<Qe&&N.test(Ge[In]);++In);Gn.push(new ue(0,ri,In))}else{var mr=In,Kr=Gn.length,Fr="rtl"==Ce?1:0;for(++In;In<Qe&&"L"!=Ge[In];++In);for(var rr=mr;rr<In;)if(ie.test(Ge[rr])){mr<rr&&(Gn.splice(Kr,0,new ue(1,mr,rr)),Kr+=Fr);var Br=rr;for(++rr;rr<In&&ie.test(Ge[rr]);++rr);Gn.splice(Kr,0,new ue(2,Br,rr)),Kr+=Fr,mr=rr}else++rr;mr<In&&Gn.splice(Kr,0,new ue(1,mr,In))}return"ltr"==Ce&&(1==Gn[0].level&&(or=Oe.match(/^\s+/))&&(Gn[0].from=or[0].length,Gn.unshift(new ue(0,0,or[0].length))),1==A(Gn).level&&(or=Oe.match(/\s+$/))&&(A(Gn).to-=or[0].length,Gn.push(new ue(0,Qe-or[0].length,Qe)))),"rtl"==Ce?Gn.reverse():Gn}}();function nt(e,t){var a=e.order;return null==a&&(a=e.order=qe(e.text,t)),a}var ut=[],mt=function(e,t,a){if(e.addEventListener)e.addEventListener(t,a,!1);else if(e.attachEvent)e.attachEvent("on"+t,a);else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||ut).concat(a)}};function X(e,t){return e._handlers&&e._handlers[t]||ut}function Te(e,t,a){if(e.removeEventListener)e.removeEventListener(t,a,!1);else if(e.detachEvent)e.detachEvent("on"+t,a);else{var i=e._handlers,s=i&&i[t];if(s){var N=ne(s,a);N>-1&&(i[t]=s.slice(0,N).concat(s.slice(N+1)))}}}function Re(e,t){var a=X(e,t);if(a.length)for(var i=Array.prototype.slice.call(arguments,2),s=0;s<a.length;++s)a[s].apply(null,i)}function $e(e,t,a){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Re(e,a||t.type,e,t),Dt(t)||t.codemirrorIgnore}function me(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var a=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==ne(a,t[i])&&a.push(t[i])}function Ke(e,t){return X(e,t).length>0}function Ze(e){e.prototype.on=function(t,a){mt(this,t,a)},e.prototype.off=function(t,a){Te(this,t,a)}}function ht(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Pt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Dt(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ct(e){ht(e),Pt(e)}function Tt(e){return e.target||e.srcElement}function De(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),r&&e.ctrlKey&&1==t&&(t=3),t}var Ot,oe,rt=function(){if(f&&g<9)return!1;var e=Q("div");return"draggable"in e||"dragDrop"in e}();function V(e){if(null==Ot){var t=Q("span","\u200b");R(e,Q("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ot=t.offsetWidth<=1&&t.offsetHeight>2&&!(f&&g<8))}var a=Ot?Q("span","\u200b"):Q("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return a.setAttribute("cm-text",""),a}function z(e){if(null!=oe)return oe;var t=R(e,document.createTextNode("A\u062eA")),a=u(t,0,1).getBoundingClientRect(),i=u(t,1,2).getBoundingClientRect();return b(e),!(!a||a.left==a.right)&&(oe=i.right-a.right<3)}var we,he=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,a=[],i=e.length;t<=i;){var s=e.indexOf("\n",t);-1==s&&(s=e.length);var N=e.slice(t,"\r"==e.charAt(s-1)?s-1:s),ie=N.indexOf("\r");-1!=ie?(a.push(N.slice(0,ie)),t+=ie+1):(a.push(N),t=s+1)}return a}:function(e){return e.split(/\r\n?|\n/)},Ie=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(a){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},st="oncopy"in(we=Q("div"))||(we.setAttribute("oncopy","return;"),"function"==typeof we.oncopy),kt=null,ft={},zt={};function nn(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ft[e]=t}function Wt(e){if("string"==typeof e&&zt.hasOwnProperty(e))e=zt[e];else if(e&&"string"==typeof e.name&&zt.hasOwnProperty(e.name)){var t=zt[e.name];"string"==typeof t&&(t={name:t}),(e=Le(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Wt("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Wt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function ln(e,t){t=Wt(t);var a=ft[t.name];if(!a)return ln(e,"text/plain");var i=a(e,t);if(tn.hasOwnProperty(t.name)){var s=tn[t.name];for(var N in s)s.hasOwnProperty(N)&&(i.hasOwnProperty(N)&&(i["_"+N]=i[N]),i[N]=s[N])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var ie in t.modeProps)i[ie]=t.modeProps[ie];return i}var tn={};function kn(e,t){pe(t,tn.hasOwnProperty(e)?tn[e]:tn[e]={})}function Cn(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var a={};for(var i in t){var s=t[i];s instanceof Array&&(s=s.concat([])),a[i]=s}return a}function Fn(e,t){for(var a;e.innerMode&&(a=e.innerMode(t))&&a.mode!=e;)t=a.state,e=a.mode;return a||{mode:e,state:t}}function jn(e,t,a){return!e.startState||e.startState(t,a)}var cn=function(e,t,a){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=a};function qt(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var a=e;!a.lines;)for(var i=0;;++i){var s=a.children[i],N=s.chunkSize();if(t<N){a=s;break}t-=N}return a.lines[t]}function dn(e,t,a){var i=[],s=t.line;return e.iter(t.line,a.line+1,function(N){var ie=N.text;s==a.line&&(ie=ie.slice(0,a.ch)),s==t.line&&(ie=ie.slice(t.ch)),i.push(ie),++s}),i}function fn(e,t,a){var i=[];return e.iter(t,a,function(s){i.push(s.text)}),i}function Jt(e,t){var a=t-e.height;if(a)for(var i=e;i;i=i.parent)i.height+=a}function pn(e){if(null==e.parent)return null;for(var t=e.parent,a=ne(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var s=0;i.children[s]!=t;++s)a+=i.children[s].chunkSize();return a+t.first}function Zn(e,t){var a=e.first;e:do{for(var i=0;i<e.children.length;++i){var s=e.children[i],N=s.height;if(t<N){e=s;continue e}t-=N,a+=s.chunkSize()}return a}while(!e.lines);for(var ie=0;ie<e.lines.length;++ie){var ue=e.lines[ie].height;if(t<ue)break;t-=ue}return a+ie}function Xn(e,t){return t>=e.first&&t<e.first+e.size}function F(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function K(e,t,a){if(void 0===a&&(a=null),!(this instanceof K))return new K(e,t,a);this.line=e,this.ch=t,this.sticky=a}function ye(e,t){return e.line-t.line||e.ch-t.ch}function Me(e,t){return e.sticky==t.sticky&&0==ye(e,t)}function wt(e){return K(e.line,e.ch)}function Rt(e,t){return ye(e,t)<0?t:e}function Nt(e,t){return ye(e,t)<0?e:t}function Mt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ft(e,t){if(t.line<e.first)return K(e.first,0);var i,s,N,a=e.first+e.size-1;return t.line>a?K(a,qt(e,a).text.length):(i=t,s=qt(e,t.line).text.length,null==(N=i.ch)||N>s?K(i.line,s):N<0?K(i.line,0):i)}function gn(e,t){for(var a=[],i=0;i<t.length;i++)a[i]=Ft(e,t[i]);return a}cn.prototype.eol=function(){return this.pos>=this.string.length},cn.prototype.sol=function(){return this.pos==this.lineStart},cn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},cn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},cn.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},cn.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},cn.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},cn.prototype.skipToEnd=function(){this.pos=this.string.length},cn.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},cn.prototype.backUp=function(e){this.pos-=e},cn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=_e(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},cn.prototype.indentation=function(){return _e(this.string,null,this.tabSize)-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},cn.prototype.match=function(e,t,a){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var s=function(N){return a?N.toLowerCase():N};if(s(this.string.substr(this.pos,e.length))==s(e))return!1!==t&&(this.pos+=e.length),!0},cn.prototype.current=function(){return this.string.slice(this.start,this.pos)},cn.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},cn.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},cn.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Tn=function(e,t){this.state=e,this.lookAhead=t},An=function(e,t,a,i){this.state=t,this.doc=e,this.line=a,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function Yn(e,t,a,i){var s=[e.state.modeGen],N={};ii(e,t.text,e.doc.mode,a,function(Ce,We){return s.push(Ce,We)},N,i);for(var ie=a.state,ue=function(Ce){a.baseTokens=s;var We=e.state.overlays[Ce],Ue=1,Qe=0;a.state=!0,ii(e,t.text,We.mode,a,function(Ge,gt){for(var at=Ue;Qe<Ge;){var bt=s[Ue];bt>Ge&&s.splice(Ue,1,Ge,s[Ue+1],bt),Ue+=2,Qe=Math.min(Ge,bt)}if(gt)if(We.opaque)s.splice(at,Ue-at,Ge,"overlay "+gt),Ue=at+2;else for(;at<Ue;at+=2){var At=s[at+1];s[at+1]=(At?At+" ":"")+"overlay "+gt}},N),a.state=ie,a.baseTokens=null,a.baseTokenPos=1},Oe=0;Oe<e.state.overlays.length;++Oe)ue(Oe);return{styles:s,classes:N.bgClass||N.textClass?N:null}}function wr(e,t,a){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Zr(e,pn(t)),s=t.text.length>e.options.maxHighlightLength&&Cn(e.doc.mode,i.state),N=Yn(e,t,i);s&&(i.state=s),t.stateAfter=i.save(!s),t.styles=N.styles,N.classes?t.styleClasses=N.classes:t.styleClasses&&(t.styleClasses=null),a===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Zr(e,t,a){var i=e.doc,s=e.display;if(!i.mode.startState)return new An(i,!0,t);var N=function(Oe,Ce,We){for(var Ue,Qe,Ge=Oe.doc,gt=We?-1:Ce-(Oe.doc.mode.innerMode?1e3:100),at=Ce;at>gt;--at){if(at<=Ge.first)return Ge.first;var bt=qt(Ge,at-1),At=bt.stateAfter;if(At&&(!We||at+(At instanceof Tn?At.lookAhead:0)<=Ge.modeFrontier))return at;var Lt=_e(bt.text,null,Oe.options.tabSize);(null==Qe||Ue>Lt)&&(Qe=at-1,Ue=Lt)}return Qe}(e,t,a),ie=N>i.first&&qt(i,N-1).stateAfter,ue=ie?An.fromSaved(i,ie,N):new An(i,jn(i.mode),N);return i.iter(N,t,function(Oe){Ar(e,Oe.text,ue);var Ce=ue.line;Oe.stateAfter=Ce==t-1||Ce%5==0||Ce>=s.viewFrom&&Ce<s.viewTo?ue.save():null,ue.nextLine()}),a&&(i.modeFrontier=ue.line),ue}function Ar(e,t,a,i){var s=e.doc.mode,N=new cn(t,e.options.tabSize,a);for(N.start=N.pos=i||0,""==t&&$r(s,a.state);!N.eol();)pr(s,N,a.state),N.start=N.pos}function $r(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var a=Fn(e,t);return a.mode.blankLine?a.mode.blankLine(a.state):void 0}}function pr(e,t,a,i){for(var s=0;s<10;s++){i&&(i[0]=Fn(e,a).mode);var N=e.token(t,a);if(t.pos>t.start)return N}throw new Error("Mode "+e.name+" failed to advance stream.")}An.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},An.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},An.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},An.fromSaved=function(e,t,a){return t instanceof Tn?new An(e,Cn(e.mode,t.state),a,t.lookAhead):new An(e,Cn(e.mode,t),a)},An.prototype.save=function(e){var t=!1!==e?Cn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Tn(t,this.maxLookAhead):t};var zr=function(e,t,a){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=a};function Dr(e,t,a,i){var s,N,ie=e.doc,ue=ie.mode,Oe=qt(ie,(t=Ft(ie,t)).line),Ce=Zr(e,t.line,a),We=new cn(Oe.text,e.options.tabSize,Ce);for(i&&(N=[]);(i||We.pos<t.ch)&&!We.eol();)We.start=We.pos,s=pr(ue,We,Ce.state),i&&N.push(new zr(We,s,Cn(ie.mode,Ce.state)));return i?N:new zr(We,s,Ce.state)}function vr(e,t){if(e)for(;;){var a=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!a)break;e=e.slice(0,a.index)+e.slice(a.index+a[0].length);var i=a[1]?"bgClass":"textClass";null==t[i]?t[i]=a[2]:new RegExp("(?:^|\\s)"+a[2]+"(?:$|\\s)").test(t[i])||(t[i]+=" "+a[2])}return e}function ii(e,t,a,i,s,N,ie){var ue=a.flattenSpans;null==ue&&(ue=e.options.flattenSpans);var Oe,Ce=0,We=null,Ue=new cn(t,e.options.tabSize,i),Qe=e.options.addModeClass&&[null];for(""==t&&vr($r(a,i.state),N);!Ue.eol();){if(Ue.pos>e.options.maxHighlightLength?(ue=!1,ie&&Ar(e,t,i,Ue.pos),Ue.pos=t.length,Oe=null):Oe=vr(pr(a,Ue,i.state,Qe),N),Qe){var Ge=Qe[0].name;Ge&&(Oe="m-"+(Oe?Ge+" "+Oe:Ge))}if(!ue||We!=Oe){for(;Ce<Ue.start;)s(Ce=Math.min(Ue.start,Ce+5e3),We);We=Oe}Ue.start=Ue.pos}for(;Ce<Ue.pos;){var gt=Math.min(Ue.pos,Ce+5e3);s(gt,We),Ce=gt}}var Mr=!1,tr=!1;function Sr(e,t,a){this.marker=e,this.from=t,this.to=a}function ar(e,t){if(e)for(var a=0;a<e.length;++a){var i=e[a];if(i.marker==t)return i}}function _r(e,t){for(var a,i=0;i<e.length;++i)e[i]!=t&&(a||(a=[])).push(e[i]);return a}function si(e,t){if(t.full)return null;var a=Xn(e,t.from.line)&&qt(e,t.from.line).markedSpans,i=Xn(e,t.to.line)&&qt(e,t.to.line).markedSpans;if(!a&&!i)return null;var s=t.from.ch,N=t.to.ch,ie=0==ye(t.from,t.to),ue=function(Ut,Yt,hn){var an;if(Ut)for(var _n=0;_n<Ut.length;++_n){var un=Ut[_n],Vn=un.marker;null!=un.from&&!(Vn.inclusiveLeft?un.from<=Yt:un.from<Yt)&&(un.from!=Yt||"bookmark"!=Vn.type||hn&&un.marker.insertLeft)||(an||(an=[])).push(new Sr(Vn,un.from,null==un.to||(Vn.inclusiveRight?un.to>=Yt:un.to>Yt)?null:un.to))}return an}(a,s,ie),Oe=function(Ut,Yt,hn){var an;if(Ut)for(var _n=0;_n<Ut.length;++_n){var un=Ut[_n],Vn=un.marker;(null==un.to||(Vn.inclusiveRight?un.to>=Yt:un.to>Yt)||un.from==Yt&&"bookmark"==Vn.type&&(!hn||un.marker.insertLeft))&&(an||(an=[])).push(new Sr(Vn,null==un.from||(Vn.inclusiveLeft?un.from<=Yt:un.from<Yt)?null:un.from-Yt,null==un.to?null:un.to-Yt))}return an}(i,N,ie),Ce=1==t.text.length,We=A(t.text).length+(Ce?s:0);if(ue)for(var Ue=0;Ue<ue.length;++Ue){var Qe=ue[Ue];if(null==Qe.to){var Ge=ar(Oe,Qe.marker);Ge?Ce&&(Qe.to=null==Ge.to?null:Ge.to+We):Qe.to=s}}if(Oe)for(var gt=0;gt<Oe.length;++gt){var at=Oe[gt];null!=at.to&&(at.to+=We),null==at.from?ar(ue,at.marker)||(at.from=We,Ce&&(ue||(ue=[])).push(at)):(at.from+=We,Ce&&(ue||(ue=[])).push(at))}ue&&(ue=Xr(ue)),Oe&&Oe!=ue&&(Oe=Xr(Oe));var bt=[ue];if(!Ce){var At,Lt=t.text.length-2;if(Lt>0&&ue)for(var Vt=0;Vt<ue.length;++Vt)null==ue[Vt].to&&(At||(At=[])).push(new Sr(ue[Vt].marker,null,null));for(var Kt=0;Kt<Lt;++Kt)bt.push(At);bt.push(Oe)}return bt}function Xr(e){for(var t=0;t<e.length;++t){var a=e[t];null!=a.from&&a.from==a.to&&!1!==a.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function ei(e){var t=e.markedSpans;if(t){for(var a=0;a<t.length;++a)t[a].marker.detachLine(e);e.markedSpans=null}}function Lr(e,t){if(t){for(var a=0;a<t.length;++a)t[a].marker.attachLine(e);e.markedSpans=t}}function qr(e){return e.inclusiveLeft?-1:0}function jr(e){return e.inclusiveRight?1:0}function Hr(e,t){var a=e.lines.length-t.lines.length;if(0!=a)return a;var i=e.find(),s=t.find(),N=ye(i.from,s.from)||qr(e)-qr(t);return N?-N:ye(i.to,s.to)||jr(e)-jr(t)||t.id-e.id}function sr(e,t){var a,i=tr&&e.markedSpans;if(i)for(var s=void 0,N=0;N<i.length;++N)(s=i[N]).marker.collapsed&&null==(t?s.from:s.to)&&(!a||Hr(a,s.marker)<0)&&(a=s.marker);return a}function yi(e){return sr(e,!0)}function xr(e){return sr(e,!1)}function bi(e,t){var a,i=tr&&e.markedSpans;if(i)for(var s=0;s<i.length;++s){var N=i[s];N.marker.collapsed&&(null==N.from||N.from<t)&&(null==N.to||N.to>t)&&(!a||Hr(a,N.marker)<0)&&(a=N.marker)}return a}function Jr(e,t,a,i,s){var N=qt(e,t),ie=tr&&N.markedSpans;if(ie)for(var ue=0;ue<ie.length;++ue){var Oe=ie[ue];if(Oe.marker.collapsed){var Ce=Oe.marker.find(0),We=ye(Ce.from,a)||qr(Oe.marker)-qr(s),Ue=ye(Ce.to,i)||jr(Oe.marker)-jr(s);if(!(We>=0&&Ue<=0||We<=0&&Ue>=0)&&(We<=0&&(Oe.marker.inclusiveRight&&s.inclusiveLeft?ye(Ce.to,a)>=0:ye(Ce.to,a)>0)||We>=0&&(Oe.marker.inclusiveRight&&s.inclusiveLeft?ye(Ce.from,i)<=0:ye(Ce.from,i)<0)))return!0}}}function Hn(e){for(var t;t=yi(e);)e=t.find(-1,!0).line;return e}function Gr(e,t){var a=qt(e,t),i=Hn(a);return a==i?t:pn(i)}function ti(e,t){if(t>e.lastLine())return t;var a,i=qt(e,t);if(!Vr(e,i))return t;for(;a=xr(i);)i=a.find(1,!0).line;return pn(i)+1}function Vr(e,t){var a=tr&&t.markedSpans;if(a)for(var i=void 0,s=0;s<a.length;++s)if((i=a[s]).marker.collapsed&&(null==i.from||!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Ur(e,t,i)))return!0}function Ur(e,t,a){if(null==a.to){var i=a.marker.find(1,!0);return Ur(e,i.line,ar(i.line.markedSpans,a.marker))}if(a.marker.inclusiveRight&&a.to==t.text.length)return!0;for(var s=void 0,N=0;N<t.markedSpans.length;++N)if((s=t.markedSpans[N]).marker.collapsed&&!s.marker.widgetNode&&s.from==a.to&&(null==s.to||s.to!=a.from)&&(s.marker.inclusiveLeft||a.marker.inclusiveRight)&&Ur(e,t,s))return!0}function yr(e){for(var t=0,a=(e=Hn(e)).parent,i=0;i<a.lines.length;++i){var s=a.lines[i];if(s==e)break;t+=s.height}for(var N=a.parent;N;N=(a=N).parent)for(var ie=0;ie<N.children.length;++ie){var ue=N.children[ie];if(ue==a)break;t+=ue.height}return t}function pi(e){if(0==e.height)return 0;for(var t,a=e.text.length,i=e;t=yi(i);){var s=t.find(0,!0);i=s.from.line,a+=s.from.ch-s.to.ch}for(i=e;t=xr(i);){var N=t.find(0,!0);a-=i.text.length-N.from.ch,a+=(i=N.to.line).text.length-N.to.ch}return a}function c(e){var t=e.display,a=e.doc;t.maxLine=qt(a,a.first),t.maxLineLength=pi(t.maxLine),t.maxLineChanged=!0,a.iter(function(i){var s=pi(i);s>t.maxLineLength&&(t.maxLineLength=s,t.maxLine=i)})}var M=function(e,t,a){this.text=e,Lr(this,t),this.height=a?a(this):1};function Y(e){e.parent=null,ei(e)}M.prototype.lineNo=function(){return pn(this)},Ze(M);var te={},xe={};function Be(e,t){if(!e||/^\s*$/.test(e))return null;var a=t.addModeClass?xe:te;return a[e]||(a[e]=e.replace(/\S+/g,"cm-$&"))}function He(e,t){var a=re("span",null,null,h?"padding-right: .1px":null),i={pre:re("pre",[a],"CodeMirror-line"),content:a,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var s=0;s<=(t.rest?t.rest.length:0);s++){var N=s?t.rest[s-1]:t.line,ie=void 0;i.pos=0,i.addToken=ot,z(e.display.measure)&&(ie=nt(N,e.doc.direction))&&(i.addToken=dt(i.addToken,ie)),i.map=[],Ht(N,i,wr(e,N,t!=e.display.externalMeasured&&pn(N))),N.styleClasses&&(N.styleClasses.bgClass&&(i.bgClass=Ae(N.styleClasses.bgClass,i.bgClass||"")),N.styleClasses.textClass&&(i.textClass=Ae(N.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(V(e.display.measure))),0==s?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(h){var ue=i.content.lastChild;(/\bcm-tab\b/.test(ue.className)||ue.querySelector&&ue.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Re(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Ae(i.pre.className,i.textClass||"")),i}function tt(e){var t=Q("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ot(e,t,a,i,s,N,ie){if(t){var ue,Oe=e.splitSpaces?function(Ut,Yt){if(Ut.length>1&&!/  /.test(Ut))return Ut;for(var hn=Yt,an="",_n=0;_n<Ut.length;_n++){var un=Ut.charAt(_n);" "!=un||!hn||_n!=Ut.length-1&&32!=Ut.charCodeAt(_n+1)||(un="\xa0"),an+=un,hn=" "==un}return an}(t,e.trailingSpace):t,Ce=e.cm.state.specialChars,We=!1;if(Ce.test(t)){ue=document.createDocumentFragment();for(var Ue=0;;){Ce.lastIndex=Ue;var Qe=Ce.exec(t),Ge=Qe?Qe.index-Ue:t.length-Ue;if(Ge){var gt=document.createTextNode(Oe.slice(Ue,Ue+Ge));ue.appendChild(f&&g<9?Q("span",[gt]):gt),e.map.push(e.pos,e.pos+Ge,gt),e.col+=Ge,e.pos+=Ge}if(!Qe)break;Ue+=Ge+1;var at=void 0;if("\t"==Qe[0]){var bt=e.cm.options.tabSize,At=bt-e.col%bt;(at=ue.appendChild(Q("span",l(At),"cm-tab"))).setAttribute("role","presentation"),at.setAttribute("cm-text","\t"),e.col+=At}else"\r"==Qe[0]||"\n"==Qe[0]?((at=ue.appendChild(Q("span","\r"==Qe[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Qe[0]),e.col+=1):((at=e.cm.options.specialCharPlaceholder(Qe[0])).setAttribute("cm-text",Qe[0]),ue.appendChild(f&&g<9?Q("span",[at]):at),e.col+=1);e.map.push(e.pos,e.pos+1,at),e.pos++}}else e.col+=t.length,ue=document.createTextNode(Oe),e.map.push(e.pos,e.pos+t.length,ue),f&&g<9&&(We=!0),e.pos+=t.length;if(e.trailingSpace=32==Oe.charCodeAt(t.length-1),a||i||s||We||N||ie){var Lt=a||"";i&&(Lt+=i),s&&(Lt+=s);var Vt=Q("span",[ue],Lt,N);if(ie)for(var Kt in ie)ie.hasOwnProperty(Kt)&&"style"!=Kt&&"class"!=Kt&&Vt.setAttribute(Kt,ie[Kt]);return e.content.appendChild(Vt)}e.content.appendChild(ue)}}function dt(e,t){return function(a,i,s,N,ie,ue,Oe){s=s?s+" cm-force-border":"cm-force-border";for(var Ce=a.pos,We=Ce+i.length;;){for(var Ue=void 0,Qe=0;Qe<t.length&&!((Ue=t[Qe]).to>Ce&&Ue.from<=Ce);Qe++);if(Ue.to>=We)return e(a,i,s,N,ie,ue,Oe);e(a,i.slice(0,Ue.to-Ce),s,N,null,ue,Oe),N=null,i=i.slice(Ue.to-Ce),Ce=Ue.to}}}function jt(e,t,a,i){var s=!i&&a.widgetNode;s&&e.map.push(e.pos,e.pos+t,s),!i&&e.cm.display.input.needsContentAttribute&&(s||(s=e.content.appendChild(document.createElement("span"))),s.setAttribute("cm-marker",a.id)),s&&(e.cm.display.input.setUneditable(s),e.content.appendChild(s)),e.pos+=t,e.trailingSpace=!1}function Ht(e,t,a){var i=e.markedSpans,s=e.text,N=0;if(i)for(var ie,ue,Oe,Ce,We,Ue,Qe,Ge=s.length,gt=0,at=1,bt="",At=0;;){if(At==gt){Oe=Ce=We=ue="",Qe=null,Ue=null,At=1/0;for(var Lt=[],Vt=void 0,Kt=0;Kt<i.length;++Kt){var Ut=i[Kt],Yt=Ut.marker;if("bookmark"==Yt.type&&Ut.from==gt&&Yt.widgetNode)Lt.push(Yt);else if(Ut.from<=gt&&(null==Ut.to||Ut.to>gt||Yt.collapsed&&Ut.to==gt&&Ut.from==gt)){if(null!=Ut.to&&Ut.to!=gt&&At>Ut.to&&(At=Ut.to,Ce=""),Yt.className&&(Oe+=" "+Yt.className),Yt.css&&(ue=(ue?ue+";":"")+Yt.css),Yt.startStyle&&Ut.from==gt&&(We+=" "+Yt.startStyle),Yt.endStyle&&Ut.to==At&&(Vt||(Vt=[])).push(Yt.endStyle,Ut.to),Yt.title&&((Qe||(Qe={})).title=Yt.title),Yt.attributes)for(var hn in Yt.attributes)(Qe||(Qe={}))[hn]=Yt.attributes[hn];Yt.collapsed&&(!Ue||Hr(Ue.marker,Yt)<0)&&(Ue=Ut)}else Ut.from>gt&&At>Ut.from&&(At=Ut.from)}if(Vt)for(var an=0;an<Vt.length;an+=2)Vt[an+1]==At&&(Ce+=" "+Vt[an]);if(!Ue||Ue.from==gt)for(var _n=0;_n<Lt.length;++_n)jt(t,0,Lt[_n]);if(Ue&&(Ue.from||0)==gt){if(jt(t,(null==Ue.to?Ge+1:Ue.to)-gt,Ue.marker,null==Ue.from),null==Ue.to)return;Ue.to==gt&&(Ue=!1)}}if(gt>=Ge)break;for(var un=Math.min(Ge,At);;){if(bt){var Vn=gt+bt.length;if(!Ue){var qn=Vn>un?bt.slice(0,un-gt):bt;t.addToken(t,qn,ie?ie+Oe:Oe,We,gt+qn.length==At?Ce:"",ue,Qe)}if(Vn>=un){bt=bt.slice(un-gt),gt=un;break}gt=Vn,We=""}bt=s.slice(N,N=a[at++]),ie=Be(a[at++],t.cm.options)}}else for(var Nn=1;Nn<a.length;Nn+=2)t.addToken(t,s.slice(N,N=a[Nn]),Be(a[Nn+1],t.cm.options))}function _t(e,t,a){this.line=t,this.rest=function(i){for(var s,N;s=xr(i);)i=s.find(1,!0).line,(N||(N=[])).push(i);return N}(t),this.size=this.rest?pn(A(this.rest))-a+1:1,this.node=this.text=null,this.hidden=Vr(e,t)}function Et(e,t,a){for(var i,s=[],N=t;N<a;N=i){var ie=new _t(e.doc,qt(e.doc,N),N);i=N+ie.size,s.push(ie)}return s}var en=null,sn=null;function Xt(e,t){var a=X(e,t);if(a.length){var i,s=Array.prototype.slice.call(arguments,2);en?i=en.delayedCallbacks:sn?i=sn:(i=sn=[],setTimeout(nr,0));for(var N=function(ue){i.push(function(){return a[ue].apply(null,s)})},ie=0;ie<a.length;++ie)N(ie)}}function nr(){var e=sn;sn=null;for(var t=0;t<e.length;++t)e[t]()}function lr(e,t,a,i){for(var s=0;s<t.changes.length;s++){var N=t.changes[s];"text"==N?wn(e,t):"gutter"==N?Dn(e,t,a,i):"class"==N?Or(e,t):"widget"==N&&Qn(e,t,i)}t.changes=null}function cr(e){return e.node==e.text&&(e.node=Q("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),f&&g<8&&(e.node.style.zIndex=2)),e.node}function Un(e,t){var a=e.display.externalMeasured;return a&&a.line==t.line?(e.display.externalMeasured=null,t.measure=a.measure,a.built):He(e,t)}function wn(e,t){var a=t.text.className,i=Un(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,Or(e,t)):a&&(t.text.className=a)}function Or(e,t){(function(i,s){var N=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(N&&(N+=" CodeMirror-linebackground"),s.background)N?s.background.className=N:(s.background.parentNode.removeChild(s.background),s.background=null);else if(N){var ie=cr(s);s.background=ie.insertBefore(Q("div",null,N),ie.firstChild),i.display.input.setUneditable(s.background)}})(e,t),t.line.wrapClass?cr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className=""),t.text.className=(t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass)||""}function Dn(e,t,a,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var s=cr(t);t.gutterBackground=Q("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),s.insertBefore(t.gutterBackground,t.text)}var N=t.line.gutterMarkers;if(e.options.lineNumbers||N){var ie=cr(t),ue=t.gutter=Q("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(ue.setAttribute("aria-hidden","true"),e.display.input.setUneditable(ue),ie.insertBefore(ue,t.text),t.line.gutterClass&&(ue.className+=" "+t.line.gutterClass),!e.options.lineNumbers||N&&N["CodeMirror-linenumbers"]||(t.lineNumber=ue.appendChild(Q("div",F(e.options,a),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),N)for(var Oe=0;Oe<e.display.gutterSpecs.length;++Oe){var Ce=e.display.gutterSpecs[Oe].className,We=N.hasOwnProperty(Ce)&&N[Ce];We&&ue.appendChild(Q("div",[We],"CodeMirror-gutter-elt","left: "+i.gutterLeft[Ce]+"px; width: "+i.gutterWidth[Ce]+"px"))}}}function Qn(e,t,a){t.alignable&&(t.alignable=null);for(var i=p("CodeMirror-linewidget"),s=t.node.firstChild,N=void 0;s;s=N)N=s.nextSibling,i.test(s.className)&&t.node.removeChild(s);Ai(e,t,a)}function wi(e,t,a,i){var s=Un(e,t);return t.text=t.node=s.pre,s.bgClass&&(t.bgClass=s.bgClass),s.textClass&&(t.textClass=s.textClass),Or(e,t),Dn(e,t,a,i),Ai(e,t,i),t.node}function Ai(e,t,a){if(Tr(e,t.line,t,a,!0),t.rest)for(var i=0;i<t.rest.length;i++)Tr(e,t.rest[i],t,a,!1)}function Tr(e,t,a,i,s){if(t.widgets)for(var N=cr(a),ie=0,ue=t.widgets;ie<ue.length;++ie){var Oe=ue[ie],Ce=Q("div",[Oe.node],"CodeMirror-linewidget"+(Oe.className?" "+Oe.className:""));Oe.handleMouseEvents||Ce.setAttribute("cm-ignore-events","true"),xi(Oe,Ce,a,i),e.display.input.setUneditable(Ce),s&&Oe.above?N.insertBefore(Ce,a.gutter||a.text):N.appendChild(Ce),Xt(Oe,"redraw")}}function xi(e,t,a,i){if(e.noHScroll){(a.alignable||(a.alignable=[])).push(t);var s=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(s-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=s+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function Se(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Fe(document.body,e.node)){var a="position: relative;";e.coverGutter&&(a+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(a+="width: "+t.display.wrapper.clientWidth+"px;"),R(t.display.measure,Q("div",[e.node],null,a))}return e.height=e.node.parentNode.offsetHeight}function ze(e,t){for(var a=Tt(t);a!=e.wrapper;a=a.parentNode)if(!a||1==a.nodeType&&"true"==a.getAttribute("cm-ignore-events")||a.parentNode==e.sizer&&a!=e.mover)return!0}function Xe(e){return e.lineSpace.offsetTop}function et(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function pt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=R(e.measure,Q("pre","x","CodeMirror-line-like")),a=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(a.paddingLeft),right:parseInt(a.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function lt(e){return 50-e.display.nativeBarWidth}function Ct(e){return e.display.scroller.clientWidth-lt(e)-e.display.barWidth}function It(e){return e.display.scroller.clientHeight-lt(e)-e.display.barHeight}function Zt(e,t,a){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var s=0;s<e.rest.length;s++)if(pn(e.rest[s])>a)return{map:e.measure.maps[s],cache:e.measure.caches[s],before:!0}}function rn(e,t,a,i){return Mn(e,Bn(e,t),a,i)}function xn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ei(e,t)];var a=e.display.externalMeasured;return a&&t>=a.lineN&&t<a.lineN+a.size?a:void 0}function Bn(e,t){var a=pn(t),i=xn(e,a);i&&!i.text?i=null:i&&i.changes&&(lr(e,i,a,fo(e)),e.curOp.forceUpdate=!0),i||(i=function(N,ie){var ue=pn(ie=Hn(ie)),Oe=N.display.externalMeasured=new _t(N.doc,ie,ue);Oe.lineN=ue;var Ce=Oe.built=He(N,Oe);return Oe.text=Ce.pre,R(N.display.lineMeasure,Ce.pre),Oe}(e,t));var s=Zt(i,t,a);return{line:t,view:i,rect:null,map:s.map,cache:s.cache,before:s.before,hasHeights:!1}}function Mn(e,t,a,i,s){t.before&&(a=-1);var N,ie=a+(i||"");return t.cache.hasOwnProperty(ie)?N=t.cache[ie]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(ue,Oe,Ce){var We=ue.options.lineWrapping,Ue=We&&Ct(ue);if(!Oe.measure.heights||We&&Oe.measure.width!=Ue){var Qe=Oe.measure.heights=[];if(We){Oe.measure.width=Ue;for(var Ge=Oe.text.firstChild.getClientRects(),gt=0;gt<Ge.length-1;gt++){var at=Ge[gt],bt=Ge[gt+1];Math.abs(at.bottom-bt.bottom)>2&&Qe.push((at.bottom+bt.top)/2-Ce.top)}}Qe.push(Ce.bottom-Ce.top)}}(e,t.view,t.rect),t.hasHeights=!0),(N=function(ue,Oe,Ce,We){var Ue,Qe=gi(Oe.map,Ce,We),Ge=Qe.node,gt=Qe.start,at=Qe.end,bt=Qe.collapse;if(3==Ge.nodeType){for(var At=0;At<4;At++){for(;gt&&St(Oe.line.text.charAt(Qe.coverStart+gt));)--gt;for(;Qe.coverStart+at<Qe.coverEnd&&St(Oe.line.text.charAt(Qe.coverStart+at));)++at;if((Ue=f&&g<9&&0==gt&&at==Qe.coverEnd-Qe.coverStart?Ge.parentNode.getBoundingClientRect():Yi(u(Ge,gt,at).getClientRects(),We)).left||Ue.right||0==gt)break;at=gt,gt-=1,bt="right"}f&&g<11&&(Ue=function(qn,Nn){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(Rn){if(null!=kt)return kt;var En=R(Rn,Q("span","x")),Pn=En.getBoundingClientRect(),bn=u(En,0,1).getBoundingClientRect();return kt=Math.abs(Pn.left-bn.left)>1}(qn))return Nn;var zn=screen.logicalXDPI/screen.deviceXDPI,Sn=screen.logicalYDPI/screen.deviceYDPI;return{left:Nn.left*zn,right:Nn.right*zn,top:Nn.top*Sn,bottom:Nn.bottom*Sn}}(ue.display.measure,Ue))}else{var Lt;gt>0&&(bt=We="right"),Ue=ue.options.lineWrapping&&(Lt=Ge.getClientRects()).length>1?Lt["right"==We?Lt.length-1:0]:Ge.getBoundingClientRect()}if(f&&g<9&&!gt&&(!Ue||!Ue.left&&!Ue.right)){var Vt=Ge.parentNode.getClientRects()[0];Ue=Vt?{left:Vt.left,right:Vt.left+Di(ue.display),top:Vt.top,bottom:Vt.bottom}:kr}for(var Kt=Ue.top-Oe.rect.top,Ut=Ue.bottom-Oe.rect.top,Yt=(Kt+Ut)/2,hn=Oe.view.measure.heights,an=0;an<hn.length-1&&!(Yt<hn[an]);an++);var Vn={left:("right"==bt?Ue.right:Ue.left)-Oe.rect.left,right:("left"==bt?Ue.left:Ue.right)-Oe.rect.left,top:an?hn[an-1]:0,bottom:hn[an]};return Ue.left||Ue.right||(Vn.bogus=!0),ue.options.singleCursorHeightPerLine||(Vn.rtop=Kt,Vn.rbottom=Ut),Vn}(e,t,a,i)).bogus||(t.cache[ie]=N)),{left:N.left,right:N.right,top:s?N.rtop:N.top,bottom:s?N.rbottom:N.bottom}}var er,kr={left:0,right:0,top:0,bottom:0};function gi(e,t,a){for(var i,s,N,ie,ue,Oe,Ce=0;Ce<e.length;Ce+=3)if(Oe=e[Ce+1],t<(ue=e[Ce])?(s=0,N=1,ie="left"):t<Oe?N=1+(s=t-ue):(Ce==e.length-3||t==Oe&&e[Ce+3]>t)&&(s=(N=Oe-ue)-1,t>=Oe&&(ie="right")),null!=s){if(i=e[Ce+2],ue==Oe&&a==(i.insertLeft?"left":"right")&&(ie=a),"left"==a&&0==s)for(;Ce&&e[Ce-2]==e[Ce-3]&&e[Ce-1].insertLeft;)i=e[2+(Ce-=3)],ie="left";if("right"==a&&s==Oe-ue)for(;Ce<e.length-3&&e[Ce+3]==e[Ce+4]&&!e[Ce+5].insertLeft;)i=e[(Ce+=3)+2],ie="right";break}return{node:i,start:s,end:N,collapse:ie,coverStart:ue,coverEnd:Oe}}function Yi(e,t){var a=kr;if("left"==t)for(var i=0;i<e.length&&(a=e[i]).left==a.right;i++);else for(var s=e.length-1;s>=0&&(a=e[s]).left==a.right;s--);return a}function Lo(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function No(e){e.display.externalMeasure=null,b(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Lo(e.display.view[t])}function _i(e){No(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ro(){return d&&T?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Io(){return d&&T?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function co(e){var t=0;if(e.widgets)for(var a=0;a<e.widgets.length;++a)e.widgets[a].above&&(t+=Se(e.widgets[a]));return t}function ji(e,t,a,i,s){if(!s){var N=co(t);a.top+=N,a.bottom+=N}if("line"==i)return a;i||(i="local");var ie=yr(t);if("local"==i?ie+=Xe(e.display):ie-=e.display.viewOffset,"page"==i||"window"==i){var ue=e.display.lineSpace.getBoundingClientRect();ie+=ue.top+("window"==i?0:Io());var Oe=ue.left+("window"==i?0:Ro());a.left+=Oe,a.right+=Oe}return a.top+=ie,a.bottom+=ie,a}function Fo(e,t,a){if("div"==a)return t;var i=t.left,s=t.top;if("page"==a)i-=Ro(),s-=Io();else if("local"==a||!a){var N=e.display.sizer.getBoundingClientRect();i+=N.left,s+=N.top}var ie=e.display.lineSpace.getBoundingClientRect();return{left:i-ie.left,top:s-ie.top}}function Fi(e,t,a,i,s){return i||(i=qt(e.doc,t.line)),ji(e,i,rn(e,i,t.ch,s),a)}function Cr(e,t,a,i,s,N){function ie(gt,at){var bt=Mn(e,s,gt,at?"right":"left",N);return at?bt.left=bt.right:bt.right=bt.left,ji(e,i,bt,a)}i=i||qt(e.doc,t.line),s||(s=Bn(e,i));var ue=nt(i,e.doc.direction),Oe=t.ch,Ce=t.sticky;if(Oe>=i.text.length?(Oe=i.text.length,Ce="before"):Oe<=0&&(Oe=0,Ce="after"),!ue)return ie("before"==Ce?Oe-1:Oe,"before"==Ce);function We(gt,at,bt){return ie(bt?gt-1:gt,1==ue[at].level!=bt)}var Ue=je(ue,Oe,Ce),Qe=ce,Ge=We(Oe,Ue,"before"==Ce);return null!=Qe&&(Ge.other=We(Oe,Qe,"before"!=Ce)),Ge}function mi(e,t){var a=0;t=Ft(e.doc,t),e.options.lineWrapping||(a=Di(e.display)*t.ch);var i=qt(e.doc,t.line),s=yr(i)+Xe(e.display);return{left:a,right:a,top:s,bottom:s+i.height}}function Ki(e,t,a,i,s){var N=K(e,t,a);return N.xRel=s,i&&(N.outside=i),N}function Zi(e,t,a){var i=e.doc;if((a+=e.display.viewOffset)<0)return Ki(i.first,0,null,-1,-1);var s=Zn(i,a),N=i.first+i.size-1;if(s>N)return Ki(i.first+i.size-1,qt(i,N).text.length,null,1,1);t<0&&(t=0);for(var ie=qt(i,s);;){var ue=Xi(e,ie,s,t,a),Oe=bi(ie,ue.ch+(ue.xRel>0||ue.outside>0?1:0));if(!Oe)return ue;var Ce=Oe.find(1);if(Ce.line==s)return Ce;ie=qt(i,s=Ce.line)}}function uo(e,t,a,i){i-=co(t);var s=t.text.length,N=Z(function(ie){return Mn(e,a,ie-1).bottom<=i},s,0);return{begin:N,end:s=Z(function(ie){return Mn(e,a,ie).top>i},N,s)}}function Bo(e,t,a,i){return a||(a=Bn(e,t)),uo(e,t,a,ji(e,t,Mn(e,a,i),"line").top)}function Kn(e,t,a,i){return!(e.bottom<=a)&&(e.top>a||(i?e.left:e.right)>t)}function Xi(e,t,a,i,s){s-=yr(t);var N=Bn(e,t),ie=co(t),ue=0,Oe=t.text.length,Ce=!0,We=nt(t,e.doc.direction);if(We){var Ue=(e.options.lineWrapping?ci:li)(e,t,a,N,We,i,s);ue=(Ce=1!=Ue.level)?Ue.from:Ue.to-1,Oe=Ce?Ue.to:Ue.from-1}var Qe,Ge,gt=null,at=null,bt=Z(function(Ut){var Yt=Mn(e,N,Ut);return Yt.top+=ie,Yt.bottom+=ie,!!Kn(Yt,i,s,!1)&&(Yt.top<=s&&Yt.left<=i&&(gt=Ut,at=Yt),!0)},ue,Oe),At=!1;if(at){var Lt=i-at.left<at.right-i,Vt=Lt==Ce;bt=gt+(Vt?0:1),Ge=Vt?"after":"before",Qe=Lt?at.left:at.right}else{Ce||bt!=Oe&&bt!=ue||bt++,Ge=0==bt?"after":bt==t.text.length?"before":Mn(e,N,bt-(Ce?1:0)).bottom+ie<=s==Ce?"after":"before";var Kt=Cr(e,K(a,bt,Ge),"line",t,N);Qe=Kt.left,At=s<Kt.top?-1:s>=Kt.bottom?1:0}return Ki(a,bt=vt(t.text,bt,1),Ge,At,i-Qe)}function li(e,t,a,i,s,N,ie){var ue=Z(function(Ue){var Qe=s[Ue],Ge=1!=Qe.level;return Kn(Cr(e,K(a,Ge?Qe.to:Qe.from,Ge?"before":"after"),"line",t,i),N,ie,!0)},0,s.length-1),Oe=s[ue];if(ue>0){var Ce=1!=Oe.level,We=Cr(e,K(a,Ce?Oe.from:Oe.to,Ce?"after":"before"),"line",t,i);Kn(We,N,ie,!0)&&We.top>ie&&(Oe=s[ue-1])}return Oe}function ci(e,t,a,i,s,N,ie){var ue=uo(e,t,i,ie),Oe=ue.begin,Ce=ue.end;/\s/.test(t.text.charAt(Ce-1))&&Ce--;for(var We=null,Ue=null,Qe=0;Qe<s.length;Qe++){var Ge=s[Qe];if(!(Ge.from>=Ce||Ge.to<=Oe)){var gt=Mn(e,i,1!=Ge.level?Math.min(Ce,Ge.to)-1:Math.max(Oe,Ge.from)).right,at=gt<N?N-gt+1e9:gt-N;(!We||Ue>at)&&(We=Ge,Ue=at)}}return We||(We=s[s.length-1]),We.from<Oe&&(We={from:Oe,to:We.to,level:We.level}),We.to>Ce&&(We={from:We.from,to:Ce,level:We.level}),We}function Ti(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==er){er=Q("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)er.appendChild(document.createTextNode("x")),er.appendChild(Q("br"));er.appendChild(document.createTextNode("x"))}R(e.measure,er);var a=er.offsetHeight/50;return a>3&&(e.cachedTextHeight=a),b(e.measure),a||1}function Di(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Q("span","xxxxxxxxxx"),a=Q("pre",[t],"CodeMirror-line-like");R(e.measure,a);var i=t.getBoundingClientRect(),s=(i.right-i.left)/10;return s>2&&(e.cachedCharWidth=s),s||10}function fo(e){for(var t=e.display,a={},i={},s=t.gutters.clientLeft,N=t.gutters.firstChild,ie=0;N;N=N.nextSibling,++ie){var ue=e.display.gutterSpecs[ie].className;a[ue]=N.offsetLeft+N.clientLeft+s,i[ue]=N.clientWidth}return{fixedPos:ho(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:a,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function ho(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function po(e){var t=Ti(e.display),a=e.options.lineWrapping,i=a&&Math.max(5,e.display.scroller.clientWidth/Di(e.display)-3);return function(s){if(Vr(e.doc,s))return 0;var N=0;if(s.widgets)for(var ie=0;ie<s.widgets.length;ie++)s.widgets[ie].height&&(N+=s.widgets[ie].height);return a?N+(Math.ceil(s.text.length/i)||1)*t:N+t}}function Oi(e){var t=e.doc,a=po(e);t.iter(function(i){var s=a(i);s!=i.height&&Jt(i,s)})}function ki(e,t,a,i){var s=e.display;if(!a&&"true"==Tt(t).getAttribute("cm-not-content"))return null;var N,ie,ue=s.lineSpace.getBoundingClientRect();try{N=t.clientX-ue.left,ie=t.clientY-ue.top}catch(Ue){return null}var Oe,Ce=Zi(e,N,ie);if(i&&Ce.xRel>0&&(Oe=qt(e.doc,Ce.line).text).length==Ce.ch){var We=_e(Oe,Oe.length,e.options.tabSize)-Oe.length;Ce=K(Ce.line,Math.max(0,Math.round((N-pt(e.display).left)/Di(e.display))-We))}return Ce}function Ei(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var a=e.display.view,i=0;i<a.length;i++)if((t-=a[i].size)<0)return i}function Er(e,t,a,i){null==t&&(t=e.doc.first),null==a&&(a=e.doc.first+e.doc.size),i||(i=0);var s=e.display;if(i&&a<s.viewTo&&(null==s.updateLineNumbers||s.updateLineNumbers>t)&&(s.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=s.viewTo)tr&&Gr(e.doc,t)<s.viewTo&&vi(e);else if(a<=s.viewFrom)tr&&ti(e.doc,a+i)>s.viewFrom?vi(e):(s.viewFrom+=i,s.viewTo+=i);else if(t<=s.viewFrom&&a>=s.viewTo)vi(e);else if(t<=s.viewFrom){var N=Mi(e,a,a+i,1);N?(s.view=s.view.slice(N.index),s.viewFrom=N.lineN,s.viewTo+=i):vi(e)}else if(a>=s.viewTo){var ie=Mi(e,t,t,-1);ie?(s.view=s.view.slice(0,ie.index),s.viewTo=ie.lineN):vi(e)}else{var ue=Mi(e,t,t,-1),Oe=Mi(e,a,a+i,1);ue&&Oe?(s.view=s.view.slice(0,ue.index).concat(Et(e,ue.lineN,Oe.lineN)).concat(s.view.slice(Oe.index)),s.viewTo+=i):vi(e)}var Ce=s.externalMeasured;Ce&&(a<Ce.lineN?Ce.lineN+=i:t<Ce.lineN+Ce.size&&(s.externalMeasured=null))}function ui(e,t,a){e.curOp.viewChanged=!0;var i=e.display,s=e.display.externalMeasured;if(s&&t>=s.lineN&&t<s.lineN+s.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var N=i.view[Ei(e,t)];if(null!=N.node){var ie=N.changes||(N.changes=[]);-1==ne(ie,a)&&ie.push(a)}}}function vi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Mi(e,t,a,i){var s,N=Ei(e,t),ie=e.display.view;if(!tr||a==e.doc.first+e.doc.size)return{index:N,lineN:a};for(var ue=e.display.viewFrom,Oe=0;Oe<N;Oe++)ue+=ie[Oe].size;if(ue!=t){if(i>0){if(N==ie.length-1)return null;s=ue+ie[N].size-t,N++}else s=ue-t;t+=s,a+=s}for(;Gr(e.doc,a)!=a;){if(N==(i<0?0:ie.length-1))return null;a+=i*ie[N-(i<0?1:0)].size,N+=i}return{index:N,lineN:a}}function Ji(e){for(var t=e.display.view,a=0,i=0;i<t.length;i++){var s=t[i];s.hidden||s.node&&!s.changes||++a}return a}function Li(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ve(e,t){void 0===t&&(t=!0);for(var a=e.doc,i={},s=i.cursors=document.createDocumentFragment(),N=i.selection=document.createDocumentFragment(),ie=0;ie<a.sel.ranges.length;ie++)if(t||ie!=a.sel.primIndex){var ue=a.sel.ranges[ie];if(!(ue.from().line>=e.display.viewTo||ue.to().line<e.display.viewFrom)){var Oe=ue.empty();(Oe||e.options.showCursorWhenSelecting)&&it(e,ue.head,s),Oe||Bt(e,ue,N)}}return i}function it(e,t,a){var i=Cr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),s=a.appendChild(Q("div","\xa0","CodeMirror-cursor"));if(s.style.left=i.left+"px",s.style.top=i.top+"px",s.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var N=Fi(e,t,"div",null,null);N.right-N.left>0&&(s.style.width=N.right-N.left+"px")}if(i.other){var ie=a.appendChild(Q("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));ie.style.display="",ie.style.left=i.other.left+"px",ie.style.top=i.other.top+"px",ie.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function yt(e,t){return e.top-t.top||e.left-t.left}function Bt(e,t,a){var i=e.display,s=e.doc,N=document.createDocumentFragment(),ie=pt(e.display),ue=ie.left,Oe=Math.max(i.sizerWidth,Ct(e)-i.sizer.offsetLeft)-ie.right,Ce="ltr"==s.direction;function We(Vt,Kt,Ut,Yt){Kt<0&&(Kt=0),Kt=Math.round(Kt),Yt=Math.round(Yt),N.appendChild(Q("div",null,"CodeMirror-selected","position: absolute; left: "+Vt+"px;\n                             top: "+Kt+"px; width: "+(null==Ut?Oe-Vt:Ut)+"px;\n                             height: "+(Yt-Kt)+"px"))}function Ue(Vt,Kt,Ut){var Yt,hn,an=qt(s,Vt),_n=an.text.length;function un(Nn,zn){return Fi(e,K(Vt,Nn),"div",an,zn)}function Vn(Nn,zn,Sn){var Rn=Bo(e,an,null,Nn),En="ltr"==zn==("after"==Sn)?"left":"right";return un("after"==Sn?Rn.begin:Rn.end-(/\s/.test(an.text.charAt(Rn.end-1))?2:1),En)[En]}var qn=nt(an,s.direction);return function(Nn,zn,Sn,Rn){if(!Nn)return Rn(zn,Sn,"ltr",0);for(var En=!1,Pn=0;Pn<Nn.length;++Pn){var bn=Nn[Pn];(bn.from<Sn&&bn.to>zn||zn==Sn&&bn.to==zn)&&(Rn(Math.max(bn.from,zn),Math.min(bn.to,Sn),1==bn.level?"rtl":"ltr",Pn),En=!0)}En||Rn(zn,Sn,"ltr")}(qn,Kt||0,null==Ut?_n:Ut,function(Nn,zn,Sn,Rn){var En="ltr"==Sn,Pn=un(Nn,En?"left":"right"),bn=un(zn-1,En?"right":"left"),Pr=null==Kt&&0==Nn,or=null==Ut&&zn==_n,Gn=0==Rn,In=!qn||Rn==qn.length-1;if(bn.top-Pn.top<=3){var mr=(Ce?Pr:or)&&Gn?ue:(En?Pn:bn).left;We(mr,Pn.top,((Ce?or:Pr)&&In?Oe:(En?bn:Pn).right)-mr,Pn.bottom)}else{var Fr,rr,Br,Ii;En?(Fr=Ce&&Pr&&Gn?ue:Pn.left,rr=Ce?Oe:Vn(Nn,Sn,"before"),Br=Ce?ue:Vn(zn,Sn,"after"),Ii=Ce&&or&&In?Oe:bn.right):(Fr=Ce?Vn(Nn,Sn,"before"):ue,rr=!Ce&&Pr&&Gn?Oe:Pn.right,Br=!Ce&&or&&In?ue:bn.left,Ii=Ce?Vn(zn,Sn,"after"):Oe),We(Fr,Pn.top,rr-Fr,Pn.bottom),Pn.bottom<bn.top&&We(ue,Pn.bottom,null,bn.top),We(Br,bn.top,Ii-Br,bn.bottom)}(!Yt||yt(Pn,Yt)<0)&&(Yt=Pn),yt(bn,Yt)<0&&(Yt=bn),(!hn||yt(Pn,hn)<0)&&(hn=Pn),yt(bn,hn)<0&&(hn=bn)}),{start:Yt,end:hn}}var Qe=t.from(),Ge=t.to();if(Qe.line==Ge.line)Ue(Qe.line,Qe.ch,Ge.ch);else{var gt=qt(s,Qe.line),at=qt(s,Ge.line),bt=Hn(gt)==Hn(at),At=Ue(Qe.line,Qe.ch,bt?gt.text.length+1:null).end,Lt=Ue(Ge.line,bt?0:null,Ge.ch).start;bt&&(At.top<Lt.top-2?(We(At.right,At.top,null,At.bottom),We(ue,Lt.top,Lt.left,Lt.bottom)):We(At.right,At.top,Lt.left-At.right,At.bottom)),At.bottom<Lt.top&&We(ue,At.bottom,null,Lt.top)}a.appendChild(N)}function xt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var a=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||on(e),t.cursorDiv.style.visibility=(a=!a)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function $t(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Qt(e))}function Gt(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&on(e))},100)}function Qt(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Re(e,"focus",e,t),e.state.focused=!0,fe(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),h&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),xt(e))}function on(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Re(e,"blur",e,t),e.state.focused=!1,x(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yn(e){for(var t=e.display,a=t.lineDiv.offsetTop,i=Math.max(0,t.scroller.getBoundingClientRect().top),s=t.lineDiv.getBoundingClientRect().top,N=0,ie=0;ie<t.view.length;ie++){var ue=t.view[ie],Oe=e.options.lineWrapping,Ce=void 0,We=0;if(!ue.hidden){if(s+=ue.line.height,f&&g<8){var Ue=ue.node.offsetTop+ue.node.offsetHeight;Ce=Ue-a,a=Ue}else{var Qe=ue.node.getBoundingClientRect();Ce=Qe.bottom-Qe.top,!Oe&&ue.text.firstChild&&(We=ue.text.firstChild.getBoundingClientRect().right-Qe.left-1)}var Ge=ue.line.height-Ce;if((Ge>.005||Ge<-.005)&&(s<i&&(N-=Ge),Jt(ue.line,Ce),mn(ue.line),ue.rest))for(var gt=0;gt<ue.rest.length;gt++)mn(ue.rest[gt]);if(We>e.display.sizerWidth){var at=Math.ceil(We/Di(e.display));at>e.display.maxLineLength&&(e.display.maxLineLength=at,e.display.maxLine=ue.line,e.display.maxLineChanged=!0)}}}Math.abs(N)>2&&(t.scroller.scrollTop+=N)}function mn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var a=e.widgets[t],i=a.node.parentNode;i&&(a.height=i.offsetHeight)}}function vn(e,t,a){var i=a&&null!=a.top?Math.max(0,a.top):e.scroller.scrollTop;i=Math.floor(i-Xe(e));var s=a&&null!=a.bottom?a.bottom:i+e.wrapper.clientHeight,N=Zn(t,i),ie=Zn(t,s);if(a&&a.ensure){var ue=a.ensure.from.line,Oe=a.ensure.to.line;ue<N?(N=ue,ie=Zn(t,yr(qt(t,ue))+e.wrapper.clientHeight)):Math.min(Oe,t.lastLine())>=ie&&(N=Zn(t,yr(qt(t,Oe))-e.wrapper.clientHeight),ie=Oe)}return{from:N,to:Math.max(ie,N+1)}}function Ln(e,t){var a=e.display,i=Ti(e.display);t.top<0&&(t.top=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:a.scroller.scrollTop,N=It(e),ie={};t.bottom-t.top>N&&(t.bottom=t.top+N);var ue=e.doc.height+et(a),Ce=t.bottom>ue-i;if(t.top<s)ie.scrollTop=t.top<i?0:t.top;else if(t.bottom>s+N){var We=Math.min(t.top,(Ce?ue:t.bottom)-N);We!=s&&(ie.scrollTop=We)}var Ue=e.options.fixedGutter?0:a.gutters.offsetWidth,Qe=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:a.scroller.scrollLeft-Ue,Ge=Ct(e)-a.gutters.offsetWidth,gt=t.right-t.left>Ge;return gt&&(t.right=t.left+Ge),t.left<10?ie.scrollLeft=0:t.left<Qe?ie.scrollLeft=Math.max(0,t.left+Ue-(gt?0:10)):t.right>Ge+Qe-3&&(ie.scrollLeft=t.right+(gt?0:10)-Ge),ie}function ur(e,t){null!=t&&(gr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function On(e){gr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function fr(e,t,a){null==t&&null==a||gr(e),null!=t&&(e.curOp.scrollLeft=t),null!=a&&(e.curOp.scrollTop=a)}function gr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Wr(e,mi(e,t.from),mi(e,t.to),t.margin))}function Wr(e,t,a,i){var s=Ln(e,{left:Math.min(t.left,a.left),top:Math.min(t.top,a.top)-i,right:Math.max(t.right,a.right),bottom:Math.max(t.bottom,a.bottom)+i});fr(e,s.scrollLeft,s.scrollTop)}function Wn(e,t){Math.abs(e.doc.scrollTop-t)<2||(J||oa(e,{top:t}),fi(e,t,!0),J&&oa(e),mo(e,100))}function fi(e,t,a){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||a)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function hr(e,t,a,i){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(a?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i||(e.doc.scrollLeft=t,Ea(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ir(e){var t=e.display,a=t.gutters.offsetWidth,i=Math.round(e.doc.height+et(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?a:0,docHeight:i,scrollHeight:i+lt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:a}}var Nr=function(e,t,a){this.cm=a;var i=this.vert=Q("div",[Q("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),s=this.horiz=Q("div",[Q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=s.tabIndex=-1,e(i),e(s),mt(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),mt(s,"scroll",function(){s.clientWidth&&t(s.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,f&&g<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Nr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,a=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;return a?(this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0",this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+(e.viewHeight-(t?i:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),t?(this.horiz.style.display="block",this.horiz.style.right=a?i+"px":"0",this.horiz.style.left=e.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+(e.viewWidth-e.barLeft-(a?i:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:a?i:0,bottom:t?i:0}},Nr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Nr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Nr.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=r&&!v?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ae,this.disableVert=new ae},Nr.prototype.enableZeroWidthBar=function(e,t,a){e.style.pointerEvents="auto",t.set(1e3,function i(){var s=e.getBoundingClientRect();("vert"==a?document.elementFromPoint(s.right-1,(s.top+s.bottom)/2):document.elementFromPoint((s.right+s.left)/2,s.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,i)})},Nr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Pi=function(){};function Ni(e,t){t||(t=ir(e));var a=e.display.barWidth,i=e.display.barHeight;go(e,t);for(var s=0;s<4&&a!=e.display.barWidth||i!=e.display.barHeight;s++)a!=e.display.barWidth&&e.options.lineWrapping&&yn(e),go(e,ir(e)),a=e.display.barWidth,i=e.display.barHeight}function go(e,t){var a=e.display,i=a.scrollbars.update(t);a.sizer.style.paddingRight=(a.barWidth=i.right)+"px",a.sizer.style.paddingBottom=(a.barHeight=i.bottom)+"px",a.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(a.scrollbarFiller.style.display="block",a.scrollbarFiller.style.height=i.bottom+"px",a.scrollbarFiller.style.width=i.right+"px"):a.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(a.gutterFiller.style.display="block",a.gutterFiller.style.height=i.bottom+"px",a.gutterFiller.style.width=t.gutterWidth+"px"):a.gutterFiller.style.display=""}Pi.prototype.update=function(){return{bottom:0,right:0}},Pi.prototype.setScrollLeft=function(){},Pi.prototype.setScrollTop=function(){},Pi.prototype.clear=function(){};var zo={native:Nr,null:Pi};function ja(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&x(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new zo[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),mt(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,a){"horizontal"==a?hr(e,t):Wn(e,t)},e),e.display.scrollbars.addClass&&fe(e.display.wrapper,e.display.scrollbars.addClass)}var Is=0;function $i(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Is,markArrays:null},t=e.curOp,en?en.ops.push(t):t.ownsGroup=en={ops:[t],delayedCallbacks:[]}}function qi(e){var t=e.curOp;t&&function(a,i){var s=a.ownsGroup;if(s)try{!function(N){var ie=N.delayedCallbacks,ue=0;do{for(;ue<ie.length;ue++)ie[ue].call(null);for(var Oe=0;Oe<N.ops.length;Oe++){var Ce=N.ops[Oe];if(Ce.cursorActivityHandlers)for(;Ce.cursorActivityCalled<Ce.cursorActivityHandlers.length;)Ce.cursorActivityHandlers[Ce.cursorActivityCalled++].call(null,Ce.cm)}}while(ue<ie.length)}(s)}finally{en=null,function(a){for(var i=0;i<a.ops.length;i++)a.ops[i].cm.curOp=null;!function(s){for(var N=s.ops,ie=0;ie<N.length;ie++)Fs(N[ie]);for(var ue=0;ue<N.length;ue++)Bs(N[ue]);for(var Oe=0;Oe<N.length;Oe++)zs(N[Oe]);for(var Ce=0;Ce<N.length;Ce++)Hs(N[Ce]);for(var We=0;We<N.length;We++)Vs(N[We])}(a)}(s)}}(t)}function Fs(e){var i,s,t=e.cm,a=t.display;!(s=(i=t).display).scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=lt(i)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=lt(i)+"px",s.scrollbarsClipped=!0),e.updateMaxLine&&c(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<a.viewFrom||e.scrollToPos.to.line>=a.viewTo)||a.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ho(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Bs(e){e.updatedDisplay=e.mustUpdate&&ia(e.cm,e.update)}function zs(e){var t=e.cm,a=t.display;e.updatedDisplay&&yn(t),e.barMeasure=ir(t),a.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=rn(t,a.maxLine,a.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(a.scroller.clientWidth,a.sizer.offsetLeft+e.adjustWidthTo+lt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,a.sizer.offsetLeft+e.adjustWidthTo-Ct(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=a.input.prepareSelection())}function Hs(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&hr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var a=e.focus&&e.focus==ge();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,a),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Ni(t,e.barMeasure),e.updatedDisplay&&sa(t,e.barMeasure),e.selectionChanged&&xt(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),a&&$t(e.cm)}function Vs(e){var t=e.cm,a=t.display,i=t.doc;e.updatedDisplay&&Ta(t,e.update),null==a.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(a.wheelStartX=a.wheelStartY=null),null!=e.scrollTop&&fi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&hr(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(Oe,Ce){if(!$e(Oe,"scrollCursorIntoView")){var We=Oe.display,Ue=We.sizer.getBoundingClientRect(),Qe=null;if(Ce.top+Ue.top<0?Qe=!0:Ce.bottom+Ue.top>(window.innerHeight||document.documentElement.clientHeight)&&(Qe=!1),null!=Qe&&!D){var Ge=Q("div","\u200b",null,"position: absolute;\n                         top: "+(Ce.top-We.viewOffset-Xe(Oe.display))+"px;\n                         height: "+(Ce.bottom-Ce.top+lt(Oe)+We.barHeight)+"px;\n                         left: "+Ce.left+"px; width: "+Math.max(2,Ce.right-Ce.left)+"px;");Oe.display.lineSpace.appendChild(Ge),Ge.scrollIntoView(Qe),Oe.display.lineSpace.removeChild(Ge)}}}(t,function(Oe,Ce,We,Ue){var Qe;null==Ue&&(Ue=0),Oe.options.lineWrapping||Ce!=We||(We="before"==Ce.sticky?K(Ce.line,Ce.ch+1,"before"):Ce,Ce=Ce.ch?K(Ce.line,"before"==Ce.sticky?Ce.ch-1:Ce.ch,"after"):Ce);for(var Ge=0;Ge<5;Ge++){var gt=!1,at=Cr(Oe,Ce),bt=We&&We!=Ce?Cr(Oe,We):at,At=Ln(Oe,Qe={left:Math.min(at.left,bt.left),top:Math.min(at.top,bt.top)-Ue,right:Math.max(at.left,bt.left),bottom:Math.max(at.bottom,bt.bottom)+Ue}),Lt=Oe.doc.scrollTop,Vt=Oe.doc.scrollLeft;if(null!=At.scrollTop&&(Wn(Oe,At.scrollTop),Math.abs(Oe.doc.scrollTop-Lt)>1&&(gt=!0)),null!=At.scrollLeft&&(hr(Oe,At.scrollLeft),Math.abs(Oe.doc.scrollLeft-Vt)>1&&(gt=!0)),!gt)break}return Qe}(t,Ft(i,e.scrollToPos.from),Ft(i,e.scrollToPos.to),e.scrollToPos.margin));var s=e.maybeHiddenMarkers,N=e.maybeUnhiddenMarkers;if(s)for(var ie=0;ie<s.length;++ie)s[ie].lines.length||Re(s[ie],"hide");if(N)for(var ue=0;ue<N.length;++ue)N[ue].lines.length&&Re(N[ue],"unhide");a.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Re(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function oi(e,t){if(e.curOp)return t();$i(e);try{return t()}finally{qi(e)}}function Rr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);$i(e);try{return t.apply(e,arguments)}finally{qi(e)}}}function Qr(e){return function(){if(this.curOp)return e.apply(this,arguments);$i(this);try{return e.apply(this,arguments)}finally{qi(this)}}}function Ir(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);$i(t);try{return e.apply(this,arguments)}finally{qi(t)}}}function mo(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,de(Us,e))}function Us(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var a=+new Date+e.options.workTime,i=Zr(e,t.highlightFrontier),s=[];t.iter(i.line,Math.min(t.first+t.size,e.display.viewTo+500),function(N){if(i.line>=e.display.viewFrom){var ie=N.styles,ue=N.text.length>e.options.maxHighlightLength?Cn(t.mode,i.state):null,Oe=Yn(e,N,i,!0);ue&&(i.state=ue),N.styles=Oe.styles;var Ce=N.styleClasses,We=Oe.classes;We?N.styleClasses=We:Ce&&(N.styleClasses=null);for(var Ue=!ie||ie.length!=N.styles.length||Ce!=We&&(!Ce||!We||Ce.bgClass!=We.bgClass||Ce.textClass!=We.textClass),Qe=0;!Ue&&Qe<ie.length;++Qe)Ue=ie[Qe]!=N.styles[Qe];Ue&&s.push(i.line),N.stateAfter=i.save(),i.nextLine()}else N.text.length<=e.options.maxHighlightLength&&Ar(e,N.text,i),N.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>a)return mo(e,e.options.workDelay),!0}),t.highlightFrontier=i.line,t.modeFrontier=Math.max(t.modeFrontier,i.line),s.length&&oi(e,function(){for(var N=0;N<s.length;N++)ui(e,s[N],"text")})}}var Ho=function(e,t,a){var i=e.display;this.viewport=t,this.visible=vn(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ct(e),this.force=a,this.dims=fo(e),this.events=[]};function ia(e,t){var a=e.display,i=e.doc;if(t.editorIsHidden)return vi(e),!1;if(!t.force&&t.visible.from>=a.viewFrom&&t.visible.to<=a.viewTo&&(null==a.updateLineNumbers||a.updateLineNumbers>=a.viewTo)&&a.renderedView==a.view&&0==Ji(e))return!1;Pa(e)&&(vi(e),t.dims=fo(e));var s=i.first+i.size,N=Math.max(t.visible.from-e.options.viewportMargin,i.first),ie=Math.min(s,t.visible.to+e.options.viewportMargin);a.viewFrom<N&&N-a.viewFrom<20&&(N=Math.max(i.first,a.viewFrom)),a.viewTo>ie&&a.viewTo-ie<20&&(ie=Math.min(s,a.viewTo)),tr&&(N=Gr(e.doc,N),ie=ti(e.doc,ie));var We,Ue,Qe,Ge,ue=N!=a.viewFrom||ie!=a.viewTo||a.lastWrapHeight!=t.wrapperHeight||a.lastWrapWidth!=t.wrapperWidth;Ue=N,Qe=ie,0==(Ge=(We=e).display).view.length||Ue>=Ge.viewTo||Qe<=Ge.viewFrom?(Ge.view=Et(We,Ue,Qe),Ge.viewFrom=Ue):(Ge.viewFrom>Ue?Ge.view=Et(We,Ue,Ge.viewFrom).concat(Ge.view):Ge.viewFrom<Ue&&(Ge.view=Ge.view.slice(Ei(We,Ue))),Ge.viewFrom=Ue,Ge.viewTo<Qe?Ge.view=Ge.view.concat(Et(We,Ge.viewTo,Qe)):Ge.viewTo>Qe&&(Ge.view=Ge.view.slice(0,Ei(We,Qe)))),Ge.viewTo=Qe,a.viewOffset=yr(qt(e.doc,a.viewFrom)),e.display.mover.style.top=a.viewOffset+"px";var Oe=Ji(e);if(!ue&&0==Oe&&!t.force&&a.renderedView==a.view&&(null==a.updateLineNumbers||a.updateLineNumbers>=a.viewTo))return!1;var Ce=function(We){if(We.hasFocus())return null;var Ue=ge();if(!Ue||!Fe(We.display.lineDiv,Ue))return null;var Qe={activeElt:Ue};if(window.getSelection){var Ge=window.getSelection();Ge.anchorNode&&Ge.extend&&Fe(We.display.lineDiv,Ge.anchorNode)&&(Qe.anchorNode=Ge.anchorNode,Qe.anchorOffset=Ge.anchorOffset,Qe.focusNode=Ge.focusNode,Qe.focusOffset=Ge.focusOffset)}return Qe}(e);return Oe>4&&(a.lineDiv.style.display="none"),function(We,Ue,Qe){var Ge=We.display,gt=We.options.lineNumbers,at=Ge.lineDiv,bt=at.firstChild;function At(an){var _n=an.nextSibling;return h&&r&&We.display.currentWheelTarget==an?an.style.display="none":an.parentNode.removeChild(an),_n}for(var Lt=Ge.view,Vt=Ge.viewFrom,Kt=0;Kt<Lt.length;Kt++){var Ut=Lt[Kt];if(!Ut.hidden)if(Ut.node&&Ut.node.parentNode==at){for(;bt!=Ut.node;)bt=At(bt);var Yt=gt&&null!=Ue&&Ue<=Vt&&Ut.lineNumber;Ut.changes&&(ne(Ut.changes,"gutter")>-1&&(Yt=!1),lr(We,Ut,Vt,Qe)),Yt&&(b(Ut.lineNumber),Ut.lineNumber.appendChild(document.createTextNode(F(We.options,Vt)))),bt=Ut.node.nextSibling}else{var hn=wi(We,Ut,Vt,Qe);at.insertBefore(hn,bt)}Vt+=Ut.size}for(;bt;)bt=At(bt)}(e,a.updateLineNumbers,t.dims),Oe>4&&(a.lineDiv.style.display=""),a.renderedView=a.view,function(We){if(We&&We.activeElt&&We.activeElt!=ge()&&(We.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(We.activeElt.nodeName)&&We.anchorNode&&Fe(document.body,We.anchorNode)&&Fe(document.body,We.focusNode))){var Ue=window.getSelection(),Qe=document.createRange();Qe.setEnd(We.anchorNode,We.anchorOffset),Qe.collapse(!1),Ue.removeAllRanges(),Ue.addRange(Qe),Ue.extend(We.focusNode,We.focusOffset)}}(Ce),b(a.cursorDiv),b(a.selectionDiv),a.gutters.style.height=a.sizer.style.minHeight=0,ue&&(a.lastWrapHeight=t.wrapperHeight,a.lastWrapWidth=t.wrapperWidth,mo(e,400)),a.updateLineNumbers=null,!0}function Ta(e,t){for(var a=t.viewport,i=!0;;i=!1){if(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Ct(e))i&&(t.visible=vn(e.display,e.doc,a));else if(a&&null!=a.top&&(a={top:Math.min(e.doc.height+et(e.display)-It(e),a.top)}),t.visible=vn(e.display,e.doc,a),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!ia(e,t))break;yn(e);var s=ir(e);Li(e),Ni(e,s),sa(e,s),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function oa(e,t){var a=new Ho(e,t);if(ia(e,a)){yn(e),Ta(e,a);var i=ir(e);Li(e),Ni(e,i),sa(e,i),a.finish()}}function aa(e){e.sizer.style.marginLeft=e.gutters.offsetWidth+"px",Xt(e,"gutterChanged",e)}function sa(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+lt(e)+"px"}function Ea(e){var t=e.display,a=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=ho(t)-t.scroller.scrollLeft+e.doc.scrollLeft,s=t.gutters.offsetWidth,N=i+"px",ie=0;ie<a.length;ie++)if(!a[ie].hidden){e.options.fixedGutter&&(a[ie].gutter&&(a[ie].gutter.style.left=N),a[ie].gutterBackground&&(a[ie].gutterBackground.style.left=N));var ue=a[ie].alignable;if(ue)for(var Oe=0;Oe<ue.length;Oe++)ue[Oe].style.left=N}e.options.fixedGutter&&(t.gutters.style.left=i+s+"px")}}function Pa(e){if(!e.options.lineNumbers)return!1;var t=e.doc,a=F(e.options,t.first+t.size-1),i=e.display;if(a.length!=i.lineNumChars){var s=i.measure.appendChild(Q("div",[Q("div",a)],"CodeMirror-linenumber CodeMirror-gutter-elt")),N=s.firstChild.offsetWidth,ie=s.offsetWidth-N;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(N,i.lineGutter.offsetWidth-ie)+1,i.lineNumWidth=i.lineNumInnerWidth+ie,i.lineNumChars=i.lineNumInnerWidth?a.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",aa(e.display),!0}return!1}function la(e,t){for(var a=[],i=!1,s=0;s<e.length;s++){var N=e[s],ie=null;if("string"!=typeof N&&(ie=N.style,N=N.className),"CodeMirror-linenumbers"==N){if(!t)continue;i=!0}a.push({className:N,style:ie})}return t&&!i&&a.push({className:"CodeMirror-linenumbers",style:null}),a}function Aa(e){var t=e.gutters,a=e.gutterSpecs;b(t),e.lineGutter=null;for(var i=0;i<a.length;++i){var s=a[i],N=s.className,ie=s.style,ue=t.appendChild(Q("div",null,"CodeMirror-gutter "+N));ie&&(ue.style.cssText=ie),"CodeMirror-linenumbers"==N&&(e.lineGutter=ue,ue.style.width=(e.lineNumWidth||1)+"px")}t.style.display=a.length?"":"none",aa(e)}function vo(e){Aa(e.display),Er(e),Ea(e)}function Ws(e,t,a,i){var s=this;this.input=a,s.scrollbarFiller=Q("div",null,"CodeMirror-scrollbar-filler"),s.scrollbarFiller.setAttribute("cm-not-content","true"),s.gutterFiller=Q("div",null,"CodeMirror-gutter-filler"),s.gutterFiller.setAttribute("cm-not-content","true"),s.lineDiv=re("div",null,"CodeMirror-code"),s.selectionDiv=Q("div",null,null,"position: relative; z-index: 1"),s.cursorDiv=Q("div",null,"CodeMirror-cursors"),s.measure=Q("div",null,"CodeMirror-measure"),s.lineMeasure=Q("div",null,"CodeMirror-measure"),s.lineSpace=re("div",[s.measure,s.lineMeasure,s.selectionDiv,s.cursorDiv,s.lineDiv],null,"position: relative; outline: none");var N=re("div",[s.lineSpace],"CodeMirror-lines");s.mover=Q("div",[N],null,"position: relative"),s.sizer=Q("div",[s.mover],"CodeMirror-sizer"),s.sizerWidth=null,s.heightForcer=Q("div",null,null,"position: absolute; height: 50px; width: 1px;"),s.gutters=Q("div",null,"CodeMirror-gutters"),s.lineGutter=null,s.scroller=Q("div",[s.sizer,s.heightForcer,s.gutters],"CodeMirror-scroll"),s.scroller.setAttribute("tabIndex","-1"),s.wrapper=Q("div",[s.scrollbarFiller,s.gutterFiller,s.scroller],"CodeMirror"),s.wrapper.setAttribute("translate","no"),f&&g<8&&(s.gutters.style.zIndex=-1,s.scroller.style.paddingRight=0),h||J&&S||(s.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(s.wrapper):e(s.wrapper)),s.viewFrom=s.viewTo=t.first,s.reportedViewFrom=s.reportedViewTo=t.first,s.view=[],s.renderedView=null,s.externalMeasured=null,s.viewOffset=0,s.lastWrapHeight=s.lastWrapWidth=0,s.updateLineNumbers=null,s.nativeBarWidth=s.barHeight=s.barWidth=0,s.scrollbarsClipped=!1,s.lineNumWidth=s.lineNumInnerWidth=s.lineNumChars=null,s.alignWidgets=!1,s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.maxLine=null,s.maxLineLength=0,s.maxLineChanged=!1,s.wheelDX=s.wheelDY=s.wheelStartX=s.wheelStartY=null,s.shift=!1,s.selForContextMenu=null,s.activeTouch=null,s.gutterSpecs=la(i.gutters,i.lineNumbers),Aa(s),a.init(s)}Ho.prototype.signal=function(e,t){Ke(e,t)&&this.events.push(arguments)},Ho.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Re.apply(null,this.events[e])};var Vo=0,di=null;function Da(e){var t=e.wheelDeltaX,a=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==a&&e.detail&&e.axis==e.VERTICAL_AXIS?a=e.detail:null==a&&(a=e.wheelDelta),{x:t,y:a}}function $s(e){var t=Da(e);return t.x*=di,t.y*=di,t}function Ma(e,t){var a=Da(t),i=a.x,s=a.y,N=e.display,ie=N.scroller,Oe=ie.scrollHeight>ie.clientHeight;if(i&&ie.scrollWidth>ie.clientWidth||s&&Oe){if(s&&r&&h)e:for(var Ce=t.target,We=N.view;Ce!=ie;Ce=Ce.parentNode)for(var Ue=0;Ue<We.length;Ue++)if(We[Ue].node==Ce){e.display.currentWheelTarget=Ce;break e}if(i&&!J&&!P&&null!=di)return s&&Oe&&Wn(e,Math.max(0,ie.scrollTop+s*di)),hr(e,Math.max(0,ie.scrollLeft+i*di)),(!s||s&&Oe)&&ht(t),void(N.wheelStartX=null);if(s&&null!=di){var Qe=s*di,Ge=e.doc.scrollTop,gt=Ge+N.wrapper.clientHeight;Qe<0?Ge=Math.max(0,Ge+Qe-50):gt=Math.min(e.doc.height,gt+Qe+50),oa(e,{top:Ge,bottom:gt})}Vo<20&&(null==N.wheelStartX?(N.wheelStartX=ie.scrollLeft,N.wheelStartY=ie.scrollTop,N.wheelDX=i,N.wheelDY=s,setTimeout(function(){if(null!=N.wheelStartX){var at=ie.scrollLeft-N.wheelStartX,bt=ie.scrollTop-N.wheelStartY,At=bt&&N.wheelDY&&bt/N.wheelDY||at&&N.wheelDX&&at/N.wheelDX;N.wheelStartX=N.wheelStartY=null,At&&(di=(di*Vo+At)/(Vo+1),++Vo)}},200)):(N.wheelDX+=i,N.wheelDY+=s))}}f?di=-.53:J?di=15:d?di=-.7:O&&(di=-1/3);var hi=function(e,t){this.ranges=e,this.primIndex=t};hi.prototype.primary=function(){return this.ranges[this.primIndex]},hi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var a=this.ranges[t],i=e.ranges[t];if(!Me(a.anchor,i.anchor)||!Me(a.head,i.head))return!1}return!0},hi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new $n(wt(this.ranges[t].anchor),wt(this.ranges[t].head));return new hi(e,this.primIndex)},hi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},hi.prototype.contains=function(e,t){t||(t=e);for(var a=0;a<this.ranges.length;a++){var i=this.ranges[a];if(ye(t,i.from())>=0&&ye(e,i.to())<=0)return a}return-1};var $n=function(e,t){this.anchor=e,this.head=t};function Ci(e,t,a){var i=e&&e.options.selectionsMayTouch,s=t[a];t.sort(function(Qe,Ge){return ye(Qe.from(),Ge.from())}),a=ne(t,s);for(var N=1;N<t.length;N++){var ie=t[N],ue=t[N-1],Oe=ye(ue.to(),ie.from());if(i&&!ie.empty()?Oe>0:Oe>=0){var Ce=Nt(ue.from(),ie.from()),We=Rt(ue.to(),ie.to()),Ue=ue.empty()?ie.from()==ie.head:ue.from()==ue.head;N<=a&&--a,t.splice(--N,2,new $n(Ue?We:Ce,Ue?Ce:We))}}return new hi(t,a)}function Bi(e,t){return new hi([new $n(e,t||e)],0)}function zi(e){return e.text?K(e.from.line+e.text.length-1,A(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function La(e,t){if(ye(e,t.from)<0)return e;if(ye(e,t.to)<=0)return zi(t);var a=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=zi(t).ch-t.to.ch),K(a,i)}function ca(e,t){for(var a=[],i=0;i<e.sel.ranges.length;i++){var s=e.sel.ranges[i];a.push(new $n(La(s.anchor,t),La(s.head,t)))}return Ci(e.cm,a,e.sel.primIndex)}function Na(e,t,a){return e.line==t.line?K(a.line,e.ch-t.ch+a.ch):K(a.line+(e.line-t.line),e.ch)}function ua(e){e.doc.mode=ln(e.options,e.doc.modeOption),yo(e)}function yo(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,mo(e,100),e.state.modeGen++,e.curOp&&Er(e)}function Ra(e,t){return 0==t.from.ch&&0==t.to.ch&&""==A(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function fa(e,t,a,i){function s(Lt){return a?a[Lt]:null}function N(Lt,Vt,Kt){(function(Ut,Yt,hn,an){Ut.text=Yt,Ut.stateAfter&&(Ut.stateAfter=null),Ut.styles&&(Ut.styles=null),null!=Ut.order&&(Ut.order=null),ei(Ut),Lr(Ut,hn);var _n=an?an(Ut):1;_n!=Ut.height&&Jt(Ut,_n)})(Lt,Vt,Kt,i),Xt(Lt,"change",Lt,t)}function ie(Lt,Vt){for(var Kt=[],Ut=Lt;Ut<Vt;++Ut)Kt.push(new M(Ce[Ut],s(Ut),i));return Kt}var ue=t.from,Oe=t.to,Ce=t.text,We=qt(e,ue.line),Ue=qt(e,Oe.line),Qe=A(Ce),Ge=s(Ce.length-1),gt=Oe.line-ue.line;if(t.full)e.insert(0,ie(0,Ce.length)),e.remove(Ce.length,e.size-Ce.length);else if(Ra(e,t)){var at=ie(0,Ce.length-1);N(Ue,Ue.text,Ge),gt&&e.remove(ue.line,gt),at.length&&e.insert(ue.line,at)}else if(We==Ue)if(1==Ce.length)N(We,We.text.slice(0,ue.ch)+Qe+We.text.slice(Oe.ch),Ge);else{var bt=ie(1,Ce.length-1);bt.push(new M(Qe+We.text.slice(Oe.ch),Ge,i)),N(We,We.text.slice(0,ue.ch)+Ce[0],s(0)),e.insert(ue.line+1,bt)}else if(1==Ce.length)N(We,We.text.slice(0,ue.ch)+Ce[0]+Ue.text.slice(Oe.ch),s(0)),e.remove(ue.line+1,gt);else{N(We,We.text.slice(0,ue.ch)+Ce[0],s(0)),N(Ue,Qe+Ue.text.slice(Oe.ch),Ge);var At=ie(1,Ce.length-1);gt>1&&e.remove(ue.line+1,gt-1),e.insert(ue.line+1,At)}Xt(e,"change",e,t)}function Hi(e,t,a){!function i(s,N,ie){if(s.linked)for(var ue=0;ue<s.linked.length;++ue){var Oe=s.linked[ue];if(Oe.doc!=N){var Ce=ie&&Oe.sharedHist;a&&!Ce||(t(Oe.doc,Ce),i(Oe.doc,s,Ce))}}}(e,null,!0)}function Ia(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Oi(e),ua(e),Fa(e),e.options.direction=t.direction,e.options.lineWrapping||c(e),e.options.mode=t.modeOption,Er(e)}function Fa(e){("rtl"==e.doc.direction?fe:x)(e.display.lineDiv,"CodeMirror-rtl")}function Uo(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function da(e,t){var a={from:wt(t.from),to:zi(t),text:dn(e,t.from,t.to)};return Ha(e,a,t.from.line,t.to.line+1),Hi(e,function(i){return Ha(i,a,t.from.line,t.to.line+1)},!0),a}function Ba(e){for(;e.length&&A(e).ranges;)e.pop()}function za(e,t,a,i){var s=e.history;s.undone.length=0;var N,ie,Ce,ue=+new Date;if((s.lastOp==i||s.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&s.lastModTime>ue-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(Ce=s,N=s.lastOp==i?(Ba(Ce.done),A(Ce.done)):Ce.done.length&&!A(Ce.done).ranges?A(Ce.done):Ce.done.length>1&&!Ce.done[Ce.done.length-2].ranges?(Ce.done.pop(),A(Ce.done)):void 0))ie=A(N.changes),0==ye(t.from,t.to)&&0==ye(t.from,ie.to)?ie.to=zi(t):N.changes.push(da(e,t));else{var Oe=A(s.done);for(Oe&&Oe.ranges||Wo(e.sel,s.done),N={changes:[da(e,t)],generation:s.generation},s.done.push(N);s.done.length>s.undoDepth;)s.done.shift(),s.done[0].ranges||s.done.shift()}s.done.push(a),s.generation=++s.maxGeneration,s.lastModTime=s.lastSelTime=ue,s.lastOp=s.lastSelOp=i,s.lastOrigin=s.lastSelOrigin=t.origin,ie||Re(e,"historyAdded")}function Wo(e,t){var a=A(t);a&&a.ranges&&a.equals(e)||t.push(e)}function Ha(e,t,a,i){var s=t["spans_"+e.id],N=0;e.iter(Math.max(e.first,a),Math.min(e.first+e.size,i),function(ie){ie.markedSpans&&((s||(s=t["spans_"+e.id]={}))[N]=ie.markedSpans),++N})}function Gs(e){if(!e)return null;for(var t,a=0;a<e.length;++a)e[a].marker.explicitlyCleared?t||(t=e.slice(0,a)):t&&t.push(e[a]);return t?t.length?t:null:e}function Va(e,t){var a=function(We,Ue){var Qe=Ue["spans_"+We.id];if(!Qe)return null;for(var Ge=[],gt=0;gt<Ue.text.length;++gt)Ge.push(Gs(Qe[gt]));return Ge}(e,t),i=si(e,t);if(!a)return i;if(!i)return a;for(var s=0;s<a.length;++s){var N=a[s],ie=i[s];if(N&&ie)e:for(var ue=0;ue<ie.length;++ue){for(var Oe=ie[ue],Ce=0;Ce<N.length;++Ce)if(N[Ce].marker==Oe.marker)continue e;N.push(Oe)}else ie&&(a[s]=ie)}return a}function Qi(e,t,a){for(var i=[],s=0;s<e.length;++s){var N=e[s];if(N.ranges)i.push(a?hi.prototype.deepCopy.call(N):N);else{var ie=N.changes,ue=[];i.push({changes:ue});for(var Oe=0;Oe<ie.length;++Oe){var Ce=ie[Oe],We=void 0;if(ue.push({from:Ce.from,to:Ce.to,text:Ce.text}),t)for(var Ue in Ce)(We=Ue.match(/^spans_(\d+)$/))&&ne(t,Number(We[1]))>-1&&(A(ue)[Ue]=Ce[Ue],delete Ce[Ue])}}}return i}function ha(e,t,a,i){if(i){var s=e.anchor;if(a){var N=ye(t,s)<0;N!=ye(a,s)<0?(s=t,t=a):N!=ye(t,a)<0&&(t=a)}return new $n(s,t)}return new $n(a||t,t)}function $o(e,t,a,i,s){null==s&&(s=e.cm&&(e.cm.display.shift||e.extend)),Yr(e,new hi([ha(e.sel.primary(),t,a,s)],0),i)}function Ua(e,t,a){for(var i=[],s=e.cm&&(e.cm.display.shift||e.extend),N=0;N<e.sel.ranges.length;N++)i[N]=ha(e.sel.ranges[N],t[N],null,s);Yr(e,Ci(e.cm,i,e.sel.primIndex),a)}function pa(e,t,a,i){var s=e.sel.ranges.slice(0);s[t]=a,Yr(e,Ci(e.cm,s,e.sel.primIndex),i)}function Wa(e,t,a,i){Yr(e,Bi(t,a),i)}function $a(e,t,a){var i=e.history.done,s=A(i);s&&s.ranges?(i[i.length-1]=t,qo(e,t,a)):Yr(e,t,a)}function Yr(e,t,a){qo(e,t,a),function(e,t,a,i){var ie,ue,Oe,Ce,We,s=e.history,N=i&&i.origin;a==s.lastSelOp||N&&s.lastSelOrigin==N&&(s.lastModTime==s.lastSelTime&&s.lastOrigin==N||(ie=e,ue=N,Oe=A(s.done),Ce=t,"*"==(We=ue.charAt(0))||"+"==We&&Oe.ranges.length==Ce.ranges.length&&Oe.somethingSelected()==Ce.somethingSelected()&&new Date-ie.history.lastSelTime<=(ie.cm?ie.cm.options.historyEventDelay:500)))?s.done[s.done.length-1]=t:Wo(t,s.done),s.lastSelTime=+new Date,s.lastSelOrigin=N,s.lastSelOp=a,i&&!1!==i.clearRedo&&Ba(s.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,a)}function qo(e,t,a){var s,N,ie,ue;(Ke(e,"beforeSelectionChange")||e.cm&&Ke(e.cm,"beforeSelectionChange"))&&(Re(s=e,"beforeSelectionChange",s,ue={ranges:(N=t).ranges,update:function(Oe){this.ranges=[];for(var Ce=0;Ce<Oe.length;Ce++)this.ranges[Ce]=new $n(Ft(s,Oe[Ce].anchor),Ft(s,Oe[Ce].head))},origin:(ie=a)&&ie.origin}),s.cm&&Re(s.cm,"beforeSelectionChange",s.cm,ue),t=ue.ranges!=N.ranges?Ci(s.cm,ue.ranges,ue.ranges.length-1):N);var i=a&&a.bias||(ye(t.primary().head,e.sel.primary().head)<0?-1:1);qa(e,Ya(e,t,i,!0)),a&&!1===a.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||On(e.cm)}function qa(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,me(e.cm)),Xt(e,"cursorActivity",e))}function Ga(e){qa(e,Ya(e,e.sel,null,!1))}function Ya(e,t,a,i){for(var s,N=0;N<t.ranges.length;N++){var ie=t.ranges[N],ue=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[N],Oe=Go(e,ie.anchor,ue&&ue.anchor,a,i),Ce=Go(e,ie.head,ue&&ue.head,a,i);(s||Oe!=ie.anchor||Ce!=ie.head)&&(s||(s=t.ranges.slice(0,N)),s[N]=new $n(Oe,Ce))}return s?Ci(e.cm,s,t.primIndex):t}function eo(e,t,a,i,s){var N=qt(e,t.line);if(N.markedSpans)for(var ie=0;ie<N.markedSpans.length;++ie){var ue=N.markedSpans[ie],Oe=ue.marker,Ce="selectLeft"in Oe?!Oe.selectLeft:Oe.inclusiveLeft,We="selectRight"in Oe?!Oe.selectRight:Oe.inclusiveRight;if((null==ue.from||(Ce?ue.from<=t.ch:ue.from<t.ch))&&(null==ue.to||(We?ue.to>=t.ch:ue.to>t.ch))){if(s&&(Re(Oe,"beforeCursorEnter"),Oe.explicitlyCleared)){if(N.markedSpans){--ie;continue}break}if(!Oe.atomic)continue;if(a){var Ue=Oe.find(i<0?1:-1),Qe=void 0;if((i<0?We:Ce)&&(Ue=Ka(e,Ue,-i,Ue&&Ue.line==t.line?N:null)),Ue&&Ue.line==t.line&&(Qe=ye(Ue,a))&&(i<0?Qe<0:Qe>0))return eo(e,Ue,t,i,s)}var Ge=Oe.find(i<0?-1:1);return(i<0?Ce:We)&&(Ge=Ka(e,Ge,i,Ge.line==t.line?N:null)),Ge?eo(e,Ge,t,i,s):null}}return t}function Go(e,t,a,i,s){var N=i||1;return eo(e,t,a,N,s)||!s&&eo(e,t,a,N,!0)||eo(e,t,a,-N,s)||!s&&eo(e,t,a,-N,!0)||(e.cantEdit=!0,K(e.first,0))}function Ka(e,t,a,i){return a<0&&0==t.ch?t.line>e.first?Ft(e,K(t.line-1)):null:a>0&&t.ch==(i||qt(e,t.line)).text.length?t.line<e.first+e.size-1?K(t.line+1,0):null:new K(t.line,t.ch+a)}function Za(e){e.setSelection(K(e.firstLine(),0),K(e.lastLine()),j)}function Xa(e,t,a){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return a&&(i.update=function(s,N,ie,ue){s&&(i.from=Ft(e,s)),N&&(i.to=Ft(e,N)),ie&&(i.text=ie),void 0!==ue&&(i.origin=ue)}),Re(e,"beforeChange",e,i),e.cm&&Re(e.cm,"beforeChange",e.cm,i),i.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function to(e,t,a){if(e.cm){if(!e.cm.curOp)return Rr(e.cm,to)(e,t,a);if(e.cm.state.suppressEdits)return}if(!(Ke(e,"beforeChange")||e.cm&&Ke(e.cm,"beforeChange"))||(t=Xa(e,t,!0))){var i=Mr&&!a&&function(N,ie,ue){var Oe=null;if(N.iter(ie.line,ue.line+1,function(Lt){if(Lt.markedSpans)for(var Vt=0;Vt<Lt.markedSpans.length;++Vt){var Kt=Lt.markedSpans[Vt].marker;!Kt.readOnly||Oe&&-1!=ne(Oe,Kt)||(Oe||(Oe=[])).push(Kt)}}),!Oe)return null;for(var Ce=[{from:ie,to:ue}],We=0;We<Oe.length;++We)for(var Ue=Oe[We],Qe=Ue.find(0),Ge=0;Ge<Ce.length;++Ge){var gt=Ce[Ge];if(!(ye(gt.to,Qe.from)<0||ye(gt.from,Qe.to)>0)){var at=[Ge,1],bt=ye(gt.from,Qe.from),At=ye(gt.to,Qe.to);(bt<0||!Ue.inclusiveLeft&&!bt)&&at.push({from:gt.from,to:Qe.from}),(At>0||!Ue.inclusiveRight&&!At)&&at.push({from:Qe.to,to:gt.to}),Ce.splice.apply(Ce,at),Ge+=at.length-3}}return Ce}(e,t.from,t.to);if(i)for(var s=i.length-1;s>=0;--s)Ja(e,{from:i[s].from,to:i[s].to,text:s?[""]:t.text,origin:t.origin});else Ja(e,t)}}function Ja(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ye(t.from,t.to)){var a=ca(e,t);za(e,t,a,e.cm?e.cm.curOp.id:NaN),bo(e,t,a,si(e,t));var i=[];Hi(e,function(s,N){N||-1!=ne(i,s.history)||(ns(s.history,t),i.push(s.history)),bo(s,t,null,si(s,t))})}}function Yo(e,t,a){var i=e.cm&&e.cm.state.suppressEdits;if(!i||a){for(var s,N=e.history,ie=e.sel,ue="undo"==t?N.done:N.undone,Oe="undo"==t?N.undone:N.done,Ce=0;Ce<ue.length&&(s=ue[Ce],a?!s.ranges||s.equals(e.sel):s.ranges);Ce++);if(Ce!=ue.length){for(N.lastOrigin=N.lastSelOrigin=null;;){if(!(s=ue.pop()).ranges){if(i)return void ue.push(s);break}if(Wo(s,Oe),a&&!s.equals(e.sel))return void Yr(e,s,{clearRedo:!1});ie=s}var We=[];Wo(ie,Oe),Oe.push({changes:We,generation:N.generation}),N.generation=s.generation||++N.maxGeneration;for(var Ue=Ke(e,"beforeChange")||e.cm&&Ke(e.cm,"beforeChange"),Qe=function(at){var bt=s.changes[at];if(bt.origin=t,Ue&&!Xa(e,bt,!1))return ue.length=0,{};We.push(da(e,bt));var At=at?ca(e,bt):A(ue);bo(e,bt,At,Va(e,bt)),!at&&e.cm&&e.cm.scrollIntoView({from:bt.from,to:zi(bt)});var Lt=[];Hi(e,function(Vt,Kt){Kt||-1!=ne(Lt,Vt.history)||(ns(Vt.history,bt),Lt.push(Vt.history)),bo(Vt,bt,null,Va(Vt,bt))})},Ge=s.changes.length-1;Ge>=0;--Ge){var gt=Qe(Ge);if(gt)return gt.v}}}}function Qa(e,t){if(0!=t&&(e.first+=t,e.sel=new hi(q(e.sel.ranges,function(s){return new $n(K(s.anchor.line+t,s.anchor.ch),K(s.head.line+t,s.head.ch))}),e.sel.primIndex),e.cm)){Er(e.cm,e.first,e.first-t,t);for(var a=e.cm.display,i=a.viewFrom;i<a.viewTo;i++)ui(e.cm,i,"gutter")}}function bo(e,t,a,i){if(e.cm&&!e.cm.curOp)return Rr(e.cm,bo)(e,t,a,i);if(t.to.line<e.first)Qa(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var s=t.text.length-1-(e.first-t.from.line);Qa(e,s),t={from:K(e.first,0),to:K(t.to.line+s,t.to.ch),text:[A(t.text)],origin:t.origin}}var N=e.lastLine();t.to.line>N&&(t={from:t.from,to:K(N,qt(e,N).text.length),text:[t.text[0]],origin:t.origin}),t.removed=dn(e,t.from,t.to),a||(a=ca(e,t)),e.cm?function(ie,ue,Oe){var Ce=ie.doc,We=ie.display,Ue=ue.from,Qe=ue.to,Ge=!1,gt=Ue.line;ie.options.lineWrapping||(gt=pn(Hn(qt(Ce,Ue.line))),Ce.iter(gt,Qe.line+1,function(Vt){if(Vt==We.maxLine)return Ge=!0,!0})),Ce.sel.contains(ue.from,ue.to)>-1&&me(ie),fa(Ce,ue,Oe,po(ie)),ie.options.lineWrapping||(Ce.iter(gt,Ue.line+ue.text.length,function(Vt){var Kt=pi(Vt);Kt>We.maxLineLength&&(We.maxLine=Vt,We.maxLineLength=Kt,We.maxLineChanged=!0,Ge=!1)}),Ge&&(ie.curOp.updateMaxLine=!0)),function(Vt,Kt){if(Vt.modeFrontier=Math.min(Vt.modeFrontier,Kt),!(Vt.highlightFrontier<Kt-10)){for(var Ut=Vt.first,Yt=Kt-1;Yt>Ut;Yt--){var hn=qt(Vt,Yt).stateAfter;if(hn&&(!(hn instanceof Tn)||Yt+hn.lookAhead<Kt)){Ut=Yt+1;break}}Vt.highlightFrontier=Math.min(Vt.highlightFrontier,Ut)}}(Ce,Ue.line),mo(ie,400);var at=ue.text.length-(Qe.line-Ue.line)-1;ue.full?Er(ie):Ue.line!=Qe.line||1!=ue.text.length||Ra(ie.doc,ue)?Er(ie,Ue.line,Qe.line+1,at):ui(ie,Ue.line,"text");var bt=Ke(ie,"changes"),At=Ke(ie,"change");if(At||bt){var Lt={from:Ue,to:Qe,text:ue.text,removed:ue.removed,origin:ue.origin};At&&Xt(ie,"change",ie,Lt),bt&&(ie.curOp.changeObjs||(ie.curOp.changeObjs=[])).push(Lt)}ie.display.selForContextMenu=null}(e.cm,t,i):fa(e,t,i),qo(e,a,j),e.cantEdit&&Go(e,K(e.firstLine(),0))&&(e.cantEdit=!1)}}function no(e,t,a,i,s){var N;i||(i=a),ye(i,a)<0&&(a=(N=[i,a])[0],i=N[1]),"string"==typeof t&&(t=e.splitLines(t)),to(e,{from:a,to:i,text:t,origin:s})}function es(e,t,a,i){a<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function ts(e,t,a,i){for(var s=0;s<e.length;++s){var N=e[s],ie=!0;if(N.ranges){N.copied||((N=e[s]=N.deepCopy()).copied=!0);for(var ue=0;ue<N.ranges.length;ue++)es(N.ranges[ue].anchor,t,a,i),es(N.ranges[ue].head,t,a,i)}else{for(var Oe=0;Oe<N.changes.length;++Oe){var Ce=N.changes[Oe];if(a<Ce.from.line)Ce.from=K(Ce.from.line+i,Ce.from.ch),Ce.to=K(Ce.to.line+i,Ce.to.ch);else if(t<=Ce.to.line){ie=!1;break}}ie||(e.splice(0,s+1),s=0)}}}function ns(e,t){var a=t.from.line,i=t.to.line,s=t.text.length-(i-a)-1;ts(e.done,a,i,s),ts(e.undone,a,i,s)}function wo(e,t,a,i){var s=t,N=t;return"number"==typeof t?N=qt(e,Mt(e,t)):s=pn(t),null==s?null:(i(N,s)&&e.cm&&ui(e.cm,s,a),N)}function xo(e){this.lines=e,this.parent=null;for(var t=0,a=0;a<e.length;++a)e[a].parent=this,t+=e[a].height;this.height=t}function Oo(e){this.children=e;for(var t=0,a=0,i=0;i<e.length;++i){var s=e[i];t+=s.chunkSize(),a+=s.height,s.parent=this}this.size=t,this.height=a,this.parent=null}$n.prototype.from=function(){return Nt(this.anchor,this.head)},$n.prototype.to=function(){return Rt(this.anchor,this.head)},$n.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},xo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var a=e,i=e+t;a<i;++a){var s=this.lines[a];this.height-=s.height,Y(s),Xt(s,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,a){this.height+=a,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,a){for(var i=e+t;e<i;++e)if(a(this.lines[e]))return!0}},Oo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var a=0;a<this.children.length;++a){var i=this.children[a],s=i.chunkSize();if(e<s){var N=Math.min(t,s-e),ie=i.height;if(i.removeInner(e,N),this.height-=ie-i.height,s==N&&(this.children.splice(a--,1),i.parent=null),0==(t-=N))break;e=0}else e-=s}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof xo))){var ue=[];this.collapse(ue),this.children=[new xo(ue)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,a){this.size+=t.length,this.height+=a;for(var i=0;i<this.children.length;++i){var s=this.children[i],N=s.chunkSize();if(e<=N){if(s.insertInner(e,t,a),s.lines&&s.lines.length>50){for(var ie=s.lines.length%25+25,ue=ie;ue<s.lines.length;){var Oe=new xo(s.lines.slice(ue,ue+=25));s.height-=Oe.height,this.children.splice(++i,0,Oe),Oe.parent=this}s.lines=s.lines.slice(0,ie),this.maybeSpill()}break}e-=N}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Oo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var a=ne(e.parent.children,e);e.parent.children.splice(a+1,0,t)}else{var i=new Oo(e.children);i.parent=e,e.children=[i,t],e=i}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,a){for(var i=0;i<this.children.length;++i){var s=this.children[i],N=s.chunkSize();if(e<N){var ie=Math.min(t,N-e);if(s.iterN(e,ie,a))return!0;if(0==(t-=ie))break;e=0}else e-=N}}};var ko=function(e,t,a){if(a)for(var i in a)a.hasOwnProperty(i)&&(this[i]=a[i]);this.doc=e,this.node=t};function rs(e,t,a){yr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ur(e,a)}ko.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,a=this.line,i=pn(a);if(null!=i&&t){for(var s=0;s<t.length;++s)t[s]==this&&t.splice(s--,1);t.length||(a.widgets=null);var N=Se(this);Jt(a,Math.max(0,a.height-N)),e&&(oi(e,function(){rs(e,a,-N),ui(e,i,"widget")}),Xt(e,"lineWidgetCleared",e,this,i))}},ko.prototype.changed=function(){var e=this,t=this.height,a=this.doc.cm,i=this.line;this.height=null;var s=Se(this)-t;s&&(Vr(this.doc,i)||Jt(i,i.height+s),a&&oi(a,function(){a.curOp.forceUpdate=!0,rs(a,i,s),Xt(a,"lineWidgetChanged",a,e,pn(i))}))},Ze(ko);var is=0,Vi=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++is};function ro(e,t,a,i,s){if(i&&i.shared)return function(Ue,Qe,Ge,gt,at){(gt=pe(gt)).shared=!1;var bt=[ro(Ue,Qe,Ge,gt,at)],At=bt[0],Lt=gt.widgetNode;return Hi(Ue,function(Vt){Lt&&(gt.widgetNode=Lt.cloneNode(!0)),bt.push(ro(Vt,Ft(Vt,Qe),Ft(Vt,Ge),gt,at));for(var Kt=0;Kt<Vt.linked.length;++Kt)if(Vt.linked[Kt].isParent)return;At=A(bt)}),new Co(bt,At)}(e,t,a,i,s);if(e.cm&&!e.cm.curOp)return Rr(e.cm,ro)(e,t,a,i,s);var N=new Vi(e,s),ie=ye(t,a);if(i&&pe(i,N,!1),ie>0||0==ie&&!1!==N.clearWhenEmpty)return N;if(N.replacedWith&&(N.collapsed=!0,N.widgetNode=re("span",[N.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||N.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(N.widgetNode.insertLeft=!0)),N.collapsed){if(Jr(e,t.line,t,a,N)||t.line!=a.line&&Jr(e,a.line,t,a,N))throw new Error("Inserting collapsed marker partially overlapping an existing one");tr=!0}N.addToHistory&&za(e,{from:t,to:a,origin:"markText"},e.sel,NaN);var ue,Oe=t.line,Ce=e.cm;if(e.iter(Oe,a.line+1,function(Ue){var Qe,Ge,gt,at;Ce&&N.collapsed&&!Ce.options.lineWrapping&&Hn(Ue)==Ce.display.maxLine&&(ue=!0),N.collapsed&&Oe!=t.line&&Jt(Ue,0),Qe=Ue,Ge=new Sr(N,Oe==t.line?t.ch:null,Oe==a.line?a.ch:null),(at=(gt=e.cm&&e.cm.curOp)&&window.WeakSet&&(gt.markedSpans||(gt.markedSpans=new WeakSet)))&&at.has(Qe.markedSpans)?Qe.markedSpans.push(Ge):(Qe.markedSpans=Qe.markedSpans?Qe.markedSpans.concat([Ge]):[Ge],at&&at.add(Qe.markedSpans)),Ge.marker.attachLine(Qe),++Oe}),N.collapsed&&e.iter(t.line,a.line+1,function(Ue){Vr(e,Ue)&&Jt(Ue,0)}),N.clearOnEnter&&mt(N,"beforeCursorEnter",function(){return N.clear()}),N.readOnly&&(Mr=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),N.collapsed&&(N.id=++is,N.atomic=!0),Ce){if(ue&&(Ce.curOp.updateMaxLine=!0),N.collapsed)Er(Ce,t.line,a.line+1);else if(N.className||N.startStyle||N.endStyle||N.css||N.attributes||N.title)for(var We=t.line;We<=a.line;We++)ui(Ce,We,"text");N.atomic&&Ga(Ce.doc),Xt(Ce,"markerAdded",Ce,N)}return N}Vi.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&$i(e),Ke(this,"clear")){var a=this.find();a&&Xt(this,"clear",a.from,a.to)}for(var i=null,s=null,N=0;N<this.lines.length;++N){var ie=this.lines[N],ue=ar(ie.markedSpans,this);e&&!this.collapsed?ui(e,pn(ie),"text"):e&&(null!=ue.to&&(s=pn(ie)),null!=ue.from&&(i=pn(ie))),ie.markedSpans=_r(ie.markedSpans,ue),null==ue.from&&this.collapsed&&!Vr(this.doc,ie)&&e&&Jt(ie,Ti(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var Oe=0;Oe<this.lines.length;++Oe){var Ce=Hn(this.lines[Oe]),We=pi(Ce);We>e.display.maxLineLength&&(e.display.maxLine=Ce,e.display.maxLineLength=We,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&Er(e,i,s+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ga(e.doc)),e&&Xt(e,"markerCleared",e,this,i,s),t&&qi(e),this.parent&&this.parent.clear()}},Vi.prototype.find=function(e,t){var a,i;null==e&&"bookmark"==this.type&&(e=1);for(var s=0;s<this.lines.length;++s){var N=this.lines[s],ie=ar(N.markedSpans,this);if(null!=ie.from&&(a=K(t?N:pn(N),ie.from),-1==e))return a;if(null!=ie.to&&(i=K(t?N:pn(N),ie.to),1==e))return i}return a&&{from:a,to:i}},Vi.prototype.changed=function(){var e=this,t=this.find(-1,!0),a=this,i=this.doc.cm;t&&i&&oi(i,function(){var s=t.line,N=pn(t.line),ie=xn(i,N);if(ie&&(Lo(ie),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!Vr(a.doc,s)&&null!=a.height){var ue=a.height;a.height=null;var Oe=Se(a)-ue;Oe&&Jt(s,s.height+Oe)}Xt(i,"markerChanged",i,e)})},Vi.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=ne(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Vi.prototype.detachLine=function(e){if(this.lines.splice(ne(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ze(Vi);var Co=function(e,t){this.markers=e,this.primary=t;for(var a=0;a<e.length;++a)e[a].parent=this};function os(e){return e.findMarks(K(e.first,0),e.clipPos(K(e.lastLine())),function(t){return t.parent})}function Ys(e){for(var t=function(i){var s=e[i],N=[s.primary.doc];Hi(s.primary.doc,function(Oe){return N.push(Oe)});for(var ie=0;ie<s.markers.length;ie++){var ue=s.markers[ie];-1==ne(N,ue.doc)&&(ue.parent=null,s.markers.splice(ie--,1))}},a=0;a<e.length;a++)t(a)}Co.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Xt(this,"clear")}},Co.prototype.find=function(e,t){return this.primary.find(e,t)},Ze(Co);var Ks=0,ni=function(e,t,a,i,s){if(!(this instanceof ni))return new ni(e,t,a,i,s);null==a&&(a=0),Oo.call(this,[new xo([new M("",null)])]),this.first=a,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=a;var N=K(a,0);this.sel=Bi(N),this.history=new Uo(null),this.id=++Ks,this.modeOption=t,this.lineSep=i,this.direction="rtl"==s?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),fa(this,{from:N,to:N,text:e}),Yr(this,Bi(N),j)};ni.prototype=Le(Oo.prototype,{constructor:ni,iter:function(e,t,a){a?this.iterN(e-this.first,t-e,a):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var a=0,i=0;i<t.length;++i)a+=t[i].height;this.insertInner(e-this.first,t,a)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=fn(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Ir(function(e){var t=K(this.first,0),a=this.first+this.size-1;to(this,{from:t,to:K(a,qt(this,a).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&fr(this.cm,0,0),Yr(this,Bi(t),j)}),replaceRange:function(e,t,a,i){no(this,e,t=Ft(this,t),a=a?Ft(this,a):t,i)},getRange:function(e,t,a){var i=dn(this,Ft(this,e),Ft(this,t));return!1===a?i:i.join(""===a?"":a||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Xn(this,e))return qt(this,e)},getLineNumber:function(e){return pn(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=qt(this,e)),Hn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ft(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ir(function(e,t,a){Wa(this,Ft(this,"number"==typeof e?K(e,t||0):e),null,a)}),setSelection:Ir(function(e,t,a){Wa(this,Ft(this,e),Ft(this,t||e),a)}),extendSelection:Ir(function(e,t,a){$o(this,Ft(this,e),t&&Ft(this,t),a)}),extendSelections:Ir(function(e,t){Ua(this,gn(this,e),t)}),extendSelectionsBy:Ir(function(e,t){Ua(this,gn(this,q(this.sel.ranges,e)),t)}),setSelections:Ir(function(e,t,a){if(e.length){for(var i=[],s=0;s<e.length;s++)i[s]=new $n(Ft(this,e[s].anchor),Ft(this,e[s].head||e[s].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Yr(this,Ci(this.cm,i,t),a)}}),addSelection:Ir(function(e,t,a){var i=this.sel.ranges.slice(0);i.push(new $n(Ft(this,e),Ft(this,t||e))),Yr(this,Ci(this.cm,i,i.length-1),a)}),getSelection:function(e){for(var t,a=this.sel.ranges,i=0;i<a.length;i++){var s=dn(this,a[i].from(),a[i].to());t=t?t.concat(s):s}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],a=this.sel.ranges,i=0;i<a.length;i++){var s=dn(this,a[i].from(),a[i].to());!1!==e&&(s=s.join(e||this.lineSeparator())),t[i]=s}return t},replaceSelection:function(e,t,a){for(var i=[],s=0;s<this.sel.ranges.length;s++)i[s]=e;this.replaceSelections(i,t,a||"+input")},replaceSelections:Ir(function(e,t,a){for(var i=[],s=this.sel,N=0;N<s.ranges.length;N++){var ie=s.ranges[N];i[N]={from:ie.from(),to:ie.to(),text:this.splitLines(e[N]),origin:a}}for(var ue=t&&"end"!=t&&function(Ce,We,Ue){for(var Qe=[],Ge=K(Ce.first,0),gt=Ge,at=0;at<We.length;at++){var bt=We[at],At=Na(bt.from,Ge,gt),Lt=Na(zi(bt),Ge,gt);if(Ge=bt.to,gt=Lt,"around"==Ue){var Vt=Ce.sel.ranges[at],Kt=ye(Vt.head,Vt.anchor)<0;Qe[at]=new $n(Kt?Lt:At,Kt?At:Lt)}else Qe[at]=new $n(At,At)}return new hi(Qe,Ce.sel.primIndex)}(this,i,t),Oe=i.length-1;Oe>=0;Oe--)to(this,i[Oe]);ue?$a(this,ue):this.cm&&On(this.cm)}),undo:Ir(function(){Yo(this,"undo")}),redo:Ir(function(){Yo(this,"redo")}),undoSelection:Ir(function(){Yo(this,"undo",!0)}),redoSelection:Ir(function(){Yo(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,a=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var s=0;s<e.undone.length;s++)e.undone[s].ranges||++a;return{undo:t,redo:a}},clearHistory:function(){var e=this;this.history=new Uo(this.history),Hi(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Qi(this.history.done),undone:Qi(this.history.undone)}},setHistory:function(e){var t=this.history=new Uo(this.history);t.done=Qi(e.done.slice(0),null,!0),t.undone=Qi(e.undone.slice(0),null,!0)},setGutterMarker:Ir(function(e,t,a){return wo(this,e,"gutter",function(i){var s=i.gutterMarkers||(i.gutterMarkers={});return s[t]=a,!a&&Ne(s)&&(i.gutterMarkers=null),!0})}),clearGutter:Ir(function(e){var t=this;this.iter(function(a){a.gutterMarkers&&a.gutterMarkers[e]&&wo(t,a,"gutter",function(){return a.gutterMarkers[e]=null,Ne(a.gutterMarkers)&&(a.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!(Xn(this,e)&&(t=e,e=qt(this,e))))return null}else if(null==(t=pn(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Ir(function(e,t,a){return wo(this,e,"gutter"==t?"gutter":"class",function(i){var s="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(i[s]){if(p(a).test(i[s]))return!1;i[s]+=" "+a}else i[s]=a;return!0})}),removeLineClass:Ir(function(e,t,a){return wo(this,e,"gutter"==t?"gutter":"class",function(i){var s="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",N=i[s];if(!N)return!1;if(null==a)i[s]=null;else{var ie=N.match(p(a));if(!ie)return!1;var ue=ie.index+ie[0].length;i[s]=N.slice(0,ie.index)+(ie.index&&ue!=N.length?" ":"")+N.slice(ue)||null}return!0})}),addLineWidget:Ir(function(e,t,a){return s=e,ue=new ko(i=this,t,a),(Oe=i.cm)&&ue.noHScroll&&(Oe.display.alignWidgets=!0),wo(i,s,"widget",function(Ce){var We=Ce.widgets||(Ce.widgets=[]);if(null==ue.insertAt?We.push(ue):We.splice(Math.min(We.length,Math.max(0,ue.insertAt)),0,ue),ue.line=Ce,Oe&&!Vr(i,Ce)){var Ue=yr(Ce)<i.scrollTop;Jt(Ce,Ce.height+Se(ue)),Ue&&ur(Oe,ue.height),Oe.curOp.forceUpdate=!0}return!0}),Oe&&Xt(Oe,"lineWidgetAdded",Oe,ue,"number"==typeof s?s:pn(s)),ue;var i,s,ue,Oe}),removeLineWidget:function(e){e.clear()},markText:function(e,t,a){return ro(this,Ft(this,e),Ft(this,t),a,a&&a.type||"range")},setBookmark:function(e,t){var a={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ro(this,e=Ft(this,e),e,a,"bookmark")},findMarksAt:function(e){var t=[],a=qt(this,(e=Ft(this,e)).line).markedSpans;if(a)for(var i=0;i<a.length;++i){var s=a[i];(null==s.from||s.from<=e.ch)&&(null==s.to||s.to>=e.ch)&&t.push(s.marker.parent||s.marker)}return t},findMarks:function(e,t,a){e=Ft(this,e),t=Ft(this,t);var i=[],s=e.line;return this.iter(e.line,t.line+1,function(N){var ie=N.markedSpans;if(ie)for(var ue=0;ue<ie.length;ue++){var Oe=ie[ue];null!=Oe.to&&s==e.line&&e.ch>=Oe.to||null==Oe.from&&s!=e.line||null!=Oe.from&&s==t.line&&Oe.from>=t.ch||a&&!a(Oe.marker)||i.push(Oe.marker.parent||Oe.marker)}++s}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var a=t.markedSpans;if(a)for(var i=0;i<a.length;++i)null!=a[i].from&&e.push(a[i].marker)}),e},posFromIndex:function(e){var t,a=this.first,i=this.lineSeparator().length;return this.iter(function(s){var N=s.text.length+i;if(N>e)return t=e,!0;e-=N,++a}),Ft(this,K(a,t))},indexFromPos:function(e){var t=(e=Ft(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var a=this.lineSeparator().length;return this.iter(this.first,e.line,function(i){t+=i.text.length+a}),t},copy:function(e){var t=new ni(fn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,a=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<a&&(a=e.to);var i=new ni(fn(this,t,a),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(s,N){for(var ie=0;ie<N.length;ie++){var ue=N[ie],Oe=ue.find(),Ce=s.clipPos(Oe.from),We=s.clipPos(Oe.to);if(ye(Ce,We)){var Ue=ro(s,Ce,We,ue.primary,ue.primary.type);ue.markers.push(Ue),Ue.parent=ue}}}(i,os(this)),i},unlinkDoc:function(e){if(e instanceof dr&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ys(os(this));break}if(e.history==this.history){var a=[e.id];Hi(e,function(i){return a.push(i.id)},!0),e.history=new Uo(null),e.history.done=Qi(this.history.done,a),e.history.undone=Qi(this.history.undone,a)}},iterLinkedDocs:function(e){Hi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):he(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ir(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(a){return a.order=null}),this.cm&&oi(t=this.cm,function(){Fa(t),Er(t)}))})}),ni.prototype.eachLine=ni.prototype.iter;var as=0;function Zs(e){var t=this;if(ss(t),!$e(t,e)&&!ze(t.display,e)){ht(e),f&&(as=+new Date);var a=ki(t,e,!0),i=e.dataTransfer.files;if(a&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var s=i.length,N=Array(s),ie=0,ue=function(){++ie==s&&Rr(t,function(){var Ge={from:a=Ft(t.doc,a),to:a,text:t.doc.splitLines(N.filter(function(gt){return null!=gt}).join(t.doc.lineSeparator())),origin:"paste"};to(t.doc,Ge),$a(t.doc,Bi(Ft(t.doc,a),Ft(t.doc,zi(Ge))))})()},Oe=function(Ge,gt){if(t.options.allowDropFileTypes&&-1==ne(t.options.allowDropFileTypes,Ge.type))ue();else{var at=new FileReader;at.onerror=function(){return ue()},at.onload=function(){var bt=at.result;/[\x00-\x08\x0e-\x1f]{2}/.test(bt)||(N[gt]=bt),ue()},at.readAsText(Ge)}},Ce=0;Ce<i.length;Ce++)Oe(i[Ce],Ce);else{if(t.state.draggingText&&t.doc.sel.contains(a)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var We=e.dataTransfer.getData("Text");if(We){var Ue;if(t.state.draggingText&&!t.state.draggingText.copy&&(Ue=t.listSelections()),qo(t.doc,Bi(a,a)),Ue)for(var Qe=0;Qe<Ue.length;++Qe)no(t.doc,"",Ue[Qe].anchor,Ue[Qe].head,"drag");t.replaceSelection(We,"around","paste"),t.display.input.focus()}}catch(Ge){}}}}function ss(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ls(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),a=[],i=0;i<t.length;i++){var s=t[i].CodeMirror;s&&a.push(s)}a.length&&a[0].operation(function(){for(var N=0;N<a.length;N++)e(a[N])})}}var cs=!1;function Js(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ui={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},So=0;So<10;So++)Ui[So+48]=Ui[So+96]=String(So);for(var Ko=65;Ko<=90;Ko++)Ui[Ko]=String.fromCharCode(Ko);for(var _o=1;_o<=12;_o++)Ui[_o+111]=Ui[_o+63235]="F"+_o;var Ri={};function Qs(e){var t,a,i,s,N=e.split(/-(?!$)/);e=N[N.length-1];for(var ie=0;ie<N.length-1;ie++){var ue=N[ie];if(/^(cmd|meta|m)$/i.test(ue))s=!0;else if(/^a(lt)?$/i.test(ue))t=!0;else if(/^(c|ctrl|control)$/i.test(ue))a=!0;else{if(!/^s(hift)?$/i.test(ue))throw new Error("Unrecognized modifier name: "+ue);i=!0}}return t&&(e="Alt-"+e),a&&(e="Ctrl-"+e),s&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function el(e){var t={};for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];if(/^(name|fallthrough|(de|at)tach)$/.test(a))continue;if("..."==i){delete e[a];continue}for(var s=q(a.split(" "),Qs),N=0;N<s.length;N++){var ie=void 0,ue=void 0;N==s.length-1?(ue=s.join(" "),ie=i):(ue=s.slice(0,N+1).join(" "),ie="...");var Oe=t[ue];if(Oe){if(Oe!=ie)throw new Error("Inconsistent bindings for "+ue)}else t[ue]=ie}delete e[a]}for(var Ce in t)e[Ce]=t[Ce];return e}function io(e,t,a,i){var s=(t=Zo(t)).call?t.call(e,i):t[e];if(!1===s)return"nothing";if("..."===s)return"multi";if(null!=s&&a(s))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return io(e,t.fallthrough,a,i);for(var N=0;N<t.fallthrough.length;N++){var ie=io(e,t.fallthrough[N],a,i);if(ie)return ie}}}function us(e){var t="string"==typeof e?e:Ui[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function fs(e,t,a){var i=e;return t.altKey&&"Alt"!=i&&(e="Alt-"+e),($?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(e="Ctrl-"+e),($?t.ctrlKey:t.metaKey)&&"Mod"!=i&&(e="Cmd-"+e),!a&&t.shiftKey&&"Shift"!=i&&(e="Shift-"+e),e}function ds(e,t){if(P&&34==e.keyCode&&e.char)return!1;var a=Ui[e.keyCode];return null!=a&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(a=e.code),fs(a,e,t))}function Zo(e){return"string"==typeof e?Ri[e]:e}function oo(e,t){for(var a=e.doc.sel.ranges,i=[],s=0;s<a.length;s++){for(var N=t(a[s]);i.length&&ye(N.from,A(i).to)<=0;){var ie=i.pop();if(ye(ie.from,N.from)<0){N.from=ie.from;break}}i.push(N)}oi(e,function(){for(var ue=i.length-1;ue>=0;ue--)no(e.doc,"",i[ue].from,i[ue].to,"+delete");On(e)})}function ga(e,t,a){var i=vt(e.text,t+a,a);return i<0||i>e.text.length?null:i}function ma(e,t,a){var i=ga(e,t.ch,a);return null==i?null:new K(t.line,i,a<0?"after":"before")}function va(e,t,a,i,s){if(e){"rtl"==t.doc.direction&&(s=-s);var N=nt(a,t.doc.direction);if(N){var ie,ue=s<0?A(N):N[0],Oe=s<0==(1==ue.level)?"after":"before";if(ue.level>0||"rtl"==t.doc.direction){var Ce=Bn(t,a),We=Mn(t,Ce,ie=s<0?a.text.length-1:0).top;ie=Z(function(Ue){return Mn(t,Ce,Ue).top==We},s<0==(1==ue.level)?ue.from:ue.to-1,ie),"before"==Oe&&(ie=ga(a,ie,1))}else ie=s<0?ue.to:ue.from;return new K(i,ie,Oe)}}return new K(i,s<0?a.text.length:0,s<0?"before":"after")}Ri.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ri.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ri.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ri.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ri.default=r?Ri.macDefault:Ri.pcDefault;var jo={selectAll:Za,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),j)},killLine:function(e){return oo(e,function(t){if(t.empty()){var a=qt(e.doc,t.head.line).text.length;return t.head.ch==a&&t.head.line<e.lastLine()?{from:t.head,to:K(t.head.line+1,0)}:{from:t.head,to:K(t.head.line,a)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return oo(e,function(t){return{from:K(t.from().line,0),to:Ft(e.doc,K(t.to().line+1,0))}})},delLineLeft:function(e){return oo(e,function(t){return{from:K(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return oo(e,function(t){var a=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:a},"div"),to:t.from()}})},delWrappedLineRight:function(e){return oo(e,function(t){var a=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:a},"div");return{from:t.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(K(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(K(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return hs(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return ps(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return(N=function(ie){for(var ue;ue=xr(ie);)ie=ue.find(1,!0).line;return ie}(s=qt((a=e).doc,i=t.head.line)))!=s&&(i=pn(N)),va(!0,a,s,i,-1);var a,i,s,N},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var a=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:a},"div")},H)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var a=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:a},"div")},H)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var a=e.cursorCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:a},"div");return i.ch<e.getLine(i.line).search(/\S/)?ps(e,t.head):i},H)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],a=e.listSelections(),i=e.options.tabSize,s=0;s<a.length;s++){var N=a[s].from(),ie=_e(e.getLine(N.line),N.ch,i);t.push(l(i-ie%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return oi(e,function(){for(var t=e.listSelections(),a=[],i=0;i<t.length;i++)if(t[i].empty()){var s=t[i].head,N=qt(e.doc,s.line).text;if(N)if(s.ch==N.length&&(s=new K(s.line,s.ch-1)),s.ch>0)s=new K(s.line,s.ch+1),e.replaceRange(N.charAt(s.ch-1)+N.charAt(s.ch-2),K(s.line,s.ch-2),s,"+transpose");else if(s.line>e.doc.first){var ie=qt(e.doc,s.line-1).text;ie&&(s=new K(s.line,1),e.replaceRange(N.charAt(0)+e.doc.lineSeparator()+ie.charAt(ie.length-1),K(s.line-1,ie.length-1),s,"+transpose"))}a.push(new $n(s,s))}e.setSelections(a)})},newlineAndIndent:function(e){return oi(e,function(){for(var t=e.listSelections(),a=t.length-1;a>=0;a--)e.replaceRange(e.doc.lineSeparator(),t[a].anchor,t[a].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);On(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function hs(e,t){var a=qt(e.doc,t),i=Hn(a);return i!=a&&(t=pn(i)),va(!0,e,i,t,1)}function ps(e,t){var a=hs(e,t.line),i=qt(e.doc,a.line),s=nt(i,e.doc.direction);if(!s||0==s[0].level){var N=Math.max(a.ch,i.text.search(/\S/));return K(a.line,t.line==a.line&&t.ch<=N&&t.ch?0:N,a.sticky)}return a}function Xo(e,t,a){if("string"==typeof t&&!(t=jo[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,s=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),a&&(e.display.shift=!1),s=t(e)!=W}finally{e.display.shift=i,e.state.suppressEdits=!1}return s}var tl=new ae;function To(e,t,a,i){var s=e.state.keySeq;if(s){if(us(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:tl.set(50,function(){e.state.keySeq==s&&(e.state.keySeq=null,e.display.input.reset())}),gs(e,s+" "+t,a,i))return!0}return gs(e,t,a,i)}function gs(e,t,a,i){var s=function(N,ie,ue){for(var Oe=0;Oe<N.state.keyMaps.length;Oe++){var Ce=io(ie,N.state.keyMaps[Oe],ue,N);if(Ce)return Ce}return N.options.extraKeys&&io(ie,N.options.extraKeys,ue,N)||io(ie,N.options.keyMap,ue,N)}(e,t,i);return"multi"==s&&(e.state.keySeq=t),"handled"==s&&Xt(e,"keyHandled",e,t,a),"handled"!=s&&"multi"!=s||(ht(a),xt(e)),!!s}function ms(e,t){var a=ds(t,!0);return!!a&&(t.shiftKey&&!e.state.keySeq?To(e,"Shift-"+a,t,function(i){return Xo(e,i,!0)})||To(e,a,t,function(i){if("string"==typeof i?/^go[A-Z]/.test(i):i.motion)return Xo(e,i)}):To(e,a,t,function(i){return Xo(e,i)}))}var ya=null;function vs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=ge(),$e(t,e)))){f&&g<11&&27==e.keyCode&&(e.returnValue=!1);var a=e.keyCode;t.display.shift=16==a||e.shiftKey;var i=ms(t,e);P&&(ya=i?a:null,i||88!=a||st||!(r?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),J&&!r&&!i&&46==a&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=a||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(s){var N=s.display.lineDiv;function ie(ue){18!=ue.keyCode&&ue.altKey||(x(N,"CodeMirror-crosshair"),Te(document,"keyup",ie),Te(document,"mouseover",ie))}fe(N,"CodeMirror-crosshair"),mt(document,"keyup",ie),mt(document,"mouseover",ie)}(t)}}function ys(e){16==e.keyCode&&(this.doc.sel.shift=!1),$e(this,e)}function bs(e){var N,t=this;if(!(e.target&&e.target!=t.display.input.getField()||ze(t.display,e)||$e(t,e)||e.ctrlKey&&!e.altKey||r&&e.metaKey)){var a=e.keyCode,i=e.charCode;if(P&&a==ya)return ya=null,void ht(e);if(!P||e.which&&!(e.which<10)||!ms(t,e)){var s=String.fromCharCode(null==i?a:i);"\b"!=s&&(To(N=t,"'"+s+"'",e,function(Oe){return Xo(N,Oe,!0)})||t.display.input.onKeyPress(e))}}}var Eo,Po,ba=function(e,t,a){this.time=e,this.pos=t,this.button=a};function ws(e){var ie,ue,Oe,t=this,a=t.display;if(!($e(t,e)||a.activeTouch&&a.input.supportsTouch()))if(a.input.ensurePolled(),a.shift=e.shiftKey,ze(a,e))h||(a.scroller.draggable=!1,setTimeout(function(){return a.scroller.draggable=!0},100));else if(!wa(t,e)){var i=ki(t,e),s=De(e),N=i?(ie=i,ue=s,Oe=+new Date,Po&&Po.compare(Oe,ie,ue)?(Eo=Po=null,"triple"):Eo&&Eo.compare(Oe,ie,ue)?(Po=new ba(Oe,ie,ue),Eo=null,"double"):(Eo=new ba(Oe,ie,ue),Po=null,"single")):"single";window.focus(),1==s&&t.state.selectingText&&t.state.selectingText(e),i&&function(ie,ue,Oe,Ce,We){var Ue="Click";return"double"==Ce?Ue="Double"+Ue:"triple"==Ce&&(Ue="Triple"+Ue),To(ie,fs(Ue=(1==ue?"Left":2==ue?"Middle":"Right")+Ue,We),We,function(Qe){if("string"==typeof Qe&&(Qe=jo[Qe]),!Qe)return!1;var Ge=!1;try{ie.isReadOnly()&&(ie.state.suppressEdits=!0),Ge=Qe(ie,Oe)!=W}finally{ie.state.suppressEdits=!1}return Ge})}(t,s,i,N,e)||(1==s?i?function(ie,ue,Oe,Ce){f?setTimeout(de($t,ie),0):ie.curOp.focus=ge();var We,Ge,gt,at,bt,At,Lt,Vt,Kt,Ut,Ue=function(Ge,gt,at){var bt=Ge.getOption("configureMouse"),At=bt?bt(Ge,gt,at):{};return null==At.unit&&(At.unit=(_?at.shiftKey&&at.metaKey:at.altKey)?"rectangle":"single"==gt?"char":"double"==gt?"word":"line"),(null==At.extend||Ge.doc.extend)&&(At.extend=Ge.doc.extend||at.shiftKey),null==At.addNew&&(At.addNew=r?at.metaKey:at.ctrlKey),null==At.moveOnDrag&&(At.moveOnDrag=!(r?at.altKey:at.ctrlKey)),At}(ie,Oe,Ce),Qe=ie.doc.sel;ie.options.dragDrop&&rt&&!ie.isReadOnly()&&"single"==Oe&&(We=Qe.contains(ue))>-1&&(ye((We=Qe.ranges[We]).from(),ue)<0||ue.xRel>0)&&(ye(We.to(),ue)>0||ue.xRel<0)?(gt=Ce,at=ue,bt=Ue,At=(Ge=ie).display,Lt=!1,Vt=Rr(Ge,function(Yt){h&&(At.scroller.draggable=!1),Ge.state.draggingText=!1,Ge.state.delayingBlurEvent&&(Ge.hasFocus()?Ge.state.delayingBlurEvent=!1:Gt(Ge)),Te(At.wrapper.ownerDocument,"mouseup",Vt),Te(At.wrapper.ownerDocument,"mousemove",Kt),Te(At.scroller,"dragstart",Ut),Te(At.scroller,"drop",Vt),Lt||(ht(Yt),bt.addNew||$o(Ge.doc,at,null,null,bt.extend),h&&!O||f&&9==g?setTimeout(function(){At.wrapper.ownerDocument.body.focus({preventScroll:!0}),At.input.focus()},20):At.input.focus())}),Kt=function(Yt){Lt=Lt||Math.abs(gt.clientX-Yt.clientX)+Math.abs(gt.clientY-Yt.clientY)>=10},Ut=function(){return Lt=!0},h&&(At.scroller.draggable=!0),Ge.state.draggingText=Vt,Vt.copy=!bt.moveOnDrag,mt(At.wrapper.ownerDocument,"mouseup",Vt),mt(At.wrapper.ownerDocument,"mousemove",Kt),mt(At.scroller,"dragstart",Ut),mt(At.scroller,"drop",Vt),Ge.state.delayingBlurEvent=!0,setTimeout(function(){return At.input.focus()},20),At.scroller.dragDrop&&At.scroller.dragDrop()):function(Ge,gt,at,bt){f&&Gt(Ge);var At=Ge.display,Lt=Ge.doc;ht(gt);var Vt,Kt,Ut=Lt.sel,Yt=Ut.ranges;if(bt.addNew&&!bt.extend?(Kt=Lt.sel.contains(at),Vt=Kt>-1?Yt[Kt]:new $n(at,at)):(Vt=Lt.sel.primary(),Kt=Lt.sel.primIndex),"rectangle"==bt.unit)bt.addNew||(Vt=new $n(at,at)),at=ki(Ge,gt,!0,!0),Kt=-1;else{var hn=xs(Ge,at,bt.unit);Vt=bt.extend?ha(Vt,hn.anchor,hn.head,bt.extend):hn}bt.addNew?-1==Kt?(Kt=Yt.length,Yr(Lt,Ci(Ge,Yt.concat([Vt]),Kt),{scroll:!1,origin:"*mouse"})):Yt.length>1&&Yt[Kt].empty()&&"char"==bt.unit&&!bt.extend?(Yr(Lt,Ci(Ge,Yt.slice(0,Kt).concat(Yt.slice(Kt+1)),0),{scroll:!1,origin:"*mouse"}),Ut=Lt.sel):pa(Lt,Kt,Vt,C):(Kt=0,Yr(Lt,new hi([Vt],0),C),Ut=Lt.sel);var an=at,un=At.wrapper.getBoundingClientRect(),Vn=0;function qn(Sn){Ge.state.selectingText=!1,Vn=1/0,Sn&&(ht(Sn),At.input.focus()),Te(At.wrapper.ownerDocument,"mousemove",Nn),Te(At.wrapper.ownerDocument,"mouseup",zn),Lt.history.lastSelOrigin=null}var Nn=Rr(Ge,function(Sn){0!==Sn.buttons&&De(Sn)?function Rn(En){var Pn=++Vn,bn=ki(Ge,En,!0,"rectangle"==bt.unit);if(bn)if(0!=ye(bn,an)){Ge.curOp.focus=ge(),function(Sn){if(0!=ye(an,Sn))if(an=Sn,"rectangle"==bt.unit){for(var Rn=[],En=Ge.options.tabSize,Pn=_e(qt(Lt,at.line).text,at.ch,En),bn=_e(qt(Lt,Sn.line).text,Sn.ch,En),Pr=Math.min(Pn,bn),or=Math.max(Pn,bn),Gn=Math.min(at.line,Sn.line),In=Math.min(Ge.lastLine(),Math.max(at.line,Sn.line));Gn<=In;Gn++){var ri=qt(Lt,Gn).text,mr=n(ri,Pr,En);Pr==or?Rn.push(new $n(K(Gn,mr),K(Gn,mr))):ri.length>mr&&Rn.push(new $n(K(Gn,mr),K(Gn,n(ri,or,En))))}Rn.length||Rn.push(new $n(at,at)),Yr(Lt,Ci(Ge,Ut.ranges.slice(0,Kt).concat(Rn),Kt),{origin:"*mouse",scroll:!1}),Ge.scrollIntoView(Sn)}else{var Kr,Fr=Vt,rr=xs(Ge,Sn,bt.unit),Br=Fr.anchor;ye(rr.anchor,Br)>0?(Kr=rr.head,Br=Nt(Fr.from(),rr.anchor)):(Kr=rr.anchor,Br=Rt(Fr.to(),rr.head));var Ii=Ut.ranges.slice(0);Ii[Kt]=function(na,Gi){var ai=Gi.anchor,Wi=Gi.head,sl=qt(na.doc,ai.line);if(0==ye(ai,Wi)&&ai.sticky==Wi.sticky)return Gi;var lo=nt(sl);if(!lo)return Gi;var Ca=je(lo,ai.ch,ai.sticky),Do=lo[Ca];if(Do.from!=ai.ch&&Do.to!=ai.ch)return Gi;var ra,Mo=Ca+(Do.from==ai.ch==(1!=Do.level)?0:1);if(0==Mo||Mo==lo.length)return Gi;if(Wi.line!=ai.line)ra=(Wi.line-ai.line)*("ltr"==na.doc.direction?1:-1)>0;else{var Sa=je(lo,Wi.ch,Wi.sticky),Ms=Sa-Ca||(Wi.ch-ai.ch)*(1==Do.level?-1:1);ra=Sa==Mo-1||Sa==Mo?Ms<0:Ms>0}var _a=lo[Mo+(ra?-1:0)],Ls=ra==(1==_a.level),Ns=Ls?_a.from:_a.to,Rs=Ls?"after":"before";return ai.ch==Ns&&ai.sticky==Rs?Gi:new $n(new K(ai.line,Ns,Rs),Wi)}(Ge,new $n(Ft(Lt,Br),Kr)),Yr(Lt,Ci(Ge,Ii,Kt),C)}}(bn);var Pr=vn(At,Lt);(bn.line>=Pr.to||bn.line<Pr.from)&&setTimeout(Rr(Ge,function(){Vn==Pn&&Rn(En)}),150)}else{var or=En.clientY<un.top?-20:En.clientY>un.bottom?20:0;or&&setTimeout(Rr(Ge,function(){Vn==Pn&&(At.scroller.scrollTop+=or,Rn(En))}),50)}}(Sn):qn(Sn)}),zn=Rr(Ge,qn);Ge.state.selectingText=zn,mt(At.wrapper.ownerDocument,"mousemove",Nn),mt(At.wrapper.ownerDocument,"mouseup",zn)}(ie,Ce,ue,Ue)}(t,i,N,e):Tt(e)==a.scroller&&ht(e):2==s?(i&&$o(t.doc,i),setTimeout(function(){return a.input.focus()},20)):3==s&&(w?t.display.input.onContextMenu(e):Gt(t)))}}function xs(e,t,a){if("char"==a)return new $n(t,t);if("word"==a)return e.findWordAt(t);if("line"==a)return new $n(K(t.line,0),Ft(e.doc,K(t.line+1,0)));var i=a(e,t);return new $n(i.from,i.to)}function Os(e,t,a,i){var s,N;if(t.touches)s=t.touches[0].clientX,N=t.touches[0].clientY;else try{s=t.clientX,N=t.clientY}catch(We){return!1}if(s>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&ht(t);var ie=e.display,ue=ie.lineDiv.getBoundingClientRect();if(N>ue.bottom||!Ke(e,a))return Dt(t);N-=ue.top-ie.viewOffset;for(var Oe=0;Oe<e.display.gutterSpecs.length;++Oe){var Ce=ie.gutters.childNodes[Oe];if(Ce&&Ce.getBoundingClientRect().right>=s)return Re(e,a,e,Zn(e.doc,N),e.display.gutterSpecs[Oe].className,t),Dt(t)}}function wa(e,t){return Os(e,t,"gutterClick",!0)}function ks(e,t){var a,i;ze(e.display,t)||(i=t,Ke(a=e,"gutterContextMenu")&&Os(a,i,"gutterContextMenu",!1))||$e(e,t,"contextmenu")||w||e.display.input.onContextMenu(t)}function Cs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),_i(e)}ba.prototype.compare=function(e,t,a){return this.time+400>e&&0==ye(t,this.pos)&&a==this.button};var ao={toString:function(){return"CodeMirror.Init"}},Ss={},Jo={};function rl(e,t,a){if(!t!=!(a&&a!=ao)){var i=e.display.dragFunctions,s=t?mt:Te;s(e.display.scroller,"dragstart",i.start),s(e.display.scroller,"dragenter",i.enter),s(e.display.scroller,"dragover",i.over),s(e.display.scroller,"dragleave",i.leave),s(e.display.scroller,"drop",i.drop)}}function il(e){e.options.lineWrapping?(fe(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(x(e.display.wrapper,"CodeMirror-wrap"),c(e)),Oi(e),Er(e),_i(e),setTimeout(function(){return Ni(e)},100)}function dr(e,t){var a=this;if(!(this instanceof dr))return new dr(e,t);this.options=t=t?pe(t):{},pe(Ss,t,!1);var i=t.value;"string"==typeof i?i=new ni(i,t.mode,null,t.lineSeparator,t.direction):t.mode&&(i.modeOption=t.mode),this.doc=i;var s=new dr.inputStyles[t.inputStyle](this),N=this.display=new Ws(e,i,s,t);for(var ie in N.wrapper.CodeMirror=this,Cs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ja(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ae,keySeq:null,specialChars:null},t.autofocus&&!S&&N.input.focus(),f&&g<11&&setTimeout(function(){return a.display.input.reset(!0)},20),function(Oe){var Ce=Oe.display;mt(Ce.scroller,"mousedown",Rr(Oe,ws)),mt(Ce.scroller,"dblclick",f&&g<11?Rr(Oe,function(at){if(!$e(Oe,at)){var bt=ki(Oe,at);if(bt&&!wa(Oe,at)&&!ze(Oe.display,at)){ht(at);var At=Oe.findWordAt(bt);$o(Oe.doc,At.anchor,At.head)}}}):function(at){return $e(Oe,at)||ht(at)}),mt(Ce.scroller,"contextmenu",function(at){return ks(Oe,at)}),mt(Ce.input.getField(),"contextmenu",function(at){Ce.scroller.contains(at.target)||ks(Oe,at)});var We,Ue={end:0};function Qe(){Ce.activeTouch&&(We=setTimeout(function(){return Ce.activeTouch=null},1e3),(Ue=Ce.activeTouch).end=+new Date)}function Ge(at,bt){if(null==bt.left)return!0;var At=bt.left-at.left,Lt=bt.top-at.top;return At*At+Lt*Lt>400}mt(Ce.scroller,"touchstart",function(at){if(!$e(Oe,at)&&!function(At){if(1!=At.touches.length)return!1;var Lt=At.touches[0];return Lt.radiusX<=1&&Lt.radiusY<=1}(at)&&!wa(Oe,at)){Ce.input.ensurePolled(),clearTimeout(We);var bt=+new Date;Ce.activeTouch={start:bt,moved:!1,prev:bt-Ue.end<=300?Ue:null},1==at.touches.length&&(Ce.activeTouch.left=at.touches[0].pageX,Ce.activeTouch.top=at.touches[0].pageY)}}),mt(Ce.scroller,"touchmove",function(){Ce.activeTouch&&(Ce.activeTouch.moved=!0)}),mt(Ce.scroller,"touchend",function(at){var bt=Ce.activeTouch;if(bt&&!ze(Ce,at)&&null!=bt.left&&!bt.moved&&new Date-bt.start<300){var At,Lt=Oe.coordsChar(Ce.activeTouch,"page");At=!bt.prev||Ge(bt,bt.prev)?new $n(Lt,Lt):!bt.prev.prev||Ge(bt,bt.prev.prev)?Oe.findWordAt(Lt):new $n(K(Lt.line,0),Ft(Oe.doc,K(Lt.line+1,0))),Oe.setSelection(At.anchor,At.head),Oe.focus(),ht(at)}Qe()}),mt(Ce.scroller,"touchcancel",Qe),mt(Ce.scroller,"scroll",function(){Ce.scroller.clientHeight&&(Wn(Oe,Ce.scroller.scrollTop),hr(Oe,Ce.scroller.scrollLeft,!0),Re(Oe,"scroll",Oe))}),mt(Ce.scroller,"mousewheel",function(at){return Ma(Oe,at)}),mt(Ce.scroller,"DOMMouseScroll",function(at){return Ma(Oe,at)}),mt(Ce.wrapper,"scroll",function(){return Ce.wrapper.scrollTop=Ce.wrapper.scrollLeft=0}),Ce.dragFunctions={enter:function(at){$e(Oe,at)||ct(at)},over:function(at){$e(Oe,at)||(function(bt,At){var Lt=ki(bt,At);if(Lt){var Vt=document.createDocumentFragment();it(bt,Lt,Vt),bt.display.dragCursor||(bt.display.dragCursor=Q("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),bt.display.lineSpace.insertBefore(bt.display.dragCursor,bt.display.cursorDiv)),R(bt.display.dragCursor,Vt)}}(Oe,at),ct(at))},start:function(at){return function(bt,At){if(f&&(!bt.state.draggingText||+new Date-as<100))ct(At);else if(!$e(bt,At)&&!ze(bt.display,At)&&(At.dataTransfer.setData("Text",bt.getSelection()),At.dataTransfer.effectAllowed="copyMove",At.dataTransfer.setDragImage&&!O)){var Lt=Q("img",null,null,"position: fixed; left: 0; top: 0;");Lt.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",P&&(Lt.width=Lt.height=1,bt.display.wrapper.appendChild(Lt),Lt._top=Lt.offsetTop),At.dataTransfer.setDragImage(Lt,0,0),P&&Lt.parentNode.removeChild(Lt)}}(Oe,at)},drop:Rr(Oe,Zs),leave:function(at){$e(Oe,at)||ss(Oe)}};var gt=Ce.input.getField();mt(gt,"keyup",function(at){return ys.call(Oe,at)}),mt(gt,"keydown",Rr(Oe,vs)),mt(gt,"keypress",Rr(Oe,bs)),mt(gt,"focus",function(at){return Qt(Oe,at)}),mt(gt,"blur",function(at){return on(Oe,at)})}(this),function(){var e;cs||(mt(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,ls(Js)},100))}),mt(window,"blur",function(){return ls(on)}),cs=!0)}(),$i(this),this.curOp.forceUpdate=!0,Ia(this,i),t.autofocus&&!S||this.hasFocus()?setTimeout(function(){a.hasFocus()&&!a.state.focused&&Qt(a)},20):on(this),Jo)Jo.hasOwnProperty(ie)&&Jo[ie](this,t[ie],ao);Pa(this),t.finishInit&&t.finishInit(this);for(var ue=0;ue<xa.length;++ue)xa[ue](this);qi(this),h&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(N.lineDiv).textRendering&&(N.lineDiv.style.textRendering="auto")}dr.defaults=Ss,dr.optionHandlers=Jo;var xa=[];function Ao(e,t,a,i){var s,N=e.doc;null==a&&(a="add"),"smart"==a&&(N.mode.indent?s=Zr(e,t).state:a="prev");var ie=e.options.tabSize,ue=qt(N,t),Oe=_e(ue.text,null,ie);ue.stateAfter&&(ue.stateAfter=null);var Ce,We=ue.text.match(/^\s*/)[0];if(i||/\S/.test(ue.text)){if("smart"==a&&((Ce=N.mode.indent(s,ue.text.slice(We.length),ue.text))==W||Ce>150)){if(!i)return;a="prev"}}else Ce=0,a="not";"prev"==a?Ce=t>N.first?_e(qt(N,t-1).text,null,ie):0:"add"==a?Ce=Oe+e.options.indentUnit:"subtract"==a?Ce=Oe-e.options.indentUnit:"number"==typeof a&&(Ce=Oe+a),Ce=Math.max(0,Ce);var Ue="",Qe=0;if(e.options.indentWithTabs)for(var Ge=Math.floor(Ce/ie);Ge;--Ge)Qe+=ie,Ue+="\t";if(Qe<Ce&&(Ue+=l(Ce-Qe)),Ue!=We)return no(N,Ue,K(t,0),K(t,We.length),"+input"),ue.stateAfter=null,!0;for(var gt=0;gt<N.sel.ranges.length;gt++){var at=N.sel.ranges[gt];if(at.head.line==t&&at.head.ch<We.length){var bt=K(t,We.length);pa(N,gt,new $n(bt,bt));break}}}dr.defineInitHook=function(e){return xa.push(e)};var Si=null;function Qo(e){Si=e}function Oa(e,t,a,i,s){var N=e.doc;e.display.shift=!1,i||(i=N.sel);var ie=+new Date-200,ue="paste"==s||e.state.pasteIncoming>ie,Oe=he(t),Ce=null;if(ue&&i.ranges.length>1)if(Si&&Si.text.join("\n")==t){if(i.ranges.length%Si.text.length==0){Ce=[];for(var We=0;We<Si.text.length;We++)Ce.push(N.splitLines(Si.text[We]))}}else Oe.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(Ce=q(Oe,function(At){return[At]}));for(var Ue=e.curOp.updateInput,Qe=i.ranges.length-1;Qe>=0;Qe--){var Ge=i.ranges[Qe],gt=Ge.from(),at=Ge.to();Ge.empty()&&(a&&a>0?gt=K(gt.line,gt.ch-a):e.state.overwrite&&!ue?at=K(at.line,Math.min(qt(N,at.line).text.length,at.ch+A(Oe).length)):ue&&Si&&Si.lineWise&&Si.text.join("\n")==Oe.join("\n")&&(gt=at=K(gt.line,0)));var bt={from:gt,to:at,text:Ce?Ce[Qe%Ce.length]:Oe,origin:s||(ue?"paste":e.state.cutIncoming>ie?"cut":"+input")};to(e.doc,bt),Xt(e,"inputRead",e,bt)}t&&!ue&&js(e,t),On(e),e.curOp.updateInput<2&&(e.curOp.updateInput=Ue),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function _s(e,t){var a=e.clipboardData&&e.clipboardData.getData("Text");if(a)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||oi(t,function(){return Oa(t,a,0,null,"paste")}),!0}function js(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var a=e.doc.sel,i=a.ranges.length-1;i>=0;i--){var s=a.ranges[i];if(!(s.head.ch>100||i&&a.ranges[i-1].head.line==s.head.line)){var N=e.getModeAt(s.head),ie=!1;if(N.electricChars){for(var ue=0;ue<N.electricChars.length;ue++)if(t.indexOf(N.electricChars.charAt(ue))>-1){ie=Ao(e,s.head.line,"smart");break}}else N.electricInput&&N.electricInput.test(qt(e.doc,s.head.line).text.slice(0,s.head.ch))&&(ie=Ao(e,s.head.line,"smart"));ie&&Xt(e,"electricInput",e,s.head.line)}}}function Ts(e){for(var t=[],a=[],i=0;i<e.doc.sel.ranges.length;i++){var s=e.doc.sel.ranges[i].head.line,N={anchor:K(s,0),head:K(s+1,0)};a.push(N),t.push(e.getRange(N.anchor,N.head))}return{text:t,ranges:a}}function Es(e,t,a,i){e.setAttribute("autocorrect",a?"":"off"),e.setAttribute("autocapitalize",i?"":"off"),e.setAttribute("spellcheck",!!t)}function Ps(){var e=Q("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=Q("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return h?e.style.width="1000px":e.setAttribute("wrap","off"),I&&(e.style.border="1px solid black"),Es(e),t}function ka(e,t,a,i,s){var N=t,ie=a,ue=qt(e,t.line),Oe=s&&"rtl"==e.direction?-a:a;function Ce(At){var Lt,Vt;if("codepoint"==i){var Kt=ue.text.charCodeAt(t.ch+(a>0?0:-1));Lt=isNaN(Kt)?null:new K(t.line,Math.max(0,Math.min(ue.text.length,t.ch+a*((a>0?Kt>=55296&&Kt<56320:Kt>=56320&&Kt<57343)?2:1))),-a)}else Lt=s?function(Yt,hn,an,_n){var un=nt(hn,Yt.doc.direction);if(!un)return ma(hn,an,_n);an.ch>=hn.text.length?(an.ch=hn.text.length,an.sticky="before"):an.ch<=0&&(an.ch=0,an.sticky="after");var Vn=je(un,an.ch,an.sticky),qn=un[Vn];if("ltr"==Yt.doc.direction&&qn.level%2==0&&(_n>0?qn.to>an.ch:qn.from<an.ch))return ma(hn,an,_n);var Nn,zn=function(In,ri){return ga(hn,In instanceof K?In.ch:In,ri)},Sn=function(In){return Yt.options.lineWrapping?(Nn=Nn||Bn(Yt,hn),Bo(Yt,hn,Nn,In)):{begin:0,end:hn.text.length}},Rn=Sn("before"==an.sticky?zn(an,-1):an.ch);if("rtl"==Yt.doc.direction||1==qn.level){var En=1==qn.level==_n<0,Pn=zn(an,En?1:-1);if(null!=Pn&&(En?Pn<=qn.to&&Pn<=Rn.end:Pn>=qn.from&&Pn>=Rn.begin))return new K(an.line,Pn,En?"before":"after")}var Pr=function(In,ri,mr){for(;In>=0&&In<un.length;In+=ri){var Fr=un[In],rr=ri>0==(1!=Fr.level),Br=rr?mr.begin:zn(mr.end,-1);if(Fr.from<=Br&&Br<Fr.to||(Br=rr?Fr.from:zn(Fr.to,-1),mr.begin<=Br&&Br<mr.end))return Ii=Br,rr?new K(an.line,zn(Ii,1),"before"):new K(an.line,Ii,"after")}var Ii},or=Pr(Vn+_n,_n,Rn);if(or)return or;var Gn=_n>0?Rn.end:zn(Rn.begin,-1);return null==Gn||_n>0&&Gn==hn.text.length||!(or=Pr(_n>0?0:un.length-1,_n,Sn(Gn)))?null:or}(e.cm,ue,t,a):ma(ue,t,a);if(null==Lt){if(At||(Vt=t.line+Oe)<e.first||Vt>=e.first+e.size||(t=new K(Vt,t.ch,t.sticky),!(ue=qt(e,Vt))))return!1;t=va(s,e.cm,ue,t.line,Oe)}else t=Lt;return!0}if("char"==i||"codepoint"==i)Ce();else if("column"==i)Ce(!0);else if("word"==i||"group"==i)for(var We=null,Ue="group"==i,Qe=e.cm&&e.cm.getHelper(t,"wordChars"),Ge=!0;!(a<0)||Ce(!Ge);Ge=!1){var gt=ue.text.charAt(t.ch)||"\n",at=Ee(gt,Qe)?"w":Ue&&"\n"==gt?"n":!Ue||/\s/.test(gt)?null:"p";if(!Ue||Ge||at||(at="s"),We&&We!=at){a<0&&(a=1,Ce(),t.sticky="after");break}if(at&&(We=at),a>0&&!Ce(!Ge))break}var bt=Go(e,t,N,ie,!0);return Me(N,bt)&&(bt.hitSide=!0),bt}function As(e,t,a,i){var s,N,ie=e.doc,ue=t.left;if("page"==i){var Oe=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),Ce=Math.max(Oe-.5*Ti(e.display),3);s=(a>0?t.bottom:t.top)+a*Ce}else"line"==i&&(s=a>0?t.bottom+3:t.top-3);for(;(N=Zi(e,ue,s)).outside;){if(a<0?s<=0:s>=ie.height){N.hitSide=!0;break}s+=5*a}return N}var Jn=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ae,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ds(e,t){var a=xn(e,t.line);if(!a||a.hidden)return null;var i=qt(e.doc,t.line),s=Zt(a,i,t.line),N=nt(i,e.doc.direction),ie="left";N&&(ie=je(N,t.ch)%2?"right":"left");var ue=gi(s.map,t.ch,ie);return ue.offset="right"==ue.collapse?ue.end:ue.start,ue}function so(e,t){return t&&(e.bad=!0),e}function ea(e,t,a){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[a]))return so(e.clipPos(K(e.display.viewTo-1)),!0);t=null,a=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var s=0;s<e.display.view.length;s++){var N=e.display.view[s];if(N.node==i)return ol(N,t,a)}}function ol(e,t,a){var i=e.text.firstChild,s=!1;if(!t||!Fe(i,t))return so(K(pn(e.line),0),!0);if(t==i&&(s=!0,t=i.childNodes[a],a=0,!t)){var N=e.rest?A(e.rest):e.line;return so(K(pn(N),N.text.length),s)}var ie=3==t.nodeType?t:null,ue=t;for(ie||1!=t.childNodes.length||3!=t.firstChild.nodeType||(ie=t.firstChild,a&&(a=ie.nodeValue.length));ue.parentNode!=i;)ue=ue.parentNode;var Oe=e.measure,Ce=Oe.maps;function We(bt,At,Lt){for(var Vt=-1;Vt<(Ce?Ce.length:0);Vt++)for(var Kt=Vt<0?Oe.map:Ce[Vt],Ut=0;Ut<Kt.length;Ut+=3){var Yt=Kt[Ut+2];if(Yt==bt||Yt==At){var hn=pn(Vt<0?e.line:e.rest[Vt]),an=Kt[Ut]+Lt;return(Lt<0||Yt!=bt)&&(an=Kt[Ut+(Lt?1:0)]),K(hn,an)}}}var Ue=We(ie,ue,a);if(Ue)return so(Ue,s);for(var Qe=ue.nextSibling,Ge=ie?ie.nodeValue.length-a:0;Qe;Qe=Qe.nextSibling){if(Ue=We(Qe,Qe.firstChild,0))return so(K(Ue.line,Ue.ch-Ge),s);Ge+=Qe.textContent.length}for(var gt=ue.previousSibling,at=a;gt;gt=gt.previousSibling){if(Ue=We(gt,gt.firstChild,-1))return so(K(Ue.line,Ue.ch+at),s);at+=gt.textContent.length}}Jn.prototype.init=function(e){var t=this,a=this,i=a.cm,s=a.div=e.lineDiv;function N(ue){for(var Oe=ue.target;Oe;Oe=Oe.parentNode){if(Oe==s)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Oe.className))break}return!1}function ie(ue){if(N(ue)&&!$e(i,ue)){if(i.somethingSelected())Qo({lineWise:!1,text:i.getSelections()}),"cut"==ue.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var Oe=Ts(i);Qo({lineWise:!0,text:Oe.text}),"cut"==ue.type&&i.operation(function(){i.setSelections(Oe.ranges,0,j),i.replaceSelection("",null,"cut")})}if(ue.clipboardData){ue.clipboardData.clearData();var Ce=Si.text.join("\n");if(ue.clipboardData.setData("Text",Ce),ue.clipboardData.getData("Text")==Ce)return void ue.preventDefault()}var We=Ps(),Ue=We.firstChild;i.display.lineSpace.insertBefore(We,i.display.lineSpace.firstChild),Ue.value=Si.text.join("\n");var Qe=ge();Pe(Ue),setTimeout(function(){i.display.lineSpace.removeChild(We),Qe.focus(),Qe==s&&a.showPrimarySelection()},50)}}s.contentEditable=!0,Es(s,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),mt(s,"paste",function(ue){!N(ue)||$e(i,ue)||_s(ue,i)||g<=11&&setTimeout(Rr(i,function(){return t.updateFromDOM()}),20)}),mt(s,"compositionstart",function(ue){t.composing={data:ue.data,done:!1}}),mt(s,"compositionupdate",function(ue){t.composing||(t.composing={data:ue.data,done:!1})}),mt(s,"compositionend",function(ue){t.composing&&(ue.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),mt(s,"touchstart",function(){return a.forceCompositionEnd()}),mt(s,"input",function(){t.composing||t.readFromDOMSoon()}),mt(s,"copy",ie),mt(s,"cut",ie)},Jn.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Jn.prototype.prepareSelection=function(){var e=Ve(this.cm,!1);return e.focus=ge()==this.div,e},Jn.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Jn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Jn.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,a=t.doc.sel.primary(),i=a.from(),s=a.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||s.line<t.display.viewFrom)e.removeAllRanges();else{var N=ea(t,e.anchorNode,e.anchorOffset),ie=ea(t,e.focusNode,e.focusOffset);if(!N||N.bad||!ie||ie.bad||0!=ye(Nt(N,ie),i)||0!=ye(Rt(N,ie),s)){var ue=t.display.view,Oe=i.line>=t.display.viewFrom&&Ds(t,i)||{node:ue[0].measure.map[2],offset:0},Ce=s.line<t.display.viewTo&&Ds(t,s);if(!Ce){var We=ue[ue.length-1].measure,Ue=We.maps?We.maps[We.maps.length-1]:We.map;Ce={node:Ue[Ue.length-1],offset:Ue[Ue.length-2]-Ue[Ue.length-3]}}if(Oe&&Ce){var Qe,Ge=e.rangeCount&&e.getRangeAt(0);try{Qe=u(Oe.node,Oe.offset,Ce.offset,Ce.node)}catch(gt){}Qe&&(!J&&t.state.focused?(e.collapse(Oe.node,Oe.offset),Qe.collapsed||(e.removeAllRanges(),e.addRange(Qe))):(e.removeAllRanges(),e.addRange(Qe)),Ge&&null==e.anchorNode?e.addRange(Ge):J&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Jn.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Jn.prototype.showMultipleSelections=function(e){R(this.cm.display.cursorDiv,e.cursors),R(this.cm.display.selectionDiv,e.selection)},Jn.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Jn.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Fe(this.div,t)},Jn.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&ge()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Jn.prototype.blur=function(){this.div.blur()},Jn.prototype.getField=function(){return this.div},Jn.prototype.supportsTouch=function(){return!0},Jn.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):oi(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function a(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,a))})},Jn.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Jn.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(T&&d&&this.cm.display.gutterSpecs.length&&function(s){for(var N=s;N;N=N.parentNode)if(/CodeMirror-gutter-wrapper/.test(N.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var a=ea(t,e.anchorNode,e.anchorOffset),i=ea(t,e.focusNode,e.focusOffset);a&&i&&oi(t,function(){Yr(t.doc,Bi(a,i),j),(a.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}}},Jn.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,a,i=this.cm,s=i.display,N=i.doc.sel.primary(),ie=N.from(),ue=N.to();if(0==ie.ch&&ie.line>i.firstLine()&&(ie=K(ie.line-1,qt(i.doc,ie.line-1).length)),ue.ch==qt(i.doc,ue.line).text.length&&ue.line<i.lastLine()&&(ue=K(ue.line+1,0)),ie.line<s.viewFrom||ue.line>s.viewTo-1)return!1;ie.line==s.viewFrom||0==(e=Ei(i,ie.line))?(t=pn(s.view[0].line),a=s.view[0].node):(t=pn(s.view[e].line),a=s.view[e-1].node.nextSibling);var Oe,Ce,We=Ei(i,ue.line);if(We==s.view.length-1?(Oe=s.viewTo-1,Ce=s.lineDiv.lastChild):(Oe=pn(s.view[We+1].line)-1,Ce=s.view[We+1].node.previousSibling),!a)return!1;for(var Ue=i.doc.splitLines(function(hn,an,_n,un,Vn){var qn="",Nn=!1,zn=hn.doc.lineSeparator(),Sn=!1;function Rn(){Nn&&(qn+=zn,Sn&&(qn+=zn),Nn=Sn=!1)}function En(bn){bn&&(Rn(),qn+=bn)}function Pn(bn){if(1==bn.nodeType){var Pr=bn.getAttribute("cm-text");if(Pr)return void En(Pr);var or,Gn=bn.getAttribute("cm-marker");if(Gn){var In=hn.findMarks(K(un,0),K(Vn+1,0),(Kr=+Gn,function(Fr){return Fr.id==Kr}));return void(In.length&&(or=In[0].find(0))&&En(dn(hn.doc,or.from,or.to).join(zn)))}if("false"==bn.getAttribute("contenteditable"))return;var ri=/^(pre|div|p|li|table|br)$/i.test(bn.nodeName);if(!/^br$/i.test(bn.nodeName)&&0==bn.textContent.length)return;ri&&Rn();for(var mr=0;mr<bn.childNodes.length;mr++)Pn(bn.childNodes[mr]);/^(pre|p)$/i.test(bn.nodeName)&&(Sn=!0),ri&&(Nn=!0)}else 3==bn.nodeType&&En(bn.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var Kr}for(;Pn(an),an!=_n;)an=an.nextSibling,Sn=!1;return qn}(i,a,Ce,t,Oe)),Qe=dn(i.doc,K(t,0),K(Oe,qt(i.doc,Oe).text.length));Ue.length>1&&Qe.length>1;)if(A(Ue)==A(Qe))Ue.pop(),Qe.pop(),Oe--;else{if(Ue[0]!=Qe[0])break;Ue.shift(),Qe.shift(),t++}for(var Ge=0,gt=0,at=Ue[0],bt=Qe[0],At=Math.min(at.length,bt.length);Ge<At&&at.charCodeAt(Ge)==bt.charCodeAt(Ge);)++Ge;for(var Lt=A(Ue),Vt=A(Qe),Kt=Math.min(Lt.length-(1==Ue.length?Ge:0),Vt.length-(1==Qe.length?Ge:0));gt<Kt&&Lt.charCodeAt(Lt.length-gt-1)==Vt.charCodeAt(Vt.length-gt-1);)++gt;if(1==Ue.length&&1==Qe.length&&t==ie.line)for(;Ge&&Ge>ie.ch&&Lt.charCodeAt(Lt.length-gt-1)==Vt.charCodeAt(Vt.length-gt-1);)Ge--,gt++;Ue[Ue.length-1]=Lt.slice(0,Lt.length-gt).replace(/^\u200b+/,""),Ue[0]=Ue[0].slice(Ge).replace(/\u200b+$/,"");var Ut=K(t,Ge),Yt=K(Oe,Qe.length?A(Qe).length-gt:0);return Ue.length>1||Ue[0]||ye(Ut,Yt)?(no(i.doc,Ue,Ut,Yt,"+input"),!0):void 0},Jn.prototype.ensurePolled=function(){this.forceCompositionEnd()},Jn.prototype.reset=function(){this.forceCompositionEnd()},Jn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Jn.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Jn.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||oi(this.cm,function(){return Er(e.cm)})},Jn.prototype.setUneditable=function(e){e.contentEditable="false"},Jn.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Rr(this.cm,Oa)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Jn.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Jn.prototype.onContextMenu=function(){},Jn.prototype.resetPosition=function(){},Jn.prototype.needsContentAttribute=!0;var e,t,a,br=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ae,this.hasSelection=!1,this.composing=null};br.prototype.init=function(e){var t=this,a=this,i=this.cm;this.createField(e);var s=this.textarea;function N(ie){if(!$e(i,ie)){if(i.somethingSelected())Qo({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var ue=Ts(i);Qo({lineWise:!0,text:ue.text}),"cut"==ie.type?i.setSelections(ue.ranges,null,j):(a.prevInput="",s.value=ue.text.join("\n"),Pe(s))}"cut"==ie.type&&(i.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),I&&(s.style.width="0px"),mt(s,"input",function(){f&&g>=9&&t.hasSelection&&(t.hasSelection=null),a.poll()}),mt(s,"paste",function(ie){$e(i,ie)||_s(ie,i)||(i.state.pasteIncoming=+new Date,a.fastPoll())}),mt(s,"cut",N),mt(s,"copy",N),mt(e.scroller,"paste",function(ie){if(!ze(e,ie)&&!$e(i,ie)){if(!s.dispatchEvent)return i.state.pasteIncoming=+new Date,void a.focus();var ue=new Event("paste");ue.clipboardData=ie.clipboardData,s.dispatchEvent(ue)}}),mt(e.lineSpace,"selectstart",function(ie){ze(e,ie)||ht(ie)}),mt(s,"compositionstart",function(){var ie=i.getCursor("from");a.composing&&a.composing.range.clear(),a.composing={start:ie,range:i.markText(ie,i.getCursor("to"),{className:"CodeMirror-composing"})}}),mt(s,"compositionend",function(){a.composing&&(a.poll(),a.composing.range.clear(),a.composing=null)})},br.prototype.createField=function(e){this.wrapper=Ps(),this.textarea=this.wrapper.firstChild},br.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},br.prototype.prepareSelection=function(){var e=this.cm,t=e.display,a=e.doc,i=Ve(e);if(e.options.moveInputWithCursor){var s=Cr(e,a.sel.primary().head,"div"),N=t.wrapper.getBoundingClientRect(),ie=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,s.top+ie.top-N.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,s.left+ie.left-N.left))}return i},br.prototype.showSelection=function(e){var t=this.cm.display;R(t.cursorDiv,e.cursors),R(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},br.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var a=t.getSelection();this.textarea.value=a,t.state.focused&&Pe(this.textarea),f&&g>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",f&&g>=9&&(this.hasSelection=null))}},br.prototype.getField=function(){return this.textarea},br.prototype.supportsTouch=function(){return!1},br.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!S||ge()!=this.textarea))try{this.textarea.focus()}catch(e){}},br.prototype.blur=function(){this.textarea.blur()},br.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},br.prototype.receivedFocus=function(){this.slowPoll()},br.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},br.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function a(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,a))})},br.prototype.poll=function(){var e=this,t=this.cm,a=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ie(a)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var s=a.value;if(s==i&&!t.somethingSelected())return!1;if(f&&g>=9&&this.hasSelection===s||r&&/[\uf700-\uf7ff]/.test(s))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var N=s.charCodeAt(0);if(8203!=N||i||(i="\u200b"),8666==N)return this.reset(),this.cm.execCommand("undo")}for(var ie=0,ue=Math.min(i.length,s.length);ie<ue&&i.charCodeAt(ie)==s.charCodeAt(ie);)++ie;return oi(t,function(){Oa(t,s.slice(ie),i.length-ie,null,e.composing?"*compose":null),s.length>1e3||s.indexOf("\n")>-1?a.value=e.prevInput="":e.prevInput=s,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},br.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},br.prototype.onKeyPress=function(){f&&g>=9&&(this.hasSelection=null),this.fastPoll()},br.prototype.onContextMenu=function(e){var t=this,a=t.cm,i=a.display,s=t.textarea;t.contextMenuPending&&t.contextMenuPending();var N=ki(a,e),ie=i.scroller.scrollTop;if(N&&!P){a.options.resetSelectionOnContextMenu&&-1==a.doc.sel.contains(N)&&Rr(a,Yr)(a.doc,Bi(N),j);var ue,Oe=s.style.cssText,Ce=t.wrapper.style.cssText,We=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",s.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-We.top-5)+"px; left: "+(e.clientX-We.left-5)+"px;\n      z-index: 1000; background: "+(f?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",h&&(ue=window.scrollY),i.input.focus(),h&&window.scrollTo(null,ue),i.input.reset(),a.somethingSelected()||(s.value=t.prevInput=" "),t.contextMenuPending=Ge,i.selForContextMenu=a.doc.sel,clearTimeout(i.detectingSelectAll),f&&g>=9&&Qe(),w){ct(e);var Ue=function(){Te(window,"mouseup",Ue),setTimeout(Ge,20)};mt(window,"mouseup",Ue)}else setTimeout(Ge,50)}function Qe(){if(null!=s.selectionStart){var gt=a.somethingSelected(),at="\u200b"+(gt?s.value:"");s.value="\u21da",s.value=at,t.prevInput=gt?"":"\u200b",s.selectionStart=1,s.selectionEnd=at.length,i.selForContextMenu=a.doc.sel}}function Ge(){if(t.contextMenuPending==Ge&&(t.contextMenuPending=!1,t.wrapper.style.cssText=Ce,s.style.cssText=Oe,f&&g<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=ie),null!=s.selectionStart)){(!f||f&&g<9)&&Qe();var gt=0,at=function(){i.selForContextMenu==a.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"\u200b"==t.prevInput?Rr(a,Za)(a):gt++<10?i.detectingSelectAll=setTimeout(at,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(at,200)}}},br.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},br.prototype.setUneditable=function(){},br.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function a(i,s,N,ie){e.defaults[i]=s,N&&(t[i]=ie?function(ue,Oe,Ce){Ce!=ao&&N(ue,Oe,Ce)}:N)}e.defineOption=a,e.Init=ao,a("value","",function(i,s){return i.setValue(s)},!0),a("mode",null,function(i,s){i.doc.modeOption=s,ua(i)},!0),a("indentUnit",2,ua,!0),a("indentWithTabs",!1),a("smartIndent",!0),a("tabSize",4,function(i){yo(i),_i(i),Er(i)},!0),a("lineSeparator",null,function(i,s){if(i.doc.lineSep=s,s){var N=[],ie=i.doc.first;i.doc.iter(function(Oe){for(var Ce=0;;){var We=Oe.text.indexOf(s,Ce);if(-1==We)break;Ce=We+s.length,N.push(K(ie,We))}ie++});for(var ue=N.length-1;ue>=0;ue--)no(i.doc,s,N[ue],K(N[ue].line,N[ue].ch+s.length))}}),a("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(i,s,N){i.state.specialChars=new RegExp(s.source+(s.test("\t")?"":"|\t"),"g"),N!=ao&&i.refresh()}),a("specialCharPlaceholder",tt,function(i){return i.refresh()},!0),a("electricChars",!0),a("inputStyle",S?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),a("spellcheck",!1,function(i,s){return i.getInputField().spellcheck=s},!0),a("autocorrect",!1,function(i,s){return i.getInputField().autocorrect=s},!0),a("autocapitalize",!1,function(i,s){return i.getInputField().autocapitalize=s},!0),a("rtlMoveVisually",!E),a("wholeLineUpdateBefore",!0),a("theme","default",function(i){Cs(i),vo(i)},!0),a("keyMap","default",function(i,s,N){var ie=Zo(s),ue=N!=ao&&Zo(N);ue&&ue.detach&&ue.detach(i,ie),ie.attach&&ie.attach(i,ue||null)}),a("extraKeys",null),a("configureMouse",null),a("lineWrapping",!1,il,!0),a("gutters",[],function(i,s){i.display.gutterSpecs=la(s,i.options.lineNumbers),vo(i)},!0),a("fixedGutter",!0,function(i,s){i.display.gutters.style.left=s?ho(i.display)+"px":"0",i.refresh()},!0),a("coverGutterNextToScrollbar",!1,function(i){return Ni(i)},!0),a("scrollbarStyle","native",function(i){ja(i),Ni(i),i.display.scrollbars.setScrollTop(i.doc.scrollTop),i.display.scrollbars.setScrollLeft(i.doc.scrollLeft)},!0),a("lineNumbers",!1,function(i,s){i.display.gutterSpecs=la(i.options.gutters,s),vo(i)},!0),a("firstLineNumber",1,vo,!0),a("lineNumberFormatter",function(i){return i},vo,!0),a("showCursorWhenSelecting",!1,Li,!0),a("resetSelectionOnContextMenu",!0),a("lineWiseCopyCut",!0),a("pasteLinesPerSelection",!0),a("selectionsMayTouch",!1),a("readOnly",!1,function(i,s){"nocursor"==s&&(on(i),i.display.input.blur()),i.display.input.readOnlyChanged(s)}),a("screenReaderLabel",null,function(i,s){i.display.input.screenReaderLabelChanged(s=""===s?null:s)}),a("disableInput",!1,function(i,s){s||i.display.input.reset()},!0),a("dragDrop",!0,rl),a("allowDropFileTypes",null),a("cursorBlinkRate",530),a("cursorScrollMargin",0),a("cursorHeight",1,Li,!0),a("singleCursorHeightPerLine",!0,Li,!0),a("workTime",100),a("workDelay",100),a("flattenSpans",!0,yo,!0),a("addModeClass",!1,yo,!0),a("pollInterval",100),a("undoDepth",200,function(i,s){return i.doc.history.undoDepth=s}),a("historyEventDelay",1250),a("viewportMargin",10,function(i){return i.refresh()},!0),a("maxHighlightLength",1e4,yo,!0),a("moveInputWithCursor",!0,function(i,s){s||i.display.input.resetPosition()}),a("tabindex",null,function(i,s){return i.display.input.getField().tabIndex=s||""}),a("autofocus",null),a("direction","ltr",function(i,s){return i.doc.setDirection(s)},!0),a("phrases",null)}(dr),t=(e=dr).optionHandlers,a=e.helpers={},e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(i,s){var N=this.options,ie=N[i];N[i]==s&&"mode"!=i||(N[i]=s,t.hasOwnProperty(i)&&Rr(this,t[i])(this,s,ie),Re(this,"optionChange",this,i))},getOption:function(i){return this.options[i]},getDoc:function(){return this.doc},addKeyMap:function(i,s){this.state.keyMaps[s?"push":"unshift"](Zo(i))},removeKeyMap:function(i){for(var s=this.state.keyMaps,N=0;N<s.length;++N)if(s[N]==i||s[N].name==i)return s.splice(N,1),!0},addOverlay:Qr(function(i,s){var N=i.token?i:e.getMode(this.options,i);if(N.startState)throw new Error("Overlays may not be stateful.");(function(ie,ue,Oe){for(var Ce=0,We=Oe(ue);Ce<ie.length&&Oe(ie[Ce])<=We;)Ce++;ie.splice(Ce,0,ue)})(this.state.overlays,{mode:N,modeSpec:i,opaque:s&&s.opaque,priority:s&&s.priority||0},function(ie){return ie.priority}),this.state.modeGen++,Er(this)}),removeOverlay:Qr(function(i){for(var s=this.state.overlays,N=0;N<s.length;++N){var ie=s[N].modeSpec;if(ie==i||"string"==typeof i&&ie.name==i)return s.splice(N,1),this.state.modeGen++,void Er(this)}}),indentLine:Qr(function(i,s,N){"string"!=typeof s&&"number"!=typeof s&&(s=null==s?this.options.smartIndent?"smart":"prev":s?"add":"subtract"),Xn(this.doc,i)&&Ao(this,i,s,N)}),indentSelection:Qr(function(i){for(var s=this.doc.sel.ranges,N=-1,ie=0;ie<s.length;ie++){var ue=s[ie];if(ue.empty())ue.head.line>N&&(Ao(this,ue.head.line,i,!0),N=ue.head.line,ie==this.doc.sel.primIndex&&On(this));else{var Oe=ue.from(),Ce=ue.to(),We=Math.max(N,Oe.line);N=Math.min(this.lastLine(),Ce.line-(Ce.ch?0:1))+1;for(var Ue=We;Ue<N;++Ue)Ao(this,Ue,i);var Qe=this.doc.sel.ranges;0==Oe.ch&&s.length==Qe.length&&Qe[ie].from().ch>0&&pa(this.doc,ie,new $n(Oe,Qe[ie].to()),j)}}}),getTokenAt:function(i,s){return Dr(this,i,s)},getLineTokens:function(i,s){return Dr(this,K(i),s,!0)},getTokenTypeAt:function(i){i=Ft(this.doc,i);var s,N=wr(this,qt(this.doc,i.line)),ie=0,ue=(N.length-1)/2,Oe=i.ch;if(0==Oe)s=N[2];else for(;;){var Ce=ie+ue>>1;if((Ce?N[2*Ce-1]:0)>=Oe)ue=Ce;else{if(!(N[2*Ce+1]<Oe)){s=N[2*Ce+2];break}ie=Ce+1}}var We=s?s.indexOf("overlay "):-1;return We<0?s:0==We?null:s.slice(0,We-1)},getModeAt:function(i){var s=this.doc.mode;return s.innerMode?e.innerMode(s,this.getTokenAt(i).state).mode:s},getHelper:function(i,s){return this.getHelpers(i,s)[0]},getHelpers:function(i,s){var N=[];if(!a.hasOwnProperty(s))return N;var ie=a[s],ue=this.getModeAt(i);if("string"==typeof ue[s])ie[ue[s]]&&N.push(ie[ue[s]]);else if(ue[s])for(var Oe=0;Oe<ue[s].length;Oe++){var Ce=ie[ue[s][Oe]];Ce&&N.push(Ce)}else ue.helperType&&ie[ue.helperType]?N.push(ie[ue.helperType]):ie[ue.name]&&N.push(ie[ue.name]);for(var We=0;We<ie._global.length;We++){var Ue=ie._global[We];Ue.pred(ue,this)&&-1==ne(N,Ue.val)&&N.push(Ue.val)}return N},getStateAfter:function(i,s){var N=this.doc;return Zr(this,(i=Mt(N,null==i?N.first+N.size-1:i))+1,s).state},cursorCoords:function(i,s){var N=this.doc.sel.primary();return Cr(this,null==i?N.head:"object"==typeof i?Ft(this.doc,i):i?N.from():N.to(),s||"page")},charCoords:function(i,s){return Fi(this,Ft(this.doc,i),s||"page")},coordsChar:function(i,s){return Zi(this,(i=Fo(this,i,s||"page")).left,i.top)},lineAtHeight:function(i,s){return i=Fo(this,{top:i,left:0},s||"page").top,Zn(this.doc,i+this.display.viewOffset)},heightAtLine:function(i,s,N){var ie,ue=!1;if("number"==typeof i){var Oe=this.doc.first+this.doc.size-1;i<this.doc.first?i=this.doc.first:i>Oe&&(i=Oe,ue=!0),ie=qt(this.doc,i)}else ie=i;return ji(this,ie,{top:0,left:0},s||"page",N||ue).top+(ue?this.doc.height-yr(ie):0)},defaultTextHeight:function(){return Ti(this.display)},defaultCharWidth:function(){return Di(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(i,s,N,ie,ue){var We,Ue=this.display,Qe=(i=Cr(this,Ft(this.doc,i))).bottom,Ge=i.left;if(s.style.position="absolute",s.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(s),Ue.sizer.appendChild(s),"over"==ie)Qe=i.top;else if("above"==ie||"near"==ie){var gt=Math.max(Ue.wrapper.clientHeight,this.doc.height),at=Math.max(Ue.sizer.clientWidth,Ue.lineSpace.clientWidth);("above"==ie||i.bottom+s.offsetHeight>gt)&&i.top>s.offsetHeight?Qe=i.top-s.offsetHeight:i.bottom+s.offsetHeight<=gt&&(Qe=i.bottom),Ge+s.offsetWidth>at&&(Ge=at-s.offsetWidth)}s.style.top=Qe+"px",s.style.left=s.style.right="","right"==ue?(Ge=Ue.sizer.clientWidth-s.offsetWidth,s.style.right="0px"):("left"==ue?Ge=0:"middle"==ue&&(Ge=(Ue.sizer.clientWidth-s.offsetWidth)/2),s.style.left=Ge+"px"),N&&(null!=(We=Ln(this,{left:Ge,top:Qe,right:Ge+s.offsetWidth,bottom:Qe+s.offsetHeight})).scrollTop&&Wn(this,We.scrollTop),null!=We.scrollLeft&&hr(this,We.scrollLeft))},triggerOnKeyDown:Qr(vs),triggerOnKeyPress:Qr(bs),triggerOnKeyUp:ys,triggerOnMouseDown:Qr(ws),execCommand:function(i){if(jo.hasOwnProperty(i))return jo[i].call(null,this)},triggerElectric:Qr(function(i){js(this,i)}),findPosH:function(i,s,N,ie){var ue=1;s<0&&(ue=-1,s=-s);for(var Oe=Ft(this.doc,i),Ce=0;Ce<s&&!(Oe=ka(this.doc,Oe,ue,N,ie)).hitSide;++Ce);return Oe},moveH:Qr(function(i,s){var N=this;this.extendSelectionsBy(function(ie){return N.display.shift||N.doc.extend||ie.empty()?ka(N.doc,ie.head,i,s,N.options.rtlMoveVisually):i<0?ie.from():ie.to()},H)}),deleteH:Qr(function(i,s){var ie=this.doc;this.doc.sel.somethingSelected()?ie.replaceSelection("",null,"+delete"):oo(this,function(ue){var Oe=ka(ie,ue.head,i,s,!1);return i<0?{from:Oe,to:ue.head}:{from:ue.head,to:Oe}})}),findPosV:function(i,s,N,ie){var ue=1,Oe=ie;s<0&&(ue=-1,s=-s);for(var Ce=Ft(this.doc,i),We=0;We<s;++We){var Ue=Cr(this,Ce,"div");if(null==Oe?Oe=Ue.left:Ue.left=Oe,(Ce=As(this,Ue,ue,N)).hitSide)break}return Ce},moveV:Qr(function(i,s){var N=this,ie=this.doc,ue=[],Oe=!this.display.shift&&!ie.extend&&ie.sel.somethingSelected();if(ie.extendSelectionsBy(function(We){if(Oe)return i<0?We.from():We.to();var Ue=Cr(N,We.head,"div");null!=We.goalColumn&&(Ue.left=We.goalColumn),ue.push(Ue.left);var Qe=As(N,Ue,i,s);return"page"==s&&We==ie.sel.primary()&&ur(N,Fi(N,Qe,"div").top-Ue.top),Qe},H),ue.length)for(var Ce=0;Ce<ie.sel.ranges.length;Ce++)ie.sel.ranges[Ce].goalColumn=ue[Ce]}),findWordAt:function(i){var s=qt(this.doc,i.line).text,N=i.ch,ie=i.ch;if(s){var ue=this.getHelper(i,"wordChars");"before"!=i.sticky&&ie!=s.length||!N?++ie:--N;for(var Oe=s.charAt(N),Ce=Ee(Oe,ue)?function(We){return Ee(We,ue)}:/\s/.test(Oe)?function(We){return/\s/.test(We)}:function(We){return!/\s/.test(We)&&!Ee(We)};N>0&&Ce(s.charAt(N-1));)--N;for(;ie<s.length&&Ce(s.charAt(ie));)++ie}return new $n(K(i.line,N),K(i.line,ie))},toggleOverwrite:function(i){null!=i&&i==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?fe(this.display.cursorDiv,"CodeMirror-overwrite"):x(this.display.cursorDiv,"CodeMirror-overwrite"),Re(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ge()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Qr(function(i,s){fr(this,i,s)}),getScrollInfo:function(){var i=this.display.scroller;return{left:i.scrollLeft,top:i.scrollTop,height:i.scrollHeight-lt(this)-this.display.barHeight,width:i.scrollWidth-lt(this)-this.display.barWidth,clientHeight:It(this),clientWidth:Ct(this)}},scrollIntoView:Qr(function(i,s){var ie;null==i?(i={from:this.doc.sel.primary().head,to:null},null==s&&(s=this.options.cursorScrollMargin)):"number"==typeof i?i={from:K(i,0),to:null}:null==i.from&&(i={from:i,to:null}),i.to||(i.to=i.from),i.margin=s||0,null!=i.from.line?(ie=i,gr(this),this.curOp.scrollToPos=ie):Wr(this,i.from,i.to,i.margin)}),setSize:Qr(function(i,s){var N=this,ie=function(Oe){return"number"==typeof Oe||/^\d+$/.test(String(Oe))?Oe+"px":Oe};null!=i&&(this.display.wrapper.style.width=ie(i)),null!=s&&(this.display.wrapper.style.height=ie(s)),this.options.lineWrapping&&No(this);var ue=this.display.viewFrom;this.doc.iter(ue,this.display.viewTo,function(Oe){if(Oe.widgets)for(var Ce=0;Ce<Oe.widgets.length;Ce++)if(Oe.widgets[Ce].noHScroll){ui(N,ue,"widget");break}++ue}),this.curOp.forceUpdate=!0,Re(this,"refresh",this)}),operation:function(i){return oi(this,i)},startOperation:function(){return $i(this)},endOperation:function(){return qi(this)},refresh:Qr(function(){var i=this.display.cachedTextHeight;Er(this),this.curOp.forceUpdate=!0,_i(this),fr(this,this.doc.scrollLeft,this.doc.scrollTop),aa(this.display),(null==i||Math.abs(i-Ti(this.display))>.5||this.options.lineWrapping)&&Oi(this),Re(this,"refresh",this)}),swapDoc:Qr(function(i){var s=this.doc;return s.cm=null,this.state.selectingText&&this.state.selectingText(),Ia(this,i),_i(this),this.display.input.reset(),fr(this,i.scrollLeft,i.scrollTop),this.curOp.forceScroll=!0,Xt(this,"swapDoc",this,s),s}),phrase:function(i){var s=this.options.phrases;return s&&Object.prototype.hasOwnProperty.call(s,i)?s[i]:i},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ze(e),e.registerHelper=function(i,s,N){a.hasOwnProperty(i)||(a[i]=e[i]={_global:[]}),a[i][s]=N},e.registerGlobalHelper=function(i,s,N,ie){e.registerHelper(i,s,ie),a[i]._global.push({pred:N,val:ie})};var al="iter insert remove copy getEditor constructor".split(" ");for(var ta in ni.prototype)ni.prototype.hasOwnProperty(ta)&&ne(al,ta)<0&&(dr.prototype[ta]=function(e){return function(){return e.apply(this.doc,arguments)}}(ni.prototype[ta]));return Ze(ni),dr.inputStyles={textarea:br,contenteditable:Jn},dr.defineMode=function(e){dr.defaults.mode||"null"==e||(dr.defaults.mode=e),nn.apply(this,arguments)},dr.defineMIME=function(e,t){zt[e]=t},dr.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),dr.defineMIME("text/plain","null"),dr.defineExtension=function(e,t){dr.prototype[e]=t},dr.defineDocExtension=function(e,t){ni.prototype[e]=t},dr.fromTextArea=function(e,t){if((t=t?pe(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var a=ge();t.autofocus=a==e||null!=e.getAttribute("autofocus")&&a==document.body}function i(){e.value=ue.getValue()}var s;if(e.form&&(mt(e.form,"submit",i),!t.leaveSubmitMethodAlone)){var N=e.form;s=N.submit;try{var ie=N.submit=function(){i(),N.submit=s,N.submit(),N.submit=ie}}catch(Oe){}}t.finishInit=function(Oe){Oe.save=i,Oe.getTextArea=function(){return e},Oe.toTextArea=function(){Oe.toTextArea=isNaN,i(),e.parentNode.removeChild(Oe.getWrapperElement()),e.style.display="",e.form&&(Te(e.form,"submit",i),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=s))}},e.style.display="none";var ue=dr(function(Oe){return e.parentNode.insertBefore(Oe,e.nextSibling)},t);return ue},function(e){e.off=Te,e.on=mt,e.wheelEventPixels=$s,e.Doc=ni,e.splitLines=he,e.countColumn=_e,e.findColumn=n,e.isWordChar=ve,e.Pass=W,e.signal=Re,e.Line=M,e.changeEnd=zi,e.scrollbarModel=zo,e.Pos=K,e.cmpPos=ye,e.modes=ft,e.mimeModes=zt,e.resolveMode=Wt,e.getMode=ln,e.modeExtensions=tn,e.extendMode=kn,e.copyState=Cn,e.startState=jn,e.innerMode=Fn,e.commands=jo,e.keyMap=Ri,e.keyName=ds,e.isModifierKey=us,e.lookupKey=io,e.normalizeKeyMap=el,e.StringStream=cn,e.SharedTextMarker=Co,e.TextMarker=Vi,e.LineWidget=ko,e.e_preventDefault=ht,e.e_stopPropagation=Pt,e.e_stop=ct,e.addClass=fe,e.contains=Fe,e.rmClass=x,e.keyNames=Ui}(dr),dr.version="5.63.0",dr}()},function(Ye,le,o){"use strict";o.r(le);var ee=o(2),se=o.n(ee),J=o(13);le.default=se.a.View.extend({initialize:function(U){this.config=U.config||{},this.pfx=this.config.stylePrefix||"",this.target=U.target||{},this.propTarget=U.propTarget||{},this.onChange=U.onChange,this.onInputRender=U.onInputRender||{},this.customValue=U.customValue||{},this.properties=[];var L=this.collection;this.listenTo(L,"add",this.addTo),this.listenTo(L,"reset",this.render)},addTo:function(U,L,k){this.add(U,null,k)},add:function(U,L){var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=L||this.el,g=new U.typeView({model:U,name:U.get("name"),id:this.pfx+U.get("property"),target:this.target,propTarget:this.propTarget,onChange:this.onChange,onInputRender:this.onInputRender,config:this.config});"composite"!=U.get("type")&&(g.customValue=this.customValue),g.render();var h=g.el;this.properties.push(g),g.updateVisibility(),Object(J.b)(f,h,k.at)},render:function(){var U=this,L=this.$el;this.clearItems();var k=document.createDocumentFragment();return this.collection.each(function(f){return U.add(f,k)}),L.empty(),L.append(k),L.attr("class","".concat(this.pfx,"properties")),this},remove:function(){se.a.View.prototype.remove.apply(this,arguments),this.clearItems()},clearItems:function(){this.properties.forEach(function(U){return U.remove()}),this.properties=[]}})},function(Ye,le,o){"use strict";var ee=o(0),se=o(2),J=o.n(se);le.a=J.a.View.extend({itemView:"",itemsView:"",itemType:"type",autoAdd:0,initialize:function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=arguments.length>1?arguments[1]:void 0;this.config=L||U.config||{},this.autoAdd&&this.listenTo(this.collection,"add",this.addTo),this.items=[],this.init()},init:function(){},addTo:function(U){this.add(U)},itemViewNotFound:function(U){var k=this.ns,f=this.config.em,g="".concat(k?"[".concat(k,"]: "):"","'").concat(U,"' type not found");f&&f.logWarning(g)},add:function(U,L){var k,f=this.config,g=this.reuseView,h=this.items,y=this.itemsView,d=void 0===y?{}:y,P=L||null,O=this.itemView,v=U.get(this.itemType);d[v]?O=d[v]:!v||d[v]||Object(ee.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],v)||this.itemViewNotFound(v),k=U.view&&g?U.view:new O({model:U,config:f},f),h&&h.push(k);var D=k.render().el;P?P.appendChild(D):this.$el.append(D)},render:function(){var U=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(L){this.add(L,U)},this),this.$el.append(U),this.onRender(),this},onRender:function(){},onRemoveBefore:function(){},onRemove:function(){},remove:function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=this.items;this.onRemoveBefore(L,U),this.clearItems(),J.a.View.prototype.remove.apply(this,arguments),this.onRemove(L,U)},clearItems:function(){}})},function(Ye,le,o){"use strict";var ee=o(14),se=o.n(ee),J=o(11),U=o.n(J),L=o(3),k=o.n(L),f=o(22),g=o.n(f),h=o(2),y=o.n(h),d=o(0),P=o(10),O=["at"];function v(S,r){var _=Object.keys(S);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(S);r&&(E=E.filter(function(B){return Object.getOwnPropertyDescriptor(S,B).enumerable})),_.push.apply(_,E)}return _}function D(S){for(var r=1;r<arguments.length;r++){var _=null!=arguments[r]?arguments[r]:{};r%2?v(Object(_),!0).forEach(function(E){k()(S,E,_[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(_)):v(Object(_)).forEach(function(E){Object.defineProperty(S,E,Object.getOwnPropertyDescriptor(_,E))})}return S}var I=function S(r){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],E=r||[];return E.forEach(function(B){_.push(B.getId()),S(B.components(),_)}),_},T=function S(r){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.map(function(E){_.push(E.getId()),S(E.components(),_)}),_};le.a=y.a.Collection.extend({initialize:function(S){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opt=r,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var _=r.em,E=r.config;this.config=E,this.em=_,this.domc=r.domc||_&&_.get("DomComponents")},resetChildren:function(S){var r=this,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=this,B=_.previousModels||[],$=B.filter(function(p){return!S.get(p.cid)}),w=T(S);_.keepIds=I(B).filter(function(p){return w.indexOf(p)>=0}),$.forEach(function(p){return r.removeChildren(p,E,_)}),S.each(function(p){return r.onAdd(p)})},removeChildren:function(S,r){var _=this,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(S){var B=this.domc,$=this.em,w=B?B.allById():{},p=E.temporary;if(S.prevColl=this,!p){var u=S.getId(),x=$.get("SelectorManager").getAll(),b=$.get("CssComposer").getAll(),R=(E.keepIds||[]).indexOf(u)<0;delete w[u];var Q=R?b.remove(b.filter(function(ge){return ge.getSelectors().getFullString()==="#".concat(u)}),E):[];x.remove(Q.map(function(ge){return ge.getSelectors().at(0)})),S.opt.temporary||($.get("Commands").run("core:component-style-clear",{target:S}),S.removed(),S.trigger("removed"),$.trigger("component:remove",S));var re=S.components();re.forEach(function(ge){return _.removeChildren(ge,r,E)})}var Fe=S.components();$.stopListening(Fe),$.stopListening(S),$.stopListening(S.get("classes")),S.__postRemove()}},model:function(S,r){var _,E=r.collection.opt,B=E.em,$=B.get("DomComponents").componentTypes;r.em=B,r.config=E.config,r.componentTypes=$,r.domc=E.domc;for(var w=0;w<$.length;w++)if($[w].id==S.type){_=$[w].model;break}return _||(_=$[$.length-1].model,B&&S.type&&B.logWarning("Component type '".concat(S.type,"' not found"),{attrs:S,options:r})),new _(S,r)},parseString:function(S){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=this.em,E=this.domc,B=_.get("CssComposer"),$=_.get("Parser").parseHtml(S);if(P.a.checkId($.html,$.css,E.componentsById,r),$.css&&B&&!r.temporary){var w=g()(r,O);B.addCollection($.css,D(D({},w),{},{extend:1}))}return $.html},add:function(S){var r=this,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.keepIds=I(_.previousModels),Object(d.isString)(S)?S=this.parseString(S,_):Object(d.isArray)(S)&&(S=U()(S)).forEach(function($,w){if(Object(d.isString)($)){var p=r.parseString($,_);S[w]=Object(d.isArray)(p)&&!p.length?null:p}});var E=Object(d.isArray)(S);S=(E?S:[S]).filter(function($){return $}).map(function($){return r.processDef($)}),S=E?Object(d.flatten)(S,1):S[0];var B=y.a.Collection.prototype.add.apply(this,[S,_]);return this.__firstAdd=B,B},processDef:function(S){if(S.cid&&S.ccid)return S;var r=this.em,_=this.config,E=(void 0===_?{}:_).processor,B=S;if(E){var $=E(B=D({},B));$&&(Object(d.each)(B,function(R,Q){return delete B[Q]}),Object(d.extend)(B,$))}if(B.$$typeof&&"object"==se()(B.props)){(B=D({},B)).props=D({},B.props);var w=r.get("DomComponents"),p=r.get("Parser").parserHtml;Object(d.each)(B,function(R,Q){Object(d.includes)(["props","type"],Q)||delete B[Q]});var u=B.props,x=u.children;delete u.children,delete B.props;var b=p.splitPropsFromAttr(u);B.attributes=b.attrs,x&&(B.components=x),B.type?w.getType(B.type)||(B.tagName=B.type,delete B.type):B.type="textnode",Object(d.extend)(B,b.props)}return B},onAdd:function(S,r){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},E=this.domc,B=this.em,$=S.getStyle(),w=B&&B.getConfig("avoidInlineStyle");if(E&&E.Component.ensureInList(S),!Object(d.isEmpty)($)&&!w&&B&&B.get&&B.getConfig("forceClass")&&!_.temporary){var p=S.cid;B.get("CssComposer").setClassRule(p,$),S.setStyle({}),S.addClass(p)}S.__postAdd({recursive:1}),this.__onAddEnd()},__onAddEnd:Object(d.debounce)(function(){})})},function(Ye,le,o){"use strict";o.r(le);var ee=o(2);le.default=ee.Model.extend({initialize:function(se){this.config=se||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.init(this.config)},onFrameScroll:function(se){},getCanvas:function(){return this.canvas.getElement()},getCanvasBody:function(){return this.canvas.getBody()},getCanvasTools:function(){return this.canvas.getToolsEl()},offset:function(se){var J=se.getBoundingClientRect();return{top:J.top+se.ownerDocument.body.scrollTop,left:J.left+se.ownerDocument.body.scrollLeft}},init:function(se){},callRun:function(se){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=this.id;if(se.trigger("run:".concat(U,":before"),J),!J||!J.abort){var L=J.sender||se,k=this.run(se,L,J);return se.trigger("run:".concat(U),k,J),se.trigger("run",U,k,J),k}se.trigger("abort:".concat(U),J)},callStop:function(se){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=this.id,L=J.sender||se;se.trigger("stop:".concat(U,":before"),J);var k=this.stop(se,L,J);return se.trigger("stop:".concat(U),k,J),se.trigger("stop",U,k,J),k},stopCommand:function(){this.em.get("Commands").stop(this.id)},run:function(se,J){},stop:function(se,J){}})},function(Ye,le,o){"use strict";var ee=o(3),se=o.n(ee),J=o(0),U=o(1),L=o(44);function k(h,y){var d=Object.keys(h);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(h);y&&(P=P.filter(function(O){return Object.getOwnPropertyDescriptor(h,O).enumerable})),d.push.apply(d,P)}return d}function f(h){for(var y=1;y<arguments.length;y++){var d=null!=arguments[y]?arguments[y]:{};y%2?k(Object(d),!0).forEach(function(P){se()(h,P,d[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(d)):k(Object(d)).forEach(function(P){Object.defineProperty(h,P,Object.getOwnPropertyDescriptor(d,P))})}return h}var g=Object(L.a)().parseStyle;le.a={parseStyle:g,extendStyle:function(h){return f(f({},this.getStyle()),h)},getStyle:function(h){var y=f({},this.get("style")||{});return h&&Object(J.isString)(h)?y[h]:y},setStyle:function(){var h=this,y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(J.isString)(y)&&(y=g(y));var P=this.getStyle(d),O=f({},y);this.set("style",O,d);var v=Object(U.shallowDiff)(P,O);return Object(J.keys)(v).forEach(function(D){var I=h.em;h.trigger("change:style:".concat(D)),I&&(I.trigger("styleable:change",h,D),I.trigger("styleable:change:".concat(D),h,D))}),O},addStyle:function(h){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof h?h={prop:y}:d=y||{},h=this.extendStyle(h),this.setStyle(h,d)},removeStyle:function(h){var y=this.getStyle();delete y[h],this.setStyle(y)},styleToString:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=[],d=this.getStyle(h);for(var P in d){var O=h.important,v=Object(J.isArray)(O)?O.indexOf(P)>=0:O,D="".concat(d[P]).concat(v?" !important":""),I="__"==P.substr(0,2);D&&!I&&y.push("".concat(P,":").concat(D,";"))}return y.join("")},getSelectors:function(){return this.get("selectors")||this.get("classes")},getSelectorsString:function(){return this.selectorsToString?this.selectorsToString():this.getSelectors().getFullString()}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(2),U=o.n(J),L=o(38),k=o(5),f=o.n(k),g=o(6),h=o.n(g),y=o(8),d=o.n(y),P=o(9),O=o.n(P),v=o(4),D=o.n(v),I=o(0),T=o(1);function S(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function r(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?S(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):S(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var E=function(V){d()(we,V);var z=function(V){var z=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(we){return!1}}();return function(){var we,he=D()(V);if(z){var Ie=D()(this).constructor;we=Reflect.construct(he,arguments,Ie)}else we=he.apply(this,arguments);return O()(this,we)}}(we);function we(){return f()(this,we),z.apply(this,arguments)}return h()(we,[{key:"initialize",value:function(){var he=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},st=this.get("id")||"",kt=this.get("name")||"";!this.get("property")&&this.set("property",(kt||st).replace(/ /g,"-"));var ft=this.get("property");!this.get("id")&&this.set("id",ft),!kt&&this.set("name",Object(T.capitalize)(ft).replace(/-/g," ")),we.callInit(this,he,Ie)}},{key:"init",value:function(){}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("property")}},{key:"getLabel",value:function(){return this.get("name")}},{key:"getValue",value:function(){var he=this.get("value");return Object(I.isUndefined)(he)?this.getDefaultValue():he}},{key:"clearValue",value:function(){var he=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.set({value:void 0,status:""},he),this}},{key:"setValue",value:function(he){var Ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,st=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},kt=this.parseValue(he),ft=!Ie;!ft&&this.set({value:void 0},{avoidStore:ft,silent:!0}),this.set(kt,r({avoidStore:ft},st))}},{key:"setValueFromInput",value:function(he,Ie){var st=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.setValue(he,Ie,r(r({},st),{},{fromInput:1}))}},{key:"parseValue",value:function(he){var Ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},st={value:he},kt="!important";if(Object(I.isString)(he)&&-1!==he.indexOf(kt)&&(st.value=he.replace(kt,"").trim(),st.important=1),!this.get("functionName")&&!Ie.complete)return st;var ft=[],zt="".concat(st.value),nn=zt.indexOf("(")+1,Wt=zt.lastIndexOf(")"),ln=zt.substring(0,nn-1);if(ln&&(st.functionName=ln),ft.push(nn),Wt>=0&&ft.push(Wt),st.value=String.prototype.substring.apply(zt,ft),Ie.numeric){var tn=parseFloat(st.value);st.unit=st.value.replace(tn,""),st.value=tn}return st}},{key:"splitValues",value:function(he){var Ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",st=[],kt="(",ft=")",zt="",nn=0;return(he||"").split("").forEach(function(Wt){Wt==kt?(nn++,zt+=kt):Wt==ft&&nn>0?(nn--,zt+=ft):Wt===Ie&&0==nn?(st.push(zt),zt=""):zt+=Wt}),""!==zt&&st.push(zt),st.map(function(Wt){return Wt.trim()})}},{key:"getDefaultValue",value:function(){return this.get("defaults")}},{key:"getFullValue",value:function(he){var Ie=this.get("functionName"),st=this.getDefaultValue(),kt=Object(I.isUndefined)(he)?this.get("value"):he,ft=!Object(I.isUndefined)(kt)&&""!==kt;if(kt&&st&&kt===st)return st;if(Ie&&ft){var zt="url"===Ie?"'".concat(kt.replace(/'/g,""),"'"):kt;kt="".concat(Ie,"(").concat(zt,")")}return ft&&this.get("important")&&(kt="".concat(kt," !important")),kt||""}}]),we}(J.Model);function B(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function $(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?B(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):B(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}E.callParentInit=function(V,z,we){var he=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};V.prototype.initialize.apply(z,[we,r(r({},he),{},{skipInit:1})])},E.callInit=function(V,z){var we=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!we.skipInit&&V.init(z,we)},E.getDefaults=function(){return Object(I.result)(this.prototype,"defaults")},E.prototype.defaults={name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:0,important:0,toRequire:0,requires:null,requiresParent:null};var w=E.extend({defaults:$($({},E.prototype.defaults),{},{detached:0,properties:[],separator:" "}),initialize:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E.callParentInit(E,this,V,z);var we=this.get("properties")||[],he=o(33).default;this.set("properties",new he(we)),this.listenTo(this,"change:value",this.updateValues),E.callInit(this,V,z)},clearValue:function(){return this.get("properties").each(function(V){return V.clearValue()}),E.prototype.clearValue.apply(this,arguments)},updateValues:function(){this.getFullValue().split(this.getSplitSeparator()),this.get("properties").each(function(z,we){})},getSplitSeparator:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},getDefaultValue:function(V){var z=this.get("defaults");return z&&!V?z:(z="",this.get("properties").each(function(we,he){return z+="".concat(we.getDefaultValue()," ")}),z.trim())},getFullValue:function(){return this.get("detached")?"":this.get("properties").getFullValue()},getPropertyAt:function(V){return this.get("properties").at(V)}}),p=U.a.Model.extend({defaults:{index:"",value:"",values:{},active:!1,preview:!1,properties:[]},initialize:function(){var V=this.get("properties"),z=this.get("value");this.set("properties",V instanceof rt?V:new rt(V));var we=this.get("properties");if(we.forEach(this.onPropAdd,this),this.listenTo(we,"add",this.onPropAdd),!z){var he="",Ie=this.get("values");for(var st in Ie)he+=" "+Ie[st];this.set("value",he.trim())}},onPropAdd:function(V){var z=this.collection;V.parent=z&&z.property},getPropertyAt:function(V){return this.get("properties").at(V)},getPropertyValue:function(V){var z="";return this.get("properties").each(function(we){we.get("property")==V&&(z=we.getFullValue())}),z},getFullValue:function(){var V=[];return this.get("properties").each(function(z){return V.push(z.getFullValue())}),V.join(" ").trim()}});function u(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function x(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?u(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):u(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var b=U.a.Collection.extend({model:p,initialize:function(){this.idx=1,this.on("add",this.onAdd),this.on("reset",this.onReset)},onAdd:function(V,z,we){we.noIncrement||V.set("index",this.idx++),we.active&&this.active(this.indexOf(V))},onReset:function(){this.idx=1},getSeparator:function(){var V=this.property;return V?V.get("layerSeparator"):", "},getLayersFromValue:function(V){var z=this,we=[];return V.replace(/\(([\w\s,.]*)\)/g,function(he){var Ie=he.replace(/,\s*/g,",");V=V.replace(he,Ie)}),(V?V.split(this.getSeparator()):[]).forEach(function(he){we.push({properties:z.properties.parseValue(he)})}),we},getLayersFromStyle:function(V){var z=[],we=this.properties;return we.each(function(he){var Ie=V[he.get("property")];(Ie?Ie.split(", "):[]).forEach(function(st,kt){st=he.parseValue(st.trim()).value;var ft=z[kt],zt=x(x({},he.attributes),{value:st});ft?ft.properties.push(zt):z[kt]={properties:[zt]}})}),z.forEach(function(he){var Ie=he.properties.map(function(st){return st.property});we.each(function(st){var kt=st.get("property");Ie.indexOf(kt)<0&&he.properties.push(x({},st.attributes))})}),z},active:function(V){this.each(function(we){return we.set("active",0)});var z=this.at(V);z&&z.set("active",1)},getFullValue:function(){var V=[];return this.each(function(z){return V.push(z.getFullValue())}),V.join(this.getSeparator())},getPropertyValues:function(V,z){var we=[];return this.each(function(he){var Ie=he.getPropertyValue(V);Ie?we.push(Ie):!Object(I.isUndefined)(z)&&we.push(z)}),we.join(", ")}});function R(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function Q(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?R(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):R(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var re=w.extend({defaults:Q(Q({},w.prototype.defaults),{},{layers:[],layerSeparator:", ",prepend:0,preview:0}),initialize:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w.callParentInit(w,this,V,z);var we=this.get("layers"),he=new b(we);he.property=this,he.properties=this.get("properties"),this.set("layers",he),w.callInit(this,V,z)},getLayers:function(){return this.get("layers")},getCurrentLayer:function(){return this.getLayers().filter(function(V){return V.get("active")})[0]},getFullValue:function(){return this.get("detached")?"":this.get("layers").getFullValue()},getValueFromStyle:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=this.getLayers().getLayersFromStyle(V);return new b(z).getFullValue()},clearValue:function(){return this.getLayers().reset(),w.prototype.clearValue.apply(this,arguments)},getValueFromTarget:function(V){var z=this.attributes,we=z.detached,he=z.property,Ie=z.properties,st=V.getStyle(),kt={};return Ie.forEach(function(ft){var zt=ft.get("property"),nn=st[zt];nn&&(kt[zt]=nn)}),we?Object(I.keys)(kt).length?kt:"":st[he]},getLayersFromTarget:function(V){}}),Fe=o(22),ge=o.n(Fe),fe=["status","value"],Ae=["complete"];function Pe(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function de(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?Pe(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):Pe(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var pe="data-clear-style",_e="component:styleUpdate",ae=U.a.View.extend({template:function(){var z=this.ppfx;return'\n      <div class="'.concat(this.pfx,'label" data-sm-label></div>\n      <div class="').concat(z,'fields" data-sm-fields></div>\n    ')},templateLabel:function(V){var z=this.pfx,we=this.em,he=V.parent,Ie=V.attributes,st=Ie.icon,kt=void 0===st?"":st,ft=Ie.info,zt=void 0===ft?"":ft,Wt=Ie.name,ln=we&&we.t("styleManager.properties.".concat(Ie.id))||Wt;return'\n      <span class="'.concat(z,"icon ").concat(kt,'" title="').concat(zt,'">\n        ').concat(ln,"\n      </span>\n      ").concat(he?"":'<b class="'.concat(z,'clear" ').concat(pe,">&Cross;</b>"),"\n    ")},templateInput:function(V){return'\n      <div class="'.concat(this.ppfx,'field">\n        <input placeholder="').concat(V.getDefaultValue(),'"/>\n      </div>\n    ')},events:se()({change:"inputValueChanged"},"click [".concat(pe,"]"),"clear"),initialize:function(){var V=this,z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(I.bindAll)(this,"targetUpdated","__change","__updateStyle"),this.config=z.config||{};var we=this.config.em;this.em=we,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.target=z.target||{},this.propTarget=z.propTarget||{},this.onChange=z.onChange,this.onInputRender=z.onInputRender||{},this.customValue=z.customValue||{};var he=this.model;this.property=he.get("property"),this.input=null;var Ie=this.pfx;if(this.inputHolderId="#"+Ie+"input-holder",this.sector=he.collection&&he.collection.sector,this.__destroyFn=this.destroy?this.destroy.bind(this):function(){},he.view=this,he.get("value")||he.set("value",he.getDefaultValue()),we){this.listenTo(we,"update:component:style:".concat(this.property),this.targetUpdated);var st=he.get("requires")||{};Object.keys(st).forEach(function(ft){V.listenTo(we,"component:styleUpdate:".concat(ft),V.targetUpdated)})}this.listenTo(this.propTarget,"update",this.targetUpdated),this.listenTo(he,"destroy remove",this.remove),this.listenTo(he,"change:value",this.modelValueChanged),this.listenTo(he,"targetUpdated",this.targetUpdated),this.listenTo(he,"change:visible",this.updateVisibility),this.listenTo(he,"change:status",this.updateStatus),this.listenTo(he,"change:name change:className change:full",this.render);var kt=this.init&&this.init.bind(this);kt&&kt()},remove:function(){var V=this;U.a.View.prototype.remove.apply(this,arguments),["em","target","input","$input","propTarget","sector"].forEach(function(z){return V[z]={}}),this.__destroyFn(this._getClbOpts())},updateStatus:function(){var V=this.model,z=V.get("status"),we=V.parent,he=this.pfx,Ie=this.ppfx,st=this.config,kt="".concat(Ie,"four-color"),ft="".concat(Ie,"color-warn"),zt=this.$el.children(".".concat(he,"label")),nn=this.getClearEl(),Wt=nn?nn.style:{};switch(zt.removeClass("".concat(kt," ").concat(ft)),Wt.display="none",z){case"updated":!we&&zt.addClass(kt),st.clearProperties&&(Wt.display="inline");break;case"computed":zt.addClass(ft)}},clear:function(V){var z=this;V&&V.stopPropagation(),this.model.clearValue(),this.__unset(),setTimeout(function(){return z.targetUpdated()})},getClearEl:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(pe,"]"))),this.clearEl},getTarget:function(){return this.getTargetModel()},getTargets:function(){return this.propTarget.targets||[this.getTarget()]},getFirstTarget:function(){return this.getTargets()[0]},getTargetModel:function(){return this.propTarget&&this.propTarget.model},getHelperModel:function(){return this.propTarget&&this.propTarget.helper},inputValueChanged:function(V){V&&V.stopPropagation(),this.emit||(this.model.setValueFromInput(this.getInputValue()),this.elementUpdated())},elementUpdated:function(){this.setStatus("updated")},setStatus:function(V){this.model.set("status",V);var z=this.model.parent;z&&"updated"==V&&z.set("status",V)},emitUpdateTarget:Object(I.debounce)(function(){var V=this.config.em;V&&V.trigger("styleManager:update:target",this.getFirstTarget())}),_getTargetData:function(){var V=this.model,z=this.config,we=this.getTargetValue({ignoreDefault:1}),he=V.getDefaultValue(),Ie=this.getComputedValue(),st="",kt="";return we?(st=we,z.highlightChanged&&(kt="updated")):Ie&&z.showComputed&&Ie!=he?(st=Ie,z.highlightComputed&&(kt="computed")):(st=he,kt=""),{value:st,status:kt,targetValue:we,defaultValue:he,computedValue:Ie}},targetUpdated:function(V,z){var we=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.config.fromLayer&&(this.emitUpdateTarget(),this.checkVisibility())){var he=this.config,Ie=he.em,st=this.model,kt=st.get("property"),ft=this._getTargetData(),zt=ft.status,nn=ft.value,Wt=ge()(ft,fe),ln=de({status:zt,value:nn},Wt);return this.setStatus(zt),st.setValue(nn,0,de({fromTarget:1},we)),this.__update(nn),Ie&&(Ie.trigger("styleManager:change",this,kt,nn,ln),Ie.trigger("styleManager:change:".concat(kt),this,nn,ln),this._emitUpdate(ln)),ln}},_emitUpdate:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=this.em,we=this.model;if(z){var he=we.get("property"),Ie=de(de({},this._getEventData()),V),st=Ie.id;z.trigger("style:update",Ie),z.trigger("style:update:".concat(he),Ie),he!==st&&z.trigger("style:update:".concat(st),Ie)}},_getEventData:function(){var V=this.model;return{propertyView:this,targets:this.getTargets(),value:V.getFullValue(),property:V,id:V.get("id"),name:V.get("property")}},checkVisibility:function(){var V=1;return this.config.hideNotStylable&&(this.isTargetStylable()&&this.isComponentStylable()?this.show():(this.hide(),V=0),this.sector&&this.sector.trigger("updateVisibility")),V},getTargetValue:function(){var V,z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},we=this.model,he=this.getFirstTarget(),Ie=this.customValue;if(!he)return V;if((V=he.getStyle()[we.get("property")])||z.ignoreDefault||(V=we.getDefaultValue()),"function"==typeof Ie&&!z.ignoreCustomValue){var st=we.collection.indexOf(we),kt=Ie(this,st,V);kt&&(V=kt)}return V},getComputedValue:function(){var V=this.propTarget,z=V.computed||{},we=V.computedDefault||{},he=this.config.avoidComputed||[],Ie=this.model.get("property"),st=he.indexOf(Ie)<0,kt=z[Ie],ft=we[Object(T.camelCase)(Ie)];return z&&st&&ft!==kt&&kt||""},getInputValue:function(){var V=this.getInputEl();return V?V.value:""},modelValueChanged:function(V,z){var we=this,he=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ie=this.model,st=Ie.getFullValue();if(he.fromInput||this.setValue(st),!he.fromTarget){this.getTargets().forEach(function(nn){return we.__updateTarget(nn,he)});var kt=this.config.em;if(!kt)return;var ft=Ie.get("property"),zt=se()({},ft,st);kt.getSelectedAll().forEach(function(nn){!he.noEmit&&kt.trigger("component:update",nn,zt,he),kt.trigger(_e,nn,ft,he),kt.trigger("".concat(_e,":").concat(ft),nn,st,he),nn.trigger("change:style",nn,zt,he),nn.trigger("change:style:".concat(ft),nn,st,he)})}},__updateTarget:function(V){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},we=this.model,he=we.getFullValue(),Ie=this.onChange;V&&this.isComponentStylable()&&(z.fromTarget||(Ie&&!z.fromParent?Ie(V,this,z):this.updateTargetStyle(he,null,de(de({},z),{},{target:V}))),this._emitUpdate())},updateTargetStyle:function(V){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",we=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},he=z||this.model.get("property"),Ie=we.target||this.getFirstTarget(),st=Ie.getStyle();V?st[he]=V:delete st[he],we.avoidStore?st.__=1:delete st.__,Ie.setStyle(st,we);var kt=this.getHelperModel();kt&&kt.setStyle(st,we)},isTargetStylable:function(V){var z=V||this.getFirstTarget(),we=this.model,he=we.get("id"),Ie=we.get("property"),st=we.get("toRequire"),kt=z.get("unstylable"),ft=z.get("stylable-require"),zt=we.get("requires"),nn=we.get("requiresParent"),Wt=this.sector?this.sector.collection:null,ln=this.em?this.em.getSelected():null,tn=z.get("stylable");if(Object(I.isArray)(tn)&&(tn=tn.indexOf(Ie)>=0),Object(I.isArray)(kt)&&(tn=kt.indexOf(Ie)<0),st&&(tn=!V||ft&&(ft.indexOf(he)>=0||ft.indexOf(Ie)>=0)),Wt&&zt){var kn=Object.keys(zt);Wt.each(function(cn){cn.get("properties").each(function(qt){if(Object(I.includes)(kn,qt.id)){var dn=zt[qt.id];tn=tn&&Object(I.includes)(dn,qt.get("value"))}})})}if(nn){var Cn=ln&&ln.parent(),Fn=Cn&&Cn.getEl();if(Fn){var jn=window.getComputedStyle(Fn);Object(I.each)(nn,function(cn,qt){tn=tn&&jn[qt]&&Object(I.includes)(cn,jn[qt])})}else tn=!1}return tn},isComponentStylable:function(){var V=this.em,z=V&&V.getSelected();return!z||this.isTargetStylable(z)},setRawValue:function(V){this.setValue(this.model.parseValue(V))},setValue:function(V){var z=this.model,we=Object(I.isUndefined)(V)?z.getDefaultValue():V;if(this.update)return this.__update(we);var he=this.getInputEl();he&&(he.value=we)},getInputEl:function(){return this.input||(this.input=this.el.querySelector("input")),this.input},updateVisibility:function(){this.el.style.display=this.model.get("visible")?"":"none"},show:function(){this.model.set("visible",1)},hide:function(){this.model.set("visible",0)},cleanValue:function(){this.setValue("")},clearCached:function(){this.clearEl=null,this.input=null,this.$input=null},__unset:function(){var V=this.unset&&this.unset.bind(this);V&&V(this._getClbOpts())},__update:function(V){var z=this.update&&this.update.bind(this);z&&z(de(de({},this._getClbOpts()),{},{value:V}))},__change:function(){for(var V=this.emit&&this.emit.bind(this),z=arguments.length,we=new Array(z),he=0;he<z;he++)we[he]=arguments[he];V&&V.apply(void 0,[this._getClbOpts()].concat(we))},__updateStyle:function(V){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},we=z.complete,he=ge()(z,Ae),Ie=this.em,st=this.model,kt=st.get("property"),ft=!1!==we;Object(T.isObject)(V)?this.getTargets().forEach(function(zt){zt.addStyle(V,{avoidStore:!ft}),Ie&&Ie.trigger(_e,zt,kt,he)}):st.setValueFromInput(V,we,he),ft&&this.elementUpdated()},_getClbOpts:function(){var V=this.model,z=this.el,we=this.createdEl,he=this.propTarget,Ie=V.get("property"),st=he.computed||{},kt=he.parentRules||[],ft=Object(T.find)(kt,function(zt){return!!zt.getStyle()[Ie]});return{el:z,createdEl:we,props:V.attributes,setProps:function(){return V.set.apply(V,arguments)},change:this.__change,updateStyle:this.__updateStyle,targets:this.getTargets(),target:this.getFirstTarget(),computed:st,parentRules:kt,parentRule:ft}},render:function(){this.clearCached();var V=this.pfx,z=this.model,we=this.el,he=this.$el,Ie=z.get("property"),st=z.get("full"),kt=z.get("className")||"",ft="".concat(V,"property");this.createdEl&&this.__destroyFn(this._getClbOpts()),he.empty().append(this.template(z)),he.find("[data-sm-label]").append(this.templateLabel(z));var zt=this.create&&this.create.bind(this);this.createdEl=zt&&zt(this._getClbOpts()),he.find("[data-sm-fields]").append(this.createdEl||this.templateInput(z)),we.className="".concat(ft," ").concat(V).concat(z.get("type")," ").concat(ft,"__").concat(Ie," ").concat(kt).trim(),we.className+=st?" ".concat(ft,"--full"):"",this.updateStatus();var nn=this.onRender&&this.onRender.bind(this);nn&&nn(),this.setValue(z.get("value"),{fromTarget:1})}});function ne(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function G(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?ne(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):ne(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var W=U.a.$,j=ae.extend({templateInput:function(){var V=this.pfx;return'\n      <div class="'.concat(V,"field ").concat(V,'composite">\n        <span id="').concat(V,'input-holder"></span>\n      </div>\n    ')},inputValueChanged:function(){if(!this.model.get("detached")){for(var V=arguments.length,z=new Array(V),we=0;we<V;we++)z[we]=arguments[we];ae.prototype.inputValueChanged.apply(this,z)}},clear:function(V){var z=this.properties;z&&z.forEach(function(we){return we.clear()}),ae.prototype.clear.apply(this,arguments)},remove:function(){var V=this;this.model.get("properties").reset(),ae.prototype.remove.apply(this,arguments),["properties","props","$props"].forEach(function(z){return V[z]={}})},onRender:function(){var V=this.model,z=V.get("properties")||[];if(this.properties=[],z.length&&(this.$input||(this.$input=W('<input type="hidden" value="0">'),this.input=this.$input.get(0)),this.props||(this.props=V.get("properties")),!this.$props)){this.props.each(function(he,Ie){he&&"composite"==he.get("type")&&(this.props.remove(he),console.warn("Nested composite types not yet allowed.")),he.parent=V},this);var we=new(o(28).default)(this.getPropsConfig());this.$props=we.render().$el,this.properties=we.properties,this.$el.find("#".concat(this.pfx,"input-holder")).append(this.$props)}},getPropsConfig:function(V){var z=this,we=this.model,he={config:G(G({},this.config),{},{highlightComputed:0}),collection:this.props,target:this.target,propTarget:this.propTarget,onChange:function(Ie,st,kt){we.set("value",we.getFullValue(),kt)},customValue:function(Ie,st){return z.valueOnIndex(st,Ie)}};return we.get("detached")&&delete he.onChange,he},valueOnIndex:function(V,z){var he=this.getTargetValue({ignoreDefault:1});return he?he.split(this.model.getSplitSeparator())[V]:z&&z.getTargetValue({ignoreCustomValue:1,ignoreDefault:1})},clearCached:function(){ae.prototype.clearCached.apply(this,arguments),this.$input=null,this.props=null,this.$props=null}}),C=o(28);function H(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function n(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?H(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):H(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var m=U.a.View.extend({events:{click:"active","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"},template:function(V){var z=this.pfx,we=this.ppfx,he=this.em,Ie="".concat(he&&he.t("styleManager.layer")," ").concat(V.get("index"));return'\n      <div id="'.concat(z,'move" class="').concat(we,'no-touch-actions" data-move-layer>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div id="').concat(z,'label">').concat(Ie,'</div>\n      <div id="').concat(z,'preview-box">\n      \t<div id="').concat(z,'preview" data-preview></div>\n      </div>\n      <div id="').concat(z,'close-layer" class="').concat(z,'btn-close" data-close-layer>\n        &Cross;\n      </div>\n      <div id="').concat(z,'inputs" data-properties></div>\n      <div style="clear:both"></div>\n    ')},initialize:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=this.model;this.stackModel=V.stackModel,this.config=V.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.sorter=V.sorter||null,this.propsConfig=V.propsConfig||{},this.customPreview=V.onPreview,this.listenTo(z,"destroy remove",this.remove),this.listenTo(z,"change:active",this.updateVisibility),this.listenTo(z.get("properties"),"change",this.updatePreview),z.view=this,z.set({droppable:0,draggable:1}),this.$el.data("model",z)},initSorter:function(V){this.sorter&&this.sorter.startSort(this.el)},removeItem:function(V){V&&V.stopPropagation(),this.remove()},remove:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=this.model,we=this.props,he=z.collection,Ie=this.stackModel;U.a.View.prototype.remove.apply(this,arguments),he&&he.contains(z)&&he.remove(z),Ie&&Ie.set&&(Ie.set({stackIndex:null},{silent:!0}),!V.fromTarget&&Ie.trigger("updateValue")),we&&we.remove()},onPreview:function(V){var z=this.stackModel,we=z&&z.get("detached"),he=V.split(" "),st=[],kt={};return this.model.get("properties").each(function(ft,zt){var nn=ft.get("property"),Wt=we?ft.getFullValue():he[zt]||"";if(Wt&&"integer"==ft.get("type")){var ln=parseInt(Wt,10),tn=Wt.replace(ln,"");Wt=(ln=(ln=(ln=isNaN(ln)?0:ln)>3?3:ln)<-3?-3:ln)+tn}st.push(Wt),kt[nn]=Wt}),we?kt:st.join(" ")},updatePreview:function(){var V=this.stackModel,z=this.customPreview,we=this.getPreviewEl(),he=this.model.getFullValue(),Ie=z?z(he):this.onPreview(he);if(Ie&&V&&we){var st=we.style;if(Object(I.isString)(Ie))st[V.get("property")]=Ie;else{var kt=[];Object(I.each)(Ie,function(ft,zt){return kt.push("".concat(zt,":").concat(ft))}),we.setAttribute("style",kt.join(";"))}}},getPropertiesWrapper:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},getPreviewEl:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},active:function(){var V=this.model,z=V.collection;z.active(z.indexOf(V))},updateVisibility:function(){var V=this.pfx,z=this.getPropertiesWrapper(),we=this.model.get("active");z.style.display=we?"":"none",this.$el[we?"addClass":"removeClass"]("".concat(V,"active"))},render:function(){var V=this.propsConfig,z=this.model,we=this.el,he=this.pfx,Ie=z.get("preview"),st=new C.default({collection:z.get("properties"),config:n(n({},this.config),{},{fromLayer:1}),target:V.target,customValue:V.customValue,propTarget:V.propTarget,onChange:V.onChange}),kt=st.render().el;return we.innerHTML=this.template(z),we.className="".concat(he,"layer").concat(Ie?"":" ".concat(he,"no-preview")),this.props=st,this.getPropertiesWrapper().appendChild(kt),this.updateVisibility(),this.updatePreview(),this}}),l=U.a.View.extend({initialize:function(V){this.config=V.config||{},this.stackModel=V.stackModel,this.preview=V.preview,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.propsConfig=V.propsConfig;var z=this.pfx,we=this.ppfx,he=this.collection;this.className="".concat(z,"layers ").concat(we,"field"),this.listenTo(he,"add",this.addTo),this.listenTo(he,"deselectAll",this.deselectAll),this.listenTo(he,"reset",this.reset),this.items=[];var Ie=this.config.em||"",st=Ie?Ie.get("Utils"):"";this.sorter=st?new st.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(z,"layers"),itemSel:".".concat(z,"layer"),pfx:this.config.pStylePrefix}):"",he.view=this,this.$el.data("model",he),this.$el.data("collection",he)},addTo:function(V){var z=this.collection.indexOf(V);this.addToCollection(V,null,z)},addToCollection:function(V,z,we){var he=z||null,Ie=this.stackModel,st=this.config,kt=this.sorter,ft=this.propsConfig;void 0!==this.preview&&V.set("preview",this.preview);var zt=new m({model:V,config:st,sorter:kt,stackModel:Ie,propsConfig:ft}),nn=zt.render().el;if(this.items.push(zt),he)he.appendChild(nn);else if(void 0!==we){var Wt="before";this.$el.children().length==we&&(we--,Wt="after"),we<0?this.$el.append(nn):this.$el.children().eq(we)[Wt](nn)}else this.$el.append(nn);return nn},deselectAll:function(){this.$el.find("."+this.pfx+"layer").removeClass(this.pfx+"active")},reset:function(V,z){this.clearItems(z),this.render()},render:function(){var V=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(z){this.addToCollection(z,V)},this),this.$el.append(V),this.$el.attr("class",this.className),this.sorter&&(this.sorter.plh=null),this},remove:function(){this.clearItems(),U.a.View.prototype.remove.apply(this,arguments)},clearItems:function(V){this.items.forEach(function(z){return z.remove(V)}),this.items=[]}});function A(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}var q=new(o(39).a),be=j.extend({templateInput:function(){var V=this.pfx;return'\n      <div class="'.concat(V,"field ").concat(V,'stack">\n        <button type="button" id="').concat(V,'add" data-add-layer>+</button>\n        <div data-layers-wrapper></div>\n      </div>\n    ')},init:function(){var V=this.model;V.set("stackIndex",null),this.events["click [data-add-layer]"]="addLayer",this.listenTo(V,"change:stackIndex",this.indexChanged),this.listenTo(V,"updateValue",this.inputValueChanged),this.delegateEvents();var z=this.getPropsConfig();this.layers=new l({collection:this.getLayers(),stackModel:V,preview:V.get("preview"),config:this.config,propsConfig:z});var we=o(28).default;this.propsView=new we({target:this.target,collection:V.get("properties"),stackModel:V,config:this.config,onChange:z.onChange,propTarget:z.propTarget})},targetUpdated:function(){var V,z=this;if(this.model.get("detached"))V=this._getTargetData(),this.setStatus(V.status),this.checkVisibility();else{for(var we=arguments.length,he=new Array(we),Ie=0;Ie<we;Ie++)he[Ie]=arguments[Ie];V=j.prototype.targetUpdated.apply(this,he)}setTimeout(function(){return z.refreshLayers(V)})},getLayers:function(){return this.model.get("layers")},indexChanged:function(V){var z=this.model;this.getLayers().active(z.get("stackIndex"))},addLayer:function(){var V=this.model,z=this.getLayers(),we=V.get("prepend"),he=V.get("properties").deepClone();he.each(function(st){return st.set("value","")});var Ie=z.add({properties:he},function(st){for(var kt=1;kt<arguments.length;kt++){var ft=null!=arguments[kt]?arguments[kt]:{};kt%2?A(Object(ft),!0).forEach(function(zt){se()(st,zt,ft[zt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(st,Object.getOwnPropertyDescriptors(ft)):A(Object(ft)).forEach(function(zt){Object.defineProperty(st,zt,Object.getOwnPropertyDescriptor(ft,zt))})}return st}({active:1},we&&{at:0}));this.inputValueChanged({up:1}),V.set("stackIndex",z.indexOf(Ie))},inputValueChanged:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=this.model;V.up&&this.elementUpdated(),z.get("detached")?z.get("properties").each(function(we){return we.trigger("change:value")}):z.set("value",this.getLayerValues())},setValue:function(){},getLayerValues:function(){return this.getLayers().getFullValue()},_getClassRule:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=this.em,we=V.skipAdd,he=void 0===we?1:we,Ie=z.getSelected(),st=z.get("StyleManager").getModelToStyle(Ie,{skipAdd:he,useClasses:1});return st!==Ie&&st},_getParentTarget:function(V){for(var z,we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},he=this.em,Ie=this.model,st=Ie.get("property"),kt=we.isValid||function(Fn){return Fn.getStyle()[st]},ft=he.get("CssComposer").getAll().filter(function(Fn){return Fn.selectorsToString()===V.getSelectorsString()}),zt=ft.reduce(function(Fn,jn){return Fn[jn.getAtRule()]=jn,Fn},{}),nn=q.sortMediaObject(zt),Wt=nn.map(function(Fn){return Fn.value}),ln=Wt.indexOf(V),tn=Wt.splice(0,ln),kn=tn.length-1;kn>-1;kn--){var Cn=tn[kn];if(kt(Cn)){z=Cn;break}}return z},refreshLayers:function(){var V,z,we,he,Ie,st,kt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ft=[],zt=this.model,nn=this.em,Wt=this.getLayers(),ln=zt.get("detached"),tn=zt.get("property"),kn=this.getFirstTarget(),Cn=this.getComputedValue(),Fn=nn.getSelected(),jn={fromTarget:1};if(ln){z=kt.targetValue||{};var cn=function(pn){var Zn=zt.get("properties").at(0).get("property");return pn&&!Object(I.isUndefined)(pn.getStyle()[Zn])};if(!Object(I.keys)(z).length&&Cn&&Fn){var qt={isValid:function(pn){return cn(pn)}};(he=this._getParentTarget(kn,qt))?z=he.getStyle():(we=this._getClassRule(),he=!(Ie=cn(we)&&we.getStyle())&&this._getParentTarget(this._getClassRule({skipAdd:0}),qt),st=cn(he)&&he.getStyle(),z=Ie||st||{})}V=z,ft=Wt.getLayersFromStyle(z)}else{var dn=this.getTargetValue({ignoreDefault:1}),fn=dn;!fn&&Cn&&((he=this._getParentTarget(kn))?fn=he.getStyle()[tn]:(st=(he=!(Ie=(we=this._getClassRule())&&we.getStyle()[tn])&&this._getParentTarget(this._getClassRule({skipAdd:0})))&&he.getStyle()[tn],fn=Ie||st||Cn)),V=fn=fn==zt.getDefaultValue()?"":fn,ft=Wt.getLayersFromValue(fn)}var Jt=zt.getLayersFromTarget(kn,{resultValue:V,layersObj:ft})||ft;Wt.reset(null,jn),Wt.add(Jt,jn),zt.set({stackIndex:null},{silent:!0})},getTargetValue:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=this.model,we=z.attributes.detached,he=this.getFirstTarget(),Ie=j.prototype.getTargetValue.call(this,V);return Object(I.isUndefined)(Ie)&&!we?Ie=z.getValueFromStyle(he.getStyle()):we&&(Ie=z.getValueFromTarget(he)),Ie},getPropsConfig:function(){var V=this,z=V.model;return{target:V.target,propTarget:V.propTarget,onChange:function(we,he,Ie){var st=he.model,kt=z.get("status");if(z.get("detached")){var ft=st.get("property"),zt=st.getDefaultValue(),nn=V.getLayers(),Wt=nn.getPropertyValues(ft,zt);he.updateTargetStyle(Wt,null,Ie),"background-image"!=ft||Ie.avoidStore||"computed"!=kt||z.get("properties").filter(function(tn){return"__"==tn.get("property").substr(0,2)}).forEach(function(tn){var kn=tn.get("property"),Cn=nn.getPropertyValues(kn,tn.getDefaultValue());V.getTargets().forEach(function(Fn){return Fn.addStyle(se()({},kn,Cn),Ie)})})}else if("updated"==kt){var ln=z.getFullValue();z.set("value",ln,Ie),!ln&&he.updateTargetStyle(ln,null,Ie)}}}},onRender:function(){var z=this.layers,we=this.propsView,he=this.el.querySelector("[data-layers-wrapper]");we.render(),he.appendChild(z.render().el)}}),Le=U.a.$,ke=ae.extend({templateInput:function(){var V=this.pfx,z=this.em;return'\n    <div class="'.concat(V,"field ").concat(V,"file\">\n      <div id='").concat(V,"input-holder'>\n        <div class=\"").concat(V,'btn-c">\n          <button class="').concat(V,'btn" id="').concat(V,'images" type="button">\n            ').concat(z.t("styleManager.fileButton"),'\n          </button>\n        </div>\n        <div style="clear:both;"></div>\n      </div>\n      <div id="').concat(V,'preview-box">\n        <div id="').concat(V,'preview-file"></div>\n        <div id="').concat(V,'close">&Cross;</div>\n      </div>\n    </div>\n    ')},init:function(){var V=this.em;this.modal=V.get("Modal"),this.am=V.get("AssetManager"),this.events["click #"+this.pfx+"close"]="removeFile",this.events["click #"+this.pfx+"images"]="openAssetManager",this.delegateEvents()},onRender:function(){if(!this.$input){var V=this.model.getDefaultValue();this.$input=Le('<input placeholder="'.concat(V,'">'))}this.$preview||(this.$preview=this.$el.find("#"+this.pfx+"preview-file")),this.$previewBox||(this.$previewBox=this.$el.find("#"+this.pfx+"preview-box")),this.setValue(this.componentValue,0)},clearCached:function(){ae.prototype.clearCached.apply(this,arguments),this.$preview=null,this.$previewBox=null},setValue:function(V,z){ae.prototype.setValue.apply(this,arguments),this.setPreviewView(V&&V!=this.model.getDefaultValue()),this.setPreview(V)},setPreviewView:function(V){var z=this.$previewBox;z&&z[V?"addClass":"removeClass"]("".concat(this.pfx,"show")),z&&z.css({display:V?"block":"none"})},spreadUrl:function(V){this.model.set("value",V),this.setPreviewView(1)},setPreview:function(V){var z=this.$preview;V=V&&V.indexOf("url(")<0?"url(".concat(V,")"):V,z&&z.css("background-image",V)},cleanValue:function(){this.setPreviewView(0),this.model.set({value:""},{silent:!0})},removeFile:function(){this.model.set("value",this.model.getDefaultValue());for(var V=arguments.length,z=new Array(V),we=0;we<V;we++)z[we]=arguments[we];ae.prototype.cleanValue.apply(this,z),this.setPreviewView(0)},openAssetManager:function(){var V=this,z=this.em,we=z&&z.get("AssetManager");we&&we.open({select:function(he,Ie){var st;st=he,V.spreadUrl(Object(I.isString)(st)?st:st.get("src")),Ie&&we.close()},target:this.getTargetModel(),types:["image"],accept:"image/*"})}}),ve=U.a.$,Ee=ae.extend({templateInput:function(){return""},init:function(){var V=this.model;this.listenTo(V,"change:unit",this.modelValueChanged),this.listenTo(V,"el:change",this.elementUpdated),this.listenTo(V,"change:units",this.render)},setValue:function(V){var z=this.model.parseValue(V);V="".concat(z.value).concat(z.unit),this.inputInst.setValue(V,{silent:1})},onRender:function(){var V=this.ppfx;if(!this.input){var z=this.model.input;z.ppfx=V,z.render(),this.el.querySelector(".".concat(V,"fields")).appendChild(z.el),this.$input=z.inputEl,this.unit=z.unitEl,this.$unit=ve(this.unit),this.input=this.$input.get(0),this.inputInst=z}},clearCached:function(){ae.prototype.clearCached.apply(this,arguments),this.unit=null,this.$unit=null}}),Ne=o(45);function Je(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function St(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?Je(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):Je(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var vt=Ee.extend({setValue:function(V){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};z=St(St({},z),{},{silent:1}),this.inputInst.setValue(V,z)},remove:function(){var V=this;Ee.prototype.remove.apply(this,arguments);var z=this.inputInst;z&&z.remove&&z.remove(),["inputInst","$color"].forEach(function(we){return V[we]={}})},onRender:function(){if(!this.input){var V=this.ppfx,z=new Ne.a({target:this.target,model:this.model,ppfx:V}).render();this.el.querySelector(".".concat(V,"fields")).appendChild(z.el),this.$input=z.inputEl,this.$color=z.colorEl,this.input=this.$input.get(0),this.inputInst=z}}}),Z=o(11),ce=o.n(Z);function je(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function qe(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?je(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):je(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var nt=E.extend({defaults:function(){return qe(qe({},E.prototype.defaults),{},{options:[],full:1})},initialize:function(){for(var V=arguments.length,z=new Array(V),we=0;we<V;we++)z[we]=arguments[we];E.prototype.initialize.apply(this,z),this.listenTo(this,"change:options",this.onOptionChange)},onOptionChange:function(){this.set("list",this.get("options"))},getOptions:function(){var V=this.attributes,z=V.options;return z&&z.length?z:V.list},setOptions:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.set("options",V),this},addOption:function(V){if(V){var z=this.getOptions();this.setOptions([].concat(ce()(z),[V]))}return this}});function ut(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function mt(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?ut(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):ut(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var X=nt.extend({defaults:function(){return mt(mt({},nt.prototype.defaults()),{},{full:0})}}),Te=ae.extend({templateInput:function(){var V=this.pfx,z=this.ppfx;return'\n      <div class="'.concat(z,"field ").concat(z,'select">\n        <span id="').concat(V,'input-holder"></span>\n        <div class="').concat(z,'sel-arrow">\n          <div class="').concat(z,'d-s-arrow"></div>\n        </div>\n      </div>\n    ')},initialize:function(){for(var V=arguments.length,z=new Array(V),we=0;we<V;we++)z[we]=arguments[we];ae.prototype.initialize.apply(this,z),this.listenTo(this.model,"change:options",this.updateOptions)},updateOptions:function(){this.input=null,this.onRender()},onRender:function(){var V=this.pfx,z=this.model.getOptions();if(!this.input){var we="";z.forEach(function(Ie){var st=Ie.name||Ie.value,kt=Ie.style?Ie.style.replace(/"/g,"&quot;"):"",ft=kt?'style="'.concat(kt,'"'):"",zt=Ie.value.replace(/"/g,"&quot;");we+='<option value="'.concat(zt,'" ').concat(ft,">").concat(st,"</option>")});var he=this.el.querySelector("#".concat(V,"input-holder"));he.innerHTML="<select>".concat(we,"</select>"),this.input=he.firstChild}}}),Re=ae.extend({templateInput:function(){var V=this.ppfx;return'\n      <div class="'.concat(V,"field ").concat(V,'field-radio">\n      </div>\n    ')},onRender:function(){var V=this.pfx,z=this.ppfx,we="".concat(z,"radio-item-label"),he=this.model,Ie=he.get("property"),st=he.get("list")||he.get("options")||[],kt=he.cid,ft="".concat(V,"radio ").concat(V,"radio-").concat(Ie);if(!this.input&&st&&st.length){var zt="";st.forEach(function(Wt){var ln=Wt.className?"".concat(Wt.className," ").concat(V,"icon ").concat(we):"",tn="".concat(Ie,"-").concat(Wt.value,"-").concat(kt),kn=Wt.name||Wt.value,Cn=Wt.title?'title="'.concat(Wt.title,'"'):"";zt+='\n            <div class="'.concat(z,'radio-item">\n              <input type="radio" class="').concat(ft,'" id="').concat(tn,'" name="').concat(Ie,"-").concat(kt,'" value="').concat(Wt.value,'"/>\n              <label class="').concat(ln||we,'" ').concat(Cn,' for="').concat(tn,'">').concat(ln?"":kn,"</label>\n            </div>\n          ")});var nn=this.el.querySelector(".".concat(z,"field"));nn.innerHTML='<div class="'.concat(z,'radio-items">').concat(zt,"</div>"),this.input=nn.firstChild}},getInputValue:function(){var V=this.getCheckedEl();return V?V.value:""},getCheckedEl:function(){var V=this.getInputEl();return V?V.querySelector("input:checked"):""},setValue:function(V){var z=this.model,we=V||z.get("value")||z.getDefaultValue(),he=this.getInputEl(),Ie=he?he.querySelector('[value="'.concat(we,'"]')):"";if(Ie)Ie.checked=!0;else{var st=this.getCheckedEl();st&&(st.checked=!1)}}}),$e=o(40);function me(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function Ke(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?me(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):me(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var Ze=E.extend({defaults:Ke(Ke({},E.prototype.defaults),{},{units:[],unit:"",step:1,min:"",max:""}),getUnits:function(){return this.get("units")||[]},getValueUnit:function(){return this.get("unit")},initialize:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E.callParentInit(E,this,V,z);var we=this.get("unit"),he=this.get("units");this.input=Object(T.hasWin)()&&new $e.a({model:this}),he.length&&!we&&this.set("unit",he[0]),E.callInit(this,V,z)},clearValue:function(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.set({value:void 0,unit:void 0},V),this},parseValue:function(V){var z=E.prototype.parseValue.apply(this,arguments),we=this.input.validateInputValue(z.value,{deepCheck:1}),he=we.value,Ie=we.unit;return z.value=he,z.unit=Ie,z},getFullValue:function(){var V=this.get("value"),z=this.get("unit");return V=Object(I.isUndefined)(V)?"":V,z=!Object(I.isUndefined)(z)&&V?z:"",V="".concat(V).concat(z),E.prototype.getFullValue.apply(this,[V])}});function ht(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function Pt(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?ht(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):ht(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var Dt=Ze.extend({defaults:Pt(Pt({},Ze.prototype.defaults),{},{showInput:1})});function ct(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function Tt(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?ct(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):ct(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var De=Ee.extend({events:function(){return Tt(Tt({},Ee.prototype.events),{},{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},templateInput:function(V){var z=this.ppfx;return'\n      <div class="'.concat(z,"field ").concat(z,'field-range">\n        <input type="range"\n          min="').concat(V.get("min"),'"\n          max="').concat(V.get("max"),'"\n          step="').concat(V.get("step"),'"/>\n      </div>\n    ')},getSliderEl:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},inputValueChanged:function(){var V=this.model,z=V.get("step");this.getInputEl().value=this.getSliderEl().value;var we=this.getInputValue()-z;V.set("value",we,{avoidStore:1}).set("value",we+z),this.elementUpdated()},inputValueChangedSoft:function(){this.getInputEl().value=this.getSliderEl().value,this.model.set("value",this.getInputValue(),{avoidStore:1}),this.elementUpdated()},setValue:function(V){var z=this.model.parseValue(V);this.getSliderEl().value=parseFloat(z.value),Ee.prototype.setValue.apply(this,arguments)},onRender:function(){Ee.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},clearCached:function(){Ee.prototype.clearCached.apply(this,arguments),this.slider=null}});function Ot(V,z){var we=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);z&&(he=he.filter(function(Ie){return Object.getOwnPropertyDescriptor(V,Ie).enumerable})),we.push.apply(we,he)}return we}function oe(V){for(var z=1;z<arguments.length;z++){var we=null!=arguments[z]?arguments[z]:{};z%2?Ot(Object(we),!0).forEach(function(he){se()(V,he,we[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(we)):Ot(Object(we)).forEach(function(he){Object.defineProperty(V,he,Object.getOwnPropertyDescriptor(we,he))})}return V}var rt=le.default=U.a.Collection.extend(L.a).extend({extendViewApi:1,types:[{id:"stack",model:re,view:be,isType:function(V){if(V&&"stack"==V.type)return V}},{id:"composite",model:w,view:j,isType:function(V){if(V&&"composite"==V.type)return V}},{id:"file",model:E,view:ke,isType:function(V){if(V&&"file"==V.type)return V}},{id:"color",model:E,view:vt,isType:function(V){if(V&&"color"==V.type)return V}},{id:"select",model:X,view:Te,isType:function(V){if(V&&"select"==V.type)return V}},{id:"radio",model:nt,view:Re,isType:function(V){if(V&&"radio"==V.type)return V}},{id:"slider",model:Dt,view:De,isType:function(V){if(V&&"slider"==V.type)return V}},{id:"integer",model:Ze,view:Ee,isType:function(V){if(V&&"integer"==V.type)return V}},{id:"base",model:E,view:ae,isType:function(V){return V.type="base",V}}],deepClone:function(){var V=this.clone();return V.reset(V.map(function(z){var we=z.clone();return we.typeView=z.typeView,we})),V},parseValue:function(V){var z=this,we=[];return V.split(" ").forEach(function(he,Ie){var st=z.at(Ie);st&&we.push(oe(oe({},st.attributes),{value:he}))}),we},getFullValue:function(){var V="";return this.each(function(z){return V+="".concat(z.getFullValue()," ")}),V.trim()}})},function(Ye,le){function o(ee,se,J,U,L,k,f){try{var g=ee[k](f),h=g.value}catch(y){return void J(y)}g.done?se(h):Promise.resolve(h).then(U,L)}Ye.exports=function(ee){return function(){var se=this,J=arguments;return new Promise(function(U,L){var k=ee.apply(se,J);function f(h){o(k,U,L,f,g,"next",h)}function g(h){o(k,U,L,f,g,"throw",h)}f(void 0)})}},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(ee){"object"==typeof window&&(o=window)}Ye.exports=o},function(Ye,le,o){"use strict";o.r(le);var ee=o(2),se=o.n(ee).a.$;le.default={startSelectPosition:function(J,U){var L=this,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isPointed=!1;var f=this.editorModel.get("Utils"),g=J.ownerDocument.body;f&&!this.sorter&&(this.sorter=new f.Sorter({container:g,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:U,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return L.em.getZoomDecimal()}})),k.onStart&&(this.sorter.onStart=k.onStart),J&&this.sorter.startSort(J,{container:g})},getOffsetDim:function(){var J=this.offset(this.canvas.getFrameEl()),U=this.offset(this.canvas.getElement());return{top:J.top-U.top,left:J.left-U.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex="after"==this.posMethod&&0!==this.cDim.length?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=0!==this.cDim.length&&"after"==this.posMethod&&this.posIndex==this.cDim.length,this.posTargetEl=0===this.cDim.length?se(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?se(this.cDim[this.posIndex][5]).parent():se(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(J,U,L){var k=J||0,g=L.length,h=0!==g&&"after"==(U||"before")&&k==g;return 0!==g&&(!h&&!L[k][4]||L[k-1]&&!L[k-1][4]||h&&!L[k-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},function(Ye,le,o){"use strict";var ee=o(46),se=o(1);Object(se.hasWin)()&&(window.Promise=window.Promise||ee.a),le.a="function"==typeof fetch?fetch.bind():function(J,U){return new ee.a(function(L,k){var f=new XMLHttpRequest;for(var g in f.open(U.method||"get",J),f.withCredentials="include"==U.credentials,U.headers||{})f.setRequestHeader(g,U.headers[g]);f.onload=function(h){return L({status:f.status,statusText:f.statusText,text:function(){return ee.a.resolve(f.responseText)}})},f.onerror=k,f.upload&&U.onProgress&&(f.upload.onprogress=U.onProgress),U.body?f.send(U.body):f.send()})}},function(Ye,le,o){"use strict";var ee=o(0),se=o(2),J=o.n(se),U=J.a.Model,L=J.a.View;le.a={types:[],initialize:function(k,f){var g=this;this.model=function(){var y,d,P,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(O&&O.type){var D=g.getBaseType();y=(P=g.getType(O.type))?P.model:D.model,d=P?P.view:D.view}else{var I=g.recognizeType(O);y=(P=I.type).model,d=P.view,O=I.attributes}var T=new y(O,v);return T.typeView=d,T};var h=this.init&&this.init.bind(this);h&&h()},recognizeType:function(k){for(var f=this.getTypes(),g=0;g<f.length;g++){var h=f[g],y=h.isType(k);if(y="boolean"==typeof y&&y?{type:h.id}:y)return{type:h,attributes:y}}return{type:this.getBaseType(),attributes:k}},getBaseType:function(){var k=this.getTypes();return k[k.length-1]},getTypes:function(){return this.types},getType:function(k){for(var f=this.getTypes(),g=0;g<f.length;g++){var h=f[g];if(h.id===k)return h}},addType:function(k,f){var g=this.getType(k),h=this.getBaseType(),y=g?g.model:h.model,d=g?g.view:h.view,P=f.model,O=f.view,v=f.isType;P=P instanceof U||Object(ee.isFunction)(P)?P:y.extend(P||{}),O=O instanceof L||Object(ee.isFunction)(O)?O:d.extend(O||{}),!this.extendViewApi||f.model||f.view||(O=O.extend(f)),g?(g.model=P,g.view=O,g.isType=v||g.isType):(f.id=k,f.model=P,f.view=O,f.isType=v||function(D){if(D&&D.type==k)return!0},this.getTypes().unshift(f))}}},function(Ye,le,o){"use strict";var ee=o(2),se=o.n(ee),J=o(0),U=Number.MAX_VALUE;le.a=se.a.Model.extend({initialize:function(){Object(J.bindAll)(this,"sortRules"),this.compCls=[],this.ids=[]},buildFromModel:function(L){var k=this,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g="",h=this.em,y=h&&h.getConfig("avoidInlineStyle"),d=L.styleToString(),P=L.get("classes"),O=f.wrapperIsBody,v=L.get("wrapper");if(this.ids.push("#".concat(L.getId())),P.each(function(T){return k.compCls.push(T.getFullName())}),!y&&d){var D="#".concat(L.getId());g="".concat(D=O&&v?"body":D,"{").concat(d,"}")}var I=L.components();return I.each(function(T){return g+=k.buildFromModel(T,f)}),g},build:function(L){var k=this,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=f.json,h=f.em||"",y=f.cssc||h&&h.get("CssComposer");this.em=h,this.compCls=[],this.ids=[],this.model=L;var d=[],P=L?this.buildFromModel(L,f):"",O=Object(J.isUndefined)(f.clearStyles)&&h?h.getConfig("clearStyles"):f.clearStyles;if(y){var v=f.rules||y.getAll(),D={},I=[];v.forEach(function(T){var S=T.getAtRule();if(S){var r=D[S];r?r.push(T):D[S]=[T]}else{var _=k.buildFromRule(T,I,f);g?d.push(_):P+=_}}),this.sortMediaObject(D).forEach(function(T){var S="",r=T.key;T.value.forEach(function(_){var E=k.buildFromRule(_,I,f);_.get("singleAtRule")?P+="".concat(r,"{").concat(E,"}"):S+=E,g&&d.push(E)}),S&&(P+="".concat(r,"{").concat(S,"}"))}),h&&O&&v.remove&&v.remove(I)}return g?d.filter(function(T){return T}):P},buildFromRule:function(L,k){var f,g=this,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},y="",d=this.model,P=L.selectorsToString({skipAdd:1}),O=L.get("selectorsAdd"),v=L.get("singleAtRule");if(L.get("selectors").each(function(I){var T=I.getFullName();(g.compCls.indexOf(T)>=0||g.ids.indexOf(T)>=0||h.keepUnusedStyles)&&(f=1)}),P&&f||O||v||!d){var D=L.getDeclaration({body:1});D&&(h.json?y=L:y+=D)}else k.push(L);return y},getQueryLength:function(L){var k=/(-?\d*\.?\d+)\w{0,}/.exec(L);return k?parseFloat(k[1]):U},sortMediaObject:function(){var L=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=[];return Object(J.each)(k,function(g,h){return f.push({key:h,value:g})}),f.sort(function(g,h){var y=[g.key,h.key].every(function(O){return-1!==O.indexOf("min-width")}),P=y?h.key:g.key;return L.getQueryLength(y?g.key:h.key)-L.getQueryLength(P)})},sortRules:function(L,k){var f=function(d){return d.get("mediaText")},g=[f(L),f(k)].every(function(d){return-1!==d.indexOf("min-width")}),h=f(g?L:k),y=f(g?k:L);return this.getQueryLength(h)-this.getQueryLength(y)}})},function(Ye,le,o){"use strict";var ee=o(2),J=(o.n(ee),o(0)),U=o(1),L=o(25);le.a=L.a.extend({events:{"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"},template:function(){var k=this.ppfx;return'\n      <span class="'.concat(k,'input-holder"></span>\n      <span class="').concat(k,'field-units"></span>\n      <div class="').concat(k,'field-arrows" data-arrows>\n        <div class="').concat(k,'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(k,'field-arrow-d" data-arrow-down></div>\n      </div>\n    ')},inputClass:function(){var k=this.ppfx;return this.opts.contClass||"".concat(k,"field ").concat(k,"field-integer")},initialize:function(){L.a.prototype.initialize.apply(this,arguments),Object(J.bindAll)(this,"moveIncrement","upIncrement"),this.doc=document,this.listenTo(this.model,"change:unit",this.handleModelChange)},setValue:function(k,f){var g=f||{},h=this.validateInputValue(k,{deepCheck:1}),y={value:h.value};(h.unit||h.force)&&(y.unit=h.unit),this.model.set(y,g),g.silent&&this.handleModelChange()},handleChange:function(k){k.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},handleUnitChange:function(k){k.stopPropagation();var f=this.getUnitEl().value;this.model.set("unit",f),this.elementUpdated()},handleKeyDown:function(k){"ArrowUp"===k.key&&(k.preventDefault(),this.upArrowClick()),"ArrowDown"===k.key&&(k.preventDefault(),this.downArrowClick())},elementUpdated:function(){this.model.trigger("el:change")},handleModelChange:function(){var k=this.model;this.getInputEl().value=k.get("value");var f=this.getUnitEl();f&&(f.value=k.get("unit")||"")},getUnitEl:function(){if(!this.unitEl){var k=this.model,f=k.get("units")||[];if(f.length){var g=[];f.forEach(function(y){var d=y==k.get("unit")?"selected":"";g.push("<option ".concat(d,">").concat(y,"</option>"))});var h=document.createElement("div");h.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(g.join(""),"</select>"),this.unitEl=h.firstChild}}return this.unitEl},upArrowClick:function(){var k=this.model,f=k.get("step"),g=parseFloat(k.get("value"));g=this.normalizeValue(g+f);var h=this.validateInputValue(g);k.set("value",h.value),this.elementUpdated()},downArrowClick:function(){var k=this.model,f=k.get("step"),g=parseFloat(k.get("value")),h=this.normalizeValue(g-f),y=this.validateInputValue(h);k.set("value",y.value),this.elementUpdated()},downIncrement:function(k){k.preventDefault(),this.moved=0;var f=this.model.get("value");f=this.normalizeValue(f),this.current={y:k.pageY,val:f},Object(U.on)(this.doc,"mousemove",this.moveIncrement),Object(U.on)(this.doc,"mouseup",this.upIncrement)},moveIncrement:function(k){this.moved=1;var f=this.model,g=f.get("step"),h=this.current,y=this.normalizeValue(h.val+(h.y-k.pageY)*g);return this.prValue=this.validateInputValue(y).value,f.set("value",this.prValue,{avoidStore:1}),!1},upIncrement:function(){var k=this.model,f=k.get("step");if(Object(U.off)(this.doc,"mouseup",this.upIncrement),Object(U.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var g=this.prValue-f;k.set("value",g,{avoidStore:1}).set("value",g+f),this.elementUpdated()}},normalizeValue:function(k){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g=this.model,h=g.get("step"),y=0;if(isNaN(k))return f;if(k=parseFloat(k),Math.floor(k)!==k){var d=h.toString().split(".")[1];y=d?d.length:0}return y?parseFloat(k.toFixed(y)):k},validateInputValue:function(k,f){var g=0,h=f||{},y=this.model,P=Object(J.isUndefined)(k)?"":k,O=y.get("units")||[],v=y.get("unit")||O.length&&O[0]||"",D=y.get("max"),I=y.get("min"),T=!!y.get("limitlessMax"),S=!!y.get("limitlessMin");if(h.deepCheck){var r=y.get("fixedValues")||[];if(P){var _=new RegExp("^"+r.join("|"),"g");if(r.length&&_.test(P))P=P.match(_)[0],v="",g=1;else{var E=P+"";P+="",P=parseFloat(P.replace(",",".")),P=isNaN(P)?"":P;var B=E.replace(P,"");Object(J.indexOf)(O,B)>=0&&(v=B)}}}return T||Object(J.isUndefined)(D)||""===D||(P=P>D?D:P),S||Object(J.isUndefined)(I)||""===I||(P=P<I?I:P),{force:g,value:P,unit:v}},render:function(){L.a.prototype.render.call(this),this.unitEl=null;var k=this.getUnitEl();return k&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(k),this}})},function(Ye,le,o){var ee=o(94),se=o(95),J=o(50),U=o(96);Ye.exports=function(L,k){return ee(L)||se(L,k)||J(L,k)||U()},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){"use strict";var ee=o(2),se=o.n(ee),J=o(0);le.a=se.a.View.extend({initialize:function(U){this.opts=U||{},this.config=U.config||{},this.em=this.config.em;var L=this.collection;this.listenTo(L,"add",this.addTo),this.listenTo(L,"reset",this.resetChildren),this.listenTo(L,"remove",this.removeChildren)},removeChildren:function(U,L){var k=this,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};U.views.forEach(function(h){if(h){var y=h.childrenView,d=h.scriptContainer;y&&y.stopListening(),d&&d.remove(),h.remove.apply(h)}});var g=U.components();g.forEach(function(h){return k.removeChildren(h,L,f)})},addTo:function(U){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=this.config.em,f=this.collection.indexOf(U);if(this.addToCollection(U,null,f),k&&!L.temporary){var g=function h(y){k.trigger("component:add",y),y.components().forEach(function(d){return h(d)})};g(U)}},addToCollection:function(U,L,k){this.compView||(this.compView=o(12).default);for(var f=this.config,g=this.opts,h=this.em,y=L||null,d=f.frameView,P=void 0===d?{}:d,O=P.model&&U.getView(P.model),v=g.componentTypes||h&&h.get("DomComponents").getTypes(),D=U.get("type")||"default",I=this.compView,T=0;T<v.length;T++)if(v[T].id==D){I=v[T].view;break}var S,r=O||new I({model:U,config:f,componentTypes:v});try{S=r.render().el}catch($){S=document.createTextNode(""),h.logError($)}if(y)y.appendChild(S);else{var _=this.parentEl,E=_.childNodes;if(Object(J.isUndefined)(k))_.appendChild(S);else{var B=E.length==k;B&&k--,B||!E.length?_.appendChild(S):_.insertBefore(S,E[k])}}return S},resetChildren:function(U){var L=this,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=k.previousModels,g=void 0===f?[]:f;this.parentEl.innerHTML="",g.forEach(function(h){return L.removeChildren(h,L.collection)}),U.each(function(h){return L.addToCollection(h)})},render:function(U){var L=this,k=this.el,f=document.createDocumentFragment();return this.parentEl=U||this.el,this.collection.each(function(g){return L.addToCollection(g,f)}),k.innerHTML="",k.appendChild(f),this}})},function(Ye,le,o){"use strict";var ee=o(2),se=o.n(ee),J=se.a.View.extend({tagName:"style",initialize:function(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=f.config||{};var g=this.model;this.listenTo(g,"change",this.render),this.listenTo(g,"destroy remove",this.remove),this.listenTo(g.get("selectors"),"change",this.render)},render:function(){var f=this.model,g=this.el,h=f.get("important");return g.innerHTML=f.toCSS({important:h}),this}}),U=J.extend({_createElement:function(f){return document.createTextNode("")},render:function(){var f=this.model,g=f.get("important");return this.el.textContent=f.getDeclaration({important:g}),this}}),L=se.a.$,k=function(f,g){return"".concat(f).concat(g?"-".concat(parseFloat(g)):"")};le.a=se.a.View.extend({initialize:function(f){var g=f.config||{};this.atRules={},this.config=g,this.em=g.em,this.pfx=g.stylePrefix||"",this.className=this.pfx+"rules";var h=this.collection;this.listenTo(h,"add",this.addTo),this.listenTo(h,"reset",this.render)},addTo:function(f){this.addToCollection(f)},addToCollection:function(f,g){if(this.renderStarted){var h,y,d=g||null,P={model:f,config:this.config};if("keyframes"===f.get("atRuleType")){var O=f.getAtRule(),v=this.atRules[O];if(!v){var D=document.createElement("style");v=document.createTextNode(""),D.appendChild(document.createTextNode("".concat(O,"{"))),D.appendChild(v),D.appendChild(document.createTextNode("}")),this.atRules[O]=v,h=D}y=new U(P),v.appendData(y.render().el.textContent)}else h=(y=new J(P)).render().el;var I=this.className,T=f.get("mediaText"),S=k(I),r=S;if(T&&(r=k(I,this.getMediaWidth(T))),h){var _,E=d||this.el;try{_=E.querySelector("#".concat(r))}catch(B){}_||(_=E.querySelector("#".concat(S))),_.appendChild(h)}return h}},getMediaWidth:function(f){return f&&f.replace("(".concat(this.em.getConfig("mediaCondition"),": "),"").replace(")","")},render:function(){var f=this;this.renderStarted=1,this.atRules={};var g=this.em,h=this.$el,y=this.className,d=this.collection,P=document.createDocumentFragment();h.empty();var O=g.get("DeviceManager").getAll().pluck("priority");return O.every(function(v){return v})&&O.unshift(0),O.forEach(function(v){return L('<div id="'.concat(k(y,v),'"></div>')).appendTo(P)}),d.each(function(v){return f.addToCollection(v,P)}),h.append(P),h.attr("class",y),this}})},function(Ye,le,o){"use strict";var ee=o(3),se=o.n(ee),J=o(14),U=o.n(J),L=o(0),k="text/html",f=k,g=function(d){var P,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=new DOMParser,D=O.htmlType||f,I=D===k,T=I?d:"<div>".concat(d,"</div>"),S=v.parseFromString(T,D);if(I){var r=S.head,_=S.body,E=r.querySelectorAll("script");Object(L.each)(E,function($){return _.appendChild($)});var B=[];Object(L.each)(r.children,function($){return B.push($)}),Object(L.each)(B,function($,w){return _.insertBefore($,_.children[w])}),P=_}else P=S.firstChild;return P};function h(d,P){var O=Object.keys(d);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);P&&(v=v.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable})),O.push.apply(O,v)}return O}function y(d){for(var P=1;P<arguments.length;P++){var O=null!=arguments[P]?arguments[P]:{};P%2?h(Object(O),!0).forEach(function(v){se()(d,v,O[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(O)):h(Object(O)).forEach(function(v){Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(O,v))})}return d}le.a=function(d){var P=d,O="data-gjs-",v="parse:html";return{compTypes:"",modelAttrStart:O,splitPropsFromAttr:function(){var D=this,I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},T={},S={};return Object(L.each)(I,function(r,_){if(0===_.indexOf(D.modelAttrStart)){var E=_.replace(O,""),B=r.length,$=r&&Object(L.isString)(r),w=$&&r.substr(0,1),p=$&&r.substr(B-1);r="false"!==(r="true"===r||r)&&r;try{r="{"==w&&"}"==p||"["==w&&"]"==p?JSON.parse(r):r}catch(u){}T[E]=r}else S[_]=r}),{props:T,attrs:S}},parseStyle:function(D){for(var I={},T=D.split(";"),S=0,r=T.length;S<r;S++){var _=T[S].trim();if(_){var E=_.split(":");I[E[0].trim()]=E.slice(1).join(":").trim()}}return I},parseClass:function(D){for(var I=[],T=D.split(" "),S=0,r=T.length;S<r;S++){var _=T[S].trim();_&&I.push(_)}return I},parseNode:function(D){for(var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=[],S=D.childNodes,r=0,_=S.length;r<_;r++){var E=S[r],B=E.attributes||[],$=B.length,w=T[T.length-1],p=E.childNodes.length,u=this.compTypes,x={};if(u){var b="",R=E.getAttribute&&E.getAttribute("".concat(O,"type"));if(R)x={type:R};else{for(var Q=0;Q<u.length;Q++){var re=u[Q];if(b=re.model.isComponent(E,I)){"object"!==U()(b)&&(b={type:re.id});break}}x=b}}x.tagName||(x.tagName=E.tagName?E.tagName.toLowerCase():""),$&&(x.attributes={});for(var Fe=0;Fe<$;Fe++){var ge=B[Fe].nodeName,fe=B[Fe].nodeValue;if("style"==ge)x.style=this.parseStyle(fe);else if("class"==ge)x.classes=this.parseClass(fe);else{if("contenteditable"==ge)continue;if(0===ge.indexOf(O)){var Ae=ge.replace(O,""),Pe=fe.length,de=fe&&fe.substr(0,1),pe=fe&&fe.substr(Pe-1);fe="false"!==(fe="true"===fe||fe)&&fe;try{fe="{"==de&&"}"==pe||"["==de&&"]"==pe?JSON.parse(fe):fe}catch(n){}x[Ae]=fe}else""===fe&&!0===E[ge]&&(fe=!0),x.attributes[ge]=fe}}if(p&&!x.components){var _e=E.childNodes[0];1===p&&3===_e.nodeType?(!x.type&&(x.type="text"),x.components={type:"textnode",content:_e.nodeValue}):x.components=this.parseNode(E,y(y({},I),{},{inSvg:I.inSvg||"svg"===x.type}))}if("textnode"==x.type){if(w&&"textnode"==w.type){w.content+=x.content;continue}if(!d.keepEmptyTextNodes){var ae=E.nodeValue;if(" "!=ae&&!ae.trim())continue}}p||"/>"!=="".concat(E.outerHTML).slice(-2)||(x.void=!0);var ne=x.components;if(!x.type&&ne){for(var G=1,W=0,j=0;j<ne.length;j++){var C=ne[j],H=C.type;if(["text","textnode"].indexOf(H)<0&&P.textTags.indexOf(C.tagName)<0){G=0;break}"textnode"==H&&(W=1)}G&&W&&(x.type="text")}(x.tagName||"textnode"==x.type)&&T.push(x)}return T},parse:function(D,I){var T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},S=P.em,r=S&&S.get("Config")||{},_={html:null,css:null},E=y(y({},d),T),B=Object(L.isFunction)(E.parserHtml)?E.parserHtml(D,E):g(D,E),$=B.querySelectorAll("script"),w=$.length;if(!r.allowScripts)for(;w--;)$[w].parentNode.removeChild($[w]);if(I){for(var p=B.querySelectorAll("style"),u=p.length,x="";u--;)x=p[u].innerHTML+x,p[u].parentNode.removeChild(p[u]);x&&(_.css=I.parse(x))}S&&S.trigger("".concat(v,":root"),{input:D,root:B});var b=this.parseNode(B),R=1!==b.length||P.returnArray?b:b[0];return _.html=R,S&&S.trigger(v,{input:D,output:_}),_}}}},function(Ye,le,o){"use strict";var ee=o(3),se=o.n(ee),J=o(2),U=o.n(J),L=o(0),k=o(14),f=o.n(k),g=o(1),h=o(25);function y(v,D){var I=Object.keys(v);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(v);D&&(T=T.filter(function(S){return Object.getOwnPropertyDescriptor(v,S).enumerable})),I.push.apply(I,T)}return I}function d(v){for(var D=1;D<arguments.length;D++){var I=null!=arguments[D]?arguments[D]:{};D%2?y(Object(I),!0).forEach(function(T){se()(v,T,I[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(I)):y(Object(I)).forEach(function(T){Object.defineProperty(v,T,Object.getOwnPropertyDescriptor(I,T))})}return v}var P=U.a.$;P&&function(v,D){if(Object(g.hasWin)()){var I={beforeShow:ae,move:ae,change:ae,show:ae,hide:ae,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},T=[],S=!!/msie/i.exec(window.navigator.userAgent),r=function(){function X(Re,$e){return!!~(""+Re).indexOf($e)}var Te=document.createElement("div").style;return Te.cssText="background-color:rgba(0,0,0,.5)",X(Te.backgroundColor,"rgba")||X(Te.backgroundColor,"hsla")}(),_=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),E=function(){var X="";if(S)for(var Te=1;Te<=6;Te++)X+="<div class='sp-"+Te+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",X,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),B="spectrum.id";v.fn.spectrum=function(X,Te){if("string"==typeof X){var Re=this,$e=Array.prototype.slice.call(arguments,1);return this.each(function(){var me=T[v(this).data(B)];if(me){var Ke=me[X];if(!Ke)throw new Error("Spectrum: no such method: '"+X+"'");"get"==X?Re=me.get():"container"==X?Re=me.container:"option"==X?Re=me.option.apply(me,$e):"destroy"==X?(me.destroy(),v(this).removeData(B)):Ke.apply(me,$e)}}),Re}return this.spectrum("destroy").each(function(){var me=_e(this,v.extend({},X,v(this).data()));v(this).data(B,me.id)})},v.fn.spectrum.load=!0,v.fn.spectrum.loadOpts={},v.fn.spectrum.draggable=W,v.fn.spectrum.defaults=I,v.fn.spectrum.inputTypeColorSupport=function X(){if(void 0===X._cachedResult){var Te=v("<input type='color'/>")[0];X._cachedResult="color"===Te.type&&""!==Te.value}return X._cachedResult},v.spectrum={},v.spectrum.localization={},v.spectrum.palettes={},v.fn.spectrum.processNativeColorInputs=function(){var X=v("input[type=color]");X.length&&!j()&&X.spectrum({preferredFormat:"hex6"})};var $=/^[\s,#]+/,w=/\s+$/,p=0,u=Math,x=u.round,b=u.min,R=u.max,Q=u.random,re=function X(Te,Re){if(Re=Re||{},(Te=Te||"")instanceof X)return Te;if(!(this instanceof X))return new X(Te,Re);var me,ct,Tt,Ke,Ze,ht,Pt,$e=(Ke={r:0,g:0,b:0},Ze=1,ht=!1,Pt=!1,"string"==typeof(me=Te)&&(me=function(De){De=De.replace($,"").replace(w,"").toLowerCase();var Ot,rt,oe=!1;if(Ae[De])De=Ae[De],oe=!0;else if("transparent"==De)return{r:0,g:0,b:0,a:0,format:"name"};return(Ot=de.rgb.exec(De))?{r:Ot[1],g:Ot[2],b:Ot[3]}:(Ot=de.rgba.exec(De))?{r:Ot[1],g:Ot[2],b:Ot[3],a:Ot[4]}:(Ot=de.hsl.exec(De))?{h:Ot[1],s:Ot[2],l:Ot[3]}:(Ot=de.hsla.exec(De))?{h:Ot[1],s:Ot[2],l:Ot[3],a:Ot[4]}:(Ot=de.hsv.exec(De))?{h:Ot[1],s:Ot[2],v:Ot[3]}:(Ot=de.hsva.exec(De))?{h:Ot[1],s:Ot[2],v:Ot[3],a:Ot[4]}:(Ot=de.hex8.exec(De))?{a:(rt=Ot[1],nt(rt)/255),r:nt(Ot[2]),g:nt(Ot[3]),b:nt(Ot[4]),format:oe?"name":"hex8"}:(Ot=de.hex6.exec(De))?{r:nt(Ot[1]),g:nt(Ot[2]),b:nt(Ot[3]),format:oe?"name":"hex"}:!!(Ot=de.hex3.exec(De))&&{r:nt(Ot[1]+""+Ot[1]),g:nt(Ot[2]+""+Ot[2]),b:nt(Ot[3]+""+Ot[3]),format:oe?"name":"hex"}}(me)),"object"==f()(me)&&(me.hasOwnProperty("r")&&me.hasOwnProperty("g")&&me.hasOwnProperty("b")?(ct=me.g,Tt=me.b,Ke={r:255*je(me.r,255),g:255*je(ct,255),b:255*je(Tt,255)},ht=!0,Pt="%"===String(me.r).substr(-1)?"prgb":"rgb"):me.hasOwnProperty("h")&&me.hasOwnProperty("s")&&me.hasOwnProperty("v")?(me.s=mt(me.s),me.v=mt(me.v),Ke=function(De,Ot,oe){De=6*je(De,360),Ot=je(Ot,100),oe=je(oe,100);var rt=u.floor(De),V=De-rt,z=oe*(1-Ot),we=oe*(1-V*Ot),he=oe*(1-(1-V)*Ot),Ie=rt%6;return{r:255*[oe,we,z,z,he,oe][Ie],g:255*[he,oe,oe,we,z,z][Ie],b:255*[z,z,he,oe,oe,we][Ie]}}(me.h,me.s,me.v),ht=!0,Pt="hsv"):me.hasOwnProperty("h")&&me.hasOwnProperty("s")&&me.hasOwnProperty("l")&&(me.s=mt(me.s),me.l=mt(me.l),Ke=function(De,Ot,oe){var rt,V,z;function we(st,kt,ft){return ft<0&&(ft+=1),ft>1&&(ft-=1),ft<1/6?st+6*(kt-st)*ft:ft<.5?kt:ft<2/3?st+(kt-st)*(2/3-ft)*6:st}if(De=je(De,360),Ot=je(Ot,100),oe=je(oe,100),0===Ot)rt=V=z=oe;else{var he=oe<.5?oe*(1+Ot):oe+Ot-oe*Ot,Ie=2*oe-he;rt=we(Ie,he,De+1/3),V=we(Ie,he,De),z=we(Ie,he,De-1/3)}return{r:255*rt,g:255*V,b:255*z}}(me.h,me.s,me.l),ht=!0,Pt="hsl"),me.hasOwnProperty("a")&&(Ze=me.a)),Ze=ce(Ze),{ok:ht,format:me.format||Pt,r:b(255,R(Ke.r,0)),g:b(255,R(Ke.g,0)),b:b(255,R(Ke.b,0)),a:Ze});this._originalInput=Te,this._r=$e.r,this._g=$e.g,this._b=$e.b,this._a=$e.a,this._roundA=x(100*this._a)/100,this._format=Re.format||$e.format,this._gradientType=Re.gradientType,this._r<1&&(this._r=x(this._r)),this._g<1&&(this._g=x(this._g)),this._b<1&&(this._b=x(this._b)),this._ok=$e.ok,this._tc_id=p++};re.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(299*X.r+587*X.g+114*X.b)/1e3},setAlpha:function(X){return this._a=ce(X),this._roundA=x(100*this._a)/100,this},toHsv:function(){var X=H(this._r,this._g,this._b);return{h:360*X.h,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=H(this._r,this._g,this._b),Te=x(360*X.h),Re=x(100*X.s),$e=x(100*X.v);return 1==this._a?"hsv("+Te+", "+Re+"%, "+$e+"%)":"hsva("+Te+", "+Re+"%, "+$e+"%, "+this._roundA+")"},toHsl:function(){var X=C(this._r,this._g,this._b);return{h:360*X.h,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=C(this._r,this._g,this._b),Te=x(360*X.h),Re=x(100*X.s),$e=x(100*X.l);return 1==this._a?"hsl("+Te+", "+Re+"%, "+$e+"%)":"hsla("+Te+", "+Re+"%, "+$e+"%, "+this._roundA+")"},toHex:function(X){return n(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(){return m(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:x(this._r),g:x(this._g),b:x(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+x(this._r)+", "+x(this._g)+", "+x(this._b)+")":"rgba("+x(this._r)+", "+x(this._g)+", "+x(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:x(100*je(this._r,255))+"%",g:x(100*je(this._g,255))+"%",b:x(100*je(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+x(100*je(this._r,255))+"%, "+x(100*je(this._g,255))+"%, "+x(100*je(this._b,255))+"%)":"rgba("+x(100*je(this._r,255))+"%, "+x(100*je(this._g,255))+"%, "+x(100*je(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Pe[n(this._r,this._g,this._b,!0)]||!1)},toFilter:function(X){var Te="#"+m(this._r,this._g,this._b,this._a),Re=Te,$e=this._gradientType?"GradientType = 1, ":"";return X&&(Re=re(X).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+$e+"startColorstr="+Te+",endColorstr="+Re+")"},toString:function(X){var Te=!!X;X=X||this._format;var Re=!1;return Te||!(this._a<1&&this._a>=0)||"hex"!==X&&"hex6"!==X&&"hex3"!==X&&"name"!==X?("rgb"===X&&(Re=this.toRgbString()),"prgb"===X&&(Re=this.toPercentageRgbString()),"hex"!==X&&"hex6"!==X||(Re=this.toHexString()),"hex3"===X&&(Re=this.toHexString(!0)),"hex8"===X&&(Re=this.toHex8String()),"name"===X&&(Re=this.toName()),"hsl"===X&&(Re=this.toHslString()),"hsv"===X&&(Re=this.toHsvString()),Re||this.toHexString()):"name"===X&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(X,Te){var Re=X.apply(null,[this].concat([].slice.call(Te)));return this._r=Re._r,this._g=Re._g,this._b=Re._b,this.setAlpha(Re._a),this},lighten:function(){return this._applyModification(be,arguments)},brighten:function(){return this._applyModification(Le,arguments)},darken:function(){return this._applyModification(ke,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(q,arguments)},spin:function(){return this._applyModification(ve,arguments)},_applyCombination:function(X,Te){return X.apply(null,[this].concat([].slice.call(Te)))},analogous:function(){return this._applyCombination(vt,arguments)},complement:function(){return this._applyCombination(Ee,arguments)},monochromatic:function(){return this._applyCombination(Z,arguments)},splitcomplement:function(){return this._applyCombination(St,arguments)},triad:function(){return this._applyCombination(Ne,arguments)},tetrad:function(){return this._applyCombination(Je,arguments)}},re.fromRatio=function(X,Te){if("object"==f()(X)){var Re={};for(var $e in X)X.hasOwnProperty($e)&&(Re[$e]="a"===$e?X[$e]:mt(X[$e]));X=Re}return re(X,Te)},re.equals=function(X,Te){return!(!X||!Te)&&re(X).toRgbString()==re(Te).toRgbString()},re.random=function(){return re.fromRatio({r:Q(),g:Q(),b:Q()})},re.mix=function(X,Te,Re){Re=0===Re?0:Re||50;var $e,me=re(X).toRgb(),Ke=re(Te).toRgb(),Ze=Re/100,ht=2*Ze-1,Pt=Ke.a-me.a,Dt=1-($e=(($e=ht*Pt==-1?ht:(ht+Pt)/(1+ht*Pt))+1)/2);return re({r:Ke.r*$e+me.r*Dt,g:Ke.g*$e+me.g*Dt,b:Ke.b*$e+me.b*Dt,a:Ke.a*Ze+me.a*(1-Ze)})},re.readability=function(X,Te){var Re=re(X),$e=re(Te),me=Re.toRgb(),Ke=$e.toRgb(),Ze=Re.getBrightness(),ht=$e.getBrightness(),Pt=Math.max(me.r,Ke.r)-Math.min(me.r,Ke.r)+Math.max(me.g,Ke.g)-Math.min(me.g,Ke.g)+Math.max(me.b,Ke.b)-Math.min(me.b,Ke.b);return{brightness:Math.abs(Ze-ht),color:Pt}},re.isReadable=function(X,Te){var Re=re.readability(X,Te);return Re.brightness>125&&Re.color>500},re.mostReadable=function(X,Te){for(var Re=null,$e=0,me=!1,Ke=0;Ke<Te.length;Ke++){var Ze=re.readability(X,Te[Ke]),ht=Ze.brightness>125&&Ze.color>500,Pt=Ze.brightness/125*3+Ze.color/500;(ht&&!me||ht&&me&&Pt>$e||!ht&&!me&&Pt>$e)&&(me=ht,$e=Pt,Re=re(Te[Ke]))}return Re};var Fe,ge,fe,Ae=re.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Pe=re.hexNames=function(X){var Te={};for(var Re in X)X.hasOwnProperty(Re)&&(Te[X[Re]]=Re);return Te}(Ae),de=(ge="[\\s|\\(]+("+(Fe="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Fe+")[,|\\s]+("+Fe+")\\s*\\)?",fe="[\\s|\\(]+("+Fe+")[,|\\s]+("+Fe+")[,|\\s]+("+Fe+")[,|\\s]+("+Fe+")\\s*\\)?",{rgb:new RegExp("rgb"+ge),rgba:new RegExp("rgba"+fe),hsl:new RegExp("hsl"+ge),hsla:new RegExp("hsla"+fe),hsv:new RegExp("hsv"+ge),hsva:new RegExp("hsva"+fe),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=re,v(function(){v.fn.spectrum.load&&v.fn.spectrum.processNativeColorInputs()})}function pe(X,Te,Re,$e){for(var me=[],Ke=0;Ke<X.length;Ke++){var Ze=X[Ke];if(Ze){var ht=re(Ze),Pt=ht.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Pt+=re.equals(Te,Ze)?" sp-thumb-active":"";var Dt=ht.toString($e.preferredFormat||"rgb"),ct=r?"background-color:"+ht.toRgbString():"filter:"+ht.toFilter();me.push('<span title="'+Dt+'" data-color="'+ht.toRgbString()+'" class="'+Pt+'"><span class="sp-thumb-inner" style="'+ct+';"></span></span>')}else me.push(v("<div />").append(v('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",$e.noColorSelectedText)).html())}return"<div class='sp-cf "+Re+"'>"+me.join("")+"</div>"}function _e(X,Te){var Re,Ke,Y,te,Ze=(Y=X,(te=v.extend({},I,Te)).callbacks={move:G(te.move,Y),change:G(te.change,Y),show:G(te.show,Y),hide:G(te.hide,Y),beforeShow:G(te.beforeShow,Y)},te),ht=Ze.flat,Pt=Ze.showSelectionPalette,Dt=Ze.localStorageKey,ct=Ze.theme,Tt=Ze.callbacks,De=(Re=yr,function(){var M=this,Y=arguments,te=function(){Ke=null,Re.apply(M,Y)};Ke||(Ke=setTimeout(te,10))}),Ot=!1,oe=!1,rt=!0,V=0,z=0,we=0,he=0,Ie=0,st=0,kt=0,ft=0,zt=0,nn=0,Wt=1,ln=[],tn=[],kn={},Cn=Ze.selectionPalette.slice(0),Fn=Ze.maxSelectionSize,jn="sp-dragging",cn=null,qt=X.ownerDocument,dn=v(X),fn=!1,Jt=v(E,qt).addClass(ct),pn=Jt.find(".sp-picker-container"),Zn=Jt.find(".sp-color"),Xn=Jt.find(".sp-dragger"),F=Jt.find(".sp-hue"),K=Jt.find(".sp-slider"),ye=Jt.find(".sp-alpha-inner"),Me=Jt.find(".sp-alpha"),wt=Jt.find(".sp-alpha-handle"),Rt=Jt.find(".sp-input"),Nt=Jt.find(".sp-palette"),Mt=Jt.find(".sp-initial"),Ft=Jt.find(".sp-cancel"),gn=Jt.find(".sp-clear"),Tn=Jt.find(".sp-choose"),An=Jt.find(".sp-palette-toggle"),Yn=dn.is("input"),wr=Yn&&"color"===dn.attr("type")&&j(),Zr=Yn&&!ht,Ar=Zr?v(_).addClass(ct).addClass(Ze.className).addClass(Ze.replacerClassName):v([]),$r=Zr?Ar:dn,pr=Ar.find(".sp-preview-inner"),zr=Ze.color||Yn&&dn.val(),Dr=!1,vr=Ze.preferredFormat,ii=!Ze.showButtons||Ze.clickoutFiresChange,Mr=!zr,tr=Ze.allowEmpty&&!wr;function Sr(){if(Ze.showPaletteOnly&&(Ze.showPalette=!0),An.text(Ze.showPaletteOnly?Ze.togglePaletteMoreText:Ze.togglePaletteLessText),Ze.palette){ln=Ze.palette.slice(0),tn=v.isArray(ln[0])?ln:[ln],kn={};for(var M=0;M<tn.length;M++)for(var Y=0;Y<tn[M].length;Y++){var te=re(tn[M][Y]).toRgbString();kn[te]=!0}}Jt.toggleClass("sp-flat",ht),Jt.toggleClass("sp-input-disabled",!Ze.showInput),Jt.toggleClass("sp-alpha-enabled",Ze.showAlpha),Jt.toggleClass("sp-clear-enabled",tr),Jt.toggleClass("sp-buttons-disabled",!Ze.showButtons),Jt.toggleClass("sp-palette-buttons-disabled",!Ze.togglePaletteOnly),Jt.toggleClass("sp-palette-disabled",!Ze.showPalette),Jt.toggleClass("sp-palette-only",Ze.showPaletteOnly),Jt.toggleClass("sp-initial-disabled",!Ze.showInitial),Jt.addClass(Ze.className).addClass(Ze.containerClassName),yr()}function ar(){if(Dt&&window.localStorage){try{var M=window.localStorage[Dt].split(",#");M.length>1&&(delete window.localStorage[Dt],v.each(M,function(Y,te){_r(te)}))}catch(Y){}try{Cn=window.localStorage[Dt].split(";")}catch(Y){}}}function _r(M){if(Pt){var Y=re(M).toRgbString();if(!kn[Y]&&-1===v.inArray(Y,Cn))for(Cn.push(Y);Cn.length>Fn;)Cn.shift();if(Dt&&window.localStorage)try{window.localStorage[Dt]=Cn.join(";")}catch(te){}}}function si(){var M=Hn(),Y=v.map(tn,function(te,xe){return pe(te,M,"sp-palette-row sp-palette-row-"+xe,Ze)});ar(),Cn&&Y.push(pe(function(){var te=[];if(Ze.showPalette)for(var xe=0;xe<Cn.length;xe++){var Be=re(Cn[xe]).toRgbString();kn[Be]||te.push(Cn[xe])}return te.reverse().slice(0,Ze.maxSelectionSize)}(),M,"sp-palette-row sp-palette-row-selection",Ze)),Nt.html(Y.join(""))}function Xr(){if(Ze.showInitial){var M=Dr,Y=Hn();Mt.html(pe([M,Y],Y,"sp-palette-row-initial",Ze))}}function ei(){(z<=0||V<=0||he<=0)&&yr(),oe=!0,Jt.addClass(jn),cn=null,dn.trigger("dragstart.spectrum",[Hn()])}function Lr(){oe=!1,Jt.removeClass(jn),dn.trigger("dragstop.spectrum",[Hn()])}function qr(){var M=Rt.val();if(null!==M&&""!==M||!tr){var Y=re(M);Y.isValid()?(Jr(Y),Ur(!0)):Rt.addClass("sp-validation-error")}else Jr(null),Ur(!0)}function jr(){Ot?xr():Hr()}function Hr(){var M=v.Event("beforeShow.spectrum");if(Ot)yr();else if(dn.trigger("beforeShow.spectrum",[Hn()]),!1!==Tt.beforeShow(Hn())&&!M.isDefaultPrevented()){(function(){for(var te=0;te<T.length;te++)T[te]&&T[te].hide()})(),Ot=!0;var Y=v(qt);Y.bind("keydown.spectrum",sr),Y.bind("click.spectrum",yi),v(window).bind("resize.spectrum",De),Ar.addClass("sp-active"),Jt.removeClass("sp-hidden"),yr(),ti(),Dr=Hn(),Xr(),Tt.show(Dr),dn.trigger("show.spectrum",[Dr])}}function sr(M){27===M.keyCode&&xr()}function yi(M){2!=M.button&&(oe||(ii?Ur(!0):bi(),xr()))}function xr(){Ot&&!ht&&(Ot=!1,v(qt).unbind("keydown.spectrum",sr),v(qt).unbind("click.spectrum",yi),v(window).unbind("resize.spectrum",De),Ar.removeClass("sp-active"),Jt.addClass("sp-hidden"),Tt.hide(Hn()),dn.trigger("hide.spectrum",[Hn()]))}function bi(){Jr(Dr,!0)}function Jr(M,Y){var te,xe;re.equals(M,Hn())?ti():(!M&&tr?Mr=!0:(Mr=!1,rt=!M,xe=(te=re(M)).toHsv(),ft=xe.h%360/360,zt=xe.s,nn=xe.v,Wt=xe.a),ti(),te&&te.isValid()&&!Y&&(vr=Ze.preferredFormat||te.getFormat()))}function Hn(M){return M=M||{},tr&&Mr?null:re.fromRatio({h:ft,s:zt,v:nn,a:Math.round(100*Wt)/100},{format:M.format||vr})}function Gr(){ti(),Tt.move(Hn()),dn.trigger("move.spectrum",[Hn()])}function ti(){Rt.removeClass("sp-validation-error"),Vr();var M=re.fromRatio({h:ft,s:1,v:1});Zn.css("background-color",M.toHexString());var Y=vr;Wt<1&&(0!==Wt||"name"!==Y)&&("hex"!==Y&&"hex3"!==Y&&"hex6"!==Y&&"name"!==Y||(Y="rgb"));var te=Hn({format:Y}),xe="";if(pr.removeClass("sp-clear-display"),pr.css("background-color","transparent"),!te&&tr)pr.addClass("sp-clear-display");else{var Be=te.toHexString(),He=te.toRgbString();if(r||1===te.alpha?pr.css("background-color",He):(pr.css("background-color","transparent"),pr.css("filter",te.toFilter())),Ze.showAlpha){var tt=te.toRgb();tt.a=0;var ot=re(tt).toRgbString(),dt="linear-gradient(left, "+ot+", "+Be+")";S?ye.css("filter",re(ot).toFilter({gradientType:1},Be)):(ye.css("background","-webkit-"+dt),ye.css("background","-moz-"+dt),ye.css("background","-ms-"+dt),ye.css("background","linear-gradient(to right, "+ot+", "+Be+")"))}xe=te.toString(Y)}Ze.showInput&&Rt.val(xe),Ze.showPalette&&si(),Xr()}function Vr(){var M=zt,Y=nn;if(tr&&Mr)wt.hide(),K.hide(),Xn.hide();else{wt.show(),K.show(),Xn.show();var te=M*V,xe=z-Y*z;te=Math.max(-we,Math.min(V-we,te-we)),xe=Math.max(-we,Math.min(z-we,xe-we)),Xn.css({top:xe+"px",left:te+"px"}),wt.css({left:Wt*Ie-st/2+"px"}),K.css({top:ft*he-kt+"px"})}}function Ur(M){var Y=Hn(),te="",xe=!!rt||!re.equals(Y,Dr);Y&&(te=Y.toString(vr),_r(Y)),Yn&&dn.val(te),M&&xe&&(Tt.change(Y),dn.trigger("change",[Y]))}function yr(){Ot&&(V=Zn.width(),z=Zn.height(),we=Xn.height(),F.width(),he=F.height(),kt=K.height(),Ie=Me.width(),st=wt.width(),ht||(Jt.css("position","absolute"),Jt.offset(Ze.offset?Ze.offset:function(M,Y){var xe=M.outerWidth(),Be=M.outerHeight(),He=Y.outerHeight(),tt=M[0].ownerDocument,ot=tt.documentElement,jt=ot.clientHeight,Et=ot.clientWidth+v(tt).scrollLeft(),en=jt+v(tt).scrollTop(),sn=Y.offset();return sn.top+=He,sn.left-=Math.min(sn.left,sn.left+xe>Et&&Et>xe?Math.abs(sn.left+xe-Et):0),sn.top-=Math.min(sn.top,sn.top+Be>en&&en>Be?Math.abs(Be+He-0):0),sn}(Jt,$r))),Vr(),Ze.showPalette&&si(),dn.trigger("reflow.spectrum"))}function pi(){xr(),fn=!0,dn.attr("disabled",!0),$r.addClass("sp-disabled")}!function(){if(S&&Jt.find("*:not(input)").attr("unselectable","on"),Sr(),Zr&&dn.after(Ar).hide(),tr||gn.hide(),ht)dn.after(Jt).hide();else{var M="parent"===Ze.appendTo?dn.parent():v(Ze.appendTo);1!==M.length&&(M=v("body")),M.append(Jt)}function Y(xe){return xe.data&&xe.data.ignore?(Jr(v(xe.target).closest(".sp-thumb-el").data("color")),Gr()):(Jr(v(xe.target).closest(".sp-thumb-el").data("color")),Gr(),Ur(!0),Ze.hideAfterPaletteSelect&&xr()),!1}ar(),$r.bind("click.spectrum touchstart.spectrum",function(xe){fn||jr(),xe.stopPropagation(),v(xe.target).is("input")||xe.preventDefault()}),(dn.is(":disabled")||!0===Ze.disabled)&&pi(),Jt.click(ne),Rt.change(qr),Rt.bind("paste",function(){setTimeout(qr,1)}),Rt.keydown(function(xe){13==xe.keyCode&&qr()}),Ft.text(Ze.cancelText),Ft.bind("click.spectrum",function(xe){xe.stopPropagation(),xe.preventDefault(),bi(),xr()}),gn.attr("title",Ze.clearText),gn.bind("click.spectrum",function(xe){xe.stopPropagation(),xe.preventDefault(),Mr=!0,Gr(),ht&&Ur(!0)}),Tn.text(Ze.chooseText),Tn.bind("click.spectrum",function(xe){xe.stopPropagation(),xe.preventDefault(),S&&Rt.is(":focus")&&Rt.trigger("change"),Rt.hasClass("sp-validation-error")||(Ur(!0),xr())}),An.text(Ze.showPaletteOnly?Ze.togglePaletteMoreText:Ze.togglePaletteLessText),An.bind("click.spectrum",function(xe){xe.stopPropagation(),xe.preventDefault(),Ze.showPaletteOnly=!Ze.showPaletteOnly,Ze.showPaletteOnly||ht||Jt.css("left","-="+(pn.outerWidth(!0)+5)),Sr()}),W(Me,function(xe,Be,He){Wt=xe/Ie,Mr=!1,He.shiftKey&&(Wt=Math.round(10*Wt)/10),Gr()},ei,Lr),W(F,function(xe,Be){ft=parseFloat(Be/he),Mr=!1,Ze.showAlpha||(Wt=1),Gr()},ei,Lr),W(Zn,function(xe,Be,He){if(He.shiftKey){if(!cn){var ot=z-nn*z,dt=Math.abs(xe-zt*V)>Math.abs(Be-ot);cn=dt?"x":"y"}}else cn=null;var jt=!cn||"y"===cn;(!cn||"x"===cn)&&(zt=parseFloat(xe/V)),jt&&(nn=parseFloat((z-Be)/z)),Mr=!1,Ze.showAlpha||(Wt=1),Gr()},ei,Lr),zr?(Jr(zr),ti(),vr=Ze.preferredFormat||re(zr).getFormat(),_r(zr)):ti(),ht&&Hr();var te=S?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Nt.delegate(".sp-thumb-el",te,Y),Mt.delegate(".sp-thumb-el:nth-child(1)",te,{ignore:!0},Y)}();var c={show:Hr,hide:xr,toggle:jr,reflow:yr,option:function(M,Y){return M===D?v.extend({},Ze):Y===D?Ze[M]:(Ze[M]=Y,"preferredFormat"===M&&(vr=Ze.preferredFormat),void Sr())},enable:function(){fn=!1,dn.attr("disabled",!1),$r.removeClass("sp-disabled")},disable:pi,offset:function(M){Ze.offset=M,yr()},set:function(M){Jr(M),Ur()},get:Hn,destroy:function(){dn.show(),$r.unbind("click.spectrum touchstart.spectrum"),Jt.remove(),Ar.remove(),T[c.id]=null},container:Jt};return c.id=T.push(c)-1,c}function ae(){}function ne(X){X.stopPropagation()}function G(X,Te){var Re=Array.prototype.slice,$e=Re.call(arguments,2);return function(){return X.apply(Te,$e.concat(Re.call(arguments)))}}function W(X,Te,Re,$e){Te=Te||function(){},Re=Re||function(){},$e=$e||function(){};var me=document,Ke=!1,Ze={},ht=0,Pt=0,Dt="ontouchstart"in window,ct={};function Tt(oe){oe.stopPropagation&&oe.stopPropagation(),oe.preventDefault&&oe.preventDefault(),oe.returnValue=!1}function De(oe){if(Ke){if(S&&me.documentMode<9&&!oe.button)return Ot();var rt=oe&&oe.touches&&oe.touches[0],z=rt&&rt.pageY||oe.pageY,we=Math.max(0,Math.min((rt&&rt.pageX||oe.pageX)-Ze.left,Pt)),he=Math.max(0,Math.min(z-Ze.top,ht));Dt&&Tt(oe),Te.apply(X,[we,he,oe])}}function Ot(){Ke&&(v(me).unbind(ct),v(me.body).removeClass("sp-dragging"),setTimeout(function(){$e.apply(X,arguments)},0)),Ke=!1}ct.selectstart=Tt,ct.dragstart=Tt,ct["touchmove mousemove"]=De,ct["touchend mouseup"]=Ot,v(X).bind("touchstart mousedown",function(oe){var rt=oe.which?3==oe.which:2==oe.button;rt||Ke||!1!==Re.apply(X,arguments)&&(Ke=!0,ht=v(X).height(),Pt=v(X).width(),Ze=v(X).offset(),v(me).bind(ct),v(me.body).addClass("sp-dragging"),De(oe),Tt(oe))})}function j(){return v.fn.spectrum.inputTypeColorSupport()}function C(X,Te,Re){X=je(X,255),Te=je(Te,255),Re=je(Re,255);var $e,me,Ke=R(X,Te,Re),Ze=b(X,Te,Re),ht=(Ke+Ze)/2;if(Ke==Ze)$e=me=0;else{var Pt=Ke-Ze;switch(me=ht>.5?Pt/(2-Ke-Ze):Pt/(Ke+Ze),Ke){case X:$e=(Te-Re)/Pt+(Te<Re?6:0);break;case Te:$e=(Re-X)/Pt+2;break;case Re:$e=(X-Te)/Pt+4}$e/=6}return{h:$e,s:me,l:ht}}function H(X,Te,Re){X=je(X,255),Te=je(Te,255),Re=je(Re,255);var $e,me,Ke=R(X,Te,Re),Ze=b(X,Te,Re),ht=Ke,Pt=Ke-Ze;if(me=0===Ke?0:Pt/Ke,Ke==Ze)$e=0;else{switch(Ke){case X:$e=(Te-Re)/Pt+(Te<Re?6:0);break;case Te:$e=(Re-X)/Pt+2;break;case Re:$e=(X-Te)/Pt+4}$e/=6}return{h:$e,s:me,v:ht}}function n(X,Te,Re,$e){var me=[ut(x(X).toString(16)),ut(x(Te).toString(16)),ut(x(Re).toString(16))];return $e&&me[0].charAt(0)==me[0].charAt(1)&&me[1].charAt(0)==me[1].charAt(1)&&me[2].charAt(0)==me[2].charAt(1)?me[0].charAt(0)+me[1].charAt(0)+me[2].charAt(0):me.join("")}function m(X,Te,Re,$e){var me;return[ut((me=$e,Math.round(255*parseFloat(me)).toString(16))),ut(x(X).toString(16)),ut(x(Te).toString(16)),ut(x(Re).toString(16))].join("")}function l(X,Te){Te=0===Te?0:Te||10;var Re=re(X).toHsl();return Re.s-=Te/100,Re.s=qe(Re.s),re(Re)}function A(X,Te){Te=0===Te?0:Te||10;var Re=re(X).toHsl();return Re.s+=Te/100,Re.s=qe(Re.s),re(Re)}function q(X){return re(X).desaturate(100)}function be(X,Te){Te=0===Te?0:Te||10;var Re=re(X).toHsl();return Re.l+=Te/100,Re.l=qe(Re.l),re(Re)}function Le(X,Te){Te=0===Te?0:Te||10;var Re=re(X).toRgb();return Re.r=R(0,b(255,Re.r-x(-Te/100*255))),Re.g=R(0,b(255,Re.g-x(-Te/100*255))),Re.b=R(0,b(255,Re.b-x(-Te/100*255))),re(Re)}function ke(X,Te){Te=0===Te?0:Te||10;var Re=re(X).toHsl();return Re.l-=Te/100,Re.l=qe(Re.l),re(Re)}function ve(X,Te){var Re=re(X).toHsl(),$e=(x(Re.h)+Te)%360;return Re.h=$e<0?360+$e:$e,re(Re)}function Ee(X){var Te=re(X).toHsl();return Te.h=(Te.h+180)%360,re(Te)}function Ne(X){var Te=re(X).toHsl(),Re=Te.h;return[re(X),re({h:(Re+120)%360,s:Te.s,l:Te.l}),re({h:(Re+240)%360,s:Te.s,l:Te.l})]}function Je(X){var Te=re(X).toHsl(),Re=Te.h;return[re(X),re({h:(Re+90)%360,s:Te.s,l:Te.l}),re({h:(Re+180)%360,s:Te.s,l:Te.l}),re({h:(Re+270)%360,s:Te.s,l:Te.l})]}function St(X){var Te=re(X).toHsl(),Re=Te.h;return[re(X),re({h:(Re+72)%360,s:Te.s,l:Te.l}),re({h:(Re+216)%360,s:Te.s,l:Te.l})]}function vt(X,Te,Re){Te=Te||6,Re=Re||30;var $e=re(X).toHsl(),me=360/Re,Ke=[re(X)];for($e.h=($e.h-(me*Te>>1)+720)%360;--Te;)$e.h=($e.h+me)%360,Ke.push(re($e));return Ke}function Z(X,Te){Te=Te||6;for(var Re=re(X).toHsv(),$e=Re.h,me=Re.s,Ke=Re.v,Ze=[],ht=1/Te;Te--;)Ze.push(re({h:$e,s:me,v:Ke})),Ke=(Ke+ht)%1;return Ze}function ce(X){return X=parseFloat(X),(isNaN(X)||X<0||X>1)&&(X=1),X}function je(X,Te){var $e;"string"==typeof($e=X)&&-1!=$e.indexOf(".")&&1===parseFloat($e)&&(X="100%");var Re=function($e){return"string"==typeof $e&&-1!=$e.indexOf("%")}(X);return X=b(Te,R(0,parseFloat(X))),Re&&(X=parseInt(X*Te,10)/100),u.abs(X-Te)<1e-6?1:X%Te/parseFloat(Te)}function qe(X){return b(1,R(0,X))}function nt(X){return parseInt(X,16)}function ut(X){return 1==X.length?"0"+X:""+X}function mt(X){return X<=1&&(X=100*X+"%"),X}}(P);var O=function(v){var D="name"===v.getFormat()&&v.toName(),I=1==v.getAlpha()?v.toHexString():v.toRgbString();return D||I.replace(/ /g,"")};le.a=h.a.extend({template:function(){var v=this.ppfx;return'\n      <div class="'.concat(this.holderClass(),'"></div>\n      <div class="').concat(v,'field-colorp">\n        <div class="').concat(v,'field-colorp-c" data-colorp-c>\n          <div class="').concat(v,'checker-bg"></div>\n        </div>\n      </div>\n    ')},inputClass:function(){var v=this.ppfx;return"".concat(v,"field ").concat(v,"field-color")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},remove:function(){h.a.prototype.remove.apply(this,arguments),this.colorEl.spectrum("destroy")},__onInputChange:function(v){var D=v,I=this.getColorEl();if(I){I.spectrum("set",D);var T=I.spectrum("get"),S=D&&O(T);S&&(D=S)}this.model.set({value:D},{fromInput:1})},setValue:function(v){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},I=this.model,T=I.get("defaults"),S=Object(L.isUndefined)(v)?Object(L.isUndefined)(T)?"":T:v,r=this.getInputEl(),_=this.getColorEl(),E="none"!=S?S:"";r.value=S,_.get(0).style.backgroundColor=E,(D.fromTarget||D.fromInput&&!D.avoidStore)&&(_.spectrum("set",E),this.noneColor="none"==S)},getColorEl:function(){if(!this.colorEl){var v,D=this.em,I=this,T=this.ppfx,S=this.model,r=P('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),_=r.get(0).style,E=D&&D.config?D.config.el:"",B=D&&D.getConfig&&D.getConfig("colorPicker")||{},$=0;this.$el.find("[data-colorp-c]").append(r),r.spectrum(d(d(d({color:S.getValue()||!1,containerClassName:"".concat(T,"one-bg ").concat(T,"two-color"),appendTo:E||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f",palette:[]},B),S.get("colorPicker")||{}),{},{move:function(w){var p=O(w);_.backgroundColor=p,S.setValueFromInput(p,0)},change:function(w){$=1;var p=O(w);_.backgroundColor=p,S.setValueFromInput(0,0),S.setValueFromInput(p),I.noneColor=0},show:function(w){$=0,v=O(w)},hide:function(w){!$&&v&&(I.noneColor&&(v=""),_.backgroundColor=v,r.spectrum("set",v),S.setValueFromInput(v,0))}})),D&&D.on&&this.listenTo(D,"component:selected",function(){$=1,r.spectrum("hide")}),this.colorEl=r}return this.colorEl},render:function(){return h.a.prototype.render.call(this),this.getColorEl(),this}})},function(Ye,le,o){"use strict";(function(ee){var se=o(14),J=o.n(se),U=o(77),L=o(78),k=setTimeout;function f(I){return Boolean(I&&void 0!==I.length)}function g(){}function h(I){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if("function"!=typeof I)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],D(I,this)}function y(I,T){for(;3===I._state;)I=I._value;0!==I._state?(I._handled=!0,h._immediateFn(function(){var S=1===I._state?T.onFulfilled:T.onRejected;if(null!==S){var r;try{r=S(I._value)}catch(_){return void P(T.promise,_)}d(T.promise,r)}else(1===I._state?d:P)(T.promise,I._value)})):I._deferreds.push(T)}function d(I,T){try{if(T===I)throw new TypeError("A promise cannot be resolved with itself.");if(T&&("object"===J()(T)||"function"==typeof T)){var S=T.then;if(T instanceof h)return I._state=3,I._value=T,void O(I);if("function"==typeof S)return void D((r=S,_=T,function(){r.apply(_,arguments)}),I)}I._state=1,I._value=T,O(I)}catch(E){P(I,E)}var r,_}function P(I,T){I._state=2,I._value=T,O(I)}function O(I){2===I._state&&0===I._deferreds.length&&h._immediateFn(function(){I._handled||h._unhandledRejectionFn(I._value)});for(var T=0,S=I._deferreds.length;T<S;T++)y(I,I._deferreds[T]);I._deferreds=null}function v(I,T,S){this.onFulfilled="function"==typeof I?I:null,this.onRejected="function"==typeof T?T:null,this.promise=S}function D(I,T){var S=!1;try{I(function(r){S||(S=!0,d(T,r))},function(r){S||(S=!0,P(T,r))})}catch(r){if(S)return;S=!0,P(T,r)}}h.prototype.catch=function(I){return this.then(null,I)},h.prototype.then=function(I,T){var S=new this.constructor(g);return y(this,new v(I,T,S)),S},h.prototype.finally=U.a,h.all=function(I){return new h(function(T,S){if(!f(I))return S(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(I);if(0===r.length)return T([]);var _=r.length;function E($,w){try{if(w&&("object"===J()(w)||"function"==typeof w)){var p=w.then;if("function"==typeof p)return void p.call(w,function(u){E($,u)},S)}r[$]=w,0==--_&&T(r)}catch(u){S(u)}}for(var B=0;B<r.length;B++)E(B,r[B])})},h.allSettled=L.a,h.resolve=function(I){return I&&"object"===J()(I)&&I.constructor===h?I:new h(function(T){T(I)})},h.reject=function(I){return new h(function(T,S){S(I)})},h.race=function(I){return new h(function(T,S){if(!f(I))return S(new TypeError("Promise.race accepts an array"));for(var r=0,_=I.length;r<_;r++)h.resolve(I[r]).then(T,S)})},h._immediateFn="function"==typeof ee&&function(I){ee(I)}||function(I){k(I,0)},h._unhandledRejectionFn=function(I){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",I)},le.a=h}).call(this,o(84).setImmediate)},function(Ye,le,o){"use strict";o.r(le),o.d(le,"evAll",function(){return Pe}),o.d(le,"evPfx",function(){return de}),o.d(le,"evPageSelect",function(){return pe}),o.d(le,"evPageSelectBefore",function(){return _e}),o.d(le,"evPageUpdate",function(){return ae}),o.d(le,"evPageAdd",function(){return ne}),o.d(le,"evPageAddBefore",function(){return G}),o.d(le,"evPageRemove",function(){return W}),o.d(le,"evPageRemoveBefore",function(){return j});var ee=o(11),se=o.n(ee),J=o(3),U=o.n(J),L=o(0),k=o(1),f=o(2),g=o(5),h=o.n(g),y=o(6),d=o.n(y),P=o(8),O=o.n(P),v=o(9),D=o.n(v),I=o(4),T=o.n(I);function S(n,m){var l=Object.keys(n);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(n);m&&(A=A.filter(function(q){return Object.getOwnPropertyDescriptor(n,q).enumerable})),l.push.apply(l,A)}return l}function r(n){for(var m=1;m<arguments.length;m++){var l=null!=arguments[m]?arguments[m]:{};m%2?S(Object(l),!0).forEach(function(A){U()(n,A,l[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):S(Object(l)).forEach(function(A){Object.defineProperty(n,A,Object.getOwnPropertyDescriptor(l,A))})}return n}var E="__aw",B="__ah",$=function(n){O()(l,n);var m=function(n){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}();return function(){var l,A=T()(n);if(m){var q=T()(this).constructor;l=Reflect.construct(A,arguments,q)}else l=A.apply(this,arguments);return D()(this,l)}}(l);function l(){return h()(this,l),m.apply(this,arguments)}return d()(l,[{key:"defaults",value:function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}}},{key:"initialize",value:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},be=q.config,Le=be.em,ke=this.attributes,ve=ke.styles,Ee=ke.component,Ne=Le.get("DomComponents"),Je=Ne.getConfig(),St=Le.get("CssComposer").getAll(),vt={};this.em=Le;var Z={em:Le,config:Je,frame:this,idMap:vt};if(!Object(k.isComponent)(Ee)){var ce=Object(k.isObject)(Ee)?Ee:{components:Ee};!ce.type&&(ce.type="wrapper");var je=Ne.getType("wrapper").model;this.set("component",new je(ce,Z))}if(ve){if(!Object(k.isObject)(ve)){var qe=Object.keys(vt);qe.length&&Array.isArray(ve)&&ve.forEach(function(nt){var ut=nt.selectors;if(ut&&1==ut.length){var mt=ut[0],X=mt.name&&2===mt.type&&mt;if(X&&vt[X.name])X.name=vt[X.name];else if(Object(L.isString)(mt)&&"#"===mt[0]){var Te=mt.substring(1);Te&&vt[Te]&&(ut[0]="#".concat(vt[Te]))}}}),St.add(ve),this.set("styles",St)}}else this.set("styles",St);!A.width&&this.set(E,1),!A.height&&this.set(B,1)}},{key:"onRemove",value:function(){this.getComponent().remove({root:1})}},{key:"changesUp",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A.temporary||A.noCount||A.avoidStore||this.set("changesCount",this.get("changesCount")+1)}},{key:"getComponent",value:function(){return this.get("component")}},{key:"getStyles",value:function(){return this.get("styles")}},{key:"disable",value:function(){this.trigger("disable")}},{key:"remove",value:function(){this.view=0;var A=this.collection;return A&&A.remove(this)}},{key:"getHead",value:function(){var A=this.get("head")||[];return se()(A)}},{key:"setHead",value:function(A){return this.set("head",se()(A))}},{key:"addHeadItem",value:function(A){var q=this.getHead();q.push(A),this.setHead(q)}},{key:"getHeadByAttr",value:function(A,q,be){return this.getHead().filter(function(Le){return Le.attributes&&Le.attributes[A]==q&&(!be||be===Le.tag)})[0]}},{key:"removeHeadByAttr",value:function(A,q,be){var Le=this.getHead(),ke=this.getHeadByAttr(A,q,be),ve=Le.indexOf(ke);ve>=0&&(Le.splice(ve,1),this.setHead(Le))}},{key:"addLink",value:function(A){var q="link";!this.getHeadByAttr("href",A,q)&&this.addHeadItem({tag:q,attributes:{href:A,rel:"stylesheet"}})}},{key:"removeLink",value:function(A){this.removeHeadByAttr("href",A,"link")}},{key:"addScript",value:function(A){var q="script";!this.getHeadByAttr("src",A,q)&&this.addHeadItem({tag:q,attributes:{src:A}})}},{key:"removeScript",value:function(A){this.removeHeadByAttr("src",A,"script")}},{key:"getPage",value:function(){var A=this.collection;return A&&A.page}},{key:"_emitUpdated",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.em.trigger("frame:updated",r({frame:this},A))}},{key:"toJSON",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},q=f.Model.prototype.toJSON.call(this,A),be=this.em,Le=be&&be.get("StorageManager"),ke=Le&&Le.getConfig(),ve=Object(L.result)(this,"defaults");if(ke&&!A.fromUndo){var Ee={component:this.getComponent()};ke.storeHtml&&(q.html=be.getHtml(Ee)),ke.storeCss&&(q.css=be.getCss(Ee))}return A.fromUndo&&delete q.component,delete q.styles,delete q.changesCount,q[E]&&delete q.width,q[B]&&delete q.height,Object(L.forEach)(q,function(Ne,Je){0===Je.indexOf("_")&&delete q[Je]}),Object(L.forEach)(ve,function(Ne,Je){q[Je]===Ne&&delete q[Je]}),Object(L.forEach)(["attributes","head"],function(Ne){Object(L.isEmpty)(q[Ne])&&delete q[Ne]}),q}}]),l}(f.Model);function w(n,m){var l=Object.keys(n);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(n);m&&(A=A.filter(function(q){return Object.getOwnPropertyDescriptor(n,q).enumerable})),l.push.apply(l,A)}return l}function p(n){for(var m=1;m<arguments.length;m++){var l=null!=arguments[m]?arguments[m]:{};m%2?w(Object(l),!0).forEach(function(A){U()(n,A,l[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):w(Object(l)).forEach(function(A){Object.defineProperty(n,A,Object.getOwnPropertyDescriptor(l,A))})}return n}var x=function(n){O()(l,n);var m=function(n){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}();return function(){var l,A=T()(n);if(m){var q=T()(this).constructor;l=Reflect.construct(A,arguments,q)}else l=A.apply(this,arguments);return D()(this,l)}}(l);function l(){return h()(this,l),m.apply(this,arguments)}return d()(l,[{key:"initialize",value:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(L.bindAll)(this,"itemLoaded"),this.config=q,this.on("reset",this.onReset),this.on("remove",this.onRemove)}},{key:"onReset",value:function(A){var q=this,be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Le=be.previousModels||[];Le.map(function(ke){return q.onRemove(ke)})}},{key:"onRemove",value:function(A){A&&A.onRemove()}},{key:"itemLoaded",value:function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(0))}},{key:"listenToLoad",value:function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(1)}},{key:"listenToLoadItems",value:function(A){var q=this;this.forEach(function(be){return be[A?"on":"off"]("loaded",q.itemLoaded)})}},{key:"add",value:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},be=this.config;return f.Collection.prototype.add.call(this,A,p(p({},q),{},{config:be}))}}]),l}(f.Collection);x.prototype.model=$;var R=function(n){O()(l,n);var m=function(n){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}();return function(){var l,A=T()(n);if(m){var q=T()(this).constructor;l=Reflect.construct(A,arguments,q)}else l=A.apply(this,arguments);return D()(this,l)}}(l);function l(){return h()(this,l),m.apply(this,arguments)}return d()(l,[{key:"defaults",value:function(){return{frames:[],_undo:!0}}},{key:"initialize",value:function(A){var q=this,be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Le=be.config,ke=void 0===Le?{}:Le,ve=ke.em,Ee={};this.em=ve,A.frames||(Ee.component=A.component,Ee.styles=A.styles,["component","styles"].map(function(vt){return q.unset(vt)}));var Ne=A.frames||[Ee],Je=new x(Ne,ke);Je.page=this,this.set("frames",Je);var St=ve&&ve.get("UndoManager");St&&St.add(Je)}},{key:"onRemove",value:function(){this.get("frames").reset()}},{key:"getFrames",value:function(){return this.get("frames")}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.get("name")}},{key:"setName",value:function(A){return this.get({name:A})}},{key:"getAllFrames",value:function(){return this.getFrames().models||[]}},{key:"getMainFrame",value:function(){return this.getFrames().at(0)}},{key:"getMainComponent",value:function(){var A=this.getMainFrame();return A&&A.getComponent()}},{key:"toJSON",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},q=f.Model.prototype.toJSON.call(this,A),be=Object(L.result)(this,"defaults");return Object(L.forEach)(q,function(Le,ke){0===ke.indexOf("_")&&delete q[ke]}),Object(L.forEach)(be,function(Le,ke){q[ke]===Le&&delete q[ke]}),q}}]),l}(f.Model);function Q(n,m){var l=Object.keys(n);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(n);m&&(A=A.filter(function(q){return Object.getOwnPropertyDescriptor(n,q).enumerable})),l.push.apply(l,A)}return l}function re(n){for(var m=1;m<arguments.length;m++){var l=null!=arguments[m]?arguments[m]:{};m%2?Q(Object(l),!0).forEach(function(A){U()(n,A,l[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):Q(Object(l)).forEach(function(A){Object.defineProperty(n,A,Object.getOwnPropertyDescriptor(l,A))})}return n}var ge=function(n){O()(l,n);var m=function(n){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}();return function(){var l,A=T()(n);if(m){var q=T()(this).constructor;l=Reflect.construct(A,arguments,q)}else l=A.apply(this,arguments);return D()(this,l)}}(l);function l(){return h()(this,l),m.apply(this,arguments)}return d()(l,[{key:"initialize",value:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=q,this.on("reset",this.onReset),this.on("remove",this.onRemove)}},{key:"onReset",value:function(A){var q=this,be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Le=be.previousModels||[];Le.map(function(ke){return q.onRemove(ke)})}},{key:"onRemove",value:function(A){A&&A.onRemove()}},{key:"add",value:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},be=this.config;return f.Collection.prototype.add.call(this,A,re(re({},q),{},{config:be}))}}]),l}(f.Collection);function fe(n,m){var l=Object.keys(n);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(n);m&&(A=A.filter(function(q){return Object.getOwnPropertyDescriptor(n,q).enumerable})),l.push.apply(l,A)}return l}function Ae(n){for(var m=1;m<arguments.length;m++){var l=null!=arguments[m]?arguments[m]:{};m%2?fe(Object(l),!0).forEach(function(A){U()(n,A,l[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):fe(Object(l)).forEach(function(A){Object.defineProperty(n,A,Object.getOwnPropertyDescriptor(l,A))})}return n}ge.prototype.model=R;var Pe="page",de="".concat(Pe,":"),pe="".concat(de,"select"),_e="".concat(pe,":before"),ae="".concat(de,"update"),ne="".concat(de,"add"),G="".concat(ne,":before"),W="".concat(de,"remove"),j="".concat(W,":before"),C="change:selected",H="main";le.default=function(){return{name:"PageManager",storageKey:"pages",Page:R,Pages:ge,events:{all:Pe,select:pe,selectBefore:_e,update:ae,add:ne,addBefore:G,remove:W,removeBefore:j},init:function(){var n=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(L.bindAll)(this,"_onPageChange");var l=m.em,A=Ae({},m);this.config=A,this.em=l;var q=new ge([],A);this.pages=q;var be=new f.Model({_undo:!0});return this.model=be,q.on("add",function(Le,ke,ve){return l.trigger(ne,Le,ve)}),q.on("remove",function(Le,ke,ve){return l.trigger(W,Le,ve)}),q.on("change",function(Le,ke){l.trigger(ae,Le,Le.changedAttributes(),ke)}),q.on("reset",function(Le){return Le.at(0)&&n.select(Le.at(0))}),q.on("all",this.__onChange,this),be.on(C,this._onPageChange),this},__onChange:function(n,m,l,A){this.em.trigger(Pe,{event:n,page:m,options:A||l})},onLoad:function(){var n=this.pages,m={silent:!0};n.add(this.config.pages||[],m);var l=n.length?this.getMain():this.add({type:H},m);this.select(l,m)},_onPageChange:function(n,m,l){var A=this.em,q=A.get("LayerManager"),be=m.getMainComponent();q&&be&&q.setRoot(be),A.trigger(pe,m,n.previous("selected")),this.__onChange(C,m,l)},postLoad:function(){var m=this.model,l=this.em.get("UndoManager");l&&l.add(m),l&&l.add(this.pages)},add:function(n){var m=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=this.em;n.id=n.id||this._createId();var q=function(){var be=m.pages.add(n,l);return l.select&&m.select(be),be};return!l.silent&&A.trigger(G,n,q,l),!l.abort&&q()},remove:function(n){var m=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=this.em,q=Object(L.isString)(n)?this.get(n):n,be=function(){return q&&m.pages.remove(q,l),q};return!l.silent&&A.trigger(j,q,be,l),!l.abort&&be()},get:function(n){return this.pages.filter(function(m){return m.get("id")===n})[0]},getMain:function(){var n=this.pages;return n.filter(function(m){return m.get("type")===H})[0]||n.at(0)},getAll:function(){return se()(this.pages.models)},getAllWrappers:function(){var n=this.getAll();return Object(L.unique)(Object(L.flatten)(n.map(function(m){return m.getAllFrames().map(function(l){return l.getComponent()})})))},getAllMap:function(){return this.getAll().reduce(function(n,m){return n[m.get("id")]=m,n},{})},select:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Object(L.isString)(n)?this.get(n):n;return l&&(this.em.trigger(_e,l,m),this.model.set("selected",l,m)),this},getSelected:function(){return this.model.get("selected")},destroy:function(){var n=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","config","em","pages","model"].map(function(m){return n[m]=0})},store:function(n){if(!this.em.get("hasPages"))return{};var m={},l=this.config;return m[this.storageKey]=JSON.stringify(this.getAll()),!n&&l.stm&&l.stm.store(m),m},load:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.storageKey,l=n[m]||[];if("string"==typeof l)try{l=JSON.parse(n[m])}catch(A){}return l&&l.length&&this.pages.reset(l),l},_createId:function(){var n,m=this.getAll().length+16,l=this.getAllMap();do{n=Object(k.createId)(m)}while(l[n]);return n}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(2),se=o.n(ee),J=se.a.Model.extend({defaults:{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1},initialize:function(U){if(this.get("buttons").length){var L=o(48).default;this.set("buttons",new L(this.get("buttons")))}}});le.default=se.a.Collection.extend({model:J,deactivateAllExceptOne:function(U,L){this.forEach(function(k,f){k!==U&&(k.set("active",!1),L&&k.get("buttons").length&&k.get("buttons").deactivateAllExceptOne(U,L))})},deactivateAll:function(U,L){var k=U||"";this.forEach(function(f){f.get("context")==k&&f!==L&&f.set("active",!1,{fromCollection:1})})},disableAllButtons:function(U){var L=U||"";this.forEach(function(k,f){k.get("context")==L&&k.set("disable",!0)})},disableAllButtonsExceptOne:function(U,L){this.forEach(function(k,f){k!==U&&(k.set("disable",!0),L&&k.get("buttons").length&&k.get("buttons").disableAllButtonsExceptOne(U,L))})}})},function(Ye,le){Ye.exports=function(o,ee){(null==ee||ee>o.length)&&(ee=o.length);for(var se=0,J=new Array(ee);se<ee;se++)J[se]=o[se];return J},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){var ee=o(49);Ye.exports=function(se,J){if(se){if("string"==typeof se)return ee(se,J);var U=Object.prototype.toString.call(se).slice(8,-1);return"Object"===U&&se.constructor&&(U=se.constructor.name),"Map"===U||"Set"===U?Array.from(se):"Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?ee(se,J):void 0}},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){!function(ee){"use strict";function se($){for(var w={},p=0;p<$.length;++p)w[$[p].toLowerCase()]=!0;return w}ee.defineMode("css",function($,w){var p=w.inline;w.propertyKeywords||(w=ee.resolveMode("text/css"));var u,x,b=$.indentUnit,R=w.tokenHooks,Q=w.documentTypes||{},re=w.mediaTypes||{},Fe=w.mediaFeatures||{},ge=w.mediaValueKeywords||{},fe=w.propertyKeywords||{},Ae=w.nonStandardPropertyKeywords||{},Pe=w.fontProperties||{},de=w.counterDescriptors||{},pe=w.colorKeywords||{},_e=w.valueKeywords||{},ae=w.allowNested,G=!0===w.supportsAtComponent,W=!1!==$.highlightNonStandardPropertyKeywords;function j(ve,Ee){return u=Ee,ve}function C(ve,Ee){var Ne=ve.next();if(R[Ne]){var Je=R[Ne](ve,Ee);if(!1!==Je)return Je}return"@"==Ne?(ve.eatWhile(/[\w\\\-]/),j("def",ve.current())):"="==Ne||("~"==Ne||"|"==Ne)&&ve.eat("=")?j(null,"compare"):'"'==Ne||"'"==Ne?(Ee.tokenize=H(Ne),Ee.tokenize(ve,Ee)):"#"==Ne?(ve.eatWhile(/[\w\\\-]/),j("atom","hash")):"!"==Ne?(ve.match(/^\s*\w*/),j("keyword","important")):/\d/.test(Ne)||"."==Ne&&ve.eat(/\d/)?(ve.eatWhile(/[\w.%]/),j("number","unit")):"-"!==Ne?/[,+>*\/]/.test(Ne)?j(null,"select-op"):"."==Ne&&ve.match(/^-?[_a-z][_a-z0-9-]*/i)?j("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Ne)?j(null,Ne):ve.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(ve.current())&&(Ee.tokenize=n),j("variable callee","variable")):/[\w\\\-]/.test(Ne)?(ve.eatWhile(/[\w\\\-]/),j("property","word")):j(null,null):/[\d.]/.test(ve.peek())?(ve.eatWhile(/[\w.%]/),j("number","unit")):ve.match(/^-[\w\\\-]*/)?(ve.eatWhile(/[\w\\\-]/),ve.match(/^\s*:/,!1)?j("variable-2","variable-definition"):j("variable-2","variable")):ve.match(/^\w+-/)?j("meta","meta"):void 0}function H(ve){return function(Ee,Ne){for(var Je,St=!1;null!=(Je=Ee.next());){if(Je==ve&&!St){")"==ve&&Ee.backUp(1);break}St=!St&&"\\"==Je}return(Je==ve||!St&&")"!=ve)&&(Ne.tokenize=null),j("string","string")}}function n(ve,Ee){return ve.next(),Ee.tokenize=ve.match(/^\s*[\"\')]/,!1)?null:H(")"),j(null,"(")}function m(ve,Ee,Ne){this.type=ve,this.indent=Ee,this.prev=Ne}function l(ve,Ee,Ne,Je){return ve.context=new m(Ne,Ee.indentation()+(!1===Je?0:b),ve.context),Ne}function A(ve){return ve.context.prev&&(ve.context=ve.context.prev),ve.context.type}function q(ve,Ee,Ne){return ke[Ne.context.type](ve,Ee,Ne)}function be(ve,Ee,Ne,Je){for(var St=Je||1;St>0;St--)Ne.context=Ne.context.prev;return q(ve,Ee,Ne)}function Le(ve){var Ee=ve.current().toLowerCase();x=_e.hasOwnProperty(Ee)?"atom":pe.hasOwnProperty(Ee)?"keyword":"variable"}var ke={top:function(ve,Ee,Ne){if("{"==ve)return l(Ne,Ee,"block");if("}"==ve&&Ne.context.prev)return A(Ne);if(G&&/@component/i.test(ve))return l(Ne,Ee,"atComponentBlock");if(/^@(-moz-)?document$/i.test(ve))return l(Ne,Ee,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(ve))return l(Ne,Ee,"atBlock");if(/^@(font-face|counter-style)/i.test(ve))return Ne.stateArg=ve,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ve))return"keyframes";if(ve&&"@"==ve.charAt(0))return l(Ne,Ee,"at");if("hash"==ve)x="builtin";else if("word"==ve)x="tag";else{if("variable-definition"==ve)return"maybeprop";if("interpolation"==ve)return l(Ne,Ee,"interpolation");if(":"==ve)return"pseudo";if(ae&&"("==ve)return l(Ne,Ee,"parens")}return Ne.context.type},block:function(ve,Ee,Ne){if("word"==ve){var Je=Ee.current().toLowerCase();return fe.hasOwnProperty(Je)?(x="property","maybeprop"):Ae.hasOwnProperty(Je)?(x=W?"string-2":"property","maybeprop"):ae?(x=Ee.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(x+=" error","maybeprop")}return"meta"==ve?"block":ae||"hash"!=ve&&"qualifier"!=ve?ke.top(ve,Ee,Ne):(x="error","block")},maybeprop:function(ve,Ee,Ne){return":"==ve?l(Ne,Ee,"prop"):q(ve,Ee,Ne)},prop:function(ve,Ee,Ne){if(";"==ve)return A(Ne);if("{"==ve&&ae)return l(Ne,Ee,"propBlock");if("}"==ve||"{"==ve)return be(ve,Ee,Ne);if("("==ve)return l(Ne,Ee,"parens");if("hash"!=ve||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Ee.current())){if("word"==ve)Le(Ee);else if("interpolation"==ve)return l(Ne,Ee,"interpolation")}else x+=" error";return"prop"},propBlock:function(ve,Ee,Ne){return"}"==ve?A(Ne):"word"==ve?(x="property","maybeprop"):Ne.context.type},parens:function(ve,Ee,Ne){return"{"==ve||"}"==ve?be(ve,Ee,Ne):")"==ve?A(Ne):"("==ve?l(Ne,Ee,"parens"):"interpolation"==ve?l(Ne,Ee,"interpolation"):("word"==ve&&Le(Ee),"parens")},pseudo:function(ve,Ee,Ne){return"meta"==ve?"pseudo":"word"==ve?(x="variable-3",Ne.context.type):q(ve,Ee,Ne)},documentTypes:function(ve,Ee,Ne){return"word"==ve&&Q.hasOwnProperty(Ee.current())?(x="tag",Ne.context.type):ke.atBlock(ve,Ee,Ne)},atBlock:function(ve,Ee,Ne){if("("==ve)return l(Ne,Ee,"atBlock_parens");if("}"==ve||";"==ve)return be(ve,Ee,Ne);if("{"==ve)return A(Ne)&&l(Ne,Ee,ae?"block":"top");if("interpolation"==ve)return l(Ne,Ee,"interpolation");if("word"==ve){var Je=Ee.current().toLowerCase();x="only"==Je||"not"==Je||"and"==Je||"or"==Je?"keyword":re.hasOwnProperty(Je)?"attribute":Fe.hasOwnProperty(Je)?"property":ge.hasOwnProperty(Je)?"keyword":fe.hasOwnProperty(Je)?"property":Ae.hasOwnProperty(Je)?W?"string-2":"property":_e.hasOwnProperty(Je)?"atom":pe.hasOwnProperty(Je)?"keyword":"error"}return Ne.context.type},atComponentBlock:function(ve,Ee,Ne){return"}"==ve?be(ve,Ee,Ne):"{"==ve?A(Ne)&&l(Ne,Ee,ae?"block":"top",!1):("word"==ve&&(x="error"),Ne.context.type)},atBlock_parens:function(ve,Ee,Ne){return")"==ve?A(Ne):"{"==ve||"}"==ve?be(ve,Ee,Ne,2):ke.atBlock(ve,Ee,Ne)},restricted_atBlock_before:function(ve,Ee,Ne){return"{"==ve?l(Ne,Ee,"restricted_atBlock"):"word"==ve&&"@counter-style"==Ne.stateArg?(x="variable","restricted_atBlock_before"):q(ve,Ee,Ne)},restricted_atBlock:function(ve,Ee,Ne){return"}"==ve?(Ne.stateArg=null,A(Ne)):"word"==ve?(x="@font-face"==Ne.stateArg&&!Pe.hasOwnProperty(Ee.current().toLowerCase())||"@counter-style"==Ne.stateArg&&!de.hasOwnProperty(Ee.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(ve,Ee,Ne){return"word"==ve?(x="variable","keyframes"):"{"==ve?l(Ne,Ee,"top"):q(ve,Ee,Ne)},at:function(ve,Ee,Ne){return";"==ve?A(Ne):"{"==ve||"}"==ve?be(ve,Ee,Ne):("word"==ve?x="tag":"hash"==ve&&(x="builtin"),"at")},interpolation:function(ve,Ee,Ne){return"}"==ve?A(Ne):"{"==ve||";"==ve?be(ve,Ee,Ne):("word"==ve?x="variable":"variable"!=ve&&"("!=ve&&")"!=ve&&(x="error"),"interpolation")}};return{startState:function(ve){return{tokenize:null,state:p?"block":"top",stateArg:null,context:new m(p?"block":"top",ve||0,null)}},token:function(ve,Ee){if(!Ee.tokenize&&ve.eatSpace())return null;var Ne=(Ee.tokenize||C)(ve,Ee);return Ne&&"object"==typeof Ne&&(u=Ne[1],Ne=Ne[0]),x=Ne,"comment"!=u&&(Ee.state=ke[Ee.state](u,ve,Ee)),x},indent:function(ve,Ee){var Ne=ve.context,Je=Ee&&Ee.charAt(0),St=Ne.indent;return"prop"!=Ne.type||"}"!=Je&&")"!=Je||(Ne=Ne.prev),Ne.prev&&("}"!=Je||"block"!=Ne.type&&"top"!=Ne.type&&"interpolation"!=Ne.type&&"restricted_atBlock"!=Ne.type?(")"!=Je||"parens"!=Ne.type&&"atBlock_parens"!=Ne.type)&&("{"!=Je||"at"!=Ne.type&&"atBlock"!=Ne.type)||(St=Math.max(0,Ne.indent-b)):St=(Ne=Ne.prev).indent),St},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:w.lineComment,fold:"brace"}});var J=["domain","regexp","url","url-prefix"],U=se(J),L=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],k=se(L),f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],g=se(f),h=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],y=se(h),d=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],P=se(d),O=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],v=se(O),D=se(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),I=se(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),T=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],S=se(T),r=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],_=se(r),E=J.concat(L).concat(f).concat(h).concat(d).concat(O).concat(T).concat(r);function B($,w){for(var p,u=!1;null!=(p=$.next());){if(u&&"/"==p){w.tokenize=null;break}u="*"==p}return["comment","comment"]}ee.registerHelper("hintWords","css",E),ee.defineMIME("text/css",{documentTypes:U,mediaTypes:k,mediaFeatures:g,mediaValueKeywords:y,propertyKeywords:P,nonStandardPropertyKeywords:v,fontProperties:D,counterDescriptors:I,colorKeywords:S,valueKeywords:_,tokenHooks:{"/":function($,w){return!!$.eat("*")&&(w.tokenize=B,B($,w))}},name:"css"}),ee.defineMIME("text/x-scss",{mediaTypes:k,mediaFeatures:g,mediaValueKeywords:y,propertyKeywords:P,nonStandardPropertyKeywords:v,colorKeywords:S,valueKeywords:_,fontProperties:D,allowNested:!0,lineComment:"//",tokenHooks:{"/":function($,w){return $.eat("/")?($.skipToEnd(),["comment","comment"]):$.eat("*")?(w.tokenize=B,B($,w)):["operator","operator"]},":":function($){return!!$.match(/^\s*\{/,!1)&&[null,null]},$:function($){return $.match(/^[\w-]+/),$.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function($){return!!$.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),ee.defineMIME("text/x-less",{mediaTypes:k,mediaFeatures:g,mediaValueKeywords:y,propertyKeywords:P,nonStandardPropertyKeywords:v,colorKeywords:S,valueKeywords:_,fontProperties:D,allowNested:!0,lineComment:"//",tokenHooks:{"/":function($,w){return $.eat("/")?($.skipToEnd(),["comment","comment"]):$.eat("*")?(w.tokenize=B,B($,w)):["operator","operator"]},"@":function($){return $.eat("{")?[null,"interpolation"]:!$.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&($.eatWhile(/[\w\\\-]/),$.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),ee.defineMIME("text/x-gss",{documentTypes:U,mediaTypes:k,mediaFeatures:g,propertyKeywords:P,nonStandardPropertyKeywords:v,fontProperties:D,counterDescriptors:I,colorKeywords:S,valueKeywords:_,supportsAtComponent:!0,tokenHooks:{"/":function($,w){return!!$.eat("*")&&(w.tokenize=B,B($,w))}},name:"css",helperType:"gss"})}(o(27))},function(Ye,le,o){"use strict";o.r(le),le.default={run:function(ee){ee.DomComponents.clear(),ee.CssComposer.clear()}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(0),se=o(1),J=o(24);le.default={run:function(U){Object(ee.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=U,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(U){this.toggleMove(),this.disableDragger()},onKeyUp:function(U){" "===Object(se.getKeyChar)(U)&&this.editor.stopCommand(this.id)},enableDragger:function(U){this.toggleDragger(1,U)},disableDragger:function(U){this.toggleDragger(0,U)},toggleDragger:function(U,L){var k=this.canvasModel,f=this.em,g=this.dragger,h=U?"add":"remove";this.getCanvas().classList[h]("".concat(this.ppfx,"is__grabbing")),g||(g=new J.a({getPosition:function(){return{x:k.get("x"),y:k.get("y")}},setPosition:function(y){k.set({x:y.x,y:y.y})},onStart:function(y,d){f.trigger("canvas:move:start",d)},onDrag:function(y,d){f.trigger("canvas:move",d)},onEnd:function(y,d){f.trigger("canvas:move:end",d)}}),this.dragger=g),U?g.start(L):g.stop()},toggleMove:function(U){var L=this.ppfx,k=U?"add":"remove",f=U?"on":"off",g={on:se.on,off:se.off},h=this.getCanvas(),y=["".concat(L,"is__grab")];!U&&y.push("".concat(L,"is__grabbing")),y.forEach(function(d){return h.classList[k](d)}),g[f](document,"keyup",this.onKeyUp),g[f](h,"mousedown",this.enableDragger),g[f](document,"mouseup",this.disableDragger)}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(11),se=o.n(ee),J=o(0);le.default={run:function(U,L){var k=this,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g=[],h=f.component||U.getSelectedAll();return h=Object(J.isArray)(h)?se()(h):[h],U.select(null),h.forEach(function(y){if(!y||!y.get("removable"))return k.em.logWarning("The element is not removable",{component:y});y.remove(),y.collection&&g.push(y)}),g.length&&U.select(g),h}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(0),U=o(24);function L(g,h){var y=Object.keys(g);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(g);h&&(d=d.filter(function(P){return Object.getOwnPropertyDescriptor(g,P).enumerable})),y.push.apply(y,d)}return y}function k(g){for(var h=1;h<arguments.length;h++){var y=null!=arguments[h]?arguments[h]:{};h%2?L(Object(y),!0).forEach(function(d){se()(g,d,y[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(y)):L(Object(y)).forEach(function(d){Object.defineProperty(g,d,Object.getOwnPropertyDescriptor(y,d))})}return g}var f="dmode";le.default={run:function(g,h){var y=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(J.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var P=d.target,O=d.event,v=d.mode,D=d.dragger,I=void 0===D?{}:D,T=P.getEl(),S=k({doc:T.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return y.guidesStatic},guidesTarget:function(){return y.guidesTarget}},I);this.setupGuides(),this.opts=d,this.editor=g,this.em=g.getModel(),this.target=P,this.isTran="translate"==v,this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var r=this.dragger;return r?r.setOptions(S):(r=new U.a(S),this.dragger=r),O&&r.start(O),this.toggleDrag(1),this.em.trigger("".concat(f,":start"),this.getEventOpts()),r},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(g){var h=g.guide;h&&h.parentNode.removeChild(h)}),this.guides=[]},getGuidesContainer:function(){var g=this,h=this.guidesEl;if(!h){var y=this.editor,d=this.em,P=this.opts,O=y.getConfig("stylePrefix"),v=document.createElement("div"),D=document.createElement("div"),I='<div class="'.concat(O,"guide-info__line ").concat(O,'danger-bg">\n        <div class="').concat(O,"guide-info__content ").concat(O,'danger-color"></div>\n      </div>');(h=document.createElement("div")).className="".concat(O,"guides"),v.className="".concat(O,"guide-info ").concat(O,"guide-info__x"),D.className="".concat(O,"guide-info ").concat(O,"guide-info__y"),v.innerHTML=I,D.innerHTML=I,h.appendChild(v),h.appendChild(D),y.Canvas.getGlobalToolsEl().appendChild(h),this.guidesEl=h,this.elGuideInfoX=v,this.elGuideInfoY=D,this.elGuideInfoContentX=v.querySelector(".".concat(O,"guide-info__content")),this.elGuideInfoContentY=D.querySelector(".".concat(O,"guide-info__content")),d.on("canvas:update frame:scroll",Object(J.debounce)(function(){g.updateGuides(),P.debug&&g.guides.forEach(function(T){return g.renderGuide(T)})},200))}return h},getGuidesStatic:function(){var g=this,h=[],y=this.target.getEl(),d=y.parentNode,P=void 0===d?{}:d;return Object(J.each)(P.children,function(O){return h=h.concat(y!==O?g.getElementGuides(O):[])}),h.concat(this.getElementGuides(P))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(g){var h,y,d=this;(g||this.guides).forEach(function(P){var O=P.origin,v=h===O?y:d.getElementPos(O);h=O,y=v,Object(J.each)(d.getGuidePosUpdate(P,v),function(D,I){return P[I]=D}),P.originRect=v})},getGuidePosUpdate:function(g,h){var y={},d=h.top,P=h.height,O=h.left,v=h.width;switch(g.type){case"t":y.y=d;break;case"b":y.y=d+P;break;case"l":y.x=O;break;case"r":y.x=O+v;break;case"x":y.x=O+v/2;break;case"y":y.y=d+P/2}return y},renderGuide:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=g.guide||document.createElement("div"),y="px",d=g.active?2:1,P=h.children[0];return h.style="position: absolute; background-color: ".concat(g.active?"green":"red",";"),h.children.length||((P=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",h.appendChild(P)),g.y?(h.style.width="100%",h.style.height="".concat(d).concat(y),h.style.top="".concat(g.y).concat(y),h.style.left=0):(h.style.width="".concat(d).concat(y),h.style.height="100%",h.style.left="".concat(g.x).concat(y),h.style.top="0".concat(y)),!g.guide&&this.guidesContainer.appendChild(h),h},getElementPos:function(g){return this.editor.Canvas.getElementPos(g,{noScroll:1})},getElementGuides:function(g){var h=this,y=this.opts,d=this.getElementPos(g),P=d.top,O=d.height,v=d.left,D=d.width,I=[{type:"t",y:P},{type:"b",y:P+O},{type:"l",x:v},{type:"r",x:v+D},{type:"x",x:v+D/2},{type:"y",y:P+O/2}].map(function(T){return k(k({},T),{},{origin:g,originRect:d,guide:y.debug&&h.renderGuide(T)})});return I.forEach(function(T){return h.guides.push(T)}),I},getTranslate:function(g){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",y=0;return(g||"").split(" ").forEach(function(d){var P=d.trim(),O="translate".concat(h.toUpperCase(),"(");0===P.indexOf(O)&&(y=parseFloat(P.replace(O,"")))}),y},setTranslate:function(g,h,y){var d="translate".concat(h.toUpperCase(),"("),P="".concat(d).concat(y,")"),O=(g||"").split(" ").map(function(v){return 0===v.trim().indexOf(d)&&(v=P),v}).join(" ");return O.indexOf(d)<0&&(O+=" ".concat(P)),O},getPosition:function(){var h=this.isTran,y=this.target.getStyle(),d=y.left,P=y.top,O=y.transform,v=0,D=0;return h?(v=this.getTranslate(O),D=this.getTranslate(O,"y")):(v=parseFloat(d||0),D=parseFloat(P||0)),{x:v,y:D}},setPosition:function(g){var y=g.y,d=g.end,P=g.position,O=g.width,v=g.height,D=this.target,I=this.isTran,T=this.em,r=d?"":1,_="".concat(g.x).concat("px"),E="".concat(y).concat("px"),B={};if(I){var $=D.getStyle().transform||"";$=this.setTranslate($,"x",_),B={transform:$=this.setTranslate($,"y",E),en:r},D.addStyle(B,{avoidStore:!d})}else{var w={position:P,width:O,height:v},p={left:_,top:E,en:r};Object(J.keys)(w).forEach(function(u){var x=w[u];x&&(p[u]=x)}),D.addStyle(B=p,{avoidStore:!d})}T.getSelected()&&Object(J.keys)(B).forEach(function(u){return T.trigger("update:component:style:".concat(u))})},_getDragData:function(){var g=this.target;return{target:g,parent:g.parent(),index:g.index()}},onStart:function(g){var h=this.target,d=this.isTran,P=this.opts,O=P.center,v=P.onStart,D=this.editor.Canvas,I=h.getStyle(),T="absolute";if(v&&v(this._getDragData()),!d&&I.position!==T){var S=D.offset(h.getEl()),r=S.left,_=S.top,E=S.width,B=S.height;if(O){var $=D.getMouseRelativeCanvas(g);r=$.x,_=$.y}this.setPosition({x:r,y:_,width:"".concat(E,"px"),height:"".concat(B,"px"),position:T})}},onDrag:function(){var g=this,h=this.guidesTarget,y=this.opts,d=y.onDrag;this.updateGuides(h),y.debug&&h.forEach(function(P){return g.renderGuide(P)}),y.guidesInfo&&this.renderGuideInfo(h.filter(function(P){return P.active})),d&&d(this._getDragData())},onEnd:function(g,h){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=this.editor,P=this.opts,O=this.id,v=P.onEnd;v&&v(g,y,k(k({event:g},y),this._getDragData())),d.stopCommand(O),this.hideGuidesInfo(),this.em.trigger("".concat(f,":end"),this.getEventOpts())},hideGuidesInfo:function(){var g=this;["X","Y"].forEach(function(h){var y=g["elGuideInfo".concat(h)];y&&(y.style.display="none")})},renderGuideInfo:function(){var g=this,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],y=this.guidesStatic;this.hideGuidesInfo(),h.forEach(function(d){var O=d.x,v=g.getElementPos(d.origin),D=Object(J.isUndefined)(O)?"y":"x",I="y"===D,T=v[I?"left":"top"],S=v.rect[I?"left":"top"],r=I?T+v.width:T+v.height,_=I?S+v.rect.width:S+v.rect.height,E=g["elGuideInfo".concat(D.toUpperCase())],B=g["elGuideInfoContent".concat(D.toUpperCase())],$=E.style,w=y.filter(function(ne){return ne.type===d.type}).map(function(ne){var G=ne.originRect,W=G.left,C=G.top,n=I?W+G.width:C+G.height;return{gap:n<T?T-n:(I?W:C)-r,guide:ne}}).filter(function(ne){return ne.gap>0}).sort(function(ne,G){return ne.gap-G.gap}).map(function(ne){return ne.guide})[0];if(w){var p=w.originRect,u=p.left,b=p.top,Q=p.rect,re=I?u<v.left:b<v.top,Fe=I?u:b,ge=I?Q.left:Q.top,fe=I?u+p.width:b+p.height,Ae=I?Q.left+Q.width:Q.top+Q.height,Pe=I?d.y:d.x,de=re?fe:r,pe="".concat(Pe,"px"),_e=re?T-fe:Fe-r,ae=re?S-Ae:ge-_;$.display="",$[I?"top":"left"]=pe,$[I?"left":"top"]="".concat(de,"px"),$[I?"width":"height"]="".concat(_e,"px"),B.innerHTML="".concat(Math.round(ae),"px"),g.em.trigger("".concat(f,":active"),k(k({},g.getEventOpts()),{},{guide:d,guidesStatic:y,matched:w,posFirst:Pe,posSecond:de,size:_e,sizeRaw:ae,elGuideInfo:E,elGuideInfoCnt:B}))}})},toggleDrag:function(g){var y=this.editor,d=g?"add":"remove",P=["".concat(this.ppfx,"is__grabbing")],O=y.Canvas,v=O.getBody();P.forEach(function(D){return v.classList[d](D)}),O[g?"startAutoscroll":"stopAutoscroll"]()}}},function(Ye,le,o){"use strict";o.r(le),le.default={run:function(ee){if(ee.Canvas.hasFocus()){var se=[];ee.getSelectedAll().forEach(function(J){var U=J.components(),L=U&&U.filter(function(k){return k.get("selectable")})[0];L&&se.push(L)}),se.length&&ee.select(se)}}}},function(Ye,le,o){"use strict";o.r(le),le.default={run:function(ee,se){var J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(ee.Canvas.hasFocus()||J.force){var U=[];ee.getSelectedAll().forEach(function(L){for(var k=L.parent();k&&!k.get("selectable");)k=k.parent();k&&U.push(k)}),U.length&&ee.select(U)}}}},function(Ye,le,o){"use strict";o.r(le),le.default={run:function(ee){if(ee.Canvas.hasFocus()){var se=[];ee.getSelectedAll().forEach(function(J){var U=J.parent();if(U){var L,k=U.components().length,f=0,g=0;do{f++,L=(g=J.index()+f)<=k?U.getChildAt(g):null}while(L&&!L.get("selectable"));se.push(L||J)}}),se.length&&ee.select(se)}}}},function(Ye,le,o){"use strict";o.r(le),le.default={run:function(ee){if(ee.Canvas.hasFocus()){var se=[];ee.getSelectedAll().forEach(function(J){var U=J.parent();if(U){var L,k=0,f=0;do{k++,L=(f=J.index()-k)>=0?U.getChildAt(f):null}while(L&&!L.get("selectable"));se.push(L||J)}}),se.length&&ee.select(se)}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(0);le.default={run:function(se,J){var U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},L=U.target,k=[];if(!L.get("styles"))return k;var f=L.get("type"),g=se.Pages.getAllWrappers(),h=Object(ee.flatten)(g.map(function(d){return d.findType(f)})).length;if(!h){var y=se.CssComposer.getAll();k=y.filter(function(d){return d.get("group")==="cmp:".concat(f)}),y.remove(k)}return k}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(11),se=o.n(ee);le.default={run:function(J){var U=J.getModel(),L=se()(J.getSelectedAll());L.length&&U.set("clipboard",L)}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(0),se=o(2),J=o.n(se),U=o(23),L=J.a.$;le.default=Object(ee.extend)({},U.default,{init:function(k){Object(ee.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(k){k.stopPropagation();var f=L(k.target);f.data("model").get("removable")&&(f.addClass(this.hoverClass),this.attachBadge(f.get(0)))},stopDelete:function(k){k.stopPropagation(),L(k.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(k){k.stopPropagation();var f=L(k.target);f.data("model").get("removable")&&(f.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(k){this.badge.html("Remove "+k.getName())}})},function(Ye,le,o){"use strict";o.r(le);var ee=o(2),se=o.n(ee).a.$;le.default={run:function(J,U){var L=this;U&&U.set&&U.set("active",0);var k=J.getConfig(),f=J.Modal,g=k.stylePrefix;if(this.cm=J.CodeManager||null,!this.$editors){var h=this.buildEditor("htmlmixed","hopscotch","HTML"),y=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=h.el,this.cssEditor=y.el;var d=se('<div class="'.concat(g,'export-dl"></div>'));d.append(h.$el).append(y.$el),this.$editors=d}f.open({title:k.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return J.stopCommand(L.id)}),this.htmlEditor.setContent(J.getHtml()),this.cssEditor.setContent(J.getCss())},stop:function(J){var U=J.Modal;U&&U.close()},buildEditor:function(J,U,L){var k=document.createElement("textarea");!this.codeMirror&&(this.codeMirror=this.cm.getViewer("CodeMirror"));var f=this.codeMirror.clone().set({label:L,codeName:J,theme:U,input:k}),g=new this.cm.EditorView({model:f,config:this.cm.getConfig()}).render().$el;return f.init(k),{el:f,$el:g}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(0);le.default={isEnabled:function(){var se=document;return se.fullscreenElement||se.webkitFullscreenElement||se.mozFullScreenElement?1:0},enable:function(se){var J="";return se.requestFullscreen?se.requestFullscreen():se.webkitRequestFullscreen?(J="webkit",se.webkitRequestFullscreen()):se.mozRequestFullScreen?(J="moz",se.mozRequestFullScreen()):se.msRequestFullscreen?se.msRequestFullscreen():console.warn("Fullscreen not supported"),J},disable:function(){var se=document;this.isEnabled()&&(se.exitFullscreen?se.exitFullscreen():se.webkitExitFullscreen?se.webkitExitFullscreen():se.mozCancelFullScreen?se.mozCancelFullScreen():se.msExitFullscreen&&se.msExitFullscreen())},fsChanged:function(se,J){var U=(se||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(U,this.fsChanged))},run:function(se,J){var U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sender=J;var L=U.target,k=Object(ee.isElement)(L)?L:document.querySelector(L),f=this.enable(k||se.getContainer());this.fsChanged=this.fsChanged.bind(this,f),document.addEventListener(f+"fullscreenchange",this.fsChanged),se.trigger("change:canvasOffset")},stop:function(se,J){J&&J.set&&J.set("active",!1),this.disable(),se&&se.trigger("change:canvasOffset")}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(0),se=o(2),J=o.n(se),U=o(1),L=o(23),k=o(36),f=J.a.$;le.default=Object(ee.extend)({},k.default,L.default,{init:function(g){L.default.init.apply(this,arguments),Object(ee.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=g,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var g=arguments.length,h=new Array(g),y=0;y<g;y++)h[y]=arguments[y];L.default.enable.apply(this,h),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var d=this.$wrapper;d.css("cursor","move"),d.on("mousedown",this.initSorter),d.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(g){var h=f(g.target).data("model").get("draggable");h&&(this.cacheEl=null,this.startSelectPosition(g.target,this.frameEl.contentDocument),this.sorter.draggable=h,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),Object(U.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(g){var h=g.get("draggable");h&&(this.cacheEl=null,this.startSelectPosition(g.view.el,this.frameEl.contentDocument),this.sorter.draggable=h,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(U.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModels:function(g){this.cacheEl=null;var h=g[g.length-1],y=(this.em.get("currentFrame")||{}).model,d=h.getEl(y);this.startSelectPosition(d,d.ownerDocument,{onStart:this.onStart}),this.sorter.draggable=h.get("draggable"),this.sorter.toMove=g,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(U.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){Object(U.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),Object(U.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(g,h){},rollback:function(g,h){(27==(g.which||g.keyCode)||h)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=f(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=f(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var g=arguments.length,h=new Array(g),y=0;y<g;y++)h[y]=arguments[y];L.default.stop.apply(this,h),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var d=this.$wrapper;d.css("cursor","").unbind().removeClass(this.noSelClass)}})},function(Ye,le,o){"use strict";o.r(le);var ee=o(0),se=o(13);le.default={open:function(J){var U=this,L=this.editor,k=this.title,g=this.am,h=this.config.custom;if(Object(ee.isFunction)(h.open))return h.open(g.__customData());L.Modal.open({title:k,content:J}).onceClose(function(){return L.stopCommand(U.id)})},close:function(){var J=this.config.custom;if(Object(ee.isFunction)(J.close))return J.close(this.am.__customData());var U=this.editor.Modal;U&&U.close()},run:function(J,U){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=J.AssetManager,f=k.getConfig(),g=L.types,h=void 0===g?[]:g,y=L.accept,d=L.select;if(this.title=L.modalTitle||J.t("assetManager.modalTitle")||"",this.editor=J,this.config=f,this.am=k,k.setTarget(L.target),k.onClick(L.onClick),k.onDblClick(L.onDblClick),k.onSelect(L.onSelect),k.__behaviour({select:d,types:h,options:L}),f.custom)this.rendered=this.rendered||Object(se.f)("div"),this.rendered.className="".concat(f.stylePrefix,"custom-wrp"),k.__behaviour({container:this.rendered}),k.__trgCustom();else{if(!this.rendered||h){var P=k.getAll().filter(function(v){return v});h&&h.length&&(P=P.filter(function(v){return-1!==h.indexOf(v.get("type"))})),k.render(P),this.rendered=k.getContainer()}if(y){var O=this.rendered.querySelector("input#".concat(f.stylePrefix,"uploadFile"));O&&O.setAttribute("accept",y)}}return this.open(this.rendered),this},stop:function(J){this.editor=J,this.close(this.rendered)}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(0),se=o(13);le.default={open:function(){var J=this.container,U=this.editor,L=this.bm,k=this.config,f=k.custom,g=k.appendTo;if(Object(ee.isFunction)(f.open))return f.open(L.__customData());if(this.firstRender&&!g){var h="views-container",y=U.Panels;(y.getPanel(h)||y.addPanel({id:h})).set("appendContent",J).trigger("change:appendContent"),f||J.appendChild(L.render())}J&&(J.style.display="block")},close:function(){var J=this.container,U=this.config.custom;if(Object(ee.isFunction)(U.close))return U.close(this.bm.__customData());J&&(J.style.display="none")},run:function(J){var U=J.Blocks;this.config=U.getConfig(),this.firstRender=!this.container,this.container=this.container||Object(se.f)("div"),this.editor=J,this.bm=U,U.__behaviour({container:this.container}),this.config.custom&&U.__trgCustom(),this.open()},stop:function(){this.close()}}},function(Ye,le,o){"use strict";o.r(le),le.default={run:function(ee){var se=ee.LayerManager,J=ee.Panels;if(!se.getConfig().appendTo){if(!this.layers){var U="views-container",L=document.createElement("div"),k=J.getPanel(U)||J.addPanel({id:U});L.appendChild(se.render()),k.set("appendContent",L).trigger("change:appendContent"),this.layers=L}this.layers.style.display="block"}},stop:function(){var ee=this.layers;ee&&(ee.style.display="none")}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(2),se=o.n(ee).a.$;le.default={run:function(J,U){if(this.sender=U,!this.$cn){var L=J.getConfig(),k=J.Panels,f="change:appendContent";this.$cn=se("<div></div>"),this.$cn2=se("<div></div>"),this.$cn.append(this.$cn2);var g=J.DeviceManager;if(g&&L.showDevices){var h=k.addPanel({id:"devices-c"}),y=g.render();h.set("appendContent",y).trigger(f)}var d=J.SelectorManager,P=d.getConfig();P.custom?d.__trgCustom({container:this.$cn2.get(0)}):P.appendTo||this.$cn2.append(d.render([]));var O=J.StyleManager,v=O.getConfig();v.appendTo||(this.$cn2.append(O.render()),this.$header=se('<div class="'.concat(v.stylePrefix,'header">').concat(J.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header));var I="views-container";this.panel=k.getPanel(I),this.panel||(this.panel=k.addPanel({id:I})),this.panel.set("appendContent",this.$cn).trigger(f),this.target=J.editor,this.listenTo(this.target,"component:toggled",this.toggleSm)}this.toggleSm()},toggleSm:function(){var J=this.target,U=this.sender;if(!U||!U.get||U.get("active")){var L=J.get("SelectorManager").getConfig().componentFirst,k=J.getSelectedAll().length;1===k||k>1&&L?(this.$cn2&&this.$cn2.show(),this.$header&&this.$header.hide()):(this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.show())}},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(2),se=o.n(ee).a.$;le.default={run:function(J,U){this.sender=U;var L=J.getModel(),k=J.Config.stylePrefix,f=J.TraitManager,g=f.getConfig();if(!g.appendTo){if(!this.$cn){this.$cn=se("<div></div>"),this.$cn2=se("<div></div>"),this.$cn.append(this.$cn2),this.$header=se("<div>").append('<div class="'.concat(g.stylePrefix,'header">').concat(L.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(k,'traits-label">').concat(L.t("traitManager.label"),"</div>")),this.$cn2.append(f.render());var h=J.Panels;(h.getPanel("views-container")?h.getPanel("views-container"):h.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=J.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var J=this.sender;J&&J.get&&!J.get("active")||(1===this.target.getSelectedAll().length?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(0);le.default={run:function(se){var J=se.getModel().get("clipboard"),U=se.getSelected();J&&U&&(se.getSelectedAll().forEach(function(L){if(L){var k,f=L.collection,g=f.indexOf(L)+1,h=J.filter(function(y){return y.get("copyable")});k=Object(ee.contains)(J,L)&&L.get("copyable")?f.add(L.clone(),{at:g}):f.add(h.map(function(y){return y.clone()}),{at:g}),(k=Object(ee.isArray)(k)?k:[k]).forEach(function(y){return se.trigger("component:paste",y)})}}),U.emitUpdate())}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(11),se=o.n(ee),J=o(0),U="sw-visibility";le.default={getPanels:function(L){return this.panels||(this.panels=L.Panels.getPanels()),this.panels},preventDrag:function(L){L.abort=1},tglEffects:function(L){var k=this.em,f=L?"on":"off";if(k){var g=k.get("Canvas"),h=g.getBody(),y=g.getToolbarEl();y&&(y.style.display=L?"none":"");var d=h.querySelectorAll(".".concat(this.ppfx,"no-pointer"));Object(J.each)(d,function(P){return P.style.pointerEvents=L?"all":""}),k[f]("run:tlb-move:before",this.preventDrag)}},run:function(L,k){var f=this;this.sender=k,this.selected=se()(L.getSelectedAll()),L.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=L.Commands.isActive(U)),this.shouldRunSwVisibility&&L.stopCommand(U),L.getModel().stopDefault();var g=this.getPanels(L),h=L.Canvas.getElement(),y=L.getEl(),d=L.Config.stylePrefix;if(!this.helper){var P=document.createElement("span");P.className="".concat(d,"off-prv fa fa-eye-slash"),y.appendChild(P),P.onclick=function(){return f.stopCommand()},this.helper=P}this.helper.style.display="inline-block",g.forEach(function(v){return v.set("visible",!1)});var O=h.style;O.width="100%",O.height="100%",O.top="0",O.left="0",O.padding="0",O.margin="0",L.refresh(),this.tglEffects(1)},stop:function(L){var k=this.sender,f=void 0===k?{}:k,g=this.selected;f.set&&f.set("active",0);var h=this.getPanels(L);this.shouldRunSwVisibility&&(L.runCommand(U),this.shouldRunSwVisibility=!1),L.getModel().runDefault(),h.forEach(function(y){return y.set("visible",!0)}),L.Canvas.getElement().setAttribute("style",""),g&&L.select(g),delete this.selected,this.helper&&(this.helper.style.display="none"),L.refresh(),this.tglEffects()}}},function(Ye,le,o){"use strict";o.r(le),le.default={run:function(ee,se,J){var U=J||{},L=U.el||"",k=ee.Canvas,f=this.canvasResizer,g=U.options||{},h=k.getCanvasView();return g.appendTo=k.getResizerEl(),g.prefix=ee.getConfig().stylePrefix,g.posFetcher=h.getElementPos.bind(h),g.mousePosFetcher=k.getMouseRelativePos,f&&!U.forceNew||(this.canvasResizer=ee.Utils.Resizer.init(g),f=this.canvasResizer),f.setOptions(g),f.blur(),f.focus(L),f},stop:function(){var ee=this.canvasResizer;ee&&ee.blur()}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(2),U=o.n(J),L=o(0),k=o(1);function f(h,y){var d=Object.keys(h);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(h);y&&(P=P.filter(function(O){return Object.getOwnPropertyDescriptor(h,O).enumerable})),d.push.apply(d,P)}return d}var g=U.a.$;le.default={getOffsetMethod:function(h){return"get"+(h||"")+"OffsetViewerEl"},run:function(h,y,d){var P=d||{},O=P.state||"",v=h.getConfig(),D=this.em.getZoomDecimal(),I=P.el||"";if(!v.showOffsets||Object(k.isTextNode)(I)||!v.showOffsetsSelected&&"Fixed"==O)h.stopCommand(this.id,d);else{var T=h.Canvas,S=function(Z){for(var ce=1;ce<arguments.length;ce++){var je=null!=arguments[ce]?arguments[ce]:{};ce%2?f(Object(je),!0).forEach(function(qe){se()(Z,qe,je[qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(je)):f(Object(je)).forEach(function(qe){Object.defineProperty(Z,qe,Object.getOwnPropertyDescriptor(je,qe))})}return Z}({},P.elPos||T.getElementPos(I));Object(L.isUndefined)(P.top)||(S.top=P.top),Object(L.isUndefined)(P.left)||(S.left=P.left);var r=window.getComputedStyle(I),_=this.ppfx,E=O+"State",B=T[this.getOffsetMethod(O)](d.view);B.style.opacity="";var $=this["marginT"+O],w=this["marginB"+O],p=this["marginL"+O],u=this["marginR"+O],x=this["padT"+O],b=this["padB"+O],R=this["padL"+O],Q=this["padR"+O];if(B.childNodes.length&&(this[E]="1",$=B.querySelector("[data-offset-m-t]"),w=B.querySelector("[data-offset-m-b]"),p=B.querySelector("[data-offset-m-l]"),u=B.querySelector("[data-offset-m-r]"),x=B.querySelector("[data-offset-p-t]"),b=B.querySelector("[data-offset-p-b]"),R=B.querySelector("[data-offset-p-l]"),Q=B.querySelector("[data-offset-p-r]")),!this[E]){var re=O.toLowerCase(),Fe=re+"margin-v",ge=re+"padding-v",fe=g('<div class="'.concat(_,'marginName">')).get(0),Ae=g('<div class="'.concat(_,'paddingName">')).get(0),Pe=_+ge+"-el",de="".concat(_+Fe+"-el"," ").concat(_+Fe),pe="".concat(Pe," ").concat(_+ge);$=g('<div class="'.concat(de,'-top"></div>')).get(0),w=g('<div class="'.concat(de,'-bottom"></div>')).get(0),p=g('<div class="'.concat(de,'-left"></div>')).get(0),u=g('<div class="'.concat(de,'-right"></div>')).get(0),x=g('<div class="'.concat(pe,'-top"></div>')).get(0),b=g('<div class="'.concat(pe,'-bottom"></div>')).get(0),R=g('<div class="'.concat(pe,'-left"></div>')).get(0),Q=g('<div class="'.concat(pe,'-right"></div>')).get(0),this["marginT"+O]=$,this["marginB"+O]=w,this["marginL"+O]=p,this["marginR"+O]=u,this["padT"+O]=x,this["padB"+O]=b,this["padL"+O]=R,this["padR"+O]=Q,fe.appendChild($),fe.appendChild(w),fe.appendChild(p),fe.appendChild(u),Ae.appendChild(x),Ae.appendChild(b),Ae.appendChild(R),Ae.appendChild(Q),B.appendChild(fe),B.appendChild(Ae),this[E]="1"}var _e="px",ae=parseFloat(r.marginLeft.replace(_e,""))*D,ne=parseFloat(r.marginRight.replace(_e,""))*D,G=parseFloat(r.marginTop.replace(_e,""))*D,W=parseFloat(r.marginBottom.replace(_e,""))*D,j=$.style,C=w.style,H=p.style,n=u.style,m=x.style,l=b.style,A=R.style,q=Q.style,be=parseFloat(S.left),Le=parseFloat(r.width)*D+_e;j.height=G+_e,j.width=Le,j.top=S.top-G+_e,j.left=be+_e,C.height=W+_e,C.width=Le,C.top=S.top+S.height+_e,C.left=be+_e;var ke=S.height+G+W+_e,ve=S.top-G+_e;H.height=ke,H.width=ae+_e,H.top=ve,H.left=be-ae+_e,n.height=ke,n.width=ne+_e,n.top=ve,n.left=be+S.width+_e;var Ee=parseFloat(r.paddingTop)*D;m.height=Ee+_e;var Ne=parseFloat(r.paddingBottom)*D;l.height=Ne+_e;var Je=S.height-Ne-Ee+_e,St=S.top+Ee+_e;A.height=Je,A.width=parseFloat(r.paddingLeft)*D+_e,A.top=St;var vt=parseFloat(r.paddingRight)*D;q.height=Je,q.width=vt+_e,q.top=St}},stop:function(h,y){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},P=d||{},O=P.state||"",v=this.getOffsetMethod(O),D=h.Canvas,I=D[v](d.view);I.style.opacity=0}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(0);le.default={init:function(){Object(ee.bindAll)(this,"_onFramesChange")},run:function(se){this.toggleVis(se)},stop:function(se){this.toggleVis(se,0)},toggleVis:function(se){var J=this,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!se.Commands.isActive("preview")){var L=se.Canvas,k=U?"on":"off";L.getFrames().forEach(function(f){return J._upFrame(f,U)}),L.getModel()[k]("change:frames",this._onFramesChange)}},_onFramesChange:function(se,J){var U=this;J.forEach(function(L){return U._upFrame(L,1)})},_upFrame:function(se,J){var U=J?"add":"remove";se.view.getBody().classList[U]("".concat(this.ppfx,"dashed"))}}},function(Ye,le,o){var ee,se,J;se=[o(0),o(2)],void 0===(J="function"==typeof(ee=function(U,L){var k=Array.prototype.slice;function f(w,p,u){return u.length<=4?w.call(p,u[0],u[1],u[2],u[3]):w.apply(p,u)}function g(w,p){return k.call(w,p)}function h(w,p){return null!=w&&(U.isArray(p)||(p=g(arguments,1)),U.all(p,function(u){return u in w}))}var y,d,P=(y=!1,d=-1,function(){return y||(d++,y=!0,U.defer(function(){y=!1})),d});function O(){this.registeredObjects=[],this.cidIndexes=[]}function v(w,p,u,x){for(var b,R=0,Q=p.length;R<Q;R++)if(b=p[R]){if("on"===w){if(!x.objectRegistry.register(b))continue}else if(!x.objectRegistry.unregister(b))continue;U.isFunction(b[w])&&b[w]("all",u,x)}}function D(w,p){var u=p.type,x=p.undoTypes,b=!x[u]||x[u][w];U.isFunction(b)&&b(p.object,p.before,p.after,p.options)}function I(w,p,u,x,b){if(!(u.isCurrentlyUndoRedoing||"undo"===w&&-1===u.pointer||"redo"===w&&u.pointer===u.length-1)){u.isCurrentlyUndoRedoing=!0;var R,Q,re="undo"===w;for(b?Q=re&&u.pointer===u.length-1||!re&&-1===u.pointer?U.clone(u.models):k.apply(u.models,re?[0,u.pointer]:[u.pointer,u.length-1]):(R=u.at(re?u.pointer:u.pointer+1),Q=x?u.where({magicFusionIndex:R.get("magicFusionIndex")}):[R]),u.pointer+=(re?-1:1)*Q.length;R=re?Q.pop():Q.shift();)R[w]();u.isCurrentlyUndoRedoing=!1,p.trigger(w,p)}}function T(w,p,u,x){if(w.track&&!w.isCurrentlyUndoRedoing&&p in x&&("function"==(ge=typeof(Fe=(Q=x[p]).condition))?f(Fe,Q,u):"boolean"!==ge||Fe)){var b=f(x[p].on,x[p],u);if(h(b,"object","before","after")){if(b.type=p,b.magicFusionIndex=P(),b.undoTypes=x,w.pointer<w.length-1)for(var R=w.length-w.pointer-1;R--;)w.pop();w.pointer=w.length,w.add(b),w.length>w.maximumStackLength&&(w.shift(),w.pointer--)}}var Q,Fe,ge}O.prototype={isRegistered:function(w){return w&&w.cid?this.registeredObjects[w.cid]:U.contains(this.registeredObjects,w)},register:function(w){return!this.isRegistered(w)&&(w&&w.cid?(this.registeredObjects[w.cid]=w,this.cidIndexes.push(w.cid)):this.registeredObjects.push(w),!0)},unregister:function(w){if(this.isRegistered(w)){if(w&&w.cid)delete this.registeredObjects[w.cid],this.cidIndexes.splice(U.indexOf(this.cidIndexes,w.cid),1);else{var p=U.indexOf(this.registeredObjects,w);this.registeredObjects.splice(p,1)}return!0}return!1},get:function(){return U.map(this.cidIndexes,function(w){return this.registeredObjects[w]},this).concat(this.registeredObjects)}};var S={add:{undo:function(w,p,u,x){w.remove(u,x)},redo:function(w,p,u,x){x.index&&(x.at=x.index),w.add(u,x)},on:function(w,p,u){return{object:p,before:void 0,after:w,options:U.clone(u)}}},remove:{undo:function(w,p,u,x){"index"in x&&(x.at=x.index),w.add(p,x)},redo:function(w,p,u,x){w.remove(p,x)},on:function(w,p,u){return{object:p,before:w,after:void 0,options:U.clone(u)}}},change:{undo:function(w,p,u,x){U.isEmpty(p)?U.each(U.keys(u),w.unset,w):(w.set(p),x&&x.unsetData&&x.unsetData.before&&x.unsetData.before.length&&U.each(x.unsetData.before,w.unset,w))},redo:function(w,p,u,x){U.isEmpty(u)?U.each(U.keys(p),w.unset,w):(w.set(u),x&&x.unsetData&&x.unsetData.after&&x.unsetData.after.length&&U.each(x.unsetData.after,w.unset,w))},on:function(w,p){var u=w.changedAttributes(),x=U.keys(u),b=U.pick(w.previousAttributes(),x),R=U.keys(b),Q=(p||(p={})).unsetData={after:[],before:[]};return x.length!=R.length&&(x.length>R.length?U.each(x,function(re){re in b||Q.before.push(re)},this):U.each(R,function(re){re in u||Q.after.push(re)})),{object:w,before:b,after:u,options:U.clone(p)}}},reset:{undo:function(w,p,u){w.reset(p)},redo:function(w,p,u){w.reset(u)},on:function(w,p){return{object:w,before:p.previousModels,after:U.clone(w.models)}}}};function r(){}function _(w,p,u,x){if("object"==typeof p)return U.each(p,function(b,R){2===w?_(w,b,u,x):_(w,R,b,u)});switch(w){case 0:h(u,"undo","redo","on")&&U.all(U.pick(u,"undo","redo","on"),U.isFunction)&&(x[p]=u);break;case 1:x[p]&&U.isObject(u)&&(x[p]=U.extend({},x[p],u));break;case 2:delete x[p]}return this}r.prototype=S;var E=L.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(w){D("undo",this.attributes)},redo:function(w){D("redo",this.attributes)}}),B=L.Collection.extend({model:E,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(w){this.maximumStackLength=w}}),$=L.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(w){this.stack=new B,this.objectRegistry=new O,this.undoTypes=new r,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(p,u){this.stack.setMaxLength(u)},this),w&&w.track&&this.startTracking(),w&&w.register&&(U.isArray(w.register)||U.isArguments(w.register)?f(this.register,this,w.register):this.register(w.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(w){T(this.stack,w,g(arguments,1),this.undoTypes)},register:function(){v("on",arguments,this._addToStack,this)},unregister:function(){v("off",arguments,this._addToStack,this)},unregisterAll:function(){f(this.unregister,this,this.objectRegistry.get())},undo:function(w){I("undo",this,this.stack,w)},undoAll:function(){I("undo",this,this.stack,!1,!0)},redo:function(w){I("redo",this,this.stack,w)},redoAll:function(){I("redo",this,this.stack,!1,!0)},isAvailable:function(w){var p=this.stack,u=p.length;switch(w){case"undo":return u>0&&p.pointer>-1;case"redo":return u>0&&p.pointer<u-1;default:return!1}},merge:function(w){for(var p,u=U.isArray(w)?w:g(arguments);p=u.pop();)p instanceof $&&p.stack instanceof B&&(p.stack=this.stack)},addUndoType:function(w,p){_(0,w,p,this.undoTypes)},changeUndoType:function(w,p){_(1,w,p,this.undoTypes)},removeUndoType:function(w){_(2,w,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return U.extend($,{defaults:function(w){U.extend($.prototype.defaults,w)},addUndoType:function(w,p){_(0,w,p,S)},changeUndoType:function(w,p){_(1,w,p,S)},removeUndoType:function(w){_(2,w,void 0,S)}}),L.UndoManager=$})?ee.apply(le,se):ee)||(Ye.exports=J)},function(Ye,le,o){"use strict";le.a=function(ee){var se=this.constructor;return this.then(function(J){return se.resolve(ee()).then(function(){return J})},function(J){return se.resolve(ee()).then(function(){return se.reject(J)})})}},function(Ye,le,o){"use strict";var ee=o(14),se=o.n(ee);le.a=function(J){return new this(function(U,L){if(!J||void 0===J.length)return L(new TypeError(se()(J)+" "+J+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var k=Array.prototype.slice.call(J);if(0===k.length)return U([]);var f=k.length;function g(y,d){if(d&&("object"===se()(d)||"function"==typeof d)){var P=d.then;if("function"==typeof P)return void P.call(d,function(O){g(y,O)},function(O){k[y]={status:"rejected",reason:O},0==--f&&U(k)})}k[y]={status:"fulfilled",value:d},0==--f&&U(k)}for(var h=0;h<k.length;h++)g(h,k[h])})}},function(Ye,le,o){var ee=o(49);Ye.exports=function(se){if(Array.isArray(se))return ee(se)},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le){Ye.exports=function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le){Ye.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le){Ye.exports=function(o,ee){if(null==o)return{};var se,J,U={},L=Object.keys(o);for(J=0;J<L.length;J++)ee.indexOf(se=L[J])>=0||(U[se]=o[se]);return U},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(76),U=o.n(J),L=o(0);function k(g,h){var y=Object.keys(g);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(g);h&&(d=d.filter(function(P){return Object.getOwnPropertyDescriptor(g,P).enumerable})),y.push.apply(y,d)}return y}function f(g){for(var h=1;h<arguments.length;h++){var y=null!=arguments[h]?arguments[h]:{};h%2?k(Object(y),!0).forEach(function(d){se()(g,d,y[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(y)):k(Object(y)).forEach(function(d){Object.defineProperty(g,d,Object.getOwnPropertyDescriptor(y,d))})}return g}le.default=function(){var g,h,y,d,P={maximumStackLength:500,trackSelection:1},O=function(D){return D.avoidStore||D.noUndo},v=function(D){return Object.keys(D.changedAttributes())};return{name:"UndoManager",init:function(){var D=this,I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y=f(f({},P),I),this.em=g=y.em;var T=!0;return(h=new U.a(f({track:!0,register:[]},y))).changeUndoType("change",{condition:function(S){var r=S.get("_undo");if(r){var _=S.get("_undoexc");if(Object(L.isArray)(_)&&v(S).some(function(E){return _.indexOf(E)>=0}))return!1;if(Object(L.isBoolean)(r)||Object(L.isArray)(r)&&v(S).some(function(E){return r.indexOf(E)>=0}))return!0}return!1},on:function(S,r,_){!d&&(d=S.previousAttributes());var E=_||r||{};if(E.noUndo&&setTimeout(function(){d=null}),!O(E)){var B=S.toJSON({fromUndo:T}),$={object:S,before:d,after:B};if(d=null,!Object(L.isEmpty)(B))return $}}}),h.changeUndoType("add",{on:function(S,r){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!O(_)&&D.isRegistered(r))return{object:r,before:void 0,after:S,options:f(f({},_),{},{fromUndo:T})}}}),h.changeUndoType("remove",{on:function(S,r){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!O(_)&&D.isRegistered(r))return{object:r,before:S,after:void 0,options:f(f({},_),{},{fromUndo:T})}}}),h.on("undo redo",function(){g.trigger("component:toggled change:canvasOffset"),g.getSelectedAll().map(function(S){return S.trigger("rerender:layer")})}),["undo","redo"].forEach(function(S){return h.on(S,function(){return g.trigger(S)})}),this},postLoad:function(){y.trackSelection&&g&&this.add(g.get("selected"))},getConfig:function(){return y},add:function(D){return h.register(D),this},remove:function(D){return h.unregister(D),this},removeAll:function(){return h.unregisterAll(),this},start:function(){return h.startTracking(),this},stop:function(){return h.stopTracking(),this},undo:function(){var D=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!g.isEditing()&&h.undo(D),this},undoAll:function(){return h.undoAll(),this},redo:function(){var D=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!g.isEditing()&&h.redo(D),this},redoAll:function(){return h.redoAll(),this},hasUndo:function(){return h.isAvailable("undo")},hasRedo:function(){return h.isAvailable("redo")},isRegistered:function(D){return!!this.getInstance().objectRegistry.isRegistered(D)},getStack:function(){return h.stack},getStackGroup:function(){var D=[],I=[];return this.getStack().forEach(function(T){var S=T.get("magicFusionIndex");I.indexOf(S)<0&&(I.push(S),D.push(T))}),D},__getStackRead:function(){var D={};return this.getStack().forEach(function(I){var _,T=I.get("magicFusionIndex"),S={type:(_=I.attributes).type,after:_.after,before:_.before,object:_.object};D[T]?D[T].push(S):D[T]=[S]}),Object.keys(D).map(function(I){return D[I]})},getPointer:function(){return this.getStack().pointer},clear:function(){return h.clear(),this},getInstance:function(){return h},destroy:function(){this.clear().removeAll(),[g,h,y,d].forEach(function(D){return{}}),this.em={}}}}},function(Ye,le,o){(function(ee){var se=void 0!==ee&&ee||"undefined"!=typeof self&&self||window,J=Function.prototype.apply;function U(L,k){this._id=L,this._clearFn=k}le.setTimeout=function(){return new U(J.call(setTimeout,se,arguments),clearTimeout)},le.setInterval=function(){return new U(J.call(setInterval,se,arguments),clearInterval)},le.clearTimeout=le.clearInterval=function(L){L&&L.close()},U.prototype.unref=U.prototype.ref=function(){},U.prototype.close=function(){this._clearFn.call(se,this._id)},le.enroll=function(L,k){clearTimeout(L._idleTimeoutId),L._idleTimeout=k},le.unenroll=function(L){clearTimeout(L._idleTimeoutId),L._idleTimeout=-1},le._unrefActive=le.active=function(L){clearTimeout(L._idleTimeoutId);var k=L._idleTimeout;k>=0&&(L._idleTimeoutId=setTimeout(function(){L._onTimeout&&L._onTimeout()},k))},o(85),le.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==ee&&ee.setImmediate||this&&this.setImmediate,le.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==ee&&ee.clearImmediate||this&&this.clearImmediate}).call(this,o(35))},function(Ye,le,o){(function(ee,se){!function(J,U){"use strict";if(!J.setImmediate){var L,k,f,g,h,y=1,d={},P=!1,O=J.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(J);v=v&&v.setTimeout?v:J,"[object process]"==={}.toString.call(J.process)?L=function(T){se.nextTick(function(){I(T)})}:function(){if(J.postMessage&&!J.importScripts){var T=!0,S=J.onmessage;return J.onmessage=function(){T=!1},J.postMessage("","*"),J.onmessage=S,T}}()?(g="setImmediate$"+Math.random()+"$",h=function(T){T.source===J&&"string"==typeof T.data&&0===T.data.indexOf(g)&&I(+T.data.slice(g.length))},J.addEventListener?J.addEventListener("message",h,!1):J.attachEvent("onmessage",h),L=function(T){J.postMessage(g+T,"*")}):J.MessageChannel?((f=new MessageChannel).port1.onmessage=function(T){I(T.data)},L=function(T){f.port2.postMessage(T)}):O&&"onreadystatechange"in O.createElement("script")?(k=O.documentElement,L=function(T){var S=O.createElement("script");S.onreadystatechange=function(){I(T),S.onreadystatechange=null,k.removeChild(S),S=null},k.appendChild(S)}):L=function(T){setTimeout(I,0,T)},v.setImmediate=function(T){"function"!=typeof T&&(T=new Function(""+T));for(var S=new Array(arguments.length-1),r=0;r<S.length;r++)S[r]=arguments[r+1];var _={callback:T,args:S};return d[y]=_,L(y),y++},v.clearImmediate=D}function D(T){delete d[T]}function I(T){if(P)setTimeout(I,0,T);else{var S=d[T];if(S){P=!0;try{!function(r){var _=r.callback,E=r.args;switch(E.length){case 0:_();break;case 1:_(E[0]);break;case 2:_(E[0],E[1]);break;case 3:_(E[0],E[1],E[2]);break;default:_.apply(void 0,E)}}(S)}finally{D(T),P=!1}}}}}("undefined"==typeof self?void 0===ee?this:ee:self)}).call(this,o(35),o(86))},function(Ye,le){var o,ee,se=Ye.exports={};function J(){throw new Error("setTimeout has not been defined")}function U(){throw new Error("clearTimeout has not been defined")}function L(v){if(o===setTimeout)return setTimeout(v,0);if((o===J||!o)&&setTimeout)return o=setTimeout,setTimeout(v,0);try{return o(v,0)}catch(D){try{return o.call(null,v,0)}catch(I){return o.call(this,v,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:J}catch(v){o=J}try{ee="function"==typeof clearTimeout?clearTimeout:U}catch(v){ee=U}}();var k,f=[],g=!1,h=-1;function y(){g&&k&&(g=!1,k.length?f=k.concat(f):h=-1,f.length&&d())}function d(){if(!g){var v=L(y);g=!0;for(var D=f.length;D;){for(k=f,f=[];++h<D;)k&&k[h].run();h=-1,D=f.length}k=null,g=!1,function(I){if(ee===clearTimeout)return clearTimeout(I);if((ee===U||!ee)&&clearTimeout)return ee=clearTimeout,clearTimeout(I);try{ee(I)}catch(T){try{return ee.call(null,I)}catch(S){return ee.call(this,I)}}}(v)}}function P(v,D){this.fun=v,this.array=D}function O(){}se.nextTick=function(v){var D=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)D[I-1]=arguments[I];f.push(new P(v,D)),1!==f.length||g||L(d)},P.prototype.run=function(){this.fun.apply(null,this.array)},se.title="browser",se.browser=!0,se.env={},se.argv=[],se.version="",se.versions={},se.on=O,se.addListener=O,se.once=O,se.off=O,se.removeListener=O,se.removeAllListeners=O,se.emit=O,se.prependListener=O,se.prependOnceListener=O,se.listeners=function(v){return[]},se.binding=function(v){throw new Error("process.binding is not supported")},se.cwd=function(){return"/"},se.chdir=function(v){throw new Error("process.chdir is not supported")},se.umask=function(){return 0}},function(Ye,le){function o(ee,se){return Ye.exports=o=Object.setPrototypeOf||function(J,U){return J.__proto__=U,J},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0,o(ee,se)}Ye.exports=o,Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le){Ye.exports=function(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){!function(ee){"use strict";var se={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},J={};function U(f,g){var y,h=f.match(J[y=g]||(J[y]=new RegExp("\\s+"+y+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")));return h?/^\s*(.*?)\s*$/.exec(h[2])[1]:""}function L(f,g){return new RegExp((g?"^":"")+"</s*"+f+"s*>","i")}function k(f,g){for(var h in f)for(var y=g[h]||(g[h]=[]),d=f[h],P=d.length-1;P>=0;P--)y.unshift(d[P])}ee.defineMode("htmlmixed",function(f,g){var h=ee.getMode(f,{name:"xml",htmlMode:!0,multilineTagIndentFactor:g.multilineTagIndentFactor,multilineTagIndentPastTag:g.multilineTagIndentPastTag,allowMissingTagName:g.allowMissingTagName}),y={},d=g&&g.tags,P=g&&g.scriptTypes;if(k(se,y),d&&k(d,y),P)for(var O=P.length-1;O>=0;O--)y.script.unshift(["type",P[O].matches,P[O].mode]);function v(D,I){var T,S=h.token(D,I.htmlState),r=/\btag\b/.test(S);if(r&&!/[<>\s\/]/.test(D.current())&&(T=I.htmlState.tagName&&I.htmlState.tagName.toLowerCase())&&y.hasOwnProperty(T))I.inTag=T+" ";else if(I.inTag&&r&&/>$/.test(D.current())){var _=/^([\S]+) (.*)/.exec(I.inTag);I.inTag=null;var E=">"==D.current()&&function(p,u){for(var x=0;x<p.length;x++){var b=p[x];if(!b[0]||b[1].test(U(u,b[0])))return b[2]}}(y[_[1]],_[2]),B=ee.getMode(f,E),$=L(_[1],!0),w=L(_[1],!1);I.token=function(p,u){return p.match($,!1)?(u.token=v,u.localState=u.localMode=null,null):(x=p,b=w,R=u.localMode.token(p,u.localState),(re=(Q=x.current()).search(b))>-1?x.backUp(Q.length-re):Q.match(/<\/?$/)&&(x.backUp(Q.length),x.match(b,!1)||x.match(Q)),R);var x,b,R,Q,re},I.localMode=B,I.localState=ee.startState(B,h.indent(I.htmlState,"",""))}else I.inTag&&(I.inTag+=D.current(),D.eol()&&(I.inTag+=" "));return S}return{startState:function(){return{token:v,inTag:null,localMode:null,localState:null,htmlState:ee.startState(h)}},copyState:function(D){var I;return D.localState&&(I=ee.copyState(D.localMode,D.localState)),{token:D.token,inTag:D.inTag,localMode:D.localMode,localState:I,htmlState:ee.copyState(h,D.htmlState)}},token:function(D,I){return I.token(D,I)},indent:function(D,I,T){return!D.localMode||/^\s*<\//.test(I)?h.indent(D.htmlState,I,T):D.localMode.indent?D.localMode.indent(D.localState,I,T):ee.Pass},innerMode:function(D){return{state:D.localState||D.htmlState,mode:D.localMode||h}}}},"xml","javascript","css"),ee.defineMIME("text/html","htmlmixed")}(o(27),o(90),o(91),o(51))},function(Ye,le,o){!function(ee){"use strict";var se={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},J={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};ee.defineMode("xml",function(U,L){var k,f,g=U.indentUnit,h={},y=L.htmlMode?se:J;for(var d in y)h[d]=y[d];for(var d in L)h[d]=L[d];function P(b,R){function Q(Fe){return R.tokenize=Fe,Fe(b,R)}var re=b.next();return"<"==re?b.eat("!")?b.eat("[")?b.match("CDATA[")?Q(v("atom","]]>")):null:b.match("--")?Q(v("comment","--\x3e")):b.match("DOCTYPE",!0,!0)?(b.eatWhile(/[\w\._\-]/),Q(function Fe(ge){return function(fe,Ae){for(var Pe;null!=(Pe=fe.next());){if("<"==Pe)return Ae.tokenize=Fe(ge+1),Ae.tokenize(fe,Ae);if(">"==Pe){if(1==ge){Ae.tokenize=P;break}return Ae.tokenize=Fe(ge-1),Ae.tokenize(fe,Ae)}}return"meta"}}(1))):null:b.eat("?")?(b.eatWhile(/[\w\._\-]/),R.tokenize=v("meta","?>"),"meta"):(k=b.eat("/")?"closeTag":"openTag",R.tokenize=O,"tag bracket"):"&"==re?(b.eat("#")?b.eat("x")?b.eatWhile(/[a-fA-F\d]/)&&b.eat(";"):b.eatWhile(/[\d]/)&&b.eat(";"):b.eatWhile(/[\w\.\-:]/)&&b.eat(";"))?"atom":"error":(b.eatWhile(/[^&<]/),null)}function O(b,R){var Q,re,Fe=b.next();if(">"==Fe||"/"==Fe&&b.eat(">"))return R.tokenize=P,k=">"==Fe?"endTag":"selfcloseTag","tag bracket";if("="==Fe)return k="equals",null;if("<"==Fe){R.tokenize=P,R.state=r,R.tagName=R.tagStart=null;var ge=R.tokenize(b,R);return ge?ge+" tag error":"tag error"}return/[\'\"]/.test(Fe)?(R.tokenize=(Q=Fe,(re=function(fe,Ae){for(;!fe.eol();)if(fe.next()==Q){Ae.tokenize=O;break}return"string"}).isInAttribute=!0,re),R.stringStartCol=b.column(),R.tokenize(b,R)):(b.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function v(b,R){return function(Q,re){for(;!Q.eol();){if(Q.match(R)){re.tokenize=P;break}Q.next()}return b}}function D(b){return b&&b.toLowerCase()}function I(b,R,Q){this.prev=b.context,this.tagName=R||"",this.indent=b.indented,this.startOfLine=Q,(h.doNotIndent.hasOwnProperty(R)||b.context&&b.context.noIndent)&&(this.noIndent=!0)}function T(b){b.context&&(b.context=b.context.prev)}function S(b,R){for(var Q;;){if(!b.context||!h.contextGrabbers.hasOwnProperty(D(Q=b.context.tagName))||!h.contextGrabbers[D(Q)].hasOwnProperty(D(R)))return;T(b)}}function r(b,R,Q){return"openTag"==b?(Q.tagStart=R.column(),_):"closeTag"==b?E:r}function _(b,R,Q){return"word"==b?(Q.tagName=R.current(),f="tag",w):h.allowMissingTagName&&"endTag"==b?(f="tag bracket",w(b,0,Q)):(f="error",_)}function E(b,R,Q){if("word"==b){var re=R.current();return Q.context&&Q.context.tagName!=re&&h.implicitlyClosed.hasOwnProperty(D(Q.context.tagName))&&T(Q),Q.context&&Q.context.tagName==re||!1===h.matchClosing?(f="tag",B):(f="tag error",$)}return h.allowMissingTagName&&"endTag"==b?(f="tag bracket",B(b,0,Q)):(f="error",$)}function B(b,R,Q){return"endTag"!=b?(f="error",B):(T(Q),r)}function $(b,R,Q){return f="error",B(b,0,Q)}function w(b,R,Q){if("word"==b)return f="attribute",p;if("endTag"==b||"selfcloseTag"==b){var re=Q.tagName,Fe=Q.tagStart;return Q.tagName=Q.tagStart=null,"selfcloseTag"==b||h.autoSelfClosers.hasOwnProperty(D(re))?S(Q,re):(S(Q,re),Q.context=new I(Q,re,Fe==Q.indented)),r}return f="error",w}function p(b,R,Q){return"equals"==b?u:(h.allowMissing||(f="error"),w(b,0,Q))}function u(b,R,Q){return"string"==b?x:"word"==b&&h.allowUnquoted?(f="string",w):(f="error",w(b,0,Q))}function x(b,R,Q){return"string"==b?x:w(b,0,Q)}return P.isInText=!0,{startState:function(b){var R={tokenize:P,state:r,indented:b||0,tagName:null,tagStart:null,context:null};return null!=b&&(R.baseIndent=b),R},token:function(b,R){if(!R.tagName&&b.sol()&&(R.indented=b.indentation()),b.eatSpace())return null;k=null;var Q=R.tokenize(b,R);return(Q||k)&&"comment"!=Q&&(f=null,R.state=R.state(k||Q,b,R),f&&(Q="error"==f?Q+" error":f)),Q},indent:function(b,R,Q){var re=b.context;if(b.tokenize.isInAttribute)return b.tagStart==b.indented?b.stringStartCol+1:b.indented+g;if(re&&re.noIndent)return ee.Pass;if(b.tokenize!=O&&b.tokenize!=P)return Q?Q.match(/^(\s*)/)[0].length:0;if(b.tagName)return!1!==h.multilineTagIndentPastTag?b.tagStart+b.tagName.length+2:b.tagStart+g*(h.multilineTagIndentFactor||1);if(h.alignCDATA&&/<!\[CDATA\[/.test(R))return 0;var Fe=R&&/^<(\/)?([\w_:\.-]*)/.exec(R);if(Fe&&Fe[1])for(;re;){if(re.tagName==Fe[2]){re=re.prev;break}if(!h.implicitlyClosed.hasOwnProperty(D(re.tagName)))break;re=re.prev}else if(Fe)for(;re;){var ge=h.contextGrabbers[D(re.tagName)];if(!ge||!ge.hasOwnProperty(D(Fe[2])))break;re=re.prev}for(;re&&re.prev&&!re.startOfLine;)re=re.prev;return re?re.indent+g:b.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:h.htmlMode?"html":"xml",helperType:h.htmlMode?"html":"xml",skipAttribute:function(b){b.state==u&&(b.state=w)},xmlCurrentTag:function(b){return b.tagName?{name:b.tagName,close:"closeTag"==b.type}:null},xmlCurrentContext:function(b){for(var R=[],Q=b.context;Q;Q=Q.prev)R.push(Q.tagName);return R.reverse()}}}),ee.defineMIME("text/xml","xml"),ee.defineMIME("application/xml","xml"),ee.mimeModes.hasOwnProperty("text/html")||ee.defineMIME("text/html",{name:"xml",htmlMode:!0})}(o(27))},function(Ye,le,o){!function(ee){"use strict";ee.defineMode("javascript",function(se,J){var U,L,k=se.indentUnit,f=J.statementIndent,g=J.jsonld,h=J.json||g,y=!1!==J.trackScope,d=J.typescript,P=J.wordCharacters||/[\w$\xa1-\uffff]/,O=function(){function F(Mt){return{type:Mt,style:"keyword"}}var K=F("keyword a"),ye=F("keyword b"),Me=F("keyword c"),wt=F("keyword d"),Rt=F("operator"),Nt={type:"atom",style:"atom"};return{if:F("if"),while:K,with:K,else:ye,do:ye,try:ye,finally:ye,return:wt,break:wt,continue:wt,new:F("new"),delete:Me,void:Me,throw:Me,debugger:F("debugger"),var:F("var"),const:F("var"),let:F("var"),function:F("function"),catch:F("catch"),for:F("for"),switch:F("switch"),case:F("case"),default:F("default"),in:Rt,typeof:Rt,instanceof:Rt,true:Nt,false:Nt,null:Nt,undefined:Nt,NaN:Nt,Infinity:Nt,this:F("this"),class:F("class"),super:F("atom"),yield:Me,export:F("export"),import:F("import"),extends:Me,await:Me}}(),v=/[+\-*&%=<>!?|~^@]/,D=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function I(F,K,ye){return U=F,L=ye,K}function T(F,K){var ye,Me=F.next();if('"'==Me||"'"==Me)return K.tokenize=(ye=Me,function(Nt,Mt){var Ft,gn=!1;if(g&&"@"==Nt.peek()&&Nt.match(D))return Mt.tokenize=T,I("jsonld-keyword","meta");for(;null!=(Ft=Nt.next())&&(Ft!=ye||gn);)gn=!gn&&"\\"==Ft;return gn||(Mt.tokenize=T),I("string","string")}),K.tokenize(F,K);if("."==Me&&F.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return I("number","number");if("."==Me&&F.match(".."))return I("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Me))return I(Me);if("="==Me&&F.eat(">"))return I("=>","operator");if("0"==Me&&F.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return I("number","number");if(/\d/.test(Me))return F.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),I("number","number");if("/"==Me)return F.eat("*")?(K.tokenize=S,S(F,K)):F.eat("/")?(F.skipToEnd(),I("comment","comment")):Xn(F,K,1)?(function(Nt){for(var Mt,Ft=!1,gn=!1;null!=(Mt=Nt.next());){if(!Ft){if("/"==Mt&&!gn)return;"["==Mt?gn=!0:gn&&"]"==Mt&&(gn=!1)}Ft=!Ft&&"\\"==Mt}}(F),F.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),I("regexp","string-2")):(F.eat("="),I("operator","operator",F.current()));if("`"==Me)return K.tokenize=r,r(F,K);if("#"==Me&&"!"==F.peek())return F.skipToEnd(),I("meta","meta");if("#"==Me&&F.eatWhile(P))return I("variable","property");if("<"==Me&&F.match("!--")||"-"==Me&&F.match("->")&&!/\S/.test(F.string.slice(0,F.start)))return F.skipToEnd(),I("comment","comment");if(v.test(Me))return">"==Me&&K.lexical&&">"==K.lexical.type||(F.eat("=")?"!"!=Me&&"="!=Me||F.eat("="):/[<>*+\-|&?]/.test(Me)&&(F.eat(Me),">"==Me&&F.eat(Me))),"?"==Me&&F.eat(".")?I("."):I("operator","operator",F.current());if(P.test(Me)){F.eatWhile(P);var wt=F.current();if("."!=K.lastType){if(O.propertyIsEnumerable(wt)){var Rt=O[wt];return I(Rt.type,Rt.style,wt)}if("async"==wt&&F.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return I("async","keyword",wt)}return I("variable","variable",wt)}}function S(F,K){for(var ye,Me=!1;ye=F.next();){if("/"==ye&&Me){K.tokenize=T;break}Me="*"==ye}return I("comment","comment")}function r(F,K){for(var ye,Me=!1;null!=(ye=F.next());){if(!Me&&("`"==ye||"$"==ye&&F.eat("{"))){K.tokenize=T;break}Me=!Me&&"\\"==ye}return I("quasi","string-2",F.current())}function E(F,K){K.fatArrowAt&&(K.fatArrowAt=null);var ye=F.string.indexOf("=>",F.start);if(!(ye<0)){if(d){var Me=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(F.string.slice(F.start,ye));Me&&(ye=Me.index)}for(var wt=0,Rt=!1,Nt=ye-1;Nt>=0;--Nt){var Mt=F.string.charAt(Nt),Ft="([{}])".indexOf(Mt);if(Ft>=0&&Ft<3){if(!wt){++Nt;break}if(0==--wt){"("==Mt&&(Rt=!0);break}}else if(Ft>=3&&Ft<6)++wt;else if(P.test(Mt))Rt=!0;else if(/["'\/`]/.test(Mt))for(;;--Nt){if(0==Nt)return;if(F.string.charAt(Nt-1)==Mt&&"\\"!=F.string.charAt(Nt-2)){Nt--;break}}else if(Rt&&!wt){++Nt;break}}Rt&&!wt&&(K.fatArrowAt=Nt)}}var B={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function $(F,K,ye,Me,wt,Rt){this.indented=F,this.column=K,this.type=ye,this.prev=wt,this.info=Rt,null!=Me&&(this.align=Me)}function w(F,K){if(!y)return!1;for(var ye=F.localVars;ye;ye=ye.next)if(ye.name==K)return!0;for(var Me=F.context;Me;Me=Me.prev)for(ye=Me.vars;ye;ye=ye.next)if(ye.name==K)return!0}function p(F,K,ye,Me,wt){var Rt=F.cc;for(u.state=F,u.stream=wt,u.marked=null,u.cc=Rt,u.style=K,F.lexical.hasOwnProperty("align")||(F.lexical.align=!0);;)if((Rt.length?Rt.pop():h?W:ne)(ye,Me)){for(;Rt.length&&Rt[Rt.length-1].lex;)Rt.pop()();return u.marked?u.marked:"variable"==ye&&w(F,Me)?"variable-2":K}}var u={state:null,column:null,marked:null,cc:null};function x(){for(var F=arguments.length-1;F>=0;F--)u.cc.push(arguments[F])}function b(){return x.apply(null,arguments),!0}function R(F,K){for(var ye=K;ye;ye=ye.next)if(ye.name==F)return!0;return!1}function Q(F){var K=u.state;if(u.marked="def",y){if(K.context)if("var"==K.lexical.info&&K.context&&K.context.block){var ye=function Me(wt,Rt){if(Rt){if(Rt.block){var Nt=Me(wt,Rt.prev);return Nt?Nt==Rt.prev?Rt:new Fe(Nt,Rt.vars,!0):null}return R(wt,Rt.vars)?Rt:new Fe(Rt.prev,new ge(wt,Rt.vars),!1)}return null}(F,K.context);if(null!=ye)return void(K.context=ye)}else if(!R(F,K.localVars))return void(K.localVars=new ge(F,K.localVars));J.globalVars&&!R(F,K.globalVars)&&(K.globalVars=new ge(F,K.globalVars))}}function re(F){return"public"==F||"private"==F||"protected"==F||"abstract"==F||"readonly"==F}function Fe(F,K,ye){this.prev=F,this.vars=K,this.block=ye}function ge(F,K){this.name=F,this.next=K}var fe=new ge("this",new ge("arguments",null));function Ae(){u.state.context=new Fe(u.state.context,u.state.localVars,!1),u.state.localVars=fe}function Pe(){u.state.context=new Fe(u.state.context,u.state.localVars,!0),u.state.localVars=null}function de(){u.state.localVars=u.state.context.vars,u.state.context=u.state.context.prev}function pe(F,K){var ye=function(){var Me=u.state,wt=Me.indented;if("stat"==Me.lexical.type)wt=Me.lexical.indented;else for(var Rt=Me.lexical;Rt&&")"==Rt.type&&Rt.align;Rt=Rt.prev)wt=Rt.indented;Me.lexical=new $(wt,u.stream.column(),F,null,Me.lexical,K)};return ye.lex=!0,ye}function _e(){var F=u.state;F.lexical.prev&&(")"==F.lexical.type&&(F.indented=F.lexical.indented),F.lexical=F.lexical.prev)}function ae(F){return function K(ye){return ye==F?b():";"==F||"}"==ye||")"==ye||"]"==ye?x():b(K)}}function ne(F,K){return"var"==F?b(pe("vardef",K),Tt,ae(";"),_e):"keyword a"==F?b(pe("form"),C,ne,_e):"keyword b"==F?b(pe("form"),ne,_e):"keyword d"==F?u.stream.match(/^\s*$/,!1)?b():b(pe("stat"),n,ae(";"),_e):"debugger"==F?b(ae(";")):"{"==F?b(pe("}"),Pe,je,_e,de):";"==F?b():"if"==F?("else"==u.state.lexical.info&&u.state.cc[u.state.cc.length-1]==_e&&u.state.cc.pop()(),b(pe("form"),C,ne,_e,z)):"function"==F?b(st):"for"==F?b(pe("form"),Pe,we,ne,de,_e):"class"==F||d&&"interface"==K?(u.marked="keyword",b(pe("form","class"==F?F:K),Wt,_e)):"variable"==F?d&&"declare"==K?(u.marked="keyword",b(ne)):d&&("module"==K||"enum"==K||"type"==K)&&u.stream.match(/^\s*\w/,!1)?(u.marked="keyword","enum"==K?b(pn):"type"==K?b(ft,ae("operator"),X,ae(";")):b(pe("form"),De,ae("{"),pe("}"),je,_e,_e)):d&&"namespace"==K?(u.marked="keyword",b(pe("form"),W,ne,_e)):d&&"abstract"==K?(u.marked="keyword",b(ne)):b(pe("stat"),Ee):"switch"==F?b(pe("form"),C,ae("{"),pe("}","switch"),Pe,je,_e,_e,de):"case"==F?b(W,ae(":")):"default"==F?b(ae(":")):"catch"==F?b(pe("form"),Ae,G,ne,_e,de):"export"==F?b(pe("stat"),Cn,_e):"import"==F?b(pe("stat"),jn,_e):"async"==F?b(ne):"@"==K?b(W,ne):x(pe("stat"),W,ae(";"),_e)}function G(F){if("("==F)return b(zt,ae(")"))}function W(F,K){return H(F,K,!1)}function j(F,K){return H(F,K,!0)}function C(F){return"("!=F?x():b(pe(")"),n,ae(")"),_e)}function H(F,K,ye){if(u.state.fatArrowAt==u.stream.start){var Me=ye?Le:be;if("("==F)return b(Ae,pe(")"),Z(zt,")"),_e,ae("=>"),Me,de);if("variable"==F)return x(Ae,De,ae("=>"),Me,de)}var Rt,wt=ye?l:m;return B.hasOwnProperty(F)?b(wt):"function"==F?b(st,wt):"class"==F||d&&"interface"==K?(u.marked="keyword",b(pe("form"),nn,_e)):"keyword c"==F||"async"==F?b(ye?j:W):"("==F?b(pe(")"),n,ae(")"),_e,wt):"operator"==F||"spread"==F?b(ye?j:W):"["==F?b(pe("]"),Jt,_e,wt):"{"==F?ce(Je,"}",null,wt):"quasi"==F?x(A,wt):"new"==F?b((Rt=ye,function(Nt){return"."==Nt?b(Rt?ve:ke):"variable"==Nt&&d?b(Pt,Rt?l:m):x(Rt?j:W)})):b()}function n(F){return F.match(/[;\}\)\],]/)?x():x(W)}function m(F,K){return","==F?b(n):l(F,K,!1)}function l(F,K,ye){var Me=0==ye?m:l,wt=0==ye?W:j;return"=>"==F?b(Ae,ye?Le:be,de):"operator"==F?/\+\+|--/.test(K)||d&&"!"==K?b(Me):d&&"<"==K&&u.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?b(pe(">"),Z(X,">"),_e,Me):"?"==K?b(W,ae(":"),wt):b(wt):"quasi"==F?x(A,Me):";"!=F?"("==F?ce(j,")","call",Me):"."==F?b(Ne,Me):"["==F?b(pe("]"),n,ae("]"),_e,Me):d&&"as"==K?(u.marked="keyword",b(X,Me)):"regexp"==F?(u.state.lastType=u.marked="operator",u.stream.backUp(u.stream.pos-u.stream.start-1),b(wt)):void 0:void 0}function A(F,K){return"quasi"!=F?x():"${"!=K.slice(K.length-2)?b(A):b(n,q)}function q(F){if("}"==F)return u.marked="string-2",u.state.tokenize=r,b(A)}function be(F){return E(u.stream,u.state),x("{"==F?ne:W)}function Le(F){return E(u.stream,u.state),x("{"==F?ne:j)}function ke(F,K){if("target"==K)return u.marked="keyword",b(m)}function ve(F,K){if("target"==K)return u.marked="keyword",b(l)}function Ee(F){return":"==F?b(_e,ne):x(m,ae(";"),_e)}function Ne(F){if("variable"==F)return u.marked="property",b()}function Je(F,K){return"async"==F?(u.marked="property",b(Je)):"variable"==F||"keyword"==u.style?(u.marked="property","get"==K||"set"==K?b(St):(d&&u.state.fatArrowAt==u.stream.start&&(ye=u.stream.match(/^\s*:\s*/,!1))&&(u.state.fatArrowAt=u.stream.pos+ye[0].length),b(vt))):"number"==F||"string"==F?(u.marked=g?"property":u.style+" property",b(vt)):"jsonld-keyword"==F?b(vt):d&&re(K)?(u.marked="keyword",b(Je)):"["==F?b(W,qe,ae("]"),vt):"spread"==F?b(j,vt):"*"==K?(u.marked="keyword",b(Je)):":"==F?x(vt):void 0;var ye}function St(F){return"variable"!=F?x(vt):(u.marked="property",b(st))}function vt(F){return":"==F?b(j):"("==F?x(st):void 0}function Z(F,K,ye){function Me(wt,Rt){if(ye?ye.indexOf(wt)>-1:","==wt){var Nt=u.state.lexical;return"call"==Nt.info&&(Nt.pos=(Nt.pos||0)+1),b(function(Mt,Ft){return Mt==K||Ft==K?x():x(F)},Me)}return wt==K||Rt==K?b():ye&&ye.indexOf(";")>-1?x(F):b(ae(K))}return function(wt,Rt){return wt==K||Rt==K?b():x(F,Me)}}function ce(F,K,ye){for(var Me=3;Me<arguments.length;Me++)u.cc.push(arguments[Me]);return b(pe(K,ye),Z(F,K),_e)}function je(F){return"}"==F?b():x(ne,je)}function qe(F,K){if(d){if(":"==F)return b(X);if("?"==K)return b(qe)}}function nt(F,K){if(d&&(":"==F||"in"==K))return b(X)}function ut(F){if(d&&":"==F)return u.stream.match(/^\s*\w+\s+is\b/,!1)?b(W,mt,X):b(X)}function mt(F,K){if("is"==K)return u.marked="keyword",b()}function X(F,K){return"keyof"==K||"typeof"==K||"infer"==K||"readonly"==K?(u.marked="keyword",b("typeof"==K?j:X)):"variable"==F||"void"==K?(u.marked="type",b(ht)):"|"==K||"&"==K?b(X):"string"==F||"number"==F||"atom"==F?b(ht):"["==F?b(pe("]"),Z(X,"]",","),_e,ht):"{"==F?b(pe("}"),Re,_e,ht):"("==F?b(Z(Ze,")"),Te,ht):"<"==F?b(Z(X,">"),X):"quasi"==F?x(me,ht):void 0}function Te(F){if("=>"==F)return b(X)}function Re(F){return F.match(/[\}\)\]]/)?b():","==F||";"==F?b(Re):x($e,Re)}function $e(F,K){return"variable"==F||"keyword"==u.style?(u.marked="property",b($e)):"?"==K||"number"==F||"string"==F?b($e):":"==F?b(X):"["==F?b(ae("variable"),nt,ae("]"),$e):"("==F?x(kt,$e):F.match(/[;\}\)\],]/)?void 0:b()}function me(F,K){return"quasi"!=F?x():"${"!=K.slice(K.length-2)?b(me):b(X,Ke)}function Ke(F){if("}"==F)return u.marked="string-2",u.state.tokenize=r,b(me)}function Ze(F,K){return"variable"==F&&u.stream.match(/^\s*[?:]/,!1)||"?"==K?b(Ze):":"==F?b(X):"spread"==F?b(Ze):x(X)}function ht(F,K){return"<"==K?b(pe(">"),Z(X,">"),_e,ht):"|"==K||"."==F||"&"==K?b(X):"["==F?b(X,ae("]"),ht):"extends"==K||"implements"==K?(u.marked="keyword",b(X)):"?"==K?b(X,ae(":"),X):void 0}function Pt(F,K){if("<"==K)return b(pe(">"),Z(X,">"),_e,ht)}function Dt(){return x(X,ct)}function ct(F,K){if("="==K)return b(X)}function Tt(F,K){return"enum"==K?(u.marked="keyword",b(pn)):x(De,qe,rt,V)}function De(F,K){return d&&re(K)?(u.marked="keyword",b(De)):"variable"==F?(Q(K),b()):"spread"==F?b(De):"["==F?ce(oe,"]"):"{"==F?ce(Ot,"}"):void 0}function Ot(F,K){return"variable"!=F||u.stream.match(/^\s*:/,!1)?("variable"==F&&(u.marked="property"),"spread"==F?b(De):"}"==F?x():"["==F?b(W,ae("]"),ae(":"),Ot):b(ae(":"),De,rt)):(Q(K),b(rt))}function oe(){return x(De,rt)}function rt(F,K){if("="==K)return b(j)}function V(F){if(","==F)return b(Tt)}function z(F,K){if("keyword b"==F&&"else"==K)return b(pe("form","else"),ne,_e)}function we(F,K){return"await"==K?b(we):"("==F?b(pe(")"),he,_e):void 0}function he(F){return"var"==F?b(Tt,Ie):"variable"==F?b(Ie):x(Ie)}function Ie(F,K){return")"==F?b():";"==F?b(Ie):"in"==K||"of"==K?(u.marked="keyword",b(W,Ie)):x(W,Ie)}function st(F,K){return"*"==K?(u.marked="keyword",b(st)):"variable"==F?(Q(K),b(st)):"("==F?b(Ae,pe(")"),Z(zt,")"),_e,ut,ne,de):d&&"<"==K?b(pe(">"),Z(Dt,">"),_e,st):void 0}function kt(F,K){return"*"==K?(u.marked="keyword",b(kt)):"variable"==F?(Q(K),b(kt)):"("==F?b(Ae,pe(")"),Z(zt,")"),_e,ut,de):d&&"<"==K?b(pe(">"),Z(Dt,">"),_e,kt):void 0}function ft(F,K){return"keyword"==F||"variable"==F?(u.marked="type",b(ft)):"<"==K?b(pe(">"),Z(Dt,">"),_e):void 0}function zt(F,K){return"@"==K&&b(W,zt),"spread"==F?b(zt):d&&re(K)?(u.marked="keyword",b(zt)):d&&"this"==F?b(qe,rt):x(De,qe,rt)}function nn(F,K){return"variable"==F?Wt(F,K):ln(F,K)}function Wt(F,K){if("variable"==F)return Q(K),b(ln)}function ln(F,K){return"<"==K?b(pe(">"),Z(Dt,">"),_e,ln):"extends"==K||"implements"==K||d&&","==F?("implements"==K&&(u.marked="keyword"),b(d?X:W,ln)):"{"==F?b(pe("}"),tn,_e):void 0}function tn(F,K){return"async"==F||"variable"==F&&("static"==K||"get"==K||"set"==K||d&&re(K))&&u.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(u.marked="keyword",b(tn)):"variable"==F||"keyword"==u.style?(u.marked="property",b(kn,tn)):"number"==F||"string"==F?b(kn,tn):"["==F?b(W,qe,ae("]"),kn,tn):"*"==K?(u.marked="keyword",b(tn)):d&&"("==F?x(kt,tn):";"==F||","==F?b(tn):"}"==F?b():"@"==K?b(W,tn):void 0}function kn(F,K){if("!"==K||"?"==K)return b(kn);if(":"==F)return b(X,rt);if("="==K)return b(j);var ye=u.state.lexical.prev;return x(ye&&"interface"==ye.info?kt:st)}function Cn(F,K){return"*"==K?(u.marked="keyword",b(fn,ae(";"))):"default"==K?(u.marked="keyword",b(W,ae(";"))):"{"==F?b(Z(Fn,"}"),fn,ae(";")):x(ne)}function Fn(F,K){return"as"==K?(u.marked="keyword",b(ae("variable"))):"variable"==F?x(j,Fn):void 0}function jn(F){return"string"==F?b():"("==F?x(W):"."==F?x(m):x(cn,qt,fn)}function cn(F,K){return"{"==F?ce(cn,"}"):("variable"==F&&Q(K),"*"==K&&(u.marked="keyword"),b(dn))}function qt(F){if(","==F)return b(cn,qt)}function dn(F,K){if("as"==K)return u.marked="keyword",b(cn)}function fn(F,K){if("from"==K)return u.marked="keyword",b(W)}function Jt(F){return"]"==F?b():x(Z(j,"]"))}function pn(){return x(pe("form"),De,ae("{"),pe("}"),Z(Zn,"}"),_e,_e)}function Zn(){return x(De,rt)}function Xn(F,K,ye){return K.tokenize==T&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(K.lastType)||"quasi"==K.lastType&&/\{\s*$/.test(F.string.slice(0,F.pos-(ye||0)))}return de.lex=!0,_e.lex=!0,{startState:function(F){var K={tokenize:T,lastType:"sof",cc:[],lexical:new $((F||0)-k,0,"block",!1),localVars:J.localVars,context:J.localVars&&new Fe(null,null,!1),indented:F||0};return J.globalVars&&"object"==typeof J.globalVars&&(K.globalVars=J.globalVars),K},token:function(F,K){if(F.sol()&&(K.lexical.hasOwnProperty("align")||(K.lexical.align=!1),K.indented=F.indentation(),E(F,K)),K.tokenize!=S&&F.eatSpace())return null;var ye=K.tokenize(F,K);return"comment"==U?ye:(K.lastType="operator"!=U||"++"!=L&&"--"!=L?U:"incdec",p(K,ye,U,L,F))},indent:function(F,K){if(F.tokenize==S||F.tokenize==r)return ee.Pass;if(F.tokenize!=T)return 0;var ye,Me=K&&K.charAt(0),wt=F.lexical;if(!/^\s*else\b/.test(K))for(var Rt=F.cc.length-1;Rt>=0;--Rt){var Nt=F.cc[Rt];if(Nt==_e)wt=wt.prev;else if(Nt!=z&&Nt!=de)break}for(;("stat"==wt.type||"form"==wt.type)&&("}"==Me||(ye=F.cc[F.cc.length-1])&&(ye==m||ye==l)&&!/^[,\.=+\-*:?[\(]/.test(K));)wt=wt.prev;f&&")"==wt.type&&"stat"==wt.prev.type&&(wt=wt.prev);var gn,Tn,Mt=wt.type,Ft=Me==Mt;return"vardef"==Mt?wt.indented+("operator"==F.lastType||","==F.lastType?wt.info.length+1:0):"form"==Mt&&"{"==Me?wt.indented:"form"==Mt?wt.indented+k:"stat"==Mt?wt.indented+(Tn=K,"operator"==(gn=F).lastType||","==gn.lastType||v.test(Tn.charAt(0))||/[,.]/.test(Tn.charAt(0))?f||k:0):"switch"!=wt.info||Ft||0==J.doubleIndentSwitch?wt.align?wt.column+(Ft?0:1):wt.indented+(Ft?0:k):wt.indented+(/^(?:case|default)\b/.test(K)?k:2*k)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:h?null:"/*",blockCommentEnd:h?null:"*/",blockCommentContinue:h?null:" * ",lineComment:h?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:h?"json":"javascript",jsonldMode:g,jsonMode:h,expressionAllowed:Xn,skipExpression:function(F){p(F,"atom","atom","true",new ee.StringStream("",2,null))}}}),ee.registerHelper("wordChars","javascript",/[\w$]/),ee.defineMIME("text/javascript","javascript"),ee.defineMIME("text/ecmascript","javascript"),ee.defineMIME("application/javascript","javascript"),ee.defineMIME("application/x-javascript","javascript"),ee.defineMIME("application/ecmascript","javascript"),ee.defineMIME("application/json",{name:"javascript",json:!0}),ee.defineMIME("application/x-json",{name:"javascript",json:!0}),ee.defineMIME("application/manifest+json",{name:"javascript",json:!0}),ee.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),ee.defineMIME("text/typescript",{name:"javascript",typescript:!0}),ee.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(o(27))},function(Ye,le,o){!function(ee){ee.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(J,U){return/^[;{}]$/.test(U)}}),ee.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(J,U,L,k){return this.jsonMode?/^[\[,{]$/.test(U)||/^}/.test(L):(";"!=U||!k.lexical||")"!=k.lexical.type)&&/^[;{}]$/.test(U)&&!/^;/.test(L)}});var se=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;ee.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(J,U,L,k){var f=!1;return"html"==this.configuration&&(f=!!k.context&&se.test(k.context.tagName)),!f&&("tag"==J&&/>$/.test(U)&&k.context||/^</.test(L))}}),ee.defineExtension("commentRange",function(J,U,L){var k=this,f=ee.innerMode(k.getMode(),k.getTokenAt(U).state).mode;k.operation(function(){if(J)k.replaceRange(f.commentEnd,L),k.replaceRange(f.commentStart,U),U.line==L.line&&U.ch==L.ch&&k.setCursor(U.line,U.ch+f.commentStart.length);else{var g=k.getRange(U,L),h=g.indexOf(f.commentStart),y=g.lastIndexOf(f.commentEnd);h>-1&&y>-1&&y>h&&(g=g.substr(0,h)+g.substring(h+f.commentStart.length,y)+g.substr(y+f.commentEnd.length)),k.replaceRange(g,U,L)}})}),ee.defineExtension("autoIndentRange",function(J,U){var L=this;this.operation(function(){for(var k=J.line;k<=U.line;k++)L.indentLine(k,"smart")})}),ee.defineExtension("autoFormatRange",function(J,U){var L=this,k=L.getMode(),f=L.getRange(J,U).split("\n"),g=ee.copyState(k,L.getTokenAt(J).state),h=L.getOption("tabSize"),y="",d=0,P=0===J.ch;function O(){y+="\n",P=!0,++d}for(var v=0;v<f.length;++v){for(var D=new ee.StringStream(f[v],h);!D.eol();){var I=ee.innerMode(k,g),T=k.token(D,g),S=D.current();D.start=D.pos,P&&!/\S/.test(S)||(y+=S,P=!1),!P&&I.mode.newlineAfterToken&&I.mode.newlineAfterToken(T,S,D.string.slice(D.pos)||f[v+1]||"",I.state)&&O()}!D.pos&&k.blankLine&&k.blankLine(g),!P&&v<f.length-1&&O()}L.operation(function(){L.replaceRange(y,J,U);for(var r=J.line+1,_=J.line+d;r<=_;++r)L.indentLine(r,"smart");L.setSelection(J,L.getCursor(!1))})})}(o(27))},function(Ye,le,o){var ee=function(se){"use strict";var J,U=Object.prototype,L=U.hasOwnProperty,k="function"==typeof Symbol?Symbol:{},f=k.iterator||"@@iterator",g=k.asyncIterator||"@@asyncIterator",h=k.toStringTag||"@@toStringTag";function y(ge,fe,Ae){return Object.defineProperty(ge,fe,{value:Ae,enumerable:!0,configurable:!0,writable:!0}),ge[fe]}try{y({},"")}catch(ge){y=function(fe,Ae,Pe){return fe[Ae]=Pe}}function d(ge,fe,Ae,Pe){var ae,ne,G,W,pe=Object.create((fe&&fe.prototype instanceof S?fe:S).prototype),_e=new Q(Pe||[]);return pe._invoke=(ae=ge,ne=Ae,G=_e,W=O,function(j,C){if(W===D)throw new Error("Generator is already running");if(W===I){if("throw"===j)throw C;return Fe()}for(G.method=j,G.arg=C;;){var H=G.delegate;if(H){var n=x(H,G);if(n){if(n===T)continue;return n}}if("next"===G.method)G.sent=G._sent=G.arg;else if("throw"===G.method){if(W===O)throw W=I,G.arg;G.dispatchException(G.arg)}else"return"===G.method&&G.abrupt("return",G.arg);W=D;var m=P(ae,ne,G);if("normal"===m.type){if(W=G.done?I:v,m.arg===T)continue;return{value:m.arg,done:G.done}}"throw"===m.type&&(W=I,G.method="throw",G.arg=m.arg)}}),pe}function P(ge,fe,Ae){try{return{type:"normal",arg:ge.call(fe,Ae)}}catch(Pe){return{type:"throw",arg:Pe}}}se.wrap=d;var O="suspendedStart",v="suspendedYield",D="executing",I="completed",T={};function S(){}function r(){}function _(){}var E={};E[f]=function(){return this};var B=Object.getPrototypeOf,$=B&&B(B(re([])));$&&$!==U&&L.call($,f)&&(E=$);var w=_.prototype=S.prototype=Object.create(E);function p(ge){["next","throw","return"].forEach(function(fe){y(ge,fe,function(Ae){return this._invoke(fe,Ae)})})}function u(ge,fe){var Ae;this._invoke=function(Pe,de){function pe(){return new fe(function(_e,ae){!function ne(G,W,j,C){var H=P(ge[G],ge,W);if("throw"!==H.type){var n=H.arg,m=n.value;return m&&"object"==typeof m&&L.call(m,"__await")?fe.resolve(m.__await).then(function(l){ne("next",l,j,C)},function(l){ne("throw",l,j,C)}):fe.resolve(m).then(function(l){n.value=l,j(n)},function(l){return ne("throw",l,j,C)})}C(H.arg)}(Pe,de,_e,ae)})}return Ae=Ae?Ae.then(pe,pe):pe()}}function x(ge,fe){var Ae=ge.iterator[fe.method];if(Ae===J){if(fe.delegate=null,"throw"===fe.method){if(ge.iterator.return&&(fe.method="return",fe.arg=J,x(ge,fe),"throw"===fe.method))return T;fe.method="throw",fe.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var Pe=P(Ae,ge.iterator,fe.arg);if("throw"===Pe.type)return fe.method="throw",fe.arg=Pe.arg,fe.delegate=null,T;var de=Pe.arg;return de?de.done?(fe[ge.resultName]=de.value,fe.next=ge.nextLoc,"return"!==fe.method&&(fe.method="next",fe.arg=J),fe.delegate=null,T):de:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,T)}function b(ge){var fe={tryLoc:ge[0]};1 in ge&&(fe.catchLoc=ge[1]),2 in ge&&(fe.finallyLoc=ge[2],fe.afterLoc=ge[3]),this.tryEntries.push(fe)}function R(ge){var fe=ge.completion||{};fe.type="normal",delete fe.arg,ge.completion=fe}function Q(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(b,this),this.reset(!0)}function re(ge){if(ge){var fe=ge[f];if(fe)return fe.call(ge);if("function"==typeof ge.next)return ge;if(!isNaN(ge.length)){var Ae=-1,Pe=function de(){for(;++Ae<ge.length;)if(L.call(ge,Ae))return de.value=ge[Ae],de.done=!1,de;return de.value=J,de.done=!0,de};return Pe.next=Pe}}return{next:Fe}}function Fe(){return{value:J,done:!0}}return r.prototype=w.constructor=_,_.constructor=r,r.displayName=y(_,h,"GeneratorFunction"),se.isGeneratorFunction=function(ge){var fe="function"==typeof ge&&ge.constructor;return!!fe&&(fe===r||"GeneratorFunction"===(fe.displayName||fe.name))},se.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,_):(ge.__proto__=_,y(ge,h,"GeneratorFunction")),ge.prototype=Object.create(w),ge},se.awrap=function(ge){return{__await:ge}},p(u.prototype),u.prototype[g]=function(){return this},se.AsyncIterator=u,se.async=function(ge,fe,Ae,Pe,de){void 0===de&&(de=Promise);var pe=new u(d(ge,fe,Ae,Pe),de);return se.isGeneratorFunction(fe)?pe:pe.next().then(function(_e){return _e.done?_e.value:pe.next()})},p(w),y(w,h,"Generator"),w[f]=function(){return this},w.toString=function(){return"[object Generator]"},se.keys=function(ge){var fe=[];for(var Ae in ge)fe.push(Ae);return fe.reverse(),function Pe(){for(;fe.length;){var de=fe.pop();if(de in ge)return Pe.value=de,Pe.done=!1,Pe}return Pe.done=!0,Pe}},se.values=re,Q.prototype={constructor:Q,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=J,this.done=!1,this.delegate=null,this.method="next",this.arg=J,this.tryEntries.forEach(R),!ge)for(var fe in this)"t"===fe.charAt(0)&&L.call(this,fe)&&!isNaN(+fe.slice(1))&&(this[fe]=J)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if("throw"===ge.type)throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var fe=this;function Ae(ne,G){return pe.type="throw",pe.arg=ge,fe.next=ne,G&&(fe.method="next",fe.arg=J),!!G}for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var de=this.tryEntries[Pe],pe=de.completion;if("root"===de.tryLoc)return Ae("end");if(de.tryLoc<=this.prev){var _e=L.call(de,"catchLoc"),ae=L.call(de,"finallyLoc");if(_e&&ae){if(this.prev<de.catchLoc)return Ae(de.catchLoc,!0);if(this.prev<de.finallyLoc)return Ae(de.finallyLoc)}else if(_e){if(this.prev<de.catchLoc)return Ae(de.catchLoc,!0)}else{if(!ae)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return Ae(de.finallyLoc)}}}},abrupt:function(ge,fe){for(var Ae=this.tryEntries.length-1;Ae>=0;--Ae){var Pe=this.tryEntries[Ae];if(Pe.tryLoc<=this.prev&&L.call(Pe,"finallyLoc")&&this.prev<Pe.finallyLoc){var de=Pe;break}}de&&("break"===ge||"continue"===ge)&&de.tryLoc<=fe&&fe<=de.finallyLoc&&(de=null);var pe=de?de.completion:{};return pe.type=ge,pe.arg=fe,de?(this.method="next",this.next=de.finallyLoc,T):this.complete(pe)},complete:function(ge,fe){if("throw"===ge.type)throw ge.arg;return"break"===ge.type||"continue"===ge.type?this.next=ge.arg:"return"===ge.type?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):"normal"===ge.type&&fe&&(this.next=fe),T},finish:function(ge){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var Ae=this.tryEntries[fe];if(Ae.finallyLoc===ge)return this.complete(Ae.completion,Ae.afterLoc),R(Ae),T}},catch:function(ge){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var Ae=this.tryEntries[fe];if(Ae.tryLoc===ge){var Pe=Ae.completion;if("throw"===Pe.type){var de=Pe.arg;R(Ae)}return de}}throw new Error("illegal catch attempt")},delegateYield:function(ge,fe,Ae){return this.delegate={iterator:re(ge),resultName:fe,nextLoc:Ae},"next"===this.method&&(this.arg=J),T}},se}(Ye.exports);try{regeneratorRuntime=ee}catch(se){Function("r","regeneratorRuntime = r")(ee)}},function(Ye,le){Ye.exports=function(o){if(Array.isArray(o))return o},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le){Ye.exports=function(o,ee){var se=o&&("undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"]);if(null!=se){var J,U,L=[],k=!0,f=!1;try{for(se=se.call(o);!(k=(J=se.next()).done)&&(L.push(J.value),!ee||L.length!==ee);k=!0);}catch(g){f=!0,U=g}finally{try{k||null==se.return||se.return()}finally{if(f)throw U}}return L}},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le){Ye.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},Ye.exports.default=Ye.exports,Ye.exports.__esModule=!0},function(Ye,le,o){"use strict";o.r(le);var ee=o(2),se=o(10);le.default=ee.View.extend({initialize:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.items=[],this.opt=J;var U=J.config||{};this.level=J.level,this.config=U,this.preview=J.preview,this.ppfx=U.pStylePrefix||"",this.pfx=U.stylePrefix||"",this.parent=J.parent,this.parentView=J.parentView;var L=this.pfx,k=this.ppfx,f=this.parent,g=this.collection;this.listenTo(g,"add",this.addTo),this.listenTo(g,"reset resetNavigator",this.render),this.listenTo(g,"remove",this.removeChildren),this.className="".concat(L,"layers");var h=U.em;if(U.sortable&&!this.opt.sorter){var y=h.get("Utils");this.opt.sorter=new y.Sorter({container:U.sortContainer||this.el,containerSel:".".concat(this.className),itemSel:".".concat(L,"layer"),ignoreViewChildren:1,onEndMove:function(d,P,O){var v=P.getSourceModel();h.setSelected(v,{forceChange:1}),h.trigger("".concat(se.b,":end"),O)},avoidSelectOnEnd:1,nested:1,ppfx:k,pfx:L})}this.sorter=this.opt.sorter||"",this.$el.data("collection",g),f&&this.$el.data("model",f)},removeChildren:function(J){var U=J.viewLayer;U&&(U.remove(),J.viewLayer=0)},addTo:function(J){var U=this.collection.indexOf(J);this.addToCollection(J,null,U)},addToCollection:function(J,U,L){var g=this.opt.ItemView,h=U||null,y=new g({ItemView:g,level:this.level,model:J,parentView:this.parentView,config:this.config,sorter:this.sorter,isCountable:this.isCountable,opened:this.opt.opened}),d=y.render().el;if(h)h.appendChild(d);else if(void 0!==L){var P="before";this.$el.children().length==L&&(L--,P="after"),L<0?this.$el.append(d):this.$el.children().eq(L)[P](d)}else this.$el.append(d);return this.items.push(y),d},remove:function(){ee.View.prototype.remove.apply(this,arguments),this.items.map(function(J){return J.remove()})},isCountable:function(J,U){var L=J.get("type"),k=J.get("tagName");return!(("textnode"==L||"br"==k)&&U||!J.get("layerable"))},render:function(){var J=this,U=document.createDocumentFragment(),L=this.el;return L.innerHTML="",this.collection.each(function(k){return J.addToCollection(k,U)}),L.appendChild(U),L.className=this.className,this}})},function(Ye,le,o){var ee={"./CanvasClear":52,"./CanvasClear.js":52,"./CanvasMove":53,"./CanvasMove.js":53,"./CommandAbstract":31,"./CommandAbstract.js":31,"./ComponentDelete":54,"./ComponentDelete.js":54,"./ComponentDrag":55,"./ComponentDrag.js":55,"./ComponentEnter":56,"./ComponentEnter.js":56,"./ComponentExit":57,"./ComponentExit.js":57,"./ComponentNext":58,"./ComponentNext.js":58,"./ComponentPrev":59,"./ComponentPrev.js":59,"./ComponentStyleClear":60,"./ComponentStyleClear.js":60,"./CopyComponent":61,"./CopyComponent.js":61,"./DeleteComponent":62,"./DeleteComponent.js":62,"./ExportTemplate":63,"./ExportTemplate.js":63,"./Fullscreen":64,"./Fullscreen.js":64,"./MoveComponent":65,"./MoveComponent.js":65,"./OpenAssets":66,"./OpenAssets.js":66,"./OpenBlocks":67,"./OpenBlocks.js":67,"./OpenLayers":68,"./OpenLayers.js":68,"./OpenStyleManager":69,"./OpenStyleManager.js":69,"./OpenTraitManager":70,"./OpenTraitManager.js":70,"./PasteComponent":71,"./PasteComponent.js":71,"./Preview":72,"./Preview.js":72,"./Resize":73,"./Resize.js":73,"./SelectComponent":23,"./SelectComponent.js":23,"./SelectPosition":36,"./SelectPosition.js":36,"./ShowOffset":74,"./ShowOffset.js":74,"./SwitchVisibility":75,"./SwitchVisibility.js":75};function se(U){var L=J(U);return o(L)}function J(U){if(!o.o(ee,U)){var L=new Error("Cannot find module '"+U+"'");throw L.code="MODULE_NOT_FOUND",L}return ee[U]}se.keys=function(){return Object.keys(ee)},se.resolve=J,Ye.exports=se,se.id=98},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(14),U=o.n(J),L=(o(2),o(0)),k={stylePrefix:"comp-",components:[],draggableComponents:1,storeWrapper:0,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]},f=o(10),g=o(30),h=o(12),y=o(42),d=o(1);function P(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function O(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?P(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):P(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var v=f.a.extend({defaults:O(O({},f.a.prototype.defaults),{},{type:"cell",tagName:"td",draggable:["tr"]})},{isComponent:function(F){return["td","th"].indexOf(Object(d.toLowerCase)(F.tagName))>=0}}),D=h.default.extend({});function I(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function T(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?I(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):I(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var r=f.a.extend({defaults:T(T({},f.a.prototype.defaults),{},{tagName:"tr",draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},{isComponent:function(F){return"tr"===Object(d.toLowerCase)(F.tagName)}}),_=h.default.extend({});function E(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function B(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?E(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):E(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var $="table",w=f.a.extend({defaults:B(B({},f.a.prototype.defaults),{},{type:$,tagName:$,droppable:["tbody","thead","tfoot"]}),initialize:function(F,K){f.a.prototype.initialize.apply(this,arguments);var ye=this.get("components");!ye.length&&ye.add({type:"tbody"})}},{isComponent:function(F){return Object(d.toLowerCase)(F.tagName)===$}}),p=h.default.extend({events:{}});function u(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function x(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?u(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):u(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var b="tbody",R=f.a.extend({defaults:x(x({},f.a.prototype.defaults),{},{type:b,tagName:b,draggable:["table"],droppable:["tr"],columns:1,rows:1}),initialize:function(F,K){f.a.prototype.initialize.apply(this,arguments);var ye=this.get("components"),Me=this.get("columns"),wt=this.get("rows");if(!ye.length){for(var Rt=[];wt--;){for(var Nt=[],Mt=Me;Mt--;)Nt.push({type:"cell",classes:["cell"]});Rt.push({type:"row",classes:["row"],components:Nt})}ye.add(Rt)}}},{isComponent:function(F){return Object(d.toLowerCase)(F.tagName)===b}});function Q(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function re(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?Q(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):Q(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var Fe="thead",ge=R.extend({defaults:re(re({},R.prototype.defaults),{},{type:Fe,tagName:Fe})},{isComponent:function(F){return Object(d.toLowerCase)(F.tagName)===Fe}}),fe=h.default.extend({}),Ae=h.default.extend({});function Pe(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function de(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?Pe(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):Pe(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var pe="tfoot",_e=R.extend({defaults:de(de({},R.prototype.defaults),{},{type:pe,tagName:pe})},{isComponent:function(F){return Object(d.toLowerCase)(F.tagName)===pe}}),ae=h.default.extend({});function ne(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function G(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?ne(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):ne(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var W='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',j=f.a.extend({defaults:G(G({},f.a.prototype.defaults),{},{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(W,'>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'),fallback:"<svg ".concat(W,'>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'),file:""}),initialize:function(F,K){f.a.prototype.initialize.apply(this,arguments);var ye=this.get("attributes"),Me=ye.src;Me&&this.set("src",Me,{silent:1})},initToolbar:function(){for(var F=arguments.length,K=new Array(F),ye=0;ye<F;ye++)K[ye]=arguments[ye];f.a.prototype.initToolbar.apply(this,K);var Me=this.em;if(Me){var wt=Me.get("Commands"),Rt="image-editor";if(wt.has(Rt)){for(var Nt=!1,Mt=this.get("toolbar"),Ft=0;Ft<Mt.length;Ft++)if("image-editor"===Mt[Ft].command){Nt=!0;break}Nt||(Mt.push({attributes:{class:"fa fa-pencil"},command:Rt}),this.set("toolbar",Mt))}}},getAttrToHTML:function(){for(var F=arguments.length,K=new Array(F),ye=0;ye<F;ye++)K[ye]=arguments[ye];var Me=f.a.prototype.getAttrToHTML.apply(this,K),wt=this.getSrcResult();return wt&&(Me.src=wt),Me},getSrcResult:function(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},K=this.get(F.fallback?"fallback":"src")||"",ye=K;return K&&"<svg"===K.substr(0,4)&&(ye="data:image/svg+xml;base64,".concat(window.btoa(K))),ye},isDefaultSrc:function(){return this.get("src")===Object(L.result)(this,"defaults").src},toJSON:function(){for(var F=arguments.length,K=new Array(F),ye=0;ye<F;ye++)K[ye]=arguments[ye];var Me=f.a.prototype.toJSON.apply(this,K);return Me.attributes&&Me.src===Me.attributes.src&&delete Me.src,Me},parseUri:function(F){var K=document.createElement("a");K.href=F;for(var ye={},Me=K.search.substring(1).split("&"),wt=0;wt<Me.length;wt++){var Rt=Me[wt].split("="),Nt=decodeURIComponent(Rt[0]);Nt&&(ye[Nt]=decodeURIComponent(Rt[1]))}return{hostname:K.hostname,pathname:K.pathname,protocol:K.protocol,search:K.search,hash:K.hash,port:K.port,query:ye}}},{isComponent:function(F){return"img"===Object(d.toLowerCase)(F.tagName)}});function C(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function H(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?C(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):C(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var n=j.extend({defaults:H(H({},j.prototype.defaults),{},{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:f.a.prototype.defaults.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]}),initialize:function(F,K){this.get("src")?this.parseFromSrc():this.updateSrc(),j.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},updateSrc:function(){this.set("src",this.getMapUrl())},getMapUrl:function(){var F=this.get("address"),K=this.get("zoom"),ye=this.get("mapType");return F=F?"&q="+F:"",K=K?"&z="+K:"",ye=ye?"&t="+ye:"",this.get("mapUrl")+"?"+F+K+ye+"&output=embed"},parseFromSrc:function(){var F=this.parseUri(this.get("src")).query;F.q&&this.set("address",F.q),F.z&&this.set("zoom",F.z),F.t&&this.set("mapType",F.t)}},{isComponent:function(F){var K="";return"iframe"==Object(d.toLowerCase)(F.tagName)&&/maps\.google\.com/.test(F.src)&&(K={type:"map",src:F.src}),K}}),m=h.default.extend({tagName:"img",events:{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"},initialize:function(F){h.default.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},fetchFile:function(){if(!this.modelOpt.temporary){var F=this.model,K=F.get("file");K&&(this.em.get("AssetManager").FileUploader().uploadFile({dataTransfer:{files:[K]}},function(ye){var Me=ye&&ye.data&&ye.data[0],wt=Me&&(Object(L.isString)(Me)?Me:Me.src);wt&&F.set({src:wt})}),F.set("file",""))}},updateSrc:function(){var F=this.model,K=this.classEmpty,ye=this.$el,Me=F.getSrcResult(),wt=Me&&!F.isDefaultSrc();F.addAttributes({src:Me}),ye[wt?"removeClass":"addClass"](K)},onActive:function(F){F&&F.stopPropagation();var K=this.em,ye=this.model,Me=K&&K.get("AssetManager");Me&&ye.get("editable")&&Me.open({select:function(wt,Rt){ye.set({src:wt.getSrc()}),Rt&&Me.close()},target:ye,types:["image"],accept:"image/*"})},onError:function(){var F=this.model.getSrcResult({fallback:1});F&&(this.el.src=F)},onLoad:function(){this.em.trigger("change:canvasOffset")},noDrag:function(F){return F.preventDefault(),!1},render:function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var F=this.$el,K=this.model,ye=F.attr("class")||"";return!K.get("src")&&F.attr("class","".concat(ye," ").concat(this.classEmpty).trim()),this.postRender(),this}}),l=m.extend({tagName:"div",events:{},initialize:function(F){m.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"},updateSrc:function(){this.getIframe().src=this.model.get("src")},getIframe:function(){if(!this.iframe){var F=document.createElement("iframe");F.src=this.model.get("src"),F.frameBorder=0,F.style.height="100%",F.style.width="100%",F.className=this.ppfx+"no-pointer",this.iframe=F}return this.iframe},render:function(){for(var F=arguments.length,K=new Array(F),ye=0;ye<F;ye++)K[ye]=arguments[ye];return m.prototype.render.apply(this,K),this.updateClasses(),this.el.appendChild(this.getIframe()),this}});function A(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function q(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?A(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):A(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var be=f.a.extend({defaults:q(q({},f.a.prototype.defaults),{},{type:"text",droppable:!1,editable:!0}),toHTML:function(){return f.a.prototype.toHTML.apply(this,arguments)}});function Le(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function ke(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?Le(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):Le(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var ve=be.extend({defaults:ke(ke({},be.prototype.defaults),{},{type:"link",tagName:"a",traits:["title","href","target"]}),getAttrToHTML:function(){for(var F=arguments.length,K=new Array(F),ye=0;ye<F;ye++)K[ye]=arguments[ye];var Me=be.prototype.getAttrToHTML.apply(this,K);return delete Me.onmousedown,Me}},{isComponent:function(F){var K;if("a"===Object(d.toLowerCase)(F.tagName)){K={type:"link",editable:0};var ye=F.childNodes,Me=ye.length;Me||delete K.editable;for(var wt=0;wt<Me;wt++){var Rt=ye[wt];if(3==Rt.nodeType&&""!=Rt.textContent.trim()){delete K.editable;break}}}return K}}),Ee=o(34),Ne=o.n(Ee),Je=o(26),St=o.n(Je);function vt(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function Z(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?vt(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):vt(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var ce=h.default.prototype,je=h.default.extend({events:{dblclick:"onActive",input:"onInput"},initialize:function(F){ce.initialize.apply(this,arguments),this.disableEditing=this.disableEditing.bind(this);var K=this.model,ye=this.em;this.listenTo(K,"focus",this.onActive),this.listenTo(K,"change:content",this.updateContentText),this.listenTo(K,"sync:content",this.syncContent),this.rte=ye&&ye.get("RichTextEditor")},updateContentText:function(F,K){var ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!ye.fromDisable&&this.disableEditing()},onActive:function(F){var K=this;return Ne()(St.a.mark(function ye(){var Me,wt;return St.a.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(Me=K.rte,wt=K.em,!(K.rteEnabled||!K.model.get("editable")||wt&&wt.isEditing())){Rt.next=3;break}return Rt.abrupt("return");case 3:if(F&&F.stopPropagation&&F.stopPropagation(),!Me){Rt.next=14;break}return Rt.prev=5,Rt.next=8,Me.enable(K,K.activeRte);case 8:K.activeRte=Rt.sent,Rt.next=14;break;case 11:Rt.prev=11,Rt.t0=Rt.catch(5),wt.logError(Rt.t0);case 14:K.toggleEvents(1);case 15:case"end":return Rt.stop()}},ye,null,[[5,11]])}))()},onDisable:function(){this.disableEditing()},disableEditing:function(){var F=this;return Ne()(St.a.mark(function K(){var ye,Me,wt,Rt,Nt;return St.a.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:if(Me=F.rte,wt=F.activeRte,Rt=F.em,Nt=(ye=F.model)&&ye.get("editable"),!Me){Mt.next=12;break}return Mt.prev=3,Mt.next=6,Me.disable(F,wt);case 6:Mt.next=11;break;case 8:Mt.prev=8,Mt.t0=Mt.catch(3),Rt.logError(Mt.t0);case 11:Nt&&F.syncContent();case 12:F.toggleEvents();case 13:case"end":return Mt.stop()}},K,null,[[3,8]])}))()},getContent:function(){var F=this.activeRte;return F&&"function"==typeof F.getContent?F.getContent():this.getChildrenContainer().innerHTML},syncContent:function(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},K=this.model,ye=this.rte,Me=this.rteEnabled;if(Me||F.force){var wt=this.getContent(),Rt=K.components(),Nt=Z({fromDisable:1},F);if(K.set("content","",Nt),ye.customRte)Rt.length&&Rt.reset(null,F),K.set("content",wt,Nt);else{var Mt=function Ft(gn){var Tn=!!gn.get("textable"),An=!["text","default",""].some(function(Yn){return gn.is(Yn)})||Tn;gn.set(Z({_innertext:!An,editable:An&&gn.get("editable"),selectable:An,hoverable:An,removable:Tn,draggable:Tn,highlightable:0,copyable:Tn},!Tn&&{toolbar:""}),F),gn.get("components").each(function(Yn){return Ft(Yn)})};Rt.reset(wt,F),Rt.each(function(Ft){return Mt(Ft)}),Rt.trigger("resetNavigator")}}},onInput:function(){var F=this.em,K="component",ye=["".concat(K,":update"),"".concat(K,":input")].join(" ");F&&F.trigger(ye,this.model)},disablePropagation:function(F){F.stopPropagation()},toggleEvents:function(F){var K=this.em,ye=this.model,Me=this.$el,wt={on:d.on,off:d.off},Rt=F?"on":"off";K.setEditing(F?this:0),this.rteEnabled=!!F;var Nt=[this.el.ownerDocument,document];if(wt.off(Nt,"mousedown",this.disableEditing),wt[Rt](Nt,"mousedown",this.disableEditing),K[Rt]("toolbar:run:before",this.disableEditing),ye&&(ye[Rt]("removed",this.disableEditing),ye.trigger("rte:".concat(F?"enable":"disable"))),Me&&Me.off("mousedown",this.disablePropagation),Me&&Me[Rt]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var Mt=this.el;Mt;)Mt.draggable=!F,(Mt=Mt.parentNode)&&"BODY"==Mt.tagName&&(Mt=0)}}),qe=je.extend({render:function(){for(var F=arguments.length,K=new Array(F),ye=0;ye<F;ye++)K[ye]=arguments[ye];return je.prototype.render.apply(this,K),this.el.addEventListener("click",this.prevDef,!0),this}});function nt(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function ut(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?nt(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):nt(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var mt="label",X=be.extend({defaults:ut(ut({},be.prototype.defaults),{},{type:mt,tagName:mt,traits:["id","title","for"]})},{isComponent:function(F){return Object(d.toLowerCase)(F.tagName)===mt}}),Te=qe.extend({tagName:"span"});function Re(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function $e(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?Re(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):Re(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var me="video",Ke="yt",Ze="vi",ht="ytnc",Pt=j.extend({defaults:$e($e({},j.prototype.defaults),{},{type:me,tagName:me,videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}}),initialize:function(F,K){this.em=K.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),j.prototype.initialize.apply(this,arguments)},updateTraits:function(){var F,K="iframe";switch(this.get("provider")){case Ke:case ht:F=this.getYoutubeTraits();break;case Ze:F=this.getVimeoTraits();break;default:K="video",F=this.getSourceTraits()}this.set({tagName:K},{silent:1}),this.set({traits:F}),this.em.trigger("component:toggled")},parseFromSrc:function(){var F=this.get("provider"),K=this.parseUri(this.get("src")),ye=K.query;switch(F){case Ke:case ht:case Ze:var Me=K.pathname.split("/").pop();this.set("videoId",Me),ye.list&&this.set("list",ye.list),ye.autoplay&&this.set("autoplay",1),ye.loop&&this.set("loop",1),0===parseInt(ye.controls)&&this.set("controls",0),ye.color&&this.set("color",ye.color),"0"===ye.rel&&this.set("rel",0),"1"===ye.modestbranding&&this.set("modestbranding",1)}},updateSrc:function(){var F="";switch(this.get("provider")){case Ke:F=this.getYoutubeSrc();break;case ht:F=this.getYoutubeNoCookieSrc();break;case Ze:F=this.getVimeoSrc()}this.set({src:F})},getAttrToHTML:function(){for(var F=arguments.length,K=new Array(F),ye=0;ye<F;ye++)K[ye]=arguments[ye];var Me=j.prototype.getAttrToHTML.apply(this,K),wt=this.get("provider");switch(wt){case Ke:case ht:case Ze:break;default:this.get("loop")&&(Me.loop="loop"),this.get("autoplay")&&(Me.autoplay="autoplay"),this.get("controls")&&(Me.controls="controls")}return Me},getProviderTrait:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:Ke,name:"Youtube"},{value:ht,name:"Youtube (no cookie)"},{value:Ze,name:"Vimeo"}]}},getSourceTraits:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},getYoutubeTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]},getVimeoTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]},getAutoplayTrait:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}},getLoopTrait:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}},getControlsTrait:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}},getYoutubeSrc:function(){var F=this.get("videoId"),K=this.get("ytUrl"),ye=this.get("list");return K+=F+(F.indexOf("?")<0?"?":""),K+=ye?"&list=".concat(ye):"",K+=this.get("autoplay")?"&autoplay=1":"",K+=this.get("controls")?"":"&controls=0&showinfo=0",K+=this.get("loop")?"&loop=1&playlist=".concat(F):"",(K+=this.get("rel")?"":"&rel=0")+(this.get("modestbranding")?"&modestbranding=1":"")},getYoutubeNoCookieSrc:function(){return this.getYoutubeSrc().replace(this.get("ytUrl"),this.get("ytncUrl"))},getVimeoSrc:function(){var F=this.get("viUrl");return F+=this.get("videoId")+"?",F+=this.get("autoplay")?"&autoplay=1":"",F+=this.get("loop")?"&loop=1":"",(F+=this.get("controls")?"":"&title=0&portrait=0&badge=0")+(this.get("color")?"&color="+this.get("color"):"")}},{isComponent:function(F){var K="",ye=F.tagName,Me=F.src,wt=/youtube\.com\/embed/.test(Me),Rt=/youtube-nocookie\.com\/embed/.test(Me),Nt=/player\.vimeo\.com\/video/.test(Me),Mt=wt||Rt||Nt;return(Object(d.toLowerCase)(ye)==me||"iframe"==Object(d.toLowerCase)(ye)&&Mt)&&(K={type:"video"},Me&&(K.src=Me),Mt&&(wt?K.provider=Ke:Rt?K.provider=ht:Nt&&(K.provider=Ze))),K}}),Dt=m.extend({tagName:"div",events:{},initialize:function(F){h.default.prototype.initialize.apply(this,arguments);var K=this.model,ye=["loop","autoplay","controls","color","rel","modestbranding","poster"],Me=ye.map(function(wt){return"change:".concat(wt)}).join(" ");this.listenTo(K,"change:provider",this.updateProvider),this.listenTo(K,"change:src",this.updateSrc),this.listenTo(K,Me,this.updateVideo)},updateProvider:function(){var F=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(F))},updateSrc:function(){var F=this.model,K=this.videoEl;if(K){var ye=F.get("provider"),Me=F.get("src");switch(ye){case"yt":Me=F.getYoutubeSrc();break;case"ytnc":Me=F.getYoutubeNoCookieSrc();break;case"vi":Me=F.getVimeoSrc()}K.src=Me}},updateVideo:function(){var F=this.model.get("provider"),K=this.videoEl,ye=this.model;switch(F){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:K.loop=ye.get("loop"),K.autoplay=ye.get("autoplay"),K.controls=ye.get("controls"),K.poster=ye.get("poster")}},renderByProvider:function(F){var K;switch(F){case"yt":K=this.renderYoutube();break;case"ytnc":K=this.renderYoutubeNoCookie();break;case"vi":K=this.renderVimeo();break;default:K=this.renderSource()}return this.videoEl=K,K},renderSource:function(){var F=document.createElement("video");return F.src=this.model.get("src"),this.initVideoEl(F),F},renderYoutube:function(){var F=document.createElement("iframe");return F.src=this.model.getYoutubeSrc(),F.frameBorder=0,F.setAttribute("allowfullscreen",!0),this.initVideoEl(F),F},renderYoutubeNoCookie:function(){var F=document.createElement("iframe");return F.src=this.model.getYoutubeNoCookieSrc(),F.frameBorder=0,F.setAttribute("allowfullscreen",!0),this.initVideoEl(F),F},renderVimeo:function(){var F=document.createElement("iframe");return F.src=this.model.getVimeoSrc(),F.frameBorder=0,F.setAttribute("allowfullscreen",!0),this.initVideoEl(F),F},initVideoEl:function(F){F.className=this.ppfx+"no-pointer",F.style.height="100%",F.style.width="100%"},render:function(){for(var F=arguments.length,K=new Array(F),ye=0;ye<F;ye++)K[ye]=arguments[ye];m.prototype.render.apply(this,K),this.updateClasses();var Me=this.model.get("provider");return this.el.appendChild(this.renderByProvider(Me)),this.updateVideo(),this}});function ct(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function Tt(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?ct(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):ct(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var De="script",Ot=f.a.extend({defaults:Tt(Tt({},f.a.prototype.defaults),{},{type:De,tagName:De,droppable:!1,draggable:!1,layerable:!1})},{isComponent:function(F){if(Object(d.toLowerCase)(F.tagName)==De){var K={type:De};return F.src&&(K.src=F.src,K.onload=F.onload),K}}}),oe=m.extend({tagName:"script",events:{},render:function(){var F=this.model,K=this.em,ye=F.get("src"),wt=K&&K.get("scriptCount")||0,Rt="";if(ye){var Nt=F.get("onload"),Mt="script".concat(wt),Ft="script".concat(wt+1),gn="".concat(Mt,"Start"),Tn="".concat(Ft,"Start");Rt="\n        var ".concat(Mt," = document.createElement('script');\n        ").concat(Mt,".onload = function() {\n          ").concat(Nt?"".concat(Nt,"();\n"):"","\n          typeof ").concat(Tn," == 'function' && ").concat(Tn,"();\n        };\n        ").concat(Mt,".src = '").concat(ye,"';\n        function ").concat(gn,"() { document.body.appendChild(").concat(Mt,"); };\n        ").concat(wt?"":"".concat(gn,"();"),"\n      "),K&&K.set("scriptCount",wt+1)}else Rt=F.__innerHTML();return this.el.innerHTML=Rt,this.postRender(),this}});function rt(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function V(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?rt(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):rt(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var z="svg",we=f.a.extend({defaults:V(V({},f.a.prototype.defaults),{},{type:z,tagName:z,highlightable:0,resizable:{ratioDefault:1}}),getName:function(){var F=this.get("tagName"),K=this.get("custom-name");return F=F.charAt(0).toUpperCase()+F.slice(1),K||F}},{isComponent:function(F){return Object(d.toLowerCase)(F.tagName)===z}});function he(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function Ie(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?he(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):he(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var st=we.extend({defaults:Ie(Ie({},we.prototype.defaults),{},{selectable:!1,hoverable:!1,layerable:!1})},{isComponent:function(F){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!K.inSvg}}),kt=h.default.extend({_createElement:function(F){return document.createElementNS("http://www.w3.org/2000/svg",F)}});function ft(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function zt(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?ft(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):ft(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var nn=f.a.extend({defaults:zt(zt({},f.a.prototype.defaults),{},{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0}),toHTML:function(){var F=this.parent(),K=this.get("content");return F&&F.is("script")?K:Object(d.escape)(K)}},{isComponent:function(F){var K="";return 3===F.nodeType&&(K={type:"textnode",content:F.textContent}),K}});function Wt(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}var ln=nn.extend({defaults:function(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?Wt(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):Wt(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}({},nn.prototype.defaults),toHTML:function(){return"\x3c!--".concat(this.get("content"),"--\x3e")}},{isComponent:function(F){if(8==F.nodeType)return{tagName:"NULL",type:"comment",content:F.textContent}}}),tn=h.default.extend({initialize:function(){h.default.prototype.initialize.apply(this,arguments)},_setAttributes:function(){},renderAttributes:function(){},updateStatus:function(){},updateClasses:function(){},setAttribute:function(){},updateAttributes:function(){},initClasses:function(){},initComponents:function(){},delegateEvents:function(){},_createElement:function(){return document.createTextNode("")},render:function(){var F=this.model;return F.opt.temporary||(this.el.textContent=F.get("content")),this}}),kn=tn.extend({_createElement:function(){return document.createComment(this.model.get("content"))}});function Cn(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function Fn(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?Cn(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):Cn(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var jn=f.a.extend({defaults:Fn(Fn({},f.a.prototype.defaults),{},{__wrapper:1,removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]}),__postAdd:function(){var F=this.em&&this.em.get("UndoManager");return F&&!this.__hasUm&&F.add(this),f.a.prototype.__postAdd.call(this,arguments)},__postRemove:function(){var F=this.em&&this.em.get("UndoManager");return F&&F.remove(this),f.a.prototype.__postRemove.call(this,arguments)}},{isComponent:function(){return!1}});function cn(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function qt(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?cn(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):cn(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}var dn="iframe",fn=f.a.extend({defaults:function(){return qt(qt({},f.a.prototype.defaults),{},{type:dn,tagName:dn,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})}},{isComponent:function(F){return Object(d.toLowerCase)(F.tagName)===dn}}),Jt=o(13),pn=h.default.extend({tagName:"div",initialize:function(){for(var F=arguments.length,K=new Array(F),ye=0;ye<F;ye++)K[ye]=arguments[ye];h.default.prototype.initialize.apply(this,K),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},updateSrc:function(){var F=Object(Jt.h)(this.el,"iframe")[0];F&&Object(Jt.d)(F,{src:this.__getSrc()})},render:function(){for(var F=arguments.length,K=new Array(F),ye=0;ye<F;ye++)K[ye]=arguments[ye];h.default.prototype.render.apply(this,K);var Me=Object(Jt.f)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(Me),this},__getSrc:function(){return this.model.getAttributes().src||""}});function Zn(F,K){var ye=Object.keys(F);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(F);K&&(Me=Me.filter(function(wt){return Object.getOwnPropertyDescriptor(F,wt).enumerable})),ye.push.apply(ye,Me)}return ye}function Xn(F){for(var K=1;K<arguments.length;K++){var ye=null!=arguments[K]?arguments[K]:{};K%2?Zn(Object(ye),!0).forEach(function(Me){se()(F,Me,ye[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(ye)):Zn(Object(ye)).forEach(function(Me){Object.defineProperty(F,Me,Object.getOwnPropertyDescriptor(ye,Me))})}return F}le.default=function(){var F,K,ye,Me={},wt={},Rt=[{id:"cell",model:v,view:D},{id:"row",model:r,view:_},{id:"table",model:w,view:p},{id:"thead",model:ge,view:fe},{id:"tbody",model:R,view:Ae},{id:"tfoot",model:_e,view:ae},{id:"map",model:n,view:l},{id:"link",model:ve,view:qe},{id:"label",model:X,view:Te},{id:"video",model:Pt,view:Dt},{id:"image",model:j,view:m},{id:"script",model:Ot,view:oe},{id:"svg-in",model:st,view:kt},{id:"svg",model:we,view:kt},{id:"iframe",model:fn,view:pn},{id:"comment",model:ln,view:kn},{id:"textnode",model:nn,view:tn},{id:"text",model:be,view:je},{id:"wrapper",model:jn,view:h.default},{id:"default",model:f.a,view:h.default}];return{Component:f.a,Components:g.a,ComponentsView:y.a,componentTypes:Rt,componentsById:wt,name:"DomComponents",getConfig:function(){return Me},storageKey:function(){var Nt=[],Mt=Me.stm&&Me.stm.getConfig()||{};return Mt.storeHtml&&Nt.push("html"),Mt.storeComponents&&Nt.push("components"),Nt},init:function(Nt){var Mt=this;for(var Ft in F=(Me=Nt||{}).em,this.em=F,F&&(Me.components=F.config.components||Me.components),k)Ft in Me||(Me[Ft]=k[Ft]);var gn=Me.pStylePrefix;if(gn&&(Me.stylePrefix=gn+Me.stylePrefix),F){Me.modal=F.get("Modal")||"",Me.am=F.get("AssetManager")||"",F.get("Parser").compTypes=Rt,F.on("change:componentHovered",this.componentHovered,this);var Tn=F.get("selected");F.listenTo(Tn,"add",function(An,Yn,wr){return Mt.selectAdd(Tn.getComponent(An),wr)}),F.listenTo(Tn,"remove",function(An,Yn,wr){return Mt.selectRemove(Tn.getComponent(An),wr)})}return F.get("hasPages")&&(Me.components=""),this},onLoad:function(){Me.components&&this.setComponents(Me.components,{silent:1})},load:function(){var Nt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",Mt=this.em,Ft="";!Nt&&Me.stm&&(Nt=Me.em.getCacheLoad());var gn=Nt,Tn=gn.components,An=gn.html;if(Tn)if(Object(L.isObject)(Tn)||Object(L.isArray)(Tn))Ft=Tn;else try{Ft=JSON.parse(Tn)}catch(wr){Mt&&Mt.logError(wr)}else An&&(Ft=An);var Yn=Ft&&Ft.constructor===Object;return(Ft&&Ft.length||Yn)&&(this.clear(),Yn?this.getWrapper().set(Ft):this.getComponents().add(Ft)),Ft},store:function(Nt){if(!Me.stm||this.em.get("hasPages"))return{};var Mt={},Ft=this.storageKey();if(Ft.indexOf("html")>=0&&(Mt.html=Me.em.getHtml()),Ft.indexOf("components")>=0){var gn=Me.storeWrapper?this.getWrapper():this.getComponents();Mt.components=JSON.stringify(gn)}return Nt||Me.stm.store(Mt),Mt},getComponent:function(){var Nt=this.em.get("PageManager").getSelected(),Mt=Nt&&Nt.getMainFrame();return Mt&&Mt.getComponent()},getWrapper:function(){return this.getComponent()},getComponents:function(){var Nt=this.getWrapper();return Nt&&Nt.get("components")},addComponent:function(Nt){var Mt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getComponents().add(Nt,Mt)},render:function(){return ye.render().el},clear:function(){var Nt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getComponents().map(function(Mt){return Mt}).forEach(function(Mt){return Mt.remove(Nt)}),this},setComponents:function(Nt){var Mt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.clear(Mt).addComponent(Nt,Mt)},addType:function(Nt,Mt){var Ft=this.em,gn=Mt.model,Tn=void 0===gn?{}:gn,An=Mt.view,Yn=void 0===An?{}:An,wr=Mt.isComponent,Zr=Mt.extend,Ar=Mt.extendView,$r=Mt.extendFn,pr=void 0===$r?[]:$r,zr=Mt.extendFnView,Dr=void 0===zr?[]:zr,vr=this.getType(Nt),ii=this.getType(Zr),Mr=this.getType(Ar),tr=ii||vr||this.getType("default"),Sr=tr.model,ar=Mr?Mr.view:tr.view,_r=function(Xr,ei,Lr){return Xr.reduce(function(qr,jr){var Hr=ei[jr],sr=Lr.prototype[jr];return Hr&&sr&&(qr[jr]=function(){sr.bind(this).apply(void 0,arguments),Hr.bind(this).apply(void 0,arguments)}),qr},{})};"object"===U()(Tn)&&(Mt.model=Sr.extend(Xn(Xn(Xn({},Tn),_r(pr,Tn,Sr)),{},{defaults:Xn(Xn({},Object(L.result)(Sr.prototype,"defaults")||{}),Object(L.result)(Tn,"defaults")||{})}),{isComponent:!vr||ii||wr?wr||function(){return 0}:Sr.isComponent})),"object"===U()(Yn)&&(Mt.view=ar.extend(Xn(Xn({},Yn),_r(Dr,Yn,ar)))),vr?(vr.model=Mt.model,vr.view=Mt.view):(Mt.id=Nt,Rt.unshift(Mt));var si="component:type:".concat(vr?"update":"add");return Ft&&Ft.trigger(si,vr||Mt),this},getType:function(Nt){for(var Mt=Rt,Ft=0;Ft<Mt.length;Ft++)if(Mt[Ft].id==Nt)return Mt[Ft]},removeType:function(Nt){var Mt=Rt,Ft=this.getType(Nt);if(Ft){var gn=Mt.indexOf(Ft);return Mt.splice(gn,1),Ft}},getTypes:function(){return Rt},selectAdd:function(Nt){var Mt=this,Ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Nt&&(Nt.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(gn){return Mt.em.trigger(gn,Nt,Ft)}))},selectRemove:function(Nt){var Mt=this,Ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Nt&&(Nt.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(gn){return Mt.em.trigger(gn,Nt,Ft)}))},componentHovered:function(){var Nt=Me.em,Mt=Nt.get("componentHovered"),Ft=Nt.previous("componentHovered"),gn="hovered";Ft&&Ft.get("status")==gn&&Ft.set({status:"",state:""}),Mt&&Object(L.isEmpty)(Mt.get("status"))&&Mt.set("status",gn)},allById:function(){return wt},destroy:function(){var Nt=this.allById();Object.keys(Nt).forEach(function(Mt){return Nt[Mt]&&Nt[Mt].remove()}),ye&&ye.remove(),[Me,F,wt,K,ye].forEach(function(Mt){return{}}),this.em={}}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(0),U=o(18),L={stylePrefix:"gjs-",components:"",style:"",fromElement:0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"\n    * {\n      box-sizing: border-box;\n    }\n    html, body, [data-gjs-type=wrapper] {\n      min-height: 100%;\n    }\n    body {\n      margin: 0;\n      height: 100%;\n      background-color: #fff\n    }\n    [data-gjs-type=wrapper] {\n      overflow: auto;\n      overflow-x: hidden;\n    }\n\n    * ::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.1)\n    }\n\n    * ::-webkit-scrollbar-thumb {\n      background: rgba(255, 255, 255, 0.2)\n    }\n\n    * ::-webkit-scrollbar {\n      width: 10px\n    }\n  ",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:1,allowScripts:0,showDevices:1,devicePreviewMode:0,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:0,jsInHtml:!0,nativeDnD:1,multipleSelection:1,exportWrapper:0,wrapperIsBody:1,optsHtml:{},optsCss:{},avoidInlineStyle:1,avoidDefaults:1,clearStyles:0,dragMode:0,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{sectors:[{name:"General",open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:"Flex",open:!1,buildProps:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"],properties:[{property:"text-align",list:[{value:"left",className:"fa fa-align-left"},{value:"center",className:"fa fa-align-center"},{value:"right",className:"fa fa-align-right"},{value:"justify",className:"fa fa-align-justify"}]}]},{name:"Decorations",open:!1,buildProps:["border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["transition","perspective","transform"]}]},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:0,multiFrames:0,customUI:!1},k=o(22),f=o.n(k),g=o(2),h=o.n(g),y=o(1),d=o(6),P=o.n(d),O=o(5),v=o.n(O),D=o(8),I=o.n(D),T=o(9),S=o.n(T),r=o(4),_=o.n(r);function E(j){var C=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H,n=_()(j);if(C){var m=_()(this).constructor;H=Reflect.construct(n,arguments,m)}else H=n.apply(this,arguments);return S()(this,H)}}var B=function(j){I()(H,j);var C=E(H);function H(){return v()(this,H),C.apply(this,arguments)}return H}(g.Model),$=function(j){I()(H,j);var C=E(H);function H(){return v()(this,H),C.apply(this,arguments)}return P()(H,[{key:"getByComponent",value:function(n){var m=this;return this.filter(function(l){return m.getComponent(l)===n})[0]}},{key:"addComponent",value:function(n,m){var l=this,A=(Object(J.isArray)(n)?n:[n]).filter(function(q){return!l.hasComponent(q)}).map(function(q){return{component:q}});return this.push(A,m)}},{key:"getComponent",value:function(n){return n.get("component")}},{key:"hasComponent",value:function(n){var m=this.getByComponent(n);return m&&this.contains(m)}},{key:"lastComponent",value:function(){var n=this.last();return n&&this.getComponent(n)}},{key:"allComponents",value:function(){var n=this;return this.map(function(m){return n.getComponent(m)}).filter(function(m){return m})}},{key:"removeComponent",value:function(n,m){var l=this,A=(Object(J.isArray)(n)?n:[n]).map(function(q){return l.getByComponent(q)});return this.remove(A,m)}}]),H}(g.Collection);$.prototype.model=B;var w=["unset"];function p(j,C){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(j);C&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),H.push.apply(H,n)}return H}function u(j){for(var C=1;C<arguments.length;C++){var H=null!=arguments[C]?arguments[C]:{};C%2?p(Object(H),!0).forEach(function(n){se()(j,n,H[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):p(Object(H)).forEach(function(n){Object.defineProperty(j,n,Object.getOwnPropertyDescriptor(H,n))})}return j}h.a.$=U.default;var x,b,R=[o(114),o(115),o(118),o(83),o(110),o(108),o(111),o(106),o(109),o(112),o(107),o(104),o(116),o(101),o(113),o(47),o(102),o(99),o(117),o(105),o(119),o(103)];!function(j){var C=j.$;if(C&&C.prototype&&"jQuery"!==C.prototype.constructor.name){var H=C.fn;H.hide=function(){return this.css("display","none")},H.show=function(){return this.css("display","block")},H.focus=function(){var l=this.get(0);return l&&l.focus(),this},H.bind=function(l,A){return this.on(l,A)},H.unbind=function(l,A){if(Object(J.isObject)(l)){for(var q in l)l.hasOwnProperty(q)&&this.off(q,l[q]);return this}return this.off(l,A)},H.click=function(l){return l?this.on("click",l):this.trigger("click")},H.change=function(l){return l?this.on("change",l):this.trigger("change")},H.keydown=function(l){return l?this.on("keydown",l):this.trigger("keydown")},H.delegate=function(l,A,q,be){return be||(be=q),this.on(A,l,function(Le){Le.data=q,be(Le)})},H.scrollLeft=function(){var l=this.get(0),A=(l=9==l.nodeType?l.defaultView:l)instanceof Window?l:null;return A?A.pageXOffset:l.scrollLeft||0},H.scrollTop=function(){var l=this.get(0),A=(l=9==l.nodeType?l.defaultView:l)instanceof Window?l:null;return A?A.pageYOffset:l.scrollTop||0};var n=C.prototype.offset;H.offset=function(l){var A,q;return l&&(A=l.top,q=l.left),void 0!==A&&this.css("top","".concat(A,"px")),void 0!==q&&this.css("left","".concat(q,"px")),n.call(this)},C.map=function(l,A){for(var q=[],be=0;be<l.length;be++)q.push(A(l[be],be));return q};var m=Array.prototype.indexOf;C.inArray=function(l,A,q){return null==A?-1:m.call(A,l,q)},C.Event=function(l,A){if(!(this instanceof C.Event))return new C.Event(l,A);this.type=l,this.isDefaultPrevented=function(){return!1}}}}({Backbone:h.a,$:h.a.$});var Q={debug:console.log,info:console.info,warning:console.warn,error:console.error},re=h.a.Model.extend({defaults:function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},initialize:function(){var j=this,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=C,this.set("Config",C),this.set("modules",[]),this.set("toLoad",[]),this.set("storables",[]),this.set("selected",new $),this.set("dmode",C.dragMode),this.set("hasPages",!!C.pageManager);var H=C.el,n=C.log,m=!0===n?Object(J.keys)(Q):Object(J.isArray)(n)?n:[];Object(J.bindAll)(this,"initBaseColorPicker"),H&&C.fromElement&&(this.config.components=H.innerHTML),this.attrsOrig=H?Object(J.toArray)(H.attributes).reduce(function(l,A){return l[A.nodeName]=A.nodeValue,l},{}):"",R.forEach(function(l){return j.loadModule(l)}),this.on("change:componentHovered",this.componentHovered,this),this.on("change:changesCount",this.updateChanges,this),this.on("change:readyLoad change:readyCanvas",this._checkReady,this),m.forEach(function(l){return j.listenLog(l)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(l){var A=l.from,q=l.to;j.listenTo(j,A,function(){for(var be=arguments.length,Le=new Array(be),ke=0;ke<be;ke++)Le[ke]=arguments[ke];j.trigger.apply(j,[q].concat(Le)),j.logWarning("The event '".concat(A,"' is deprecated, replace it with '").concat(q,"'"))})})},_checkReady:function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},getContainer:function(){return this.config.el},listenLog:function(j){this.listenTo(this,"log:".concat(j),Q[j])},getConfig:function(j){var C=this.config;return Object(J.isUndefined)(j)?C:C[j]},loadOnStart:function(){var j=this,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,H=this.get("StorageManager");this.get("toLoad").forEach(function(m){m.onLoad()});var n=function(){j.get("modules").forEach(function(m){return m.postLoad&&m.postLoad(j)}),j.set("readyLoad",1),C&&C()};H&&H.canAutoload()?this.load(n):setTimeout(n)},updateChanges:function(){var j=this,C=this.get("StorageManager"),H=this.get("changesCount");b&&clearTimeout(b),b=setTimeout(function(){return j.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=H?function(n){return 1}:null),C.isAutosave()&&H>=C.getStepsBeforeSave()&&this.store()},loadModule:function(j){var C=this.config,H=new(j.default||j),n=H.name.charAt(0).toLowerCase()+H.name.slice(1),m=Object(J.isUndefined)(C[n])?C[H.name]:C[n],l=!0===m?{}:m||{},A=this.get("StorageManager");if(l.pStylePrefix=C.pStylePrefix||"",Object(J.isUndefined)(m)||m||(l._disable=1),H.storageKey&&H.store&&H.load&&A){l.stm=A;var q="domComponents"==n?"unshift":"push";this.get("storables")[q](H)}return l.em=this,H.init(u({},l)),!H.private&&this.set(H.name,H),H.onLoad&&this.get("toLoad").push(H),this.get("modules").push(H),this},init:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.destroyed&&(this.initialize(C),this.destroyed=0),this.set("Editor",j)},getEditor:function(){return this.get("Editor")},handleUpdates:function(j,C){var H=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.temporary||n.noCount||n.avoidStore||!this.get("ready")||(x&&clearTimeout(x),x=setTimeout(function(){var m=H.get("changesCount")||0,l=f()(n,w);H.set("changesCount",m+1,l)},0))},changesUp:function(j){this.handleUpdates(0,0,j)},componentHovered:function(j,C,H){var n=this.previous("componentHovered");n&&this.trigger("component:unhovered",n,H),C&&this.trigger("component:hovered",C,H)},getSelected:function(){return this.get("selected").lastComponent()},getSelectedAll:function(){return this.get("selected").allComponents()},setSelected:function(j){var C=this,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=H.event,m=n&&(n.ctrlKey||n.metaKey),l=n||{},A=l.shiftKey,q=Object(J.isArray)(j),be=(q?j:[j]).map(function(ve){return Object(y.getModel)(ve,U.default)}),Le=this.getSelectedAll(),ke=this.getConfig("multipleSelection");q&&this.removeSelected(Le.filter(function(ve){return!Object(J.contains)(be,ve)})),be.forEach(function(ve){var Ee=Object(y.getModel)(ve,U.default);if(!Ee||Ee.get("selectable")){if(m&&ke)return C.toggleSelected(Ee);if(A&&ke){C.clearSelection(C.get("Canvas").getWindow());var Ne,Je,St=Ee.collection,vt=Ee.index();if(C.getSelectedAll().forEach(function(Z){var ce=Z.collection,je=Z.index();ce===St&&(je<vt?Ne=Object(J.isUndefined)(Ne)?je:Math.max(Ne,je):je>vt&&(Je=Object(J.isUndefined)(Je)?je:Math.min(Je,je)))}),!Object(J.isUndefined)(Ne))for(;Ne!==vt;)C.addSelected(St.at(Ne)),Ne++;if(!Object(J.isUndefined)(Je))for(;Je!==vt;)C.addSelected(St.at(Je)),Je--;return C.addSelected(Ee)}!q&&C.removeSelected(Le.filter(function(Z){return Z!==Ee})),C.addSelected(Ee,H)}})},addSelected:function(j){var C=this,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(y.getModel)(j,U.default),m=Object(J.isArray)(n)?n:[n];m.forEach(function(l){if(!l||l.get("selectable")){var A=C.get("selected");H.forceChange&&C.removeSelected(l,H),A.addComponent(l,H)}})},removeSelected:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.get("selected").removeComponent(Object(y.getModel)(j,U.default),C)},toggleSelected:function(j){var C=this,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(y.getModel)(j,U.default),m=Object(J.isArray)(n)?n:[n];m.forEach(function(l){C.get("selected").hasComponent(l)?C.removeSelected(l,H):C.addSelected(l,H)})},setHovered:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=Object(y.getModel)(j,U.default);H&&!H.get("hoverable")||(C.forceChange&&this.set("componentHovered",""),this.set("componentHovered",H,C))},getHovered:function(){return this.get("componentHovered")},setComponents:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get("DomComponents").setComponents(j,C)},getComponents:function(){var j=this.get("DomComponents"),C=this.get("CodeManager");if(j&&C){var H=j.getComponents();return C.getCode(H,"json")}},setStyle:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=this.get("CssComposer");return H.clear(C),H.getAll().add(j,C),this},addStyle:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=this.getStyle().add(j,C);return Object(J.isArray)(H)?H:[H]},getStyle:function(){return this.get("CssComposer").getAll()},setState:function(j){return this.set("state",j),this},getState:function(){return this.get("state")||""},getHtml:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=this.config,H=C.optsHtml,n=C.exportWrapper,m=C.wrapperIsBody,l=C.jsInHtml?this.getJs(j):"",A=j.component||this.get("DomComponents").getComponent(),q=A?this.get("CodeManager").getCode(A,"html",u(u({exportWrapper:n,wrapperIsBody:m},H),j)):"";return q+(l?"<script>".concat(l,"<\/script>"):"")},getCss:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=this.config,H=C.optsCss,n=C.wrapperIsBody,m=j.avoidProtected,l=Object(J.isUndefined)(j.keepUnusedStyles)?C.keepUnusedStyles:j.keepUnusedStyles,A=this.get("CssComposer"),q=j.component||this.get("DomComponents").getComponent(),be=m?"":C.protectedCss,Le=q&&this.get("CodeManager").getCode(q,"css",u(u({cssc:A,wrapperIsBody:n,keepUnusedStyles:l},H),j));return q?j.json?Le:be+Le:""},getJs:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=j.component||this.get("DomComponents").getWrapper();return C?this.get("CodeManager").getCode(C,"js").trim():""},store:function(j){var C=this,H=this.get("StorageManager");if(H){var n=this.storeData();return H.store(n,function(m){j&&j(m,n),C.set("changesCount",0),C.trigger("storage:store",n)}),n}},storeData:function(){var j={},C=this.getEditing();return C&&C.trigger("sync:content",{noCount:!0}),this.get("storables").forEach(function(H){j=u(u({},j),H.store(1))}),j},load:function(){var j=this,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.getCacheLoad(1,function(H){j.loadData(H),C&&C(H)})},loadData:function(){var j=this,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},H=this.get("StorageManager"),n=H.__clearKeys(C);return this.get("storables").forEach(function(m){m.load(n),m.postLoad&&m.postLoad(j)}),n},getCacheLoad:function(j,C){var H=this;if(this.cacheLoad&&!j)return this.cacheLoad;var n=this.get("StorageManager"),m=[];if(!n)return{};this.get("storables").forEach(function(l){var A=l.storageKey;A=Object(J.isFunction)(A)?A():A,(Object(J.isArray)(A)?A:[A]).forEach(function(q){return m.push(q)})}),n.load(m,function(l){H.cacheLoad=l,C&&C(l),setTimeout(function(){return H.trigger("storage:load",l)})})},getDeviceModel:function(){var j=this.get("device");return this.get("DeviceManager").get(j)},runDefault:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=this.get("Commands").get(this.config.defaultCommand);C&&!this.defaultRunning&&(C.stop(this,this,j),C.run(this,this,j),this.defaultRunning=1)},stopDefault:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=this.get("Commands"),H=C.get(this.config.defaultCommand);H&&this.defaultRunning&&(H.stop(this,this,j),this.defaultRunning=0)},refreshCanvas:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset()),j.tools&&this.trigger("canvas:updateTools")},clearSelection:function(j){(j||window).getSelection().removeAllRanges()},getCurrentMedia:function(){var j=this.config,C=this.getDeviceModel(),H=j.mediaCondition,n=j.devicePreviewMode,m=C&&C.get("widthMedia");return C&&m&&!n?"(".concat(H,": ").concat(m,")"):""},getWrapper:function(){return this.get("DomComponents").getWrapper()},setCurrentFrame:function(j){return this.set("currentFrame",j)},getCurrentFrame:function(){return this.get("currentFrame")},getCurrentFrameModel:function(){return(this.getCurrentFrame()||{}).model},getDirtyCount:function(){return this.get("changesCount")},getZoomDecimal:function(){return this.get("Canvas").getZoomDecimal()},getZoomMultiplier:function(){return this.get("Canvas").getZoomMultiplier()},setDragMode:function(j){return this.set("dmode",j)},t:function(){var j;return(j=this.get("I18n")).t.apply(j,arguments)},inAbsoluteMode:function(){return"absolute"===this.get("dmode")},destroyAll:function(){var j=this,C=this.config,H=this.view,n=this.getEditor(),m=(C.grapesjs||{}).editors,l=void 0===m?[]:m;this.stopDefault(),this.get("modules").slice().reverse().forEach(function(A){return A.destroy()}),H&&H.remove(),this.stopListening(),this.clear({silent:!0}),this.destroyed=1,["config","view","_previousAttributes","_events","_listeners"].forEach(function(A){return j[A]={}}),l.splice(l.indexOf(n),1),Object(y.hasWin)()&&Object(U.default)(C.el).empty().attr(this.attrsOrig)},getEditing:function(){var j=this.get("editing");return j&&j.model||null},setEditing:function(j){return this.set("editing",j),this},isEditing:function(){return!!this.get("editing")},log:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=C.ns,n=C.level,m=void 0===n?"debug":n;if(this.trigger("log",j,C),m&&this.trigger("log:".concat(m),j,C),H){var l="log-".concat(H);this.trigger(l,j,C),m&&this.trigger("".concat(l,":").concat(m),j,C)}},logInfo:function(j,C){this.log(j,u(u({},C),{},{level:"info"}))},logWarning:function(j,C){this.log(j,u(u({},C),{},{level:"warning"}))},logError:function(j,C){this.log(j,u(u({},C),{},{level:"error"}))},initBaseColorPicker:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=this.getConfig(),n=H.colorPicker,m=void 0===n?{}:n,l=H.el,A=H.stylePrefix;return Object(U.default)(j).spectrum(u(u({containerClassName:"".concat(A,"one-bg ").concat(A,"two-color"),appendTo:l||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f"},C),m))},data:function(j,C,H){var n="_gjs-data";if(j[n]||(j[n]={}),Object(J.isUndefined)(H))return j[n][C];j[n][C]=H}}),Fe=h.a.$,ge=h.a.View.extend({initialize:function(){var j=this,C=this.model;C.view=this,this.conf=C.config,this.pn=C.get("Panels"),this.cv=C.get("Canvas"),C.once("change:ready",function(){j.pn.active(),j.pn.disableButtons(),setTimeout(function(){C.trigger("load",C.get("Editor")),C.set("changesCount",0)})})},render:function(){var j=this.$el,C=this.conf,H=C.stylePrefix,n=Fe(C.el||"body ".concat(C.container));return Object(y.appendStyles)(C.cssIcons,{unique:1,prepand:1}),j.empty(),C.width&&n.css("width",C.width),C.height&&n.css("height",C.height),j.append(this.cv.render()),j.append(this.pn.render()),j.attr("class","".concat(H,"editor ").concat(H,"one-bg ").concat(H,"two-color")),n.addClass("".concat(H,"editor-cont")).empty().append(j),this}}),fe=o(17);function Ae(j,C){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(j);C&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),H.push.apply(H,n)}return H}function Pe(j){for(var C=1;C<arguments.length;C++){var H=null!=arguments[C]?arguments[C]:{};C%2?Ae(Object(H),!0).forEach(function(n){se()(j,n,H[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):Ae(Object(H)).forEach(function(n){Object.defineProperty(j,n,Object.getOwnPropertyDescriptor(H,n))})}return j}var de=function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=C.$,n=Pe(Pe({},L),j);n.pStylePrefix=n.stylePrefix;var m,l=new re(n);return{$:H,editor:l,init:function(){var A=this,q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.init(this,Pe(Pe({},n),q)),["I18n","Utils","Config","Commands","Keymaps","Modal","Panels","Canvas","Parser","CodeManager","UndoManager","RichTextEditor",["Pages","PageManager"],"DomComponents",["Components","DomComponents"],"LayerManager",["Layers","LayerManager"],"CssComposer",["Css","CssComposer"],"StorageManager",["Storage","StorageManager"],"AssetManager",["Assets","AssetManager"],"BlockManager",["Blocks","BlockManager"],"TraitManager",["Traits","TraitManager"],"SelectorManager",["Selectors","SelectorManager"],"StyleManager",["Styles","StyleManager"],"DeviceManager",["Devices","DeviceManager"]].forEach(function(be){Array.isArray(be)?A[be[0]]=l.get(be[1]):A[be]=l.get(be)}),l.once("change:ready",function(){A.UndoManager.clear(),l.get("modules").forEach(function(be){be.postRender&&be.postRender(m)})}),this},getConfig:function(A){return l.getConfig(A)},getHtml:function(A){return l.getHtml(A)},getCss:function(A){return l.getCss(A)},getJs:function(A){return l.getJs(A)},getComponents:function(){return l.get("DomComponents").getComponents()},getWrapper:function(){return l.get("DomComponents").getWrapper()},setComponents:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.setComponents(A,q),this},addComponents:function(A,q){return this.getWrapper().append(A,q)},getStyle:function(){return l.get("CssComposer").getAll()},setStyle:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.setStyle(A,q),this},addStyle:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.addStyle(A,q)},getSelected:function(){return l.getSelected()},getSelectedAll:function(){return l.getSelectedAll()},getSelectedToStyle:function(){var A=l.getSelected();if(A)return this.StyleManager.getModelToStyle(A)},select:function(A,q){return l.setSelected(A,q),this},selectAdd:function(A){return l.addSelected(A),this},selectRemove:function(A){return l.removeSelected(A),this},selectToggle:function(A){return l.toggleSelected(A),this},getEditing:function(){return l.getEditing()},setDevice:function(A){return l.set("device",A),this},getDevice:function(){return l.get("device")},runCommand:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.get("Commands").run(A,q)},stopCommand:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.get("Commands").stop(A,q)},store:function(A){return l.store(A)},storeData:function(){return l.storeData()},load:function(A){return l.load(A)},loadData:function(A){return l.loadData(A)},getContainer:function(){return n.el},getDirtyCount:function(){return l.getDirtyCount()},refresh:function(A){l.refreshCanvas(A)},setCustomRte:function(A){this.RichTextEditor.customRte=A},setCustomParserCss:function(A){return this.Parser.getConfig().parserCss=A,this},setDragMode:function(A){return l.setDragMode(A),this},log:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.log(A,q),this},t:function(){return l.t.apply(l,arguments)},on:function(A,q){return l.on(A,q),this},once:function(A,q){return l.once(A,q),this},off:function(A,q){return l.off(A,q),this},trigger:function(A){return l.trigger.apply(l,arguments),this},destroy:function(){return l.destroyAll()},getEl:function(){return m&&m.el},getModel:function(){return l},render:function(){return m&&m.remove(),(m=new ge({model:l,config:n})).render().el},onReady:function(A){l.get("ready")?A(this):l.on("load",A)},html:fe.a}},pe={plugins:[]};function _e(j,C){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(j);C&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),H.push.apply(H,n)}return H}function ae(j){for(var C=1;C<arguments.length;C++){var H=null!=arguments[C]?arguments[C]:{};C%2?_e(Object(H),!0).forEach(function(n){se()(j,n,H[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):_e(Object(H)).forEach(function(n){Object.defineProperty(j,n,Object.getOwnPropertyDescriptor(H,n))})}return j}!function(){if(Object(y.hasWin)()&&function(){for(var C,H=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],m=0;m<n.length&&!(C=n[m][1].exec(H));m++);return!!C}()){var j=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(C){return C||(C=""),j.apply(document.implementation,[C])}}}();var ne=new function(j){var C={};for(var H in pe)H in C||(C[H]=pe[H]);var n={};return{add:function(m,l){return n[m]?n[m]:(n[m]=l,l)},get:function(m){return n[m]},getAll:function(){return n}}},G=[],W={autorender:1,plugins:[],pluginsOpts:{}};le.default={$:U.default,editors:G,plugins:ne,version:"0.17.29",init:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=j,H=C.headless,n=j.container;if(!n&&!H)throw new Error("'container' is required");(j=ae(ae(ae({},W),j),{},{grapesjs:this})).el=!H&&(Object(J.isElement)(n)?n:document.querySelector(n));var m=new de(j,{$:U.default}).init(),l=m.getModel();return j.plugins.forEach(function(A){var q=ne.get(A),be=j.pluginsOpts[A]||{};if(!q){var Le=window[A];q=Le&&Le.default?Le.default:Le}q?q(m,be):Object(J.isFunction)(A)?A(m,be):l.logWarning("Plugin ".concat(A," not found"),{context:"plugins",plugin:A})}),l.loadOnStart(),j.autorender&&!H&&m.render(),G.push(m),m}}},function(Ye,le,o){"use strict";o.r(le),o.d(le,"evAll",function(){return j}),o.d(le,"evPfx",function(){return C}),o.d(le,"evSelect",function(){return H}),o.d(le,"evUpdate",function(){return n}),o.d(le,"evAdd",function(){return m}),o.d(le,"evRemove",function(){return l}),o.d(le,"evRemoveBefore",function(){return A}),o.d(le,"evCustom",function(){return q}),o.d(le,"evOpen",function(){return be}),o.d(le,"evClose",function(){return Le});var ee=o(3),se=o.n(ee),J=o(0),U=o(21),L={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:null,uploadFile:null,embedAsBase64:!0,handleAdd:null,beforeUpload:null,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:1,dropzoneContent:""},k=o(2),f=o.n(k),g=o(5),h=o.n(g),y=o(6),d=o.n(y),P=o(8),O=o.n(P),v=o(9),D=o.n(v),I=o(4),T=o.n(I),r=function(ke){O()(Ee,ke);var ve=function(ke){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}();return function(){var Ee,Ne=T()(ke);if(ve){var Je=T()(this).constructor;Ee=Reflect.construct(Ne,arguments,Je)}else Ee=Ne.apply(this,arguments);return D()(this,Ee)}}(Ee);function Ee(){return h()(this,Ee),ve.apply(this,arguments)}return d()(Ee,[{key:"defaults",value:function(){return{type:"",src:""}}},{key:"getType",value:function(){return this.get("type")}},{key:"getSrc",value:function(){return this.get("src")}},{key:"getFilename",value:function(){return this.get("src").split("/").pop().split("?").shift()}},{key:"getExtension",value:function(){return this.getFilename().split(".").pop()}}]),Ee}(k.Model);function _(ke,ve){var Ee=Object.keys(ke);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(ke);ve&&(Ne=Ne.filter(function(Je){return Object.getOwnPropertyDescriptor(ke,Je).enumerable})),Ee.push.apply(Ee,Ne)}return Ee}function E(ke){for(var ve=1;ve<arguments.length;ve++){var Ee=null!=arguments[ve]?arguments[ve]:{};ve%2?_(Object(Ee),!0).forEach(function(Ne){se()(ke,Ne,Ee[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(Ee)):_(Object(Ee)).forEach(function(Ne){Object.defineProperty(ke,Ne,Object.getOwnPropertyDescriptor(Ee,Ne))})}return ke}r.prototype.idAttribute="src",r.getDefaults=function(){return Object(J.result)(this.prototype,"defaults")};var $,w,p,u=function(ke){O()(Ee,ke);var ve=function(ke){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}();return function(){var Ee,Ne=T()(ke);if(ve){var Je=T()(this).constructor;Ee=Reflect.construct(Ne,arguments,Je)}else Ee=Ne.apply(this,arguments);return D()(this,Ee)}}(Ee);function Ee(){return h()(this,Ee),ve.apply(this,arguments)}return d()(Ee,[{key:"defaults",value:function(){return E(E({},r.getDefaults()),{},{type:"image",unitDim:"px",height:0,width:0})}}]),Ee}(r),x=o(19),b=o.n(x),R=f.a.View.extend({initialize:function(){var ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=ke,this.collection=ke.collection;var ve=ke.config||{};this.config=ve,this.pfx=ve.stylePrefix||"",this.ppfx=ve.pStylePrefix||"",this.em=ve.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove),this.model.view=this;var Ee=this.init&&this.init.bind(this);Ee&&Ee(ke)},__getBhv:function(){var ke=this.em,ve=ke&&ke.get("AssetManager");return ve&&ve.__getBehaviour()||{}},template:function(){var ke=this.pfx;return'\n      <div class="'.concat(ke,'preview-cont">\n        ').concat(this.getPreview(),'\n      </div>\n      <div class="').concat(ke,'meta">\n        ').concat(this.getInfo(),'\n      </div>\n      <div class="').concat(ke,'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ')},updateTarget:function(ke){ke&&ke.set&&(ke.set("attributes",Object(J.clone)(ke.get("attributes"))),ke.set("src",this.model.get("src")))},getPreview:function(){return""},getInfo:function(){return""},render:function(){var ke=this.el;return ke.innerHTML=this.template(this,this.model),ke.className=this.className,this}}),Q=o(17),re=R.extend({events:{"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"},getPreview:function(){var ke=this.pfx,ve=this.ppfx,Ee=this.model.get("src");return Object(Q.a)($||($=b()(['\n      <div class="','preview" style="background-image: url(\'','\');"></div>\n      <div class="',"preview-bg ",'checker-bg"></div>\n    '])),ke,Ee,ke,ve)},getInfo:function(){var ke=this.pfx,ve=this.model,Ee=ve.get("name"),Ne=ve.get("width"),Je=ve.get("height"),St=ve.get("unitDim"),vt=Ne&&Je?"".concat(Ne,"x").concat(Je).concat(St):"";return Ee=Ee||ve.getFilename(),Object(Q.a)(w||(w=b()(['\n      <div class="','name">','</div>\n      <div class="','dimensions">',"</div>\n    "])),ke,Ee,ke,vt)},init:function(ke){this.className+=" ".concat(this.pfx,"asset-image")},onClick:function(){var ke=this.model,ve=this.pfx,Ee=this.__getBhv().select,Ne=this.config.onClick,Je=this.collection;Je.trigger("deselectAll"),this.$el.addClass(ve+"highlight"),Object(J.isFunction)(Ee)?Ee(ke,!1):Object(J.isFunction)(Ne)?Ne(ke):this.updateTarget(Je.target)},onDblClick:function(){var ke=this.em,ve=this.model,Ee=this.__getBhv().select,Ne=this.config.onDblClick,Je=this.collection,St=Je.target,vt=Je.onSelect;Object(J.isFunction)(Ee)?Ee(ve,!0):Object(J.isFunction)(Ne)?Ne(ve):(this.updateTarget(St),ke&&ke.get("Modal").close()),Object(J.isFunction)(vt)&&vt(ve)},onRemove:function(ke){ke.stopImmediatePropagation(),this.model.collection.remove(this.model)}}),Fe=o(38),ge=f.a.Collection.extend(Fe.a).extend({types:[{id:"image",model:u,view:re,isType:function(ke){return"string"==typeof ke?{type:"image",src:ke}:ke}}]}),fe=o(22),Ae=o.n(fe),Pe=["pfx","ppfx","em"],de=f.a.View.extend({events:{submit:"handleSubmit"},template:function(ke){var ve=ke.pfx,Ee=ke.ppfx,Ne=ke.em,Je=(Ae()(ke,Pe),"");return this.config.showUrlInput&&(Je='\n          <form class="'.concat(ve,'add-asset">\n            <div class="').concat(Ee,"field ").concat(ve,'add-field">\n              <input placeholder="').concat(Ne&&Ne.t("assetManager.inputPlh"),'"/>\n            </div>\n            <button class="').concat(Ee,'btn-prim">').concat(Ne&&Ne.t("assetManager.addButton"),'</button>\n            <div style="clear:both"></div>\n          </form>\n      ')),'\n    <div class="'.concat(ve,'assets-cont">\n      <div class="').concat(ve,'assets-header">\n        ').concat(Je,'\n      </div>\n      <div class="').concat(ve,'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ')},initialize:function(ke){this.options=ke,this.config=ke.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var ve=this.collection;this.listenTo(ve,"reset",this.renderAssets),this.listenTo(ve,"add",this.addToAsset),this.listenTo(ve,"remove",this.removedAsset),this.listenTo(ve,"deselectAll",this.deselectAll)},handleSubmit:function(ke){ke.preventDefault();var ve=this.getAddInput(),Ee=ve&&ve.value.trim(),Ne=this.config.handleAdd;Ee&&(ve.value="",this.getAssetsEl().scrollTop=0,Ne?Ne.bind(this)(Ee):this.options.globalCollection.add(Ee,{at:0}))},getAssetsEl:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},getAddInput:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},removedAsset:function(ke){this.collection.length||this.toggleNoAssets()},addToAsset:function(ke){1==this.collection.length&&this.toggleNoAssets(1),this.addAsset(ke)},addAsset:function(ke){var ve=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Ee=ve,Ne=this.collection,Je=this.config,St=new ke.typeView({model:ke,collection:Ne,config:Je}).render().el;if(Ee)Ee.appendChild(St);else{var vt=this.getAssetsEl();vt&&vt.insertBefore(St,vt.firstChild)}return St},toggleNoAssets:function(ke){var ve=this.$el.find(".".concat(this.pfx,"assets"));if(ke)ve.empty();else{var Ee=this.config.noAssets;Ee&&ve.append(Ee)}},deselectAll:function(){var ke=this.pfx;this.$el.find(".".concat(ke,"highlight")).removeClass("".concat(ke,"highlight"))},renderAssets:function(){var ke=this,ve=document.createDocumentFragment(),Ee=this.$el.find(".".concat(this.pfx,"assets"));Ee.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(Ne){return ke.addAsset(Ne,ve)}),Ee.append(ve)},render:function(){var ke=this.options.fu.render().el;return this.$el.empty(),this.$el.append(ke).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this}}),pe=o(37);function ae(ke,ve){(null==ve||ve>ke.length)&&(ve=ke.length);for(var Ee=0,Ne=new Array(ve);Ee<ve;Ee++)Ne[Ee]=ke[Ee];return Ne}var ne=f.a.View.extend({template:function(ke){var ve=ke.pfx,Ee=ke.title,Ne=ke.uploadId,Je=ke.disabled,St=ke.multiUpload;return Object(Q.a)(p||(p=b()(['\n        <form>\n          <div id="','title">','</div>\n          <input\n            type="file"\n            id="','"\n            name="file"\n            accept="*/*"\n            ',"\n            ",'\n          />\n          <div style="clear:both;"></div>\n        </form>\n      '])),ve,Ee,Ne,Je?"disabled":"",St?"multiple":"")},events:{},initialize:function(){var ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=ke;var ve=ke.config||{};this.module=ve.module,this.config=ve,this.em=this.config.em,this.pfx=ve.stylePrefix||"",this.ppfx=ve.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=void 0!==ve.disableUpload?ve.disableUpload:!ve.upload&&!ve.embedAsBase64,this.multiUpload=void 0===ve.multiUpload||ve.multiUpload,this.events["change #"+this.uploadId]="uploadFile";var Ee=ve.uploadFile;Ee?this.uploadFile=Ee.bind(this):!ve.upload&&ve.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()},onUploadStart:function(){var ke=this.module;ke&&ke.__propEv("asset:upload:start")},onUploadEnd:function(ke){var ve=this.$el,Ee=this.module;Ee&&Ee.__propEv("asset:upload:end",ke);var Ne=ve.find("input");Ne&&Ne.val("")},onUploadError:function(ke){var ve=this.module;console.error(ke),this.onUploadEnd(ke),ve&&ve.__propEv("asset:upload:error",ke)},onUploadResponse:function(ke,ve){var Ee,Ne=this.module,Je=this.config,St=this.target;try{Ee="string"==typeof ke?JSON.parse(ke):ke}catch(vt){Ee=ke}Ne&&Ne.__propEv("asset:upload:response",Ee),Je.autoAdd&&St&&St.add(Ee.data,{at:0}),this.onUploadEnd(ke),ve&&ve(Ee)},uploadFile:function(ke,ve){var Ee=this,Ne=ke.dataTransfer?ke.dataTransfer.files:ke.target.files,Je=this.config,St=Je.beforeUpload;if(!1!==(St&&St(Ne))){var vt=new FormData,Z=Je.params,ce=Je.customFetch;for(var je in Z)vt.append(je,Z[je]);if(this.multiUpload)for(var qe=0;qe<Ne.length;qe++)vt.append("".concat(Je.uploadName,"[]"),Ne[qe]);else Ne.length&&vt.append(Je.uploadName,Ne[0]);var nt=Je.upload,ut=Je.headers,mt="X-Requested-With";if(void 0===ut[mt]&&(ut[mt]="XMLHttpRequest"),nt){this.onUploadStart();var X={method:"post",credentials:Je.credentials||"include",headers:ut,body:vt};return(ce?ce(nt,X):Object(pe.a)(nt,X).then(function(Te){return 1==(Te.status/200|0)?Te.text():Te.text().then(function(Re){return Promise.reject(Re)})})).then(function(Te){return Ee.onUploadResponse(Te,ve)}).catch(function(Te){return Ee.onUploadError(Te)})}}},initDrop:function(){var ke=this;!this.uploadForm&&(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm)&&(this.uploadForm.ondragover=function(){return this.className=ke.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(ve){this.className="",ve.preventDefault(),ke.uploadFile(ve)})},initDropzone:function(ke){var ve=this,Ee=0,Ne=this.config,Je=ke.model,St=ke.el,vt=Je.get("Editor"),Z=(Je.get("Config"),Je.get("Canvas").getBody()),ce=this.ppfx,je="".concat(ce,"dropzone-active"),qe="".concat(ce,"dropzone"),nt=function(){St.className=St.className.replace(je,"").trim(),Ee=0},ut=function(){return Ee||(St.className+=" ".concat(je),Ee=1),!1},mt=function(){return nt(),!1},X=function(Te){if(nt(),Te.preventDefault(),Te.stopPropagation(),ve.uploadFile(Te),Ne.openAssetsOnDrop&&vt){var Re=vt.getSelected();vt.runCommand("open-assets",{target:Re,onSelect:function(){vt.Modal.close(),vt.AssetManager.setTarget(null)}})}return!1};ke.$el.append('<div class="'.concat(qe,'">').concat(Ne.dropzoneContent,"</div>")),nt(),"draggable"in St&&[St,Z].forEach(function(Te){Te.ondragover=ut,Te.ondragleave=mt,Te.ondrop=X})},render:function(){var ke=this.$el,ve=this.pfx,Ee=this.em;return ke.html(this.template({title:Ee&&Ee.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:ve})),this.initDrop(),ke.attr("class",ve+"file-uploader"),this}},{embedAsBase64:function(ke,ve){var Ee=this,Je={data:[]};if(FileReader){var St,vt=[],Z=/^(.+)\/(.+)$/,ce=function(ke,ve){var Ee="undefined"!=typeof Symbol&&ke[Symbol.iterator]||ke["@@iterator"];if(!Ee){if(Array.isArray(ke)||(Ee=function(ce,je){if(ce){if("string"==typeof ce)return ae(ce,void 0);var qe=Object.prototype.toString.call(ce).slice(8,-1);if("Object"===qe&&ce.constructor&&(qe=ce.constructor.name),"Map"===qe||"Set"===qe)return Array.from(ce);if("Arguments"===qe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return ae(ce,void 0)}}(ke))){Ee&&(ke=Ee);var Ne=0,Je=function(){};return{s:Je,n:function(){return Ne>=ke.length?{done:!0}:{done:!1,value:ke[Ne++]}},e:function(ce){throw ce},f:Je}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var St,vt=!0,Z=!1;return{s:function(){Ee=Ee.call(ke)},n:function(){var ce=Ee.next();return vt=ce.done,ce},e:function(ce){Z=!0,St=ce},f:function(){try{vt||null==Ee.return||Ee.return()}finally{if(Z)throw St}}}}(ke.dataTransfer?ke.dataTransfer.files:ke.target.files);try{var je=function(){var qe=St.value,nt=new Promise(function(ut,mt){var X=new FileReader;X.addEventListener("load",function(Te){var Re,$e=qe.name,me=Z.exec(qe.type);if("image"===(Re=me?me[1]:qe.type)){var Ke={src:X.result,name:$e,type:Re,height:0,width:0},Ze=new Image;Ze.addEventListener("error",function(ht){mt(ht)}),Ze.addEventListener("load",function(){Ke.height=Ze.height,Ke.width=Ze.width,ut(Ke)}),Ze.src=Ke.src}else ut(Re?{src:X.result,name:$e,type:Re}:X.result)}),X.addEventListener("error",function(Te){mt(Te)}),X.addEventListener("abort",function(Te){mt("Aborted")}),X.readAsDataURL(qe)});vt.push(nt)};for(ce.s();!(St=ce.n()).done;)je()}catch(qe){ce.e(qe)}finally{ce.f()}Promise.all(vt).then(function(qe){Je.data=qe,Ee.onUploadResponse(Je,ve)},function(qe){Ee.onUploadError(qe)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))}});function G(ke,ve){var Ee=Object.keys(ke);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(ke);ve&&(Ne=Ne.filter(function(Je){return Object.getOwnPropertyDescriptor(ke,Je).enumerable})),Ee.push.apply(Ee,Ne)}return Ee}function W(ke){for(var ve=1;ve<arguments.length;ve++){var Ee=null!=arguments[ve]?arguments[ve]:{};ve%2?G(Object(Ee),!0).forEach(function(Ne){se()(ke,Ne,Ee[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(Ee)):G(Object(Ee)).forEach(function(Ne){Object.defineProperty(ke,Ne,Object.getOwnPropertyDescriptor(Ee,Ne))})}return ke}var j="asset",C="".concat(j,":"),H="".concat(C,"select"),n="".concat(C,"update"),m="".concat(C,"add"),l="".concat(C,"remove"),A="".concat(l,":before"),q="".concat(C,"custom"),be="".concat(C,"open"),Le="".concat(C,"close");le.default=function(){var ke,ve,Ee,Ne,Je={},St="open-assets";return W(W({},U.a),{},{name:"AssetManager",storageKey:"assets",Asset:ge,Assets:ge,events:{all:j,select:H,update:n,add:m,remove:l,removeBefore:A,custom:q,open:be,close:Le},init:function(){var vt=this,Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ce=(Je=W(W({},L),Z)).pStylePrefix,je=Je,qe=je.em;return this.config=Je,this.em=qe,ce&&(Je.stylePrefix=ce+Je.stylePrefix),ke=new ge([]),ve=new ge([]),this.all=ke,this.__initListen(),ke.on("add",function(nt){return vt.getAllVisible().add(nt)}),ke.on("remove",function(nt){return vt.getAllVisible().remove(nt)}),this},__propEv:function(vt){for(var Z,ce,je=arguments.length,qe=new Array(je>1?je-1:0),nt=1;nt<je;nt++)qe[nt-1]=arguments[nt];(Z=this.em).trigger.apply(Z,[vt].concat(qe)),(ce=this.getAll()).trigger.apply(ce,[vt].concat(qe))},__onAllEvent:Object(J.debounce)(function(){this.__trgCustom()}),__trgCustom:function(){(this.__getBehaviour().container||this.getConfig("custom").open)&&this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var vt=this,Z=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:Z.types||[],container:Z.container,close:function(){return vt.close()},remove:function(){return vt.remove.apply(vt,arguments)},select:function(ce,je){var qe=vt.add(ce);Object(J.isFunction)(Z.select)&&Z.select(qe,je)},options:Z.options||{}}},open:function(){var vt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Z=this.em.get("Commands");Z.run(St,W({types:["image"],select:function(){}},vt))},close:function(){this.em.get("Commands").stop(St)},isOpen:function(){var vt=this.em.get("Commands");return!(!vt||!vt.isActive(St))},add:function(vt){var Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===Z.at&&(Z.at=0),ke.add(vt,Z)},get:function(vt){return ke.where({src:vt})[0]||null},getAll:function(){return ke},getAllVisible:function(){return ve},remove:function(vt,Z){return this.__remove(vt,Z)},store:function(vt){var Z={},ce=JSON.stringify(this.getAll().toJSON());return Z[this.storageKey]=ce,!vt&&Je.stm&&Je.stm.store(Z),Z},load:function(){var vt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Z=this.storageKey,ce=vt[Z]||[];if("string"==typeof ce)try{ce=JSON.parse(vt[Z])}catch(je){}return ce&&ce.length&&this.getAll().reset(ce),ce},getContainer:function(){return this.__getBehaviour().container||Ee&&Ee.el},getAssetsEl:function(){return Ee.el.querySelector("[data-el=assets]")},render:function(vt){if(!this.getConfig("custom")){var Z=vt||this.getAll().models;if(!Ee){var ce={collection:ve,globalCollection:ke,config:Je,module:this};Ne=new ne(ce),ce.fu=Ne,(Ee=new de(W({el:Ee&&Ee.el},ce))).render()}return ve.reset(Z),this.getContainer()}},addType:function(vt,Z){this.getAll().addType(vt,Z)},getType:function(vt){return this.getAll().getType(vt)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return Ee},FileUploader:function(){return Ne},onLoad:function(){var vt=this;this.getAll().reset(Je.assets);var Z=this.em,ce=this.events;Z.on("run:".concat(St),function(){return vt.__propEv(ce.open)}),Z.on("stop:".concat(St),function(){return vt.__propEv(ce.close)})},postRender:function(vt){Je.dropzone&&Ne&&Ne.initDropzone(vt)},setTarget:function(vt){ve.target=vt},onSelect:function(vt){ve.onSelect=vt},onClick:function(vt){Je.onClick=vt},onDblClick:function(vt){Je.onDblClick=vt},__behaviour:function(){var vt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._bhv=W(W({},this._bhv||{}),vt)},__getBehaviour:function(){return this._bhv||{}},destroy:function(){ke.stopListening(),ve.stopListening(),ke.reset(),ve.reset(),Ne&&Ne.remove(),Ee&&Ee.remove(),[ke,Ee,Ne].forEach(function(vt){return null}),this._bhv={},Je={}}})}},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(0),U={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]},L=o(29),k=o(41),f=o.n(k),g=o(2),h=o.n(g),y=o(1);function d(u,x){var b=Object.keys(u);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(u);x&&(R=R.filter(function(Q){return Object.getOwnPropertyDescriptor(u,Q).enumerable})),b.push.apply(b,R)}return b}function P(u){for(var x=1;x<arguments.length;x++){var b=null!=arguments[x]?arguments[x]:{};x%2?d(Object(b),!0).forEach(function(R){se()(u,R,b[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(b)):d(Object(b)).forEach(function(R){Object.defineProperty(u,R,Object.getOwnPropertyDescriptor(b,R))})}return u}var O=h.a.$,v=h.a.View.extend({events:{},eventCapture:["change"],appendInput:1,attributes:function(){return this.model.get("attributes")},templateLabel:function(){var u=this.ppfx,x=this.getLabel();return'<div class="'.concat(u,'label" title="').concat(x,'">').concat(x,"</div>")},templateInput:function(){return'<div class="'.concat(this.clsField,'" data-input></div>')},initialize:function(){var u=this,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=x.config,R=void 0===b?{}:b,Q=this.model,re=this.eventCapture,Fe=Q.target,ge=Q.attributes.type;this.config=R,this.em=R.em,this.pfx=R.stylePrefix||"",this.ppfx=R.pStylePrefix||"",this.target=Fe;var fe=this.ppfx;this.clsField="".concat(fe,"field ").concat(fe,"field-").concat(ge),[["change:value",this.onValueChange],["remove",this.removeView]].forEach(function(Ae){var Pe=f()(Ae,2),de=Pe[0],pe=Pe[1];Q.off(de,pe),u.listenTo(Q,de,pe)}),Q.view=this,this.listenTo(Q,"change:label",this.render),this.listenTo(Q,"change:placeholder",this.rerender),this.events={},re.forEach(function(Ae){return u.events[Ae]="onChange"}),this.delegateEvents(),this.init()},getClbOpts:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},removeView:function(){this.remove(),this.removed()},init:function(){},removed:function(){},onRender:function(){},onUpdate:function(){},onEvent:function(){},onChange:function(u){var x=this.getInputElem();x&&!Object(J.isUndefined)(x.value)&&this.model.set("value",x.value),this.onEvent(P(P({},this.getClbOpts()),{},{event:u}))},getValueForTarget:function(){return this.model.get("value")},setInputValue:function(u){var x=this.getInputElem();x&&(x.value=u)},onValueChange:function(u,x){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(b.fromTarget)this.setInputValue(u.get("value")),this.postUpdate();else{var R=this.getValueForTarget();u.setTargetValue(R,b)}},renderLabel:function(){var u=this.$el,x=this.target,b=this.getLabel(),R=this.templateLabel(x);this.createLabel&&(R=this.createLabel({label:b,component:x,trait:this})||""),u.find("[data-label]").append(R)},getLabel:function(){var x=this.model.attributes,b=x.label,R=x.name;return this.em.t("traitManager.traits.labels.".concat(R))||Object(y.capitalize)(b||R).replace(/-/g," ")},getComponent:function(){return this.target},getInputEl:function(){if(!this.$input){var u=this.em,x=this.model,b=x,R=x.attributes.name,Q=b.get("placeholder")||b.get("default")||"",re=b.get("type")||"text",Fe=b.get("min"),ge=b.get("max"),fe=this.getModelValue(),Ae=O('<input type="'.concat(re,'" placeholder="').concat(Q,'">')),Pe=u.t("traitManager.traits.attributes.".concat(R))||{};Ae.attr(Pe),Object(J.isUndefined)(fe)||(b.set({value:fe},{silent:!0}),Ae.prop("value",fe)),Fe&&Ae.prop("min",Fe),ge&&Ae.prop("max",ge),this.$input=Ae}return this.$input.get(0)},getInputElem:function(){var x=this.$input;return this.input||x&&x.get&&x.get(0)||this.getElInput()},getModelValue:function(){var u,x=this.model,b=this.target,R=x.get("name");if(x.get("changeProp"))u=b.get(R);else{var Q=b.get("attributes");u=x.get("value")||Q[R]}return Object(J.isUndefined)(u)?"":u},getElInput:function(){return this.elInput},renderField:function(){var x=this.appendInput,b=this.model,R=this.$el.find("[data-input]"),Q=R[R.length-1],re=b.el;re||(re=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),Object(J.isString)(re)?(Q.innerHTML=re,this.elInput=Q.firstChild):(x?Q.appendChild(re):Q.insertBefore(re,Q.firstChild),this.elInput=re),b.el=this.elInput},hasLabel:function(){return!this.noLabel&&!1!==this.model.attributes.label},rerender:function(){this.model.el=null,this.render()},postUpdate:function(){this.onUpdate(this.getClbOpts())},render:function(){var u=this.$el,x=this.pfx,b=this.ppfx,R=this.model.attributes,Q=R.type,re=R.id,Fe=this.hasLabel&&this.hasLabel(),ge="".concat(x,"trait");this.$input=null;var fe='<div class="'.concat(ge," ").concat(ge,"--").concat(Q,'">\n      ').concat(Fe?'<div class="'.concat(b,'label-wrp" data-label></div>'):"",'\n      <div class="').concat(b,"field-wrp ").concat(b,"field-wrp--").concat(Q,'" data-input>\n        ').concat(this.templateInput?Object(J.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"","\n      </div>\n    </div>");return u.empty().append(fe),Fe&&this.renderLabel(),this.renderField(),this.el.className="".concat(ge,"__wrp ").concat(ge,"__wrp-").concat(re),this.postUpdate(),this.onRender(this.getClbOpts()),this}}),D=L.a.extend({ns:"Traits",itemView:v,reuseView:1,initialize:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},x=u.config||{},b=x.stylePrefix||"",R=u.editor;this.config=x,this.em=R,this.pfx=b,this.ppfx=x.pStylePrefix||"",this.className="".concat(b,"traits"),this.listenTo(R,"component:toggled",this.updatedCollection)},updatedCollection:function(){var u=this.ppfx,x=this.className,b=this.em.getSelected();this.el.className="".concat(x," ").concat(u,"one-bg ").concat(u,"two-color"),this.collection=b?b.get("traits"):[],this.render()}}),I=h.a.$,T=v.extend({init:function(){this.listenTo(this.model,"change:options",this.rerender)},templateInput:function(){var u=this.ppfx;return'<div class="'.concat(this.clsField,'">\n      <div data-input></div>\n      <div class="').concat(u,'sel-arrow">\n        <div class="').concat(u,'d-s-arrow"></div>\n      </div>\n    </div>')},getInputEl:function(){if(!this.$input){var u=this.model,x=this.em,b=u.get("name"),R=u.get("options")||[],Q=[],re="<select>";R.forEach(function(fe){var Ae,Pe,de,pe="";Object(J.isString)(fe)?(Ae=fe,Pe=fe):(Ae=fe.name||fe.label||fe.value,Pe="".concat(Object(J.isUndefined)(fe.value)?fe.id:fe.value).replace(/"/g,"&quot;"),pe+=(de=fe.style?fe.style.replace(/"/g,"&quot;"):"")?' style="'.concat(de,'"'):"");var _e=x.t("traitManager.traits.options.".concat(b,".").concat(Pe))||Ae;re+='<option value="'.concat(Pe,'"').concat(pe,">").concat(_e,"</option>"),Q.push(Pe)}),this.$input=I(re+="</select>");var Fe=u.getTargetValue(),ge=Q.indexOf(Fe)>=0?Fe:u.get("default");!Object(J.isUndefined)(ge)&&this.$input.val(ge)}return this.$input.get(0)}}),S=v.extend({appendInput:0,templateInput:function(){var u=this.ppfx;return'<label class="'.concat(this.clsField,'" data-input>\n    <i class="').concat(u,'chk-icon"></i>\n  </label>')},onChange:function(){var u=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(u))},getCheckedValue:function(u){var x=u,b=this.model.attributes,R=b.valueTrue,Q=b.valueFalse;return x&&!Object(J.isUndefined)(R)&&(x=R),x||Object(J.isUndefined)(Q)||(x=Q),x},getInputEl:function(){for(var u=!this.$input,x=arguments.length,b=new Array(x),R=0;R<x;R++)b[R]=arguments[R];var Q=v.prototype.getInputEl.apply(this,b);if(u){var re,Fe,ge=this.model,fe=this.target,Ae=ge.attributes,Pe=Ae.valueFalse,de=ge.get("name");ge.get("changeProp")?Fe=re=fe.get(de):re=!(!(Fe=fe.get("attributes")[de])&&""!==Fe),Object(J.isUndefined)(Pe)||Fe!==Pe||(re=!1),Q.checked=re}return Q}}),r=o(40),_=v.extend({getValueForTarget:function(){var u=this.model,x=u.attributes,b=x.value,R=x.unit;return Object(J.isUndefined)(b)||""===b?u.get("default"):b+R},getInputEl:function(){if(!this.input){var u=this.ppfx,x=this.model,b=this.getModelValue(),R=new r.a({contClass:"".concat(u,"field-int"),type:"number",model:x,ppfx:u});this.input=R.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,x.set("value",b,{fromTarget:1}),this.$input.val(b),this.input=R.el}return this.input}}),E=o(45),B=v.extend({templateInput:"",getInputEl:function(){if(!this.input){var u=this.model,x=this.getModelValue(),b=new E.a({model:u,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();b.setValue(x,{fromTarget:1}),this.input=b.el}return this.input}}),$=v.extend({eventCapture:["click button"],templateInput:"",onChange:function(){this.handleClick()},handleClick:function(){var u=this.model,x=this.em,b=u.get("command");b&&(Object(J.isString)(b)?x.get("Commands").run(b):b(x.get("Editor"),u))},renderLabel:function(){this.model.get("label")&&v.prototype.renderLabel.apply(this,arguments)},getInputEl:function(){var x=this.ppfx,b=this.model.props(),re=b.full,Fe=b.labelButton||b.text,ge="".concat(x,"btn");return'<button type="button" class="'.concat(ge,"-prim").concat(re?" ".concat(ge,"--full"):"",'">').concat(Fe,"</button>")}});function w(u,x){var b=Object.keys(u);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(u);x&&(R=R.filter(function(Q){return Object.getOwnPropertyDescriptor(u,Q).enumerable})),b.push.apply(b,R)}return b}function p(u){for(var x=1;x<arguments.length;x++){var b=null!=arguments[x]?arguments[x]:{};x%2?w(Object(b),!0).forEach(function(R){se()(u,R,b[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(b)):w(Object(b)).forEach(function(R){Object.defineProperty(u,R,Object.getOwnPropertyDescriptor(b,R))})}return u}le.default=function(){var u,x={},b={text:v,number:_,select:T,checkbox:S,color:B,button:$};return{TraitsView:D,name:"TraitManager",getConfig:function(){return x},init:function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x=R,Object(J.defaults)(x,U);var Q=x.pStylePrefix;return this.types=p({},b),Q&&(x.stylePrefix="".concat(Q).concat(x.stylePrefix)),this},postRender:function(){var R=this.getConfig().appendTo;R&&(Object(J.isElement)(R)?R:document.querySelector(R)).appendChild(this.render())},getTraitsViewer:function(){return u},addType:function(R,Q){var re=this.getType("text");this.types[R]=re.extend(Q)},getType:function(R){return this.getTypes()[R]},getTypes:function(){return this.types},render:function(){return(u=new D({el:u&&u.el,collection:[],editor:x.em,config:x})).itemsView=this.getTypes(),u.updatedCollection(),u.el},destroy:function(){u&&u.remove(),[x,u].forEach(function(R){return{}})}}}},function(Ye,le,o){"use strict";o.r(le),o.d(le,"evAll",function(){return _e}),o.d(le,"evPfx",function(){return ae}),o.d(le,"evAdd",function(){return ne}),o.d(le,"evUpdate",function(){return G}),o.d(le,"evRemove",function(){return W}),o.d(le,"evRemoveBefore",function(){return j}),o.d(le,"evDrag",function(){return C}),o.d(le,"evDragStart",function(){return H}),o.d(le,"evDragStop",function(){return n}),o.d(le,"evCustom",function(){return m});var ee=o(3),se=o.n(ee),J=o(0),U=o(21),L={appendTo:"",appendOnClick:!1,blocks:[],custom:!1},k=o(5),f=o.n(k),g=o(6),h=o.n(g),y=o(8),d=o.n(y),P=o(9),O=o.n(P),v=o(4),D=o.n(v),I=o(2),T=o.n(I),r=function(l){d()(q,l);var A=function(l){var A=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,be=D()(l);if(A){var Le=D()(this).constructor;q=Reflect.construct(be,arguments,Le)}else q=be.apply(this,arguments);return O()(this,q)}}(q);function q(){return f()(this,q),A.apply(this,arguments)}return h()(q,[{key:"defaults",value:function(){return{label:"",content:"",media:"",category:"",activate:!1,select:null,resetId:!1,disable:!1,onClick:null,attributes:{}}}},{key:"getId",value:function(){return this.id}},{key:"getLabel",value:function(){return this.get("label")}},{key:"getMedia",value:function(){return this.get("media")}},{key:"getContent",value:function(){return this.get("content")}},{key:"getCategoryLabel",value:function(){var be=this.get("category");return Object(J.isFunction)(be.get)?be.get("label"):be.label?be.label:be}}]),q}(I.Model),E=function(l){d()(q,l);var A=function(l){var A=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,be=D()(l);if(A){var Le=D()(this).constructor;q=Reflect.construct(be,arguments,Le)}else q=be.apply(this,arguments);return O()(this,q)}}(q);function q(){return f()(this,q),A.apply(this,arguments)}return q}(I.Collection);E.prototype.model=r;var $=function(l){d()(q,l);var A=function(l){var A=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,be=D()(l);if(A){var Le=D()(this).constructor;q=Reflect.construct(be,arguments,Le)}else q=be.apply(this,arguments);return O()(this,q)}}(q);function q(){return f()(this,q),A.apply(this,arguments)}return h()(q,[{key:"defaults",value:function(){return{id:"",label:"",open:!0,attributes:{}}}}]),q}(I.Model),p=function(l){d()(q,l);var A=function(l){var A=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,be=D()(l);if(A){var Le=D()(this).constructor;q=Reflect.construct(be,arguments,Le)}else q=be.apply(this,arguments);return O()(this,q)}}(q);function q(){return f()(this,q),A.apply(this,arguments)}return q}(I.Collection);p.prototype.model=$;var u,x=o(1),b=T.a.View.extend({events:{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"},initialize:function(l){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},q=this.model;this.em=A.em,this.config=A,this.endDrag=this.endDrag.bind(this),this.ppfx=A.pStylePrefix||"",this.listenTo(q,"destroy remove",this.remove),this.listenTo(q,"change",this.render)},__getModule:function(){return this.em.get("BlockManager")},handleClick:function(l){var A=this.config,q=this.model,be=this.em,Le=q.get("onClick")||A.appendOnClick;if(be.trigger("block:click",q,l),Le){if(Object(J.isFunction)(Le))return Le(q,be.getEditor(),{event:l});var ke,ve=A.getSorter(),Ee=q.get("content"),Ne=be.getSelected();if(ve.setDropContent(Ee),Ne)if(ve.validTarget(Ne.getEl(),Ee).valid)ke=Ne;else{var Je=Ne.parent();ve.validTarget(Je.getEl(),Ee).valid&&(ke=Je)}if(!ke){var St=be.getWrapper();ve.validTarget(St.getEl(),Ee).valid&&(ke=St)}var vt=ke&&ke.append(Ee)[0];vt&&be.setSelected(vt,{scroll:1})}},startDrag:function(l){var A=this.config,q=this.em,be=this.model.get("disable");if(0===l.button&&A.getSorter&&!this.el.draggable&&!be){q.refreshCanvas();var Le=A.getSorter();Le.setDragHelper(this.el,l),Le.setDropContent(this.model.get("content")),Le.startSort(this.el),Object(x.on)(document,"mouseup",this.endDrag)}},handleDragStart:function(l){this.__getModule().__startDrag(this.model,l)},handleDrag:function(l){this.__getModule().__drag(l)},handleDragEnd:function(){this.__getModule().__endDrag()},endDrag:function(l){Object(x.off)(document,"mouseup",this.endDrag);var A=this.config.getSorter();A.moved=0,A.endMove()},render:function(){var l=this.em,A=this.el,q=this.$el,be=this.ppfx,Le=this.model,ke=Le.get("disable"),ve=Le.get("attributes")||{},Ee=ve.class||"",Ne="".concat(be,"block"),Je=l&&l.t("blockManager.labels.".concat(Le.id))||Le.get("label"),St=Le.get("render"),vt=Le.get("media"),Z=ke?"".concat(Ne,"--disable"):"".concat(be,"four-color-h");q.attr(ve),A.className="".concat(Ee," ").concat(Ne," ").concat(be,"one-bg ").concat(Z).trim(),A.innerHTML="\n      ".concat(vt?'<div class="'.concat(Ne,'__media">').concat(vt,"</div>"):"",'\n      <div class="').concat(Ne,'-label">').concat(Je,"</div>\n    "),A.title=A.textContent.trim(),A.setAttribute("draggable",!(!Object(x.hasDnd)(l)||ke));var ce=St&&St({el:A,model:Le,className:Ne,prefix:be});return ce&&(A.innerHTML=ce),this}}),R=o(19),Q=o.n(R),re=o(17),ge=function(l){d()(q,l);var A=function(l){var A=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,be=D()(l);if(A){var Le=D()(this).constructor;q=Reflect.construct(be,arguments,Le)}else q=be.apply(this,arguments);return O()(this,q)}}(q);function q(){return f()(this,q),A.apply(this,arguments)}return h()(q,[{key:"template",value:function(be){var Le=be.pfx,ke=be.label;return Object(re.a)(u||(u=Q()(['\n      <div class="','title">\n        <i class="','caret-icon"></i>\n        ','\n      </div>\n      <div class="','blocks-c"></div>\n    '])),Le,Le,ke,Le)}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=be;var Le=be.pStylePrefix||"";this.em=be.em,this.pfx=Le,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(Le,"caret-icon"),this.activeClass="".concat(Le,"open"),this.className="".concat(Le,"block-category"),this.events={},this.events["click .".concat(Le,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents(),this.model.view=this}},{key:"updateVisibility",value:function(){this.model.get("open")?this.open():this.close()}},{key:"open",value:function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""}},{key:"close",value:function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"}},{key:"toggle",value:function(){var be=this.model;be.set("open",!be.get("open"))}},{key:"getIconEl",value:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl}},{key:"append",value:function(be){this.getBlocksEl().appendChild(be)}},{key:"render",value:function(){var Le=this.el,ke=this.$el,ve=this.model,Ee=this.pfx,Ne=this.em.t("blockManager.categories.".concat(ve.id))||ve.get("label");return Le.innerHTML=this.template({pfx:Ee,label:Ne}),ke.addClass(this.className),ke.css({order:ve.get("order")}),this.updateVisibility(),this}}]),q}(I.View);function fe(l,A){var q=Object.keys(l);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(l);A&&(be=be.filter(function(Le){return Object.getOwnPropertyDescriptor(l,Le).enumerable})),q.push.apply(q,be)}return q}function Ae(l){for(var A=1;A<arguments.length;A++){var q=null!=arguments[A]?arguments[A]:{};A%2?fe(Object(q),!0).forEach(function(be){se()(l,be,q[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(q)):fe(Object(q)).forEach(function(be){Object.defineProperty(l,be,Object.getOwnPropertyDescriptor(q,be))})}return l}var Pe=T.a.View.extend({initialize:function(l,A){Object(J.bindAll)(this,"getSorter","onDrag","onDrop","onMove"),this.config=A||{},this.categories=l.categories||"",this.renderedCategories=[];var q=this.config.pStylePrefix||"";this.ppfx=q,this.noCatClass="".concat(q,"blocks-no-cat"),this.blockContClass="".concat(q,"blocks-c"),this.catsClass="".concat(q,"block-categories");var be=this.collection;this.listenTo(be,"add",this.addTo),this.listenTo(be,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))},updateConfig:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=Ae(Ae({},this.config),l)},getSorter:function(){if(this.em){if(!this.sorter){var l=this.em.get("Utils"),A=this.canvas;this.sorter=new l.Sorter({container:A.getBody(),placer:A.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:A.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})}return this.sorter}},onDrag:function(l){this.em.stopDefault(),this.em.trigger("block:drag:start",l)},onMove:function(l){this.em.trigger("block:drag:move",l)},onDrop:function(l){var A=this.em;if(A.runDefault(),l&&l.get){var q="activeOnRender";l.get(q)&&(l.trigger("active"),l.unset(q)),A.trigger("block:drag:stop",l)}},addTo:function(l){this.add(l)},add:function(l,A){var q=this.config,be=A||null,Le=new b({model:l,attributes:l.get("attributes")},q).render().el,ke=l.get("category");if(ke&&this.categories&&!q.ignoreCategories){Object(J.isString)(ke)?ke={id:ke,label:ke}:Object(J.isObject)(ke)&&!ke.id&&(ke.id=ke.label);var ve=this.categories.add(ke),Ee=ve.get("id"),Ne=this.renderedCategories[Ee],Je=this.getCategoriesEl();return l.set("category",ve,{silent:!0}),!Ne&&Je&&(Ne=new ge({model:ve},this.config).render(),this.renderedCategories[Ee]=Ne,Je.appendChild(Ne.el)),void(Ne&&Ne.append(Le))}be?be.appendChild(Le):this.append(Le)},getCategoriesEl:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},getBlocksEl:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},append:function(l){var A=this.getBlocksEl();A&&A.appendChild(l)},render:function(){var l=this,A=this.ppfx,q=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML='\n      <div class="'.concat(this.catsClass,'"></div>\n      <div class="').concat(this.noCatClass,'">\n        <div class="').concat(this.blockContClass,'"></div>\n      </div>\n    '),this.collection.each(function(Le){return l.add(Le,q)}),this.append(q);var be="".concat(this.blockContClass,"s ").concat(A,"one-bg ").concat(A,"two-color");return this.$el.addClass(be),this.rendered=!0,this}});function de(l,A){var q=Object.keys(l);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(l);A&&(be=be.filter(function(Le){return Object.getOwnPropertyDescriptor(l,Le).enumerable})),q.push.apply(q,be)}return q}function pe(l){for(var A=1;A<arguments.length;A++){var q=null!=arguments[A]?arguments[A]:{};A%2?de(Object(q),!0).forEach(function(be){se()(l,be,q[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(q)):de(Object(q)).forEach(function(be){Object.defineProperty(l,be,Object.getOwnPropertyDescriptor(q,be))})}return l}var _e="block",ae="".concat(_e,":"),ne="".concat(ae,"add"),G="".concat(ae,"update"),W="".concat(ae,"remove"),j="".concat(W,":before"),C="".concat(ae,"drag"),H="".concat(C,":start"),n="".concat(C,":stop"),m="".concat(ae,"custom");le.default=function(){var l,A,q,be={},Le=[];return pe(pe({},U.a),{},{name:"BlockManager",Block:r,Blocks:E,Category:$,Categories:p,events:{all:_e,update:G,add:ne,remove:W,removeBefore:j,drag:C,dragStart:H,dragEnd:n,custom:m},init:function(){var ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ve=be=pe(pe({},L),ke),Ee=ve.em;return this.em=Ee,l=new E(be.blocks),A=new E(l.models),Le=new p,this.all=l,this.__initListen(),l.on("add",function(Ne){return A.add(Ne)}),l.on("remove",function(Ne){return A.remove(Ne)}),l.on("reset",function(Ne){return A.reset(Ne.models)}),this},__trgCustom:function(){this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var ke=this,ve=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:ve.container,dragStart:function(Ee,Ne){return ke.startDrag(Ee,Ne)},drag:function(Ee){return ke.__drag(Ee)},dragStop:function(Ee){return ke.endDrag(Ee)}}},__startDrag:function(ke,ve){var Ee=this.em,Ne=this.events,Je=ke.getContent?ke.getContent():ke;this._dragBlock=ke,Ee.set({dragResult:null,dragContent:Je}),[Ee,l].map(function(St){return St.trigger(Ne.dragStart,ke,ve)})},__drag:function(ke){var Ee=this.events,Ne=this._dragBlock;[this.em,l].map(function(Je){return Je.trigger(Ee.drag,Ne,ke)})},__endDrag:function(){var ke=this.em,ve=this.events,Ee=this._dragBlock,Ne=ke.get("dragResult");if(this._dragBlock=null,Ne){var Je="activeOnRender",St=Ne.get&&Ne.get(Je),vt=Ee.get("activate")||St,Z=Ee.get("select"),ce=Object(J.isArray)(Ne)?Ne[0]:Ne;(Z||vt&&!1!==Z)&&ke.setSelected(ce),vt&&(ce.trigger("active"),St&&ce.unset(Je)),Ee.get("resetId")&&ce.onAll(function(je){return je.resetId()})}ke.set({dragResult:null,dragContent:null}),[ke,l].map(function(je){return je.trigger(ve.dragEnd,Ne,Ee)})},__getFrameViews:function(){return this.em.get("Canvas").getFrames().map(function(ke){return ke.view})},__behaviour:function(){var ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._bhv=pe(pe({},this._bhv||{}),ke)},__getBehaviour:function(){return this._bhv||{}},startDrag:function(ke,ve){this.__startDrag(ke,ve),this.__getFrameViews().forEach(function(Ee){return Ee.droppable.startCustom()})},endDrag:function(ke){this.__getFrameViews().forEach(function(ve){return ve.droppable.endCustom(ke)}),this.__endDrag()},getConfig:function(){return be},postRender:function(){q=new Pe({collection:A,categories:Le},be);var ke=this.getConfig().appendTo;if(ke){var ve=Object(J.isElement)(ke)?ke:document.querySelector(ke);if(!ve)return this.__logWarn('"appendTo" element not found');ve.appendChild(this.render(A.models))}this.__trgCustom()},add:function(ke,ve){var Ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ne=ve||{};return Ne.id=ke,l.add(Ne,Ee)},get:function(ke){return l.get(ke)},getAll:function(){return l},getAllVisible:function(){return A},remove:function(ke){var ve=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.__remove(ke,ve)},getCategories:function(){return Le},getContainer:function(){return q.el},render:function(ke){var ve=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ee=ke||this.getAll().models;if(ve.external){var Ne=new E(Ee);return new Pe({collection:Ne,categories:Le},pe(pe({},be),ve)).render().el}return q&&(q.updateConfig(ve),q.collection.reset(Ee),q.rendered||(q.render(),q.rendered=1)),this.getContainer()},destroy:function(){var ke=[l,A,Le];ke.map(function(ve){return ve.stopListening()}),ke.map(function(ve){return ve.reset()}),q&&q.remove(),be={}}})}},function(Ye,le,o){"use strict";o.r(le);var ee="sw-visibility",se="export-template",J="open-sm",U="open-tm",L="open-layers",k="open-blocks",f="fullscreen",g="preview",h={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:ee,className:"fa fa-square-o",command:ee,context:ee,attributes:{title:"View components"}},{id:g,className:"fa fa-eye",command:g,context:g,attributes:{title:"Preview"}},{id:f,className:"fa fa-arrows-alt",command:f,context:f,attributes:{title:"Fullscreen"}},{id:se,className:"fa fa-code",command:se,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:J,className:"fa fa-paint-brush",command:J,active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:U,className:"fa fa-cog",command:U,togglable:0,attributes:{title:"Settings"}},{id:L,className:"fa fa-bars",command:L,togglable:0,attributes:{title:"Open Layer Manager"}},{id:k,className:"fa fa-th-large",command:k,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300},y=o(2),d=o.n(y),P=o(48),O=d.a.Model.extend({defaults:{id:"",content:"",visible:!0,buttons:[],attributes:{}},initialize:function(p){this.btn=this.get("buttons")||[],this.buttons=new P.default(this.btn),this.set("buttons",this.buttons)}}),v=d.a.Collection.extend({model:O}),D=o(3),I=o.n(D),T=o(0);function S(p,u){var x=Object.keys(p);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(p);u&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(p,R).enumerable})),x.push.apply(x,b)}return x}function r(p){for(var u=1;u<arguments.length;u++){var x=null!=arguments[u]?arguments[u]:{};u%2?S(Object(x),!0).forEach(function(b){I()(p,b,x[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(x)):S(Object(x)).forEach(function(b){Object.defineProperty(p,b,Object.getOwnPropertyDescriptor(x,b))})}return p}var _=d.a.View.extend({tagName:function(){return this.model.get("tagName")},events:{click:"clicked"},initialize:function(p){var u=this.model,x=u.get("className"),b=u.attributes,R=b.command,Q=b.listen,re=p.config||{},Fe=re.em;this.config=re,this.em=Fe;var ge=this.config.stylePrefix||"",fe=this.config.pStylePrefix||"";if(this.pfx=ge,this.ppfx=this.config.pStylePrefix||"",this.id=ge+u.get("id"),this.activeCls="".concat(ge,"active ").concat(fe,"four-color"),this.disableCls="".concat(fe,"disabled"),this.btnsVisCls="".concat(ge,"visible"),this.className=ge+"btn"+(x?" "+x:""),this.listenTo(u,"change",this.render),this.listenTo(u,"change:active updateActive",this.updateActive),this.listenTo(u,"checkActive",this.checkActive),this.listenTo(u,"change:bntsVis",this.updateBtnsVis),this.listenTo(u,"change:attributes",this.updateAttributes),this.listenTo(u,"change:className",this.updateClassName),this.listenTo(u,"change:disable",this.updateDisable),Fe&&Object(T.isString)(R)&&Q){var Ae={fromListen:1};this.listenTo(Fe,"run:".concat(R),function(){return u.set("active",!0,Ae)}),this.listenTo(Fe,"stop:".concat(R),function(){return u.set("active",!1,Ae)})}Fe&&Fe.get&&(this.commands=Fe.get("Commands"))},updateClassName:function(){var p=this.model,u=this.pfx,x=p.get("className"),b=p.get("attributes").class,R="".concat(b||""," ").concat(u,"btn ").concat(x||"");this.$el.attr("class",R.trim())},updateAttributes:function(){var p=this.em,u=this.model,x=this.$el,b=u.get("attributes")||{},R=p&&p.t&&p.t("panels.buttons.titles.".concat(u.id));x.attr(b),R&&x.attr({title:R}),this.updateClassName()},updateBtnsVis:function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},updateActive:function(p,u){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=this.model,R=this.commands,Q=this.$el,re=this.activeCls,Fe=x.fromCollection,ge=x.fromListen,fe=b.get("context"),Ae=b.get("options"),Pe=b.get("command"),de={};Pe&&(R&&Object(T.isString)(Pe)?de=R.get(Pe)||{}:Object(T.isFunction)(Pe)?de=R.create({run:Pe}):null!==Pe&&Object(T.isObject)(Pe)&&(de=R.create(Pe)),b.get("active")?(!Fe&&b.collection.deactivateAll(fe,b),b.set("active",!0,{silent:!0}).trigger("checkActive"),!ge&&R.runCommand(de,r(r({},Ae),{},{sender:b})),de.noStop&&b.set("active",!1)):(Q.removeClass(re),!ge&&R.stopCommand(de,r(r({},Ae),{},{sender:b,force:1}))))},updateDisable:function(){var p=this.disableCls,u=this.model.get("disable");this.$el[u?"addClass":"removeClass"](p)},checkActive:function(){var u=this.$el,x=this.activeCls;this.model.get("active")?u.addClass(x):u.removeClass(x)},clicked:function(p){var u=this.model;u.get("bntsVis")||u.get("disable")||!u.get("command")||this.toggleActive()},toggleActive:function(){var p=this.model,u=this.em,x=p.attributes,b=x.active;b&&!x.togglable||(p.set("active",!b),b?p.get("runDefaultCommand")&&u.runDefault():p.get("stopDefaultCommand")&&u.stopDefault())},render:function(){var p=this.model,u=p.get("label"),x=this.$el;return!p.get("el")&&x.empty(),this.updateAttributes(),u&&x.append(u),this.checkActive(),this.updateDisable(),this}}),E=d.a.View.extend({initialize:function(p){this.opt=p||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"",this.parentM=this.opt.parentM||null,this.listenTo(this.collection,"add",this.addTo),this.listenTo(this.collection,"reset remove",this.render),this.className=this.pfx+"buttons"},addTo:function(p){this.addToCollection(p)},addToCollection:function(p,u){var x=u||null,b=new _({el:p.get("el"),model:p,config:this.config,parentM:this.parentM}).render().el;return x?x.appendChild(b):this.$el.append(b),b},render:function(){var p=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(u){this.addToCollection(u,p)},this),this.$el.append(p),this.$el.attr("class",Object(T.result)(this,"className")),this}});function B(p,u){var x=Object.keys(p);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(p);u&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(p,R).enumerable})),x.push.apply(x,b)}return x}var $=d.a.View.extend({initialize:function(p){var u=p.config||{},x=this.model;this.config=u,this.pfx=u.stylePrefix||"",this.ppfx=u.pStylePrefix||"",this.buttons=x.get("buttons"),this.className=this.pfx+"panel",this.id=this.pfx+x.get("id"),this.listenTo(x,"change:appendContent",this.appendContent),this.listenTo(x,"change:content",this.updateContent),this.listenTo(x,"change:visible",this.toggleVisible),x.view=this},appendContent:function(){this.$el.append(this.model.get("appendContent"))},updateContent:function(){this.$el.html(this.model.get("content"))},toggleVisible:function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},attributes:function(){return this.model.get("attributes")},initResize:function(){var p=this.config.em,u=p?p.get("Editor"):"",x=this.model.get("resizable");if(u&&x){var b,R,Q,re=!0===x?[1,1,1,1]:x,Fe=re.length,ge=0;2==Fe?(b=re[0],Q=re[0],R=re[1],ge=re[1]):4==Fe&&(b=re[0],R=re[1],Q=re[2],ge=re[3]);var fe=u.Utils.Resizer.init(function(Ae){for(var Pe=1;Pe<arguments.length;Pe++){var de=null!=arguments[Pe]?arguments[Pe]:{};Pe%2?B(Object(de),!0).forEach(function(pe){I()(Ae,pe,de[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(de)):B(Object(de)).forEach(function(pe){Object.defineProperty(Ae,pe,Object.getOwnPropertyDescriptor(de,pe))})}return Ae}({tc:b,cr:R,bc:Q,cl:ge,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:u.getConfig().stylePrefix,onEnd:function(){p&&p.trigger("change:canvasOffset")},posFetcher:function(Ae,Pe){var de=Pe.target,pe=Ae.style,_e=fe.getConfig(),ae=_e.keyWidth,ne=_e.keyHeight,G=Ae.getBoundingClientRect(),W="container"==de,j=pe[ae],C=pe[ne];return{left:0,top:0,width:j&&!W?parseFloat(j):G.width,height:C&&!W?parseFloat(C):G.height}}},x));fe.blur=function(){},fe.focus(this.el)}},render:function(){var p=this.$el,u=this.ppfx,x="".concat(this.className," ").concat(this.id," ").concat(u,"one-bg ").concat(u,"two-color");if(p.addClass(x),this.toggleVisible(),this.buttons.length){var b=new E({collection:this.buttons,config:this.config});p.append(b.render().el)}return p.append(this.model.get("content")),this}}),w=d.a.View.extend({initialize:function(p){this.opt=p||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"";var u=this.collection;this.listenTo(u,"add",this.addTo),this.listenTo(u,"reset",this.render),this.listenTo(u,"remove",this.onRemove),this.className=this.pfx+"panels"},onRemove:function(p){var u=p.view;u&&u.remove()},addTo:function(p){this.addToCollection(p)},addToCollection:function(p,u){var x=u||null,b=this.config,R=p.get("el"),Q=new $({el:R,model:p,config:b}),re=Q.render().el,Fe=p.get("appendTo");return R||(Fe?document.querySelector(Fe).appendChild(re):x?x.appendChild(re):this.$el.append(re)),Q.initResize(),re},render:function(){var p=this,u=this.$el,x=document.createDocumentFragment();return u.empty(),this.collection.each(function(b){return p.addToCollection(b,x)}),u.append(x),u.attr("class",this.className),this}});le.default=function(){var p,u,x={};return{name:"Panels",init:function(b){for(var R in x=b||{},h)R in x||(x[R]=h[R]);var Q=x.pStylePrefix;return Q&&(x.stylePrefix=Q+x.stylePrefix),p=new v(x.defaults),this},getPanels:function(){return p},getPanelsEl:function(){return u&&u.el},addPanel:function(b){return p.add(b)},removePanel:function(b){return p.remove(b)},getPanel:function(b){var R=p.where({id:b});return R.length?R[0]:null},addButton:function(b,R){var Q=this.getPanel(b);return Q?Q.get("buttons").add(R):null},removeButton:function(b,R){var Q=this.getPanel(b);return Q&&Q.get("buttons").remove(R)},getButton:function(b,R){var Q=this.getPanel(b);if(Q){var re=Q.get("buttons").where({id:R});return re.length?re[0]:null}return null},render:function(){return u&&u.remove(),(u=new w({collection:p,config:x})).render().el},active:function(){this.getPanels().each(function(b){b.get("buttons").each(function(R){R.get("active")&&R.trigger("updateActive")})})},disableButtons:function(){this.getPanels().each(function(b){b.get("buttons").each(function(R){R.get("disable")&&R.trigger("change:disable")})})},destroy:function(){p.reset(),p.stopListening(),u&&u.remove(),[x,p,u].forEach(function(b){return{}})},Panel:O}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(11),se=o.n(ee),J=o(3),U=o.n(J),L=o(0),k=o(1),f={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,extHl:0,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]},g=o(5),h=o.n(g),y=o(6),d=o.n(y),P=o(8),O=o.n(P),v=o(9),D=o.n(v),I=o(4),T=o.n(I),S=o(2),r=o.n(S),_=o(47),B=function(j){O()(H,j);var C=function(j){var C=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}();return function(){var H,n=T()(j);if(C){var m=T()(this).constructor;H=Reflect.construct(n,arguments,m)}else H=n.apply(this,arguments);return D()(this,H)}}(H);function H(){return h()(this,H),C.apply(this,arguments)}return d()(H,[{key:"defaults",value:function(){return{frame:"",frames:"",rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}}},{key:"initialize",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=m.em;this.config=m,this.em=l,this.listenTo(this,"change:zoom",this.onZoomChange),this.listenTo(l,"change:device",this.updateDevice),this.listenTo(l,_.evPageSelect,this._pageUpdated)}},{key:"init",value:function(){var n=this.em.get("PageManager").getMain(),m=n.getMainFrame();this.set("frames",n.getFrames()),this.updateDevice({frame:m})}},{key:"_pageUpdated",value:function(n,m){var l=this.em;l.setSelected(),l.get("readyCanvas")&&l.stopDefault(),m&&m.getFrames().map(function(A){return A.disable()}),this.set("frames",n.getFrames())}},{key:"updateDevice",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.em,l=m.getDeviceModel(),A=n.frame||m.getCurrentFrameModel();if(A&&l){var q=l.attributes,be=q.width,Le=q.height;A.set({width:be,height:Le},{noUndo:1})}}},{key:"onZoomChange",value:function(){this.get("zoom")<1&&this.set("zoom",1)}}]),H}(S.Model),$=o(29),w=o(43),p=o(12);function u(j,C){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(j);C&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),H.push.apply(H,n)}return H}var x=function(){function j(C,H){var n=this;h()(this,j),this.em=C;var m=H||C.get("Canvas").getFrames().map(function(A){return A.getComponent().getEl()}),l=Array.isArray(m)?m:[m];return this.el=m,this.counter=0,Object(L.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),l.forEach(function(A){return n.toggleEffects(A,1)}),this}return d()(j,[{key:"toggleEffects",value:function(C,H){var n={on:k.on,off:k.off},m=H?"on":"off";n[m](C,"dragenter",this.handleDragEnter),n[m](C,"dragover",this.handleDragOver),n[m](C,"drop",this.handleDrop),n[m](C,"dragleave",this.handleDragLeave)}},{key:"__customTglEff",value:function(C){var H=C?k.on:k.off,n=this.el.ownerDocument,m=n.defaultView.frameElement;this.sortOpts=C?{onStart:function(l){var A=l.sorter;Object(k.on)(m,"pointermove",A.onMove)},onEnd:function(l){var A=l.sorter;Object(k.off)(m,"pointermove",A.onMove)},customTarget:function(l){var A=l.event;return n.elementFromPoint(A.clientX,A.clientY)}}:null,H(m,"pointerenter",this.handleDragEnter),H(m,"pointermove",this.handleDragOver),H(document,"pointerup",this.handleDrop),H(m,"pointerout",this.handleDragLeave)}},{key:"startCustom",value:function(){this.__customTglEff(!0)}},{key:"endCustom",value:function(C){this.over?this.endDrop(C):this.__customTglEff(!1)}},{key:"endDrop",value:function(C,H){var n=this.em,m=this.dragStop;this.counter=0,m&&m(C),this.__customTglEff(!1),n.trigger("canvas:dragend",H)}},{key:"handleDragLeave",value:function(C){this.updateCounter(-1,C)}},{key:"updateCounter",value:function(C,H){this.counter+=C,0===this.counter&&this.endDrop(1,H)}},{key:"handleDragEnter",value:function(C){var H=this,n=this.em,m=C.dataTransfer;if(this.updateCounter(1,C),!this.over){this.over=1;var l,A,q=n.get("Utils"),be=n.get("Canvas"),Le=n.get("dragContent")||"<br>";if(n.stopDefault(),n.inAbsoluteMode()){var ke=n.get("DomComponents").getWrapper(),ve=ke.append({})[0],Ee=n.get("Commands").run("core:component-drag",{event:C,guidesInfo:1,center:1,target:ve,onEnd:function(Je,St,vt){var Z;if(!vt.cancelled){Z=ke.append(Le)[0];var ce=ve.getStyle();Z.addStyle({left:ce.left,top:ce.top,position:ce.position})}H.handleDragEnd(Z,m),ve.remove()}});l=function(Je){return Ee.stop(C,{cancel:Je})},A=function(Je){return Le=Je}}else{var Ne=new q.Sorter(function(Je){for(var St=1;St<arguments.length;St++){var vt=null!=arguments[St]?arguments[St]:{};St%2?u(Object(vt),!0).forEach(function(Z){U()(Je,Z,vt[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Je,Object.getOwnPropertyDescriptors(vt)):u(Object(vt)).forEach(function(Z){Object.defineProperty(Je,Z,Object.getOwnPropertyDescriptor(vt,Z))})}return Je}({em:n,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:be.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(Je){return H.handleDragEnd(Je,m)},document:this.el.ownerDocument},this.sortOpts||{}));Ne.setDropContent(Le),Ne.startSort(),this.sorter=Ne,l=function(Je){Je&&(Ne.moved=0),Ne.endMove()},A=function(Je){return Ne.setDropContent(Je)}}this.dragStop=l,this.dragContent=A,n.trigger("canvas:dragenter",m,Le)}}},{key:"handleDragEnd",value:function(C,H){var n=this.em;this.over=0,C&&(n.set("dragResult",C),n.trigger("canvas:drop",H,C)),n.runDefault({preserveSelected:1})}},{key:"handleDragOver",value:function(C){C.preventDefault(),this.em.trigger("canvas:dragover",C)}},{key:"handleDrop",value:function(C){C.preventDefault();var H=this.dragContent,m=this.getContentByData(C.dataTransfer).content;C.target.style.border="",m&&H&&H(m),this.endDrop(!m,C)}},{key:"getContentByData",value:function(C){var H=this.em,n=C&&C.types,m=C&&C.files||[],l=H.get("dragContent"),A=C&&C.getData("text");if(m.length){A=[];for(var q=0;q<m.length;q++){var be=m[q],Le=be.type.split("/")[0];"image"==Le&&A.push({type:Le,file:be,attributes:{alt:be.name}})}}else if(l)A=l;else if(Object(L.indexOf)(n,"text/html")>=0)A=C&&C.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if(Object(L.indexOf)(n,"text/uri-list")>=0)A={type:"link",attributes:{href:A},content:A};else if(Object(L.indexOf)(n,"text/json")>=0){var ke=C&&C.getData("text/json");ke&&(A=JSON.parse(ke))}else 1===n.length&&"text/plain"===n[0]&&(A="<div>".concat(A,"</div>"));var ve={content:A};return H.trigger("canvas:dragdata",C,ve),ve}}]),j}(),b=o(13);function R(j,C){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(j);C&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),H.push.apply(H,n)}return H}function Q(j){for(var C=1;C<arguments.length;C++){var H=null!=arguments[C]?arguments[C]:{};C%2?R(Object(H),!0).forEach(function(n){U()(j,n,H[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):R(Object(H)).forEach(function(n){Object.defineProperty(j,n,Object.getOwnPropertyDescriptor(H,n))})}return j}var re=r.a.View.extend({tagName:"iframe",attributes:{allowfullscreen:"allowfullscreen","data-frame-el":!0},initialize:function(j){Object(L.bindAll)(this,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var C=this.model,H=this.el;this.tools={},this.config=Q(Q({},j.config||{}),{},{frameView:this}),this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var n=this.getCanvasModel();this.listenTo(C,"change:head",this.updateHead),this.listenTo(n,"change:styles",this.renderStyles),C.view=this,Object(k.setViewEl)(H,this)},updateHead:function(){var j=this.model,C=this.getHead(),H=[],n=[],m=j.get("head"),l=j.previous("head"),A=function(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(be).sort().map(function(Le){return"[".concat(Le,'="').concat(be[Le],'"]')}).join("")},q=function(be,Le,ke){be.forEach(function(ve){var Ee=ve.tag,Ne=ve.attributes;!Le.some(function(Je){return Je.tag===Ee&&A(Je.attributes)===A(Ne)})&&ke.push(ve)})};q(m,l,n),q(l,m,H),H.forEach(function(be){var Le=C.querySelector("".concat(be.tag).concat(A(be.attributes)));Le&&Le.parentNode.removeChild(Le)}),Object(b.c)(C,n)},getEl:function(){return this.el},getCanvasModel:function(){return this.em.get("Canvas").getModel()},getWindow:function(){return this.getEl().contentWindow},getDoc:function(){return this.getEl().contentDocument},getHead:function(){return this.getDoc().querySelector("head")},getBody:function(){return this.getDoc().querySelector("body")},getWrapper:function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},getJsContainer:function(){return this.jsContainer||(this.jsContainer=Object(b.f)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},getToolsEl:function(){var j=this.config.frameWrapView;return j&&j.elTools},getGlobalToolsEl:function(){return this.em.get("Canvas").getGlobalToolsEl()},getHighlighter:function(){return this._getTool("[data-hl]")},getBadgeEl:function(){return this._getTool("[data-badge]")},getOffsetViewerEl:function(){return this._getTool("[data-offset]")},getRect:function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},getOffsetRect:function(){var j=this.el,C=this.getBody(),H=C.scrollTop,n=C.scrollLeft,m=j.offsetHeight,l=j.offsetWidth;return{top:j.offsetTop,left:j.offsetLeft,height:m,width:l,scrollTop:H,scrollLeft:n,scrollBottom:H+m,scrollRight:n+l}},_getTool:function(j){var C=this.tools,H=this.getToolsEl();return C[j]||(C[j]=H.querySelector(j)),C[j]},remove:function(){var j=this.wrapper;this._toggleEffects(),this.tools={},j&&j.remove(),r.a.View.prototype.remove.apply(this,arguments)},startAutoscroll:function(){var j=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){j._toggleAutoscrollFx(1),requestAnimationFrame(j.autoscroll)},0)},autoscroll:function(){if(this.dragging){var j=this.lastClientY,C=this.em.get("Canvas"),H=this.getWindow(),n=this.getBody().scrollTop,m=j||0,l=C.getConfig().autoscrollLimit,A=this.getRect().height-l,q=n;m<l&&(q-=l-m),m>A&&(q+=m-A),!Object(L.isUndefined)(j)&&q!==n&&q>0&&q<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),H.scrollTo(0,q)),requestAnimationFrame(this.autoscroll)}},updateClientY:function(j){j.preventDefault(),this.lastClientY=Object(k.getPointerEvent)(j).clientY*this.em.getZoomDecimal()},showGlobalTools:Object(L.debounce)(function(){this.getGlobalToolsEl().style.opacity=""},50),stopAutoscroll:function(){this.dragging&&this._toggleAutoscrollFx()},_toggleAutoscrollFx:function(j){this.dragging=j;var C=this.getWindow(),H=j?"on":"off",n={on:k.on,off:k.off};n[H](C,"mousemove dragover",this.updateClientY),n[H](C,"mouseup",this.stopAutoscroll)},render:function(){return this.$el.attr({class:"".concat(this.ppfx,"frame")}),this.renderScripts(),this},renderScripts:function(){var j=this,C=this.el,n=this.em,m="frame:load",l={el:C,model:this.model,view:this},A=this.getCanvasModel();C.onload=function(){n&&n.trigger("".concat(m,":before"),l),function q(be){if(be.length>0){var Le=be.shift(),ke=Object(b.f)("script",Q({type:"text/javascript"},Object(L.isString)(Le)?{src:Le}:Le));ke.onerror=ke.onload=q.bind(null,be),C.contentDocument.head.appendChild(ke)}else j.renderBody(),n&&n.trigger(m,l)}(se()(A.get("scripts")))}},renderStyles:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=this.getHead(),H=this.getCanvasModel(),n=function(Le){return Le.map(function(ke){return{tag:"link",attributes:Q({rel:"stylesheet"},Object(L.isString)(ke)?{href:ke}:ke)}})},m=n(j.prev||H.previous("styles")),l=n(H.get("styles")),A=[],q=[],be=function(Le,ke,ve){Le.forEach(function(Ee){var Ne=Ee.attributes.href;!ke.some(function(Je){return Je.attributes.href===Ne})&&ve.push(Ee)})};be(l,m,q),be(m,l,A),A.forEach(function(Le){var ke=C.querySelector('link[href="'.concat(Le.attributes.href,'"]'));ke&&ke.parentNode.removeChild(ke)}),Object(b.c)(C,q)},renderBody:function(){var j=this,H=this.model,n=this.ppfx,m=this.config.em,l=this.getDoc(),A=this.getBody(),q=this.getWindow(),be=m.get("Config");q._isEditor=!0,this.renderStyles({prev:[]}),Object(b.a)(A,"<style>\n      ".concat(be.baseCss||"","\n\n      .").concat(n,"dashed *[data-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(n,"selected {\n        outline: 3px solid #3b97e3 !important;\n        outline-offset: -3px;\n      }\n\n      .").concat(n,"selected-parent {\n        outline: 2px solid ").concat("#ffca6f"," !important\n      }\n\n      .").concat(n,"no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(n,"freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(n,"no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(n,"plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(n,"grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(n,"is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(n,"is__grabbing,\n      .").concat(n,"is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(be.canvasCss||"","\n      ").concat(be.protectedCss||"","\n    </style>"));var Le=H.getComponent();this.wrapper=new p.default({model:Le,config:Q(Q({},Le.config),{},{frameView:this})}).render(),Object(b.a)(A,this.wrapper.el),Object(b.a)(A,new w.a({collection:H.getStyles(),config:Q(Q({},m.get("CssComposer").getConfig()),{},{frameView:this})}).render().el),Object(b.a)(A,this.getJsContainer()),Object(k.on)(A,"click",function(ke){return ke&&"A"==ke.target.tagName&&ke.preventDefault()}),Object(k.on)(A,"submit",function(ke){return ke&&ke.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(ke){return ke.event.split(" ").forEach(function(ve){l.addEventListener(ve,function(Ee){return j.el.dispatchEvent(Object(b.e)(Ee,ke.class))})})}),this._toggleEffects(1),this.droppable=Object(k.hasDnd)(m)&&new x(m,this.wrapper.el),H.trigger("loaded")},_toggleEffects:function(j){var C=j?k.on:k.off,H=this.getWindow();H&&C(H,"".concat(b.k," resize"),this._emitUpdate)},_emitUpdate:function(){this.model._emitUpdated()}}),Fe=o(24);function ge(j,C){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(j);C&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),H.push.apply(H,n)}return H}function fe(j){for(var C=1;C<arguments.length;C++){var H=null!=arguments[C]?arguments[C]:{};C%2?ge(Object(H),!0).forEach(function(n){U()(j,n,H[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):ge(Object(H)).forEach(function(n){Object.defineProperty(j,n,Object.getOwnPropertyDescriptor(H,n))})}return j}var Ae=r.a.View.extend({events:{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"},initialize:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(L.bindAll)(this,"onScroll","frameLoaded","updateOffset","remove","startDrag");var H=this.model,n=fe(fe({},j.config||C),{},{frameWrapView:this}),m=n.canvasView,l=n.em;this.cv=m,this.config=n,this.em=l,this.canvas=l&&l.get("Canvas"),this.ppfx=n.pStylePrefix||"",this.frame=new re({model:H,config:n}),this.classAnim="".concat(this.ppfx,"frame-wrapper--anim"),this.updateOffset=Object(L.debounce)(this.updateOffset.bind(this)),this.updateSize=Object(L.debounce)(this.updateSize.bind(this)),this.listenTo(H,"loaded",this.frameLoaded),this.listenTo(H,"change:x change:y",this.updatePos),this.listenTo(H,"change:width change:height",this.updateSize),this.listenTo(H,"destroy remove",this.remove),this.updatePos(),this.setupDragger()},setupDragger:function(){var j,C,H,n=this,m=this.canvas,l=this.model,A=function(q){m.toggleFramesEvents(q)};this.dragger=new Fe.a({onStart:function(){var q=l.attributes,be=q.x,Le=q.y;H=n.em.getZoomMultiplier(),j=be,C=Le,A()},onEnd:function(){return A(1)},setPosition:function(q){l.set({x:j+q.x*H,y:C+q.y*H})}})},startDrag:function(j){j&&this.dragger.start(j)},__clear:function(j){var C=this.frame;C&&C.remove(j),Object(b.l)(this.elTools)},remove:function(j){var C=this;return this.__clear(j),r.a.View.prototype.remove.apply(this,arguments),["frame","dragger","cv","em","canvas","elTools"].forEach(function(H){return C[H]=0}),this},updateOffset:function(){var j=this.em,C=this.$el,H=this.frame;j&&(j.runDefault({preserveSelected:1}),C.removeClass(this.classAnim),H.model._emitUpdated())},updatePos:function(j){var n=this.model.attributes,m=n.x,l=n.y,A=this.el.style;this.frame.rect=0,A.left=isNaN(m)?m:"".concat(m,"px"),A.top=isNaN(l)?l:"".concat(l,"px"),j&&this.updateOffset()},updateSize:function(){this.updateDim()},updateDim:function(){var j=this.em,C=this.el,H=this.$el,n=this.model,m=this.classAnim,l=this.frame;if(l){l.rect=0,H.addClass(m);var A=this.__handleSize(),q=A.noChanges,be=A.width,Le=A.height;(Object(L.isNull)(be)||Object(L.isNull)(Le))&&n.set(fe(fe({},be?{}:{width:C.offsetWidth}),Le?{}:{height:C.offsetHeight}),{silent:1}),j.stopDefault({preserveSelected:1}),q?this.updateOffset():setTimeout(this.updateOffset,350)}},onScroll:function(){var j=this.frame;this.em.trigger("frame:scroll",{frame:j,body:j.getBody(),target:j.getWindow()})},frameLoaded:function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},__handleSize:function(){var H=this.el.style,n=this.model.attributes,m=n.width,l=n.height,be=m||"",Le=l||"",ke=(H.width||"")==be&&(H.height||"")==Le;return H.width=Object(L.isNumber)(be)?"".concat(be).concat("px"):be,H.height=Object(L.isNumber)(Le)?"".concat(Le).concat("px"):Le,{noChanges:ke,width:m,height:l,newW:be,newH:Le}},render:function(){var j=this.frame,C=this.$el,H=this.ppfx,n=this.cv,m=this.model,l=this.el,A=m.attributes.onRender;this.__clear(),this.__handleSize(),j.render(),C.empty().attr({class:"".concat(H,"frame-wrapper")}).append('\n      <div class="'.concat(H,'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(H,'frame-wrapper__name" data-action-move>\n          ').concat(m.get("name")||"",'\n        </div>\n        <div class="').concat(H,'frame-wrapper__top-r">\n          <div class="').concat(H,'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(H,'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(H,'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(H,'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(j.el);var q=Object(b.f)("div",{class:"".concat(H,"tools"),style:"pointer-events:none; display: none"},'\n      <div class="'.concat(H,'highlighter" data-hl></div>\n      <div class="').concat(H,'badge" data-badge></div>\n      <div class="').concat(H,'placeholder">\n        <div class="').concat(H,'placeholder-int"></div>\n      </div>\n      <div class="').concat(H,'ghost"></div>\n      <div class="').concat(H,'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(H,'resizer"></div>\n      <div class="').concat(H,'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(H,'offset-fixed-v"></div>\n    '));this.elTools=q;var be=n.toolsWrapper;return be&&be.appendChild(q),A&&A({el:l,elTop:l.querySelector("[data-frame-top]"),elRight:l.querySelector("[data-frame-right]"),elBottom:l.querySelector("[data-frame-bottom]"),elLeft:l.querySelector("[data-frame-left]"),frame:m,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this}}),Pe=$.a.extend({itemView:Ae,autoAdd:1,init:function(){this.listenTo(this.collection,"reset",this.render)},onRemoveBefore:function(j,C){j.forEach(function(H){return H.remove(C)})},onRender:function(){var H=this.config.em;H&&this.$el.attr({class:"".concat(H.getConfig("stylePrefix"),"frames")})}});function de(j,C){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(j);C&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),H.push.apply(H,n)}return H}function pe(j){for(var C=1;C<arguments.length;C++){var H=null!=arguments[C]?arguments[C]:{};C%2?de(Object(H),!0).forEach(function(n){U()(j,n,H[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):de(Object(H)).forEach(function(n){Object.defineProperty(j,n,Object.getOwnPropertyDescriptor(H,n))})}return j}var _e,ae=r.a.$,ne=r.a.View.extend({events:{wheel:"onWheel"},template:function(){var j=this.pfx;return'\n      <div class="'.concat(j,'canvas__frames" data-frames></div>\n      <div id="').concat(j,'tools" class="').concat(j,'canvas__tools" data-tools></div>\n    ')},initialize:function(j){Object(L.bindAll)(this,"clearOff","onKeyPress","onCanvasMove");var C=this.model;this.config=j.config||{},this.em=this.config.em||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.config.stylePrefix+"canvas";var H=this.em;this._initFrames(),this.listenTo(H,"change:canvasOffset",this.clearOff),this.listenTo(H,"component:selected",this.checkSelected),this.listenTo(C,"change:zoom change:x change:y",this.updateFrames),this.listenTo(C,"change:frames",this._onFramesUpdate),this.toggleListeners(1)},_onFramesUpdate:function(){this._initFrames(),this._renderFrames()},_initFrames:function(){var j=this.frames,H=this.config,n=this.em,m=this.model.get("frames");n.set("readyCanvas",0),m.once("loaded:all",function(){return n.set("readyCanvas",1)}),j&&j.remove(),this.frames=new Pe({collection:m,config:pe(pe({},H),{},{canvasView:this})})},checkSelected:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=C.scroll,n=this.em.get("currentFrame");H&&j.views.forEach(function(m){m._getFrame()!==n&&m.scrollIntoView(H)})},remove:function(){this.frames.remove(),this.frames={},r.a.View.prototype.remove.apply(this,arguments),this.toggleListeners()},preventDefault:function(j){j&&(j.preventDefault(),j._parentEvent&&j._parentEvent.preventDefault())},onCanvasMove:function(j){},toggleListeners:function(j){var C=j?k.on:k.off;C(document,"keypress",this.onKeyPress),C(window,"scroll resize",this.clearOff)},onKeyPress:function(j){var C=this.em;" "!==Object(k.getKeyChar)(j)||1===C.getZoomDecimal()||C.get("Canvas").isInputFocused()||(this.preventDefault(j),C.get("Editor").runCommand("core:canvas-move"))},onWheel:function(j){if((j.ctrlKey||j.metaKey)&&this.em.getConfig("multiFrames")){this.preventDefault(j);var C=this.model,H=Math.max(-1,Math.min(1,j.wheelDelta||-j.detail)),n=C.get("zoom");C.set("zoom",n+2*H)}},updateFrames:function(j){var C=this.em,H=this.model.attributes,n=H.x,m=H.y,l=this.getZoom(),A={preserveSelected:1},q=l?1/l:1;this.framesArea.style.transform="scale(".concat(l,") translate(").concat(n*q,"px, ").concat(m*q,"px)"),this.clearOff(),C.stopDefault(A),C.trigger("canvas:update",j),_e&&clearTimeout(_e),_e=setTimeout(function(){return C.runDefault(A)},300)},getZoom:function(){return this.em.getZoomDecimal()},isElInViewport:function(j){var C=Object(k.getElement)(j),H=Object(k.getElRect)(C),n=this.getFrameOffset(C),m=H.top,l=H.left;return m>=0&&l>=0&&m<=n.height&&l<=n.width},offset:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=Object(k.getElRect)(j),n=j.ownerDocument.body,m=C.noScroll;return{top:H.top+(m?0:n.scrollTop),left:H.left+(m?0:n.scrollLeft),width:H.width,height:H.height}},clearOff:function(){this.frmOff=null,this.cvsOff=null},getFrameOffset:function(j){if(!this.frmOff||j){var C=this.frame.el,H=j&&j.ownerDocument.defaultView;this.frmOff=this.offset((H?H.frameElement:C)||C)}return this.frmOff},getCanvasOffset:function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},getElementPos:function(j,C){var H=this.getZoom(),n=C||{},m=this.getFrameOffset(j),l=this.getCanvasOffset(),A=this.offset(j,C);return{top:A.top*H+(n.avoidFrameOffset?0:m.top)-l.top,left:A.left*H+(n.avoidFrameOffset?0:m.left)-l.left,height:A.height*H,width:A.width*H,zoom:H,rect:A}},getElementOffsets:function(j){var C=this;if(!j||Object(k.isTextNode)(j))return{};var H={},n=window.getComputedStyle(j);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(m){H[m]=parseFloat(n[m])*C.getZoom()}),H},getPosition:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=this.frame.el.contentDocument;if(C){var H=C.body,n=this.getZoom(),m=this.getFrameOffset(),l=this.getCanvasOffset(),A=j.noScroll;return{top:m.top+(A?0:H.scrollTop)*n-l.top,left:m.left+(A?0:H.scrollLeft)*n-l.left,width:l.width,height:l.height}}},updateScript:function(j){var C=j.model,H=C.getId();j.scriptContainer||(j.scriptContainer=ae('<div data-id="'.concat(H,'">')),this.getJsContainer().appendChild(j.scriptContainer.get(0))),j.el.id=H,j.scriptContainer.html("");var n=document.createElement("script"),m=C.getScriptString(),l=C.get("script-props")?m:"function(){\n".concat(m,"\n;}"),A=JSON.stringify(C.__getScriptProps());n.innerHTML="\n      setTimeout(function() {\n        var item = document.getElementById('".concat(H,"');\n        if (!item) return;\n        (").concat(l,".bind(item))(").concat(A,")\n      }, 1);"),setTimeout(function(){var q=j.scriptContainer;q&&q.get(0).appendChild(n)},0)},getJsContainer:function(j){var C=this.getFrameView(j);return C&&C.getJsContainer()},getFrameView:function(j){return j&&j._getFrame()||this.em.get("currentFrame")},_renderFrames:function(){if(this.ready){var C=this.frames,H=this.em,n=this.framesArea,m=this.model.get("frames");m.listenToLoad(),C.render();var l=m.at(0),A=l&&l.view;H.setCurrentFrame(A),n&&n.appendChild(C.el),this.frame=A}},render:function(){var j=this.el,C=this.$el,H=this.ppfx,n=this.config,m=this.em;C.html(this.template());var l=C.find("[data-frames]");this.framesArea=l.get(0);var A=C.find("[data-tools]");this.toolsWrapper=A.get(0),A.append('\n      <div class="'.concat(H,"tools ").concat(H,'tools-gl" style="pointer-events:none">\n        <div class="').concat(H,'placeholder">\n          <div class="').concat(H,'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(H,'tools" style="pointer-events:none">\n        ').concat(n.extHl?'<div class="'.concat(H,'highlighter-sel"></div>'):"",'\n        <div class="').concat(H,'badge"></div>\n        <div class="').concat(H,'ghost"></div>\n        <div class="').concat(H,'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(H,'resizer"></div>\n        <div class="').concat(H,'offset-v"></div>\n        <div class="').concat(H,'offset-fixed-v"></div>\n      </div>\n    '));var q=j.querySelector("#".concat(H,"tools"));return this.hlEl=j.querySelector(".".concat(H,"highlighter")),this.badgeEl=j.querySelector(".".concat(H,"badge")),this.placerEl=j.querySelector(".".concat(H,"placeholder")),this.ghostEl=j.querySelector(".".concat(H,"ghost")),this.toolbarEl=j.querySelector(".".concat(H,"toolbar")),this.resizerEl=j.querySelector(".".concat(H,"resizer")),this.offsetEl=j.querySelector(".".concat(H,"offset-v")),this.fixedOffsetEl=j.querySelector(".".concat(H,"offset-fixed-v")),this.toolsGlobEl=j.querySelector(".".concat(H,"tools-gl")),this.toolsEl=q,this.el.className=Object(k.getUiClass)(m,this.className),this.ready=1,this._renderFrames(),this}});function G(j,C){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(j);C&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),H.push.apply(H,n)}return H}function W(j){for(var C=1;C<arguments.length;C++){var H=null!=arguments[C]?arguments[C]:{};C%2?G(Object(H),!0).forEach(function(n){U()(j,n,H[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):G(Object(H)).forEach(function(n){Object.defineProperty(j,n,Object.getOwnPropertyDescriptor(H,n))})}return j}le.default=function(){var j,C,H={};return{getCanvasView:function(){return C},name:"Canvas",init:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H=W(W(W({},f),n),{},{module:this}),this.em=H.em;var m=H,l=m.scripts,A=m.styles,q=H.pStylePrefix;return q&&(H.stylePrefix=q+H.stylePrefix),j=new B({scripts:l,styles:A},n),this.model=j,this.startAutoscroll=this.startAutoscroll.bind(this),this.stopAutoscroll=this.stopAutoscroll.bind(this),this},onLoad:function(){this.model.init()},getModel:function(){return j},getConfig:function(){return H},getElement:function(){return C.el},getFrame:function(n){return this.getFrames()[n||0]},getFrameEl:function(){var n=(C||{}).frame;return n&&n.el},getFramesEl:function(){return C.framesArea},getWindow:function(){return this.getFrameEl().contentWindow},getDocument:function(){var n=this.getFrameEl();return n&&n.contentDocument},getBody:function(){var n=this.getDocument();return n&&n.body},_getCompFrame:function(n){return n&&n._getFrame()},_getLocalEl:function(n,m,l){var A=n,q=this._getCompFrame(m);return q?q[l]():A},getGlobalToolsEl:function(){return C.toolsGlobEl},getToolsEl:function(n){return this._getLocalEl(C.toolsEl,n,"getToolsEl")},getHighlighter:function(n){return this._getLocalEl(C.hlEl,n,"getHighlighter")},getBadgeEl:function(n){return this._getLocalEl(C.badgeEl,n,"getBadgeEl")},getPlacerEl:function(){return C.placerEl},getGhostEl:function(){return C.ghostEl},getToolbarEl:function(){return C.toolbarEl},getResizerEl:function(){return C.resizerEl},getOffsetViewerEl:function(n){return this._getLocalEl(C.offsetEl,n,"getOffsetViewerEl")},getFixedOffsetViewerEl:function(){return C.fixedOffsetEl},render:function(){return C&&C.remove(),(C=new ne({model:j,config:H})).render().el},getOffset:function(){var n=this.offset(this.getFrameEl()),m=this.offset(this.getElement());return{top:n.top-m.top,left:n.left-m.left}},offset:function(n){return C.offset(n)},setCustomBadgeLabel:function(n){H.customBadgeLabel=n},getElementPos:function(n,m){return C.getElementPos(n,m)},getElementOffsets:function(n){return C.getElementOffsets(n)},getRect:function(){var n=C.getPosition(),m=n.top,l=n.left;return W(W({},C.getCanvasOffset()),{},{topScroll:m,leftScroll:l})},getTargetToElementDim:function(n,m){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},A=l||{},q=C.getPosition();if(q){var be=A.elPos||C.getElementPos(m),Le=l.toRight||0,ke=A.targetHeight||n.offsetHeight,ve=A.targetWidth||n.offsetWidth,Ee=A.event||null,Ne=be.top-ke,Je=be.left;Je+=Le?be.width:0;var St=(Je=Le?Je-ve:Je)<q.left?q.left:Je,vt=Ne<q.top?q.top:Ne,Z={top:vt=vt>be.top+be.height?be.top+be.height:vt,left:St,elementTop:be.top,elementLeft:be.left,elementWidth:be.width,elementHeight:be.height,targetWidth:n.offsetWidth,targetHeight:n.offsetHeight,canvasTop:q.top,canvasLeft:q.left,canvasWidth:q.width,canvasHeight:q.height};return Ee&&H.em&&H.em.trigger(Ee,Z),Z}},canvasRectOffset:function(n,m){var l=this,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},q=function(Le){var ke=Le.defaultView;return ke&&ke.frameElement},be=function(Le){var ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,ve=arguments.length>2?arguments[2]:void 0,Ee=l.em.getZoomDecimal(),Ne=ke?"top":"left",Je=Le.ownerDocument,St=A.offset?q(Je):{},vt=St.offsetTop,Z=void 0===vt?0:vt,ce=St.offsetLeft,je=void 0===ce?0:ce,qe=Je.body||{},nt=qe.scrollTop,ut=void 0===nt?0:nt,mt=qe.scrollLeft,X=void 0===mt?0:mt,Te=ke?ut:X,Re=ke?Z:je;return ve[Ne]-(Te-Re)*Ee};return{top:be(n,1,m),left:be(n,0,m)}},getTargetToElementFixed:function(n,m){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},A=l.pos||this.getElementPos(n),q=l.canvasOff||this.canvasRectOffset(n,A),be=m.offsetHeight||0,Le=m.offsetWidth||0,ke=A.left+A.width,ve=this.getCanvasView(),Ee=ve.getPosition(),Ne=ve.getFrameOffset(n),Je=l.event,St=-be,vt=Object(L.isUndefined)(l.left)?A.width-Le:l.left;vt=A.left<-vt?-A.left:vt;var Z=A.height+be,ce=Z<Ne.height;q.top<be&&(ce?St+=Z:St=-q.top<A.height?-q.top:A.height);var je={top:St,left:vt=ke>Ee.width?vt-(ke-Ee.width):vt,canvasOffsetTop:q.top,canvasOffsetLeft:q.left};return Je&&this.em.trigger(Je,je),je},getMouseRelativePos:function(n,m){var l=0,A=0,q=(m||{}).subWinOffset,be=n.target.ownerDocument,Le=be.defaultView||be.parentWindow,ke=Le.frameElement,ve=q?Le.pageYOffset:0,Ee=q?Le.pageXOffset:0;if(ke){var Ne=ke.getBoundingClientRect();l=Ne.top||0,A=Ne.left||0}return{y:n.clientY+l-ve,x:n.clientX+A-Ee}},getMouseRelativeCanvas:function(n,m){var l=this.getZoomDecimal(),A=C.getPosition(m);return{y:n.clientY*l+A.top,x:n.clientX*l+A.left}},hasFocus:function(){return this.getDocument().hasFocus()},isInputFocused:function(){var n=this.getDocument(),m=this.getFrameEl(),l=["body"].concat(se()(this.getConfig().notTextable)),A=m&&document.activeElement===m?n&&n.activeElement:document.activeElement;return A&&!l.some(function(q){return A.matches(q)})},scrollTo:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Object(k.getElement)(n),A=l&&Object(k.getViewEl)(l);A&&A.scrollIntoView(m)},startAutoscroll:function(n){var m=n&&n.view||this.em.getCurrentFrame();m&&m.startAutoscroll()},stopAutoscroll:function(n){var m=n&&n.view||this.em.getCurrentFrame();m&&m.stopAutoscroll()},setZoom:function(n){return j.set("zoom",parseFloat(n)),this},getZoom:function(){return parseFloat(j.get("zoom"))},setCoords:function(n,m){return j.set({x:parseFloat(n),y:parseFloat(m)}),this},getCoords:function(){var n=j.attributes;return{x:n.x,y:n.y}},getZoomDecimal:function(){return this.getZoom()/100},getZoomMultiplier:function(){var n=this.getZoomDecimal();return n?1/n:1},toggleFramesEvents:function(n){this.getFramesEl().style.pointerEvents=n?"":"none"},getFrames:function(){return j.get("frames").map(function(n){return n})},addFrame:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j.get("frames").add(W({},n),W(W({},m),{},{em:this.em}))},destroy:function(){var n=this;j.stopListening(),C&&C.remove(),[H,j,C].forEach(function(m){return{}}),["em","model","droppable"].forEach(function(m){return n[m]={}})}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(11),se=o.n(ee),J=o(3),U=o.n(J),L=o(0),k=o(21),f=o(2),g=o.n(f),h={stylePrefix:"sm-",sectors:[],appendTo:"",hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]},y=o(5),d=o.n(y),P=o(6),O=o.n(P),v=o(8),D=o.n(v),I=o(9),T=o.n(I),S=o(4),r=o.n(S),_=o(33),E=function(){return{build:function(ne){var G=[];"string"==typeof ne&&(ne=[ne]);for(var W=0,j=ne.length;W<j;W++){var C={},H=ne[W];switch("border-radius-c"===(C.property=H,H)&&(C.property="border-radius"),H){case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"width":case"max-width":case"min-width":case"height":case"max-height":case"min-height":case"flex-basis":C.fixedValues=["initial","inherit","auto"];break;case"font-size":C.fixedValues=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"];break;case"letter-spacing":case"line-height":C.fixedValues=["normal","initial","inherit"]}switch(H){case"float":case"position":case"text-align":C.type="radio";break;case"display":case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":case"align-self":case"font-family":case"font-weight":case"border-style":case"box-shadow-type":case"background-repeat":case"background-position":case"background-attachment":case"background-size":case"transition-property":case"transition-timing-function":case"cursor":case"overflow":case"overflow-x":case"overflow-y":C.type="select";break;case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"letter-spacing":case"line-height":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-h":case"box-shadow-v":case"box-shadow-blur":case"box-shadow-spread":case"transition-duration":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"order":case"flex-grow":case"flex-shrink":case"flex-basis":C.type="integer";break;case"margin":case"padding":case"border-radius":case"border":case"transform":C.type="composite";break;case"color":case"text-shadow-color":case"background-color":case"border-color":case"box-shadow-color":C.type="color";break;case"text-shadow":case"box-shadow":case"background":case"transition":C.type="stack";break;case"background-image":C.type="file"}switch(H){case"float":case"background-color":case"text-shadow":C.defaults="none";break;case"display":C.defaults="block";break;case"flex-direction":C.defaults="row";break;case"flex-wrap":C.defaults="nowrap";break;case"justify-content":C.defaults="flex-start";break;case"align-items":case"align-content":C.defaults="stretch";break;case"align-self":case"top":case"right":case"bottom":case"left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"background-size":case"cursor":case"flex-basis":C.defaults="auto";break;case"position":C.defaults="static";break;case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"box-shadow-h":case"box-shadow-v":case"box-shadow-spread":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"order":case"flex-grow":C.defaults=0;break;case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":C.defaults="0px";break;case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"flex-shrink":C.defaults=1;break;case"box-shadow-blur":C.defaults="5px";break;case"font-family":C.defaults="Arial, Helvetica, sans-serif";break;case"font-size":case"border-width":C.defaults="medium";break;case"font-weight":C.defaults="400";break;case"letter-spacing":case"line-height":C.defaults="normal";break;case"color":case"text-shadow-color":case"border-color":case"box-shadow-color":C.defaults="black";break;case"text-align":C.defaults="left";break;case"border-style":C.defaults="solid";break;case"box-shadow-type":C.defaults="";break;case"background-repeat":C.defaults="repeat";break;case"background-position":C.defaults="left top";break;case"background-attachment":C.defaults="scroll";break;case"transition-property":C.defaults="width";break;case"transition-duration":C.defaults="2";break;case"transition-timing-function":C.defaults="ease";break;case"overflow":case"overflow-x":case"overflow-y":C.defaults="visible"}switch(H){case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":C.requires={display:["flex"]};break;case"order":case"flex-basis":case"flex-grow":case"flex-shrink":case"align-self":C.requiresParent={display:["flex"]}}switch(H){case"top":case"bottom":case"margin-top":case"margin-bottom":case"padding-top":case"padding-bottom":case"min-height":case"max-height":case"height":C.units=["px","%","vh"];break;case"right":case"left":case"margin-right":case"margin-left":case"padding-right":case"padding-left":case"min-width":case"max-width":case"width":C.units=["px","%","vw"];break;case"flex-basis":C.units=["px","%","vw","vh"];break;case"text-shadow-v":case"text-shadow-h":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"box-shadow-h":case"box-shadow-v":C.units=["px","%"];break;case"font-size":case"letter-spacing":case"line-height":C.units=["px","em","rem","%"];break;case"border-width":C.units=["px","em"];break;case"box-shadow-blur":case"box-shadow-spread":case"perspective":C.units=["px"];break;case"transition-duration":C.units=["s"];break;case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":C.units=["deg"]}switch(H){case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-blur":case"transition-duration":case"perspective":case"flex-basis":C.min=0}switch(H){case"text-shadow":case"box-shadow":case"background":C.preview=!0}switch("background"===H&&(C.detached=!0),H){case"transform-rotate-x":C.functionName="rotateX";break;case"transform-rotate-y":C.functionName="rotateY";break;case"transform-rotate-z":C.functionName="rotateZ";break;case"transform-scale-x":C.functionName="scaleX";break;case"transform-scale-y":C.functionName="scaleY";break;case"transform-scale-z":C.functionName="scaleZ";break;case"background-image":C.functionName="url"}switch(H){case"float":C.list=[{value:"none"},{value:"left"},{value:"right"}];break;case"display":C.list=[{value:"block"},{value:"inline"},{value:"inline-block"},{value:"flex"},{value:"none"}];break;case"flex-direction":C.list=[{value:"row"},{value:"row-reverse"},{value:"column"},{value:"column-reverse"}];break;case"flex-wrap":C.list=[{value:"nowrap"},{value:"wrap"},{value:"wrap-reverse"}];break;case"justify-content":C.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"space-evenly"}];break;case"align-items":C.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"align-content":C.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"stretch"}];break;case"align-self":C.list=[{value:"auto"},{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"position":C.list=[{value:"static"},{value:"relative"},{value:"absolute"},{value:"fixed"}];break;case"font-family":var n=", sans-serif",m=["Arial, Helvetica"+n,"Arial Black, Gadget"+n,"Brush Script MT"+n,"Comic Sans MS, cursive"+n,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+n,"Impact, Charcoal"+n,"Lucida Sans Unicode, Lucida Grande"+n,"Tahoma, Geneva"+n,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+n,"Verdana, Geneva"+n];C.list=[];for(var l=0,A=m.length;l<A;l++){var q={};q.value=m[l],q.name=m[l].split(",")[0],C.list.push(q)}break;case"font-weight":C.list=[{value:"100",name:"Thin"},{value:"200",name:"Extra-Light"},{value:"300",name:"Light"},{value:"400",name:"Normal"},{value:"500",name:"Medium"},{value:"600",name:"Semi-Bold"},{value:"700",name:"Bold"},{value:"800",name:"Extra-Bold"},{value:"900",name:"Ultra-Bold"}];break;case"text-align":C.list=[{value:"left"},{value:"center"},{value:"right"},{value:"justify"}];break;case"border-style":C.list=[{value:"none"},{value:"solid"},{value:"dotted"},{value:"dashed"},{value:"double"},{value:"groove"},{value:"ridge"},{value:"inset"},{value:"outset"}];break;case"box-shadow-type":C.list=[{value:"",name:"Outside"},{value:"inset",name:"Inside"}];break;case"background-repeat":C.list=[{value:"repeat"},{value:"repeat-x"},{value:"repeat-y"},{value:"no-repeat"}];break;case"background-position":C.list=[{value:"left top"},{value:"left center"},{value:"left bottom"},{value:"right top"},{value:"right center"},{value:"right bottom"},{value:"center top"},{value:"center center"},{value:"center bottom"}];break;case"background-attachment":C.list=[{value:"scroll"},{value:"fixed"},{value:"local"}];break;case"background-size":C.list=[{value:"auto"},{value:"cover"},{value:"contain"}];break;case"transition-property":C.list=[{value:"all"},{value:"width"},{value:"height"},{value:"background-color"},{value:"transform"},{value:"box-shadow"},{value:"opacity"}];break;case"transition-timing-function":C.list=[{value:"linear"},{value:"ease"},{value:"ease-in"},{value:"ease-out"},{value:"ease-in-out"}];break;case"cursor":C.list=[{value:"auto"},{value:"pointer"},{value:"copy"},{value:"crosshair"},{value:"grab"},{value:"grabbing"},{value:"help"},{value:"move"},{value:"text"}];break;case"overflow":case"overflow-x":case"overflow-y":C.list=[{value:"visible"},{value:"hidden"},{value:"scroll"},{value:"auto"}]}switch(H){case"margin":C.properties=this.build(["margin-top","margin-right","margin-bottom","margin-left"]);break;case"padding":C.properties=this.build(["padding-top","padding-right","padding-bottom","padding-left"]);break;case"text-shadow":C.properties=this.build(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"]);break;case"border":C.properties=this.build(["border-width","border-style","border-color"]);break;case"border-radius":C.properties=this.build(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]);break;case"box-shadow":C.properties=this.build(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"]);break;case"background":C.properties=this.build(["background-image","background-repeat","background-position","background-attachment","background-size"]);break;case"transition":C.properties=this.build(["transition-property","transition-duration","transition-timing-function"]);break;case"transform":C.properties=this.build(["transform-rotate-x","transform-rotate-y","transform-rotate-z","transform-scale-x","transform-scale-y","transform-scale-z"])}G.push(C)}return G}}},$=function(ne){D()(W,ne);var G=function(ne){var G=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(W){return!1}}();return function(){var W,j=r()(ne);if(G){var C=r()(this).constructor;W=Reflect.construct(j,arguments,C)}else W=j.apply(this,arguments);return T()(this,W)}}(W);function W(){return d()(this,W),G.apply(this,arguments)}return O()(W,[{key:"defaults",value:function(){return{id:"",name:"",open:!0,buildProps:"",extendBuilded:1,properties:[]}}},{key:"initialize",value:function(j){var m,H=this.buildProperties((j||{}).buildProps),n=this.get("name")||"";!this.get("id")&&this.set("id",n.replace(/ /g,"_").toLowerCase()),m=H?this.extendProperties(H):this.get("properties");var l=new _.default(m);l.sector=this,this.set("properties",l)}},{key:"getId",value:function(){return this.get("id")}},{key:"getName",value:function(){return this.get("name")}},{key:"setName",value:function(j){return this.set("name",j)}},{key:"isOpen",value:function(){return!!this.get("open")}},{key:"setOpen",value:function(j){return this.set("open",j)}},{key:"getProperties",value:function(){var j=this.get("properties");return j.models?se()(j.models):j}},{key:"extendProperties",value:function(j,C,H){for(var n=j.length,m=C||this.get("properties"),l=this.get("extendBuilded"),A=[],q=0,be=m.length;q<be;q++){for(var Le=m[q],ke=0,ve=0;ve<n;ve++){var Ee=j[ve];if(Le.property==Ee.property||Le.id==Ee.property){var Ne=Le.properties;Ne&&Ne.length&&(Le.properties=this.extendProperties(Ee.properties||[],Ne,1)),j[ve]=l?Object(L.extend)(Ee,Le):Le,A[ve]=j[ve],ke=1}}ke||(j.push(Le),A.push(Le))}return H?A.filter(function(Je){return Je}):j}},{key:"buildProperties",value:function(j){var C=j||[];if(C.length)return this.propFactory||(this.propFactory=new E),this.propFactory.build(C)}}]),W}(f.Model),p=function(ne){D()(W,ne);var G=function(ne){var G=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(W){return!1}}();return function(){var W,j=r()(ne);if(G){var C=r()(this).constructor;W=Reflect.construct(j,arguments,C)}else W=j.apply(this,arguments);return T()(this,W)}}(W);function W(){return d()(this,W),G.apply(this,arguments)}return O()(W,[{key:"initialize",value:function(){this.listenTo(this,"reset",this.onReset)}},{key:"onReset",value:function(j){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=C.previousModels||[];H.forEach(function(n){return n.get("properties").reset()})}}]),W}(f.Collection);p.prototype.model=$;var u,x=o(1),b=o(13),R=o(19),Q=o.n(R),re=o(17),Fe=o(28),fe=function(ne){D()(W,ne);var G=function(ne){var G=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(W){return!1}}();return function(){var W,j=r()(ne);if(G){var C=r()(this).constructor;W=Reflect.construct(j,arguments,C)}else W=j.apply(this,arguments);return T()(this,W)}}(W);function W(){return d()(this,W),G.apply(this,arguments)}return O()(W,[{key:"template",value:function(j){var C=j.pfx,H=j.label;return Object(re.a)(u||(u=Q()(['\n      <div class="','title" data-sector-title>\n        <i id="','caret" class="fa"></i>\n        ',"\n      </div>\n    "])),C,C,H)}},{key:"events",value:function(){return{"click [data-sector-title]":"toggle"}}},{key:"initialize",value:function(j){this.config=j.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.target=j.target||{},this.propTarget=j.propTarget||{},this.caretR="fa-caret-right",this.caretD="fa-caret-down";var C=this.model;this.listenTo(C,"change:open",this.updateOpen),this.listenTo(C,"updateVisibility",this.updateVisibility),this.listenTo(C,"destroy remove",this.remove)}},{key:"updateVisibility",value:function(){var j;this.model.get("properties").each(function(C){C.get("visible")&&(j=1)}),this.el.style.display=j?"":"none"}},{key:"updateOpen",value:function(){this.model.get("open")?this.show():this.hide()}},{key:"show",value:function(){this.$el.addClass(this.pfx+"open"),this.getPropertiesEl().style.display="",this.$caret.removeClass(this.caretR).addClass(this.caretD)}},{key:"hide",value:function(){this.$el.removeClass(this.pfx+"open"),this.getPropertiesEl().style.display="none",this.$caret.removeClass(this.caretD).addClass(this.caretR)}},{key:"getPropertiesEl",value:function(){return this.$el.find(".".concat(this.pfx,"properties")).get(0)}},{key:"toggle",value:function(j){var C=this.model,H=C.get("open")?0:1;C.set("open",H)}},{key:"render",value:function(){var j=this.pfx,H=this.em,n=this.$el,m=this.model.attributes,l=m.id,A=m.name,q=H&&H.t("styleManager.sectors.".concat(l))||A;return n.html(this.template({pfx:j,label:q})),this.$caret=n.find("#".concat(j,"caret")),this.renderProperties(),n.attr("class","".concat(j,"sector ").concat(j,"sector__").concat(l," no-select")),this.updateOpen(),this}},{key:"renderProperties",value:function(){var C=this.target,H=this.propTarget,n=this.config,m=this.model.get("properties");if(m){var l=new Fe.default({collection:m,target:C,propTarget:H,config:n});this.$el.append(l.render().el)}}}]),W}(f.View);function Ae(ne,G){var W=Object.keys(ne);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(ne);G&&(j=j.filter(function(C){return Object.getOwnPropertyDescriptor(ne,C).enumerable})),W.push.apply(W,j)}return W}function Pe(ne){for(var G=1;G<arguments.length;G++){var W=null!=arguments[G]?arguments[G]:{};G%2?Ae(Object(W),!0).forEach(function(j){U()(ne,j,W[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(W)):Ae(Object(W)).forEach(function(j){Object.defineProperty(ne,j,Object.getOwnPropertyDescriptor(W,j))})}return ne}var de="hc-state",pe=g.a.View.extend({initialize:function(){var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=ne.config||{};this.pfx=G.stylePrefix||"",this.ppfx=G.pStylePrefix||"",this.target=ne.target||{},this.config=G;var W={};Object(L.extend)(W,g.a.Events);var j=document.body,C=document.createElement("el-".concat((new Date).getTime()));j.appendChild(C),W.computedDefault=Pe({},window.getComputedStyle(C)),j.removeChild(C),this.propTarget=W;var H=this.collection,n="component:toggled component:update:classes change:state change:device frame:resized";this.listenTo(H,"add",this.addTo),this.listenTo(H,"reset",this.render),this.listenTo(this.target,n,this.targetUpdated)},remove:function(){var ne=this;g.a.View.prototype.remove.apply(this,arguments),["target","config","propTarget"].forEach(function(G){return ne[G]={}})},addTo:function(ne,G){var W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.addToCollection(ne,null,W)},toggleStateCls:function(){var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],G=arguments.length>1?arguments[1]:void 0;ne.forEach(function(W){var j=W.getEl();j&&j.classList&&j.classList[G?"add":"remove"](de)})},targetUpdated:function(ne){var G=this.target,W=this.propTarget,j=G.getSelectedAll(),C=G.getSelected(),H=ne&&ne.toHTML?ne:C;if(H&&this.toggleStateCls([H]),C){var n=G.get("Config").devicePreviewMode?"":G.get("state"),m=G.get("SelectorManager").getConfig().componentFirst,l=C.getEl();if(W.helper=null,W.targets=null,l&&Object(x.isTaggableNode)(l)){var A=n?":".concat(n):null;W.computed=window.getComputedStyle(l,A)}var q=G.get("StyleManager"),be=q.getModelToStyle(C);n&&(function(){var Le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ke=G.get("CssComposer"),ve=ke.getAll(),Ee=ke.getClassRule(de);Ee?(ve.remove(Ee),ve.add(Ee)):Ee=ke.setClassRule(de),Ee.set("important",1),Ee.setStyle(Le),W.helper=Ee}(be.getStyle()),this.toggleStateCls(j,1)),W.model=be,W.parentRules=q.getParentRules(be,n),m&&(W.targets=j.map(function(Le){return q.getModelToStyle(Le)}).filter(Boolean)),W.trigger("update"),G.trigger("styleManager:update")}},setTarget:function(ne){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W=this.target,j=Object(L.isArray)(ne)?ne:[ne],C=G.targetIsClass,H=G.stylable,n=[];j.forEach(function(l){var A=l;if(Object(L.isString)(l)){var q,be=W.get("CssComposer").getAll();C&&(q=be.filter(function(Le){return Le.get("selectors").getFullString()===l})[0]),q||(q=be.filter(function(Le){return Le.get("selectorsAdd")===l})[0]),q||(q=be.add({selectors:[],selectorsAdd:l})),H&&q.set({stylable:H}),A=q}n.push(A)});var m=this.propTarget;return m.targets=n,m.trigger("update",{targets:n}),n},addToCollection:function(ne,G){var W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},j=this.pfx,C=this.target,H=this.propTarget,n=this.config,m=this.el,l=G||m,A=new fe({model:ne,id:"".concat(j).concat(ne.get("id")),name:ne.get("name"),properties:ne.get("properties"),target:C,propTarget:H,config:n}).render().el;return Object(b.b)(l,A,W.at),A},render:function(){var ne=this,G=document.createDocumentFragment(),W=this.$el,j=this.pfx,C=this.ppfx;return W.empty(),this.collection.each(function(H){return ne.addToCollection(H,G)}),W.append(G),W.addClass("".concat(j,"sectors ").concat(C,"one-bg ").concat(C,"two-color")),this}});function _e(ne,G){var W=Object.keys(ne);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(ne);G&&(j=j.filter(function(C){return Object.getOwnPropertyDescriptor(ne,C).enumerable})),W.push.apply(W,j)}return W}function ae(ne){for(var G=1;G<arguments.length;G++){var W=null!=arguments[G]?arguments[G]:{};G%2?_e(Object(W),!0).forEach(function(j){U()(ne,j,W[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(W)):_e(Object(W)).forEach(function(j){Object.defineProperty(ne,j,Object.getOwnPropertyDescriptor(W,j))})}return ne}le.default=function(){var ne,G,W,j={};return ae(ae({},k.a),{},{Sector:$,PropertyFactory:{build:function(C){var H=[];"string"==typeof C&&(C=[C]);for(var n=0,m=C.length;n<m;n++){var l={},A=C[n];switch("border-radius-c"===(l.property=A,A)&&(l.property="border-radius"),A){case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"width":case"max-width":case"min-width":case"height":case"max-height":case"min-height":case"flex-basis":l.fixedValues=["initial","inherit","auto"];break;case"font-size":l.fixedValues=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"];break;case"letter-spacing":case"line-height":l.fixedValues=["normal","initial","inherit"]}switch(A){case"float":case"position":case"text-align":l.type="radio";break;case"display":case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":case"align-self":case"font-family":case"font-weight":case"border-style":case"box-shadow-type":case"background-repeat":case"background-position":case"background-attachment":case"background-size":case"transition-property":case"transition-timing-function":case"cursor":case"overflow":case"overflow-x":case"overflow-y":l.type="select";break;case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"letter-spacing":case"line-height":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-h":case"box-shadow-v":case"box-shadow-blur":case"box-shadow-spread":case"transition-duration":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"order":case"flex-grow":case"flex-shrink":case"flex-basis":l.type="integer";break;case"margin":case"padding":case"border-radius":case"border":case"transform":l.type="composite";break;case"color":case"text-shadow-color":case"background-color":case"border-color":case"box-shadow-color":l.type="color";break;case"text-shadow":case"box-shadow":case"background":case"transition":l.type="stack";break;case"background-image":l.type="file"}switch(A){case"float":case"background-color":case"text-shadow":l.defaults="none";break;case"display":l.defaults="block";break;case"flex-direction":l.defaults="row";break;case"flex-wrap":l.defaults="nowrap";break;case"justify-content":l.defaults="flex-start";break;case"align-items":case"align-content":l.defaults="stretch";break;case"align-self":case"top":case"right":case"bottom":case"left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"background-size":case"cursor":case"flex-basis":l.defaults="auto";break;case"position":l.defaults="static";break;case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"box-shadow-h":case"box-shadow-v":case"box-shadow-spread":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"order":case"flex-grow":l.defaults=0;break;case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":l.defaults="0px";break;case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"flex-shrink":l.defaults=1;break;case"box-shadow-blur":l.defaults="5px";break;case"font-family":l.defaults="Arial, Helvetica, sans-serif";break;case"font-size":case"border-width":l.defaults="medium";break;case"font-weight":l.defaults="400";break;case"letter-spacing":case"line-height":l.defaults="normal";break;case"color":case"text-shadow-color":case"border-color":case"box-shadow-color":l.defaults="black";break;case"text-align":l.defaults="left";break;case"border-style":l.defaults="solid";break;case"box-shadow-type":l.defaults="";break;case"background-repeat":l.defaults="repeat";break;case"background-position":l.defaults="left top";break;case"background-attachment":l.defaults="scroll";break;case"transition-property":l.defaults="width";break;case"transition-duration":l.defaults="2";break;case"transition-timing-function":l.defaults="ease";break;case"overflow":case"overflow-x":case"overflow-y":l.defaults="visible"}switch(A){case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":l.requires={display:["flex"]};break;case"order":case"flex-basis":case"flex-grow":case"flex-shrink":case"align-self":l.requiresParent={display:["flex"]}}switch(A){case"top":case"bottom":case"margin-top":case"margin-bottom":case"padding-top":case"padding-bottom":case"min-height":case"max-height":case"height":l.units=["px","%","vh"];break;case"right":case"left":case"margin-right":case"margin-left":case"padding-right":case"padding-left":case"min-width":case"max-width":case"width":l.units=["px","%","vw"];break;case"flex-basis":l.units=["px","%","vw","vh"];break;case"text-shadow-v":case"text-shadow-h":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"box-shadow-h":case"box-shadow-v":l.units=["px","%"];break;case"font-size":case"letter-spacing":case"line-height":l.units=["px","em","rem","%"];break;case"border-width":l.units=["px","em"];break;case"box-shadow-blur":case"box-shadow-spread":case"perspective":l.units=["px"];break;case"transition-duration":l.units=["s"];break;case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":l.units=["deg"]}switch(A){case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-blur":case"transition-duration":case"perspective":case"flex-basis":l.min=0}switch(A){case"text-shadow":case"box-shadow":case"background":l.preview=!0}switch("background"===A&&(l.detached=!0),A){case"transform-rotate-x":l.functionName="rotateX";break;case"transform-rotate-y":l.functionName="rotateY";break;case"transform-rotate-z":l.functionName="rotateZ";break;case"transform-scale-x":l.functionName="scaleX";break;case"transform-scale-y":l.functionName="scaleY";break;case"transform-scale-z":l.functionName="scaleZ";break;case"background-image":l.functionName="url"}switch(A){case"float":l.list=[{value:"none"},{value:"left"},{value:"right"}];break;case"display":l.list=[{value:"block"},{value:"inline"},{value:"inline-block"},{value:"flex"},{value:"none"}];break;case"flex-direction":l.list=[{value:"row"},{value:"row-reverse"},{value:"column"},{value:"column-reverse"}];break;case"flex-wrap":l.list=[{value:"nowrap"},{value:"wrap"},{value:"wrap-reverse"}];break;case"justify-content":l.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"space-evenly"}];break;case"align-items":l.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"align-content":l.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"stretch"}];break;case"align-self":l.list=[{value:"auto"},{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"position":l.list=[{value:"static"},{value:"relative"},{value:"absolute"},{value:"fixed"}];break;case"font-family":var q=", sans-serif",be=["Arial, Helvetica"+q,"Arial Black, Gadget"+q,"Brush Script MT"+q,"Comic Sans MS, cursive"+q,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+q,"Impact, Charcoal"+q,"Lucida Sans Unicode, Lucida Grande"+q,"Tahoma, Geneva"+q,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+q,"Verdana, Geneva"+q];l.list=[];for(var Le=0,ke=be.length;Le<ke;Le++){var ve={};ve.value=be[Le],ve.name=be[Le].split(",")[0],l.list.push(ve)}break;case"font-weight":l.list=[{value:"100",name:"Thin"},{value:"200",name:"Extra-Light"},{value:"300",name:"Light"},{value:"400",name:"Normal"},{value:"500",name:"Medium"},{value:"600",name:"Semi-Bold"},{value:"700",name:"Bold"},{value:"800",name:"Extra-Bold"},{value:"900",name:"Ultra-Bold"}];break;case"text-align":l.list=[{value:"left"},{value:"center"},{value:"right"},{value:"justify"}];break;case"border-style":l.list=[{value:"none"},{value:"solid"},{value:"dotted"},{value:"dashed"},{value:"double"},{value:"groove"},{value:"ridge"},{value:"inset"},{value:"outset"}];break;case"box-shadow-type":l.list=[{value:"",name:"Outside"},{value:"inset",name:"Inside"}];break;case"background-repeat":l.list=[{value:"repeat"},{value:"repeat-x"},{value:"repeat-y"},{value:"no-repeat"}];break;case"background-position":l.list=[{value:"left top"},{value:"left center"},{value:"left bottom"},{value:"right top"},{value:"right center"},{value:"right bottom"},{value:"center top"},{value:"center center"},{value:"center bottom"}];break;case"background-attachment":l.list=[{value:"scroll"},{value:"fixed"},{value:"local"}];break;case"background-size":l.list=[{value:"auto"},{value:"cover"},{value:"contain"}];break;case"transition-property":l.list=[{value:"all"},{value:"width"},{value:"height"},{value:"background-color"},{value:"transform"},{value:"box-shadow"},{value:"opacity"}];break;case"transition-timing-function":l.list=[{value:"linear"},{value:"ease"},{value:"ease-in"},{value:"ease-out"},{value:"ease-in-out"}];break;case"cursor":l.list=[{value:"auto"},{value:"pointer"},{value:"copy"},{value:"crosshair"},{value:"grab"},{value:"grabbing"},{value:"help"},{value:"move"},{value:"text"}];break;case"overflow":case"overflow-x":case"overflow-y":l.list=[{value:"visible"},{value:"hidden"},{value:"scroll"},{value:"auto"}]}switch(A){case"margin":l.properties=this.build(["margin-top","margin-right","margin-bottom","margin-left"]);break;case"padding":l.properties=this.build(["padding-top","padding-right","padding-bottom","padding-left"]);break;case"text-shadow":l.properties=this.build(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"]);break;case"border":l.properties=this.build(["border-width","border-style","border-color"]);break;case"border-radius":l.properties=this.build(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]);break;case"box-shadow":l.properties=this.build(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"]);break;case"background":l.properties=this.build(["background-image","background-repeat","background-position","background-attachment","background-size"]);break;case"transition":l.properties=this.build(["transition-property","transition-duration","transition-timing-function"]);break;case"transform":l.properties=this.build(["transform-rotate-x","transform-rotate-y","transform-rotate-z","transform-scale-x","transform-scale-y","transform-scale-z"])}H.push(l)}return H}},name:"StyleManager",getConfig:function(){return j},init:function(C){var H=this,n=(j=ae(ae({},h),C)).pStylePrefix,m=j.em;return this.em=m,n&&(j.stylePrefix=n+j.stylePrefix),ne=new _.default,G=new p([],j),this.model=new f.Model({targets:[]}),m.on("component:toggled component:update:classes change:state change:device frame:resized selector:type",Object(L.debounce)(function(){H.select(m.getSelectedAll()),m.trigger("style:custom")})),this},onLoad:function(){G.add(j.sectors,{silent:!0})},postRender:function(){var C=this.getConfig().appendTo;if(C){var H=Object(L.isElement)(C)?C:document.querySelector(C);if(!H)return this.__logWarn('"appendTo" element not found');H.appendChild(this.render())}},addSector:function(C,H){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m=this.getSector(C);return m||(H.id=C,m=G.add(H,n)),m},getSector:function(C){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=G.where({id:C})[0];return!n&&H.warn&&this._logNoSector(C),n||null},removeSector:function(C){return this.getSectors().remove(this.getSector(C,{warn:1}))},getSectors:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return G&&G.models?C.array?se()(G.models):G:[]},addProperty:function(C,H){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m=this.getSector(C,{warn:1}),l=null;return m&&(l=m.get("properties").add(H,n)),l},getProperty:function(C,H){var n,m=this.getSector(C,{warn:1});return m&&(n=m.get("properties").filter(function(l){return l.get("property")===H||l.get("id")===H})[0]),n||null},removeProperty:function(C,H){var n=this.getProperties(C);return n&&n.remove(this.getProperty(C,H))},getProperties:function(C){var H=null,n=this.getSector(C,{warn:1});return n&&(H=n.get("properties")),H},getModelToStyle:function(C){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=j.em,m=H.skipAdd,l=C.get("classes"),A=C.getId();if(n&&l){var q,be=n.getConfig(),Le=n.get("UndoManager"),ke=n.get("CssComposer"),ve=n.get("SelectorManager"),Ee=ve?ve.getConfig():{},Ne=be.devicePreviewMode?"":n.get("state"),Je=l.getStyleable(),St=Je.length,vt=!Ee.componentFirst||H.useClasses,Z={noCount:1},ce={state:Ne,addOpts:Z};if(Le.stop(),St&&vt){var je=n.getCurrentMedia();(q=ke.get(Je,Ne,je))||m||(q=ke.add(Je,Ne,je,{},Z))}else be.avoidInlineStyle&&(!(q=ke.getIdRule(A,ce))&&!m&&(q=ke.setIdRule(A,{},ce)),C.is("wrapper")&&q.set("wrapper",1,Z));q&&(C=q),Le.start()}return C},getParentRules:function(C,H){var n=j.em,m=[];if(n&&C){var l=n.get("CssComposer"),A=n.get("CodeManager").getGenerator("css"),q=l.getRules(C.getSelectors().getFullString()).filter(function(be){return H?be.get("state")===H:1}).sort(A.sortRules).reverse();m=q.slice(q.indexOf(C)+1)}return m},addType:function(C,H){ne.addType(C,H)},getType:function(C){return ne.getType(C)},getTypes:function(){return ne.getTypes()},createType:function(C){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=H.model,m=void 0===n?{}:n,l=H.view,A=void 0===l?{}:l,q=this.getType(C);if(q)return new q.view(ae({model:new q.model(m),config:j},A))},setTarget:function(C,H){return W.setTarget(C,H)},getTargets:function(){var C=(W||{}).propTarget;return C&&C.targets||[]},select:function(C){var H=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=this.em,l=Object(L.isArray)(C)?C:[C],A=n.stylable,q=m.get("CssComposer"),be=[];l.filter(Boolean).forEach(function(ve){var Ee=ve;if(Object(L.isString)(ve)){var Ne=q.getRule(ve)||q.setRule(ve);!Object(L.isUndefined)(A)&&Ne.set({stylable:A}),Ee=Ne}be.push(Ee)});var Le=(be=be.map(function(ve){return H.getModelToStyle(ve)})).slice().reverse()[0],ke=this.getParentRules(Le);return this.model.set({targets:be,lastTarget:Le,lastTargetParents:ke}),be},getSelected:function(){return this.model.get("targets")},getLastSelected:function(){return this.model.get("lastTarget")||null},getSelectedParents:function(){return this.model.get("lastTargetParents")||[]},getEmitter:function(){return W.propTarget},render:function(){return(W=new pe({el:W&&W.el,collection:G,target:j.em,config:j})).render().el},_logNoSector:function(C){var H=this.em;H&&H.logWarning("'".concat(C,"' sector not found"))},destroy:function(){[ne,G].forEach(function(C){C.reset(),C.stopListening()}),W&&W.remove(),[j,ne,G,W].forEach(function(C){return{}}),this.em={}}})}},function(Ye,le,o){"use strict";o.r(le);var ee=o(0),se={stylePrefix:"cm-",inlineCss:!1},J=o(3),U=o.n(J),L=o(5),k=o.n(L),f=o(6),g=o.n(f),h=o(8),y=o.n(h),d=o(9),P=o.n(d),O=o(4),v=o.n(O),D=o(2),I=o.n(D);function T(fe,Ae){var Pe=Object.keys(fe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(fe);Ae&&(de=de.filter(function(pe){return Object.getOwnPropertyDescriptor(fe,pe).enumerable})),Pe.push.apply(Pe,de)}return Pe}function S(fe){for(var Ae=1;Ae<arguments.length;Ae++){var Pe=null!=arguments[Ae]?arguments[Ae]:{};Ae%2?T(Object(Pe),!0).forEach(function(de){U()(fe,de,Pe[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(Pe)):T(Object(Pe)).forEach(function(de){Object.defineProperty(fe,de,Object.getOwnPropertyDescriptor(Pe,de))})}return fe}var _,E=function(fe){y()(Pe,fe);var Ae=function(fe){var Ae=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Pe){return!1}}();return function(){var Pe,de=v()(fe);if(Ae){var pe=v()(this).constructor;Pe=Reflect.construct(de,arguments,pe)}else Pe=de.apply(this,arguments);return P()(this,Pe)}}(Pe);function Pe(){return k()(this,Pe),Ae.apply(this,arguments)}return g()(Pe,[{key:"build",value:function(de){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=de.components(),ae={},ne=pe.em;if(pe.cleanId&&ne){var G=ne.get("CssComposer").getAll(),W=G.toJSON().map(function(j){var C=j.selectors,H=C&&1===C.length&&C.models[0];return H&&H.isId()&&H.get("name")}).filter(function(j){return j});ae.attributes=function(j,C){var H=C.id;return H&&"i"===H[0]&&!j.get("script")&&!j.get("attributes").id&&W.indexOf(H)<0&&delete C.id,C}}return pe.exportWrapper?de.toHTML(S(S({},ae),pe.wrapperIsBody&&de.is("wrapper")&&{tag:"body"})):this.buildModels(_e,ae)}},{key:"buildModels",value:function(de){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e="";return de.forEach(function(ae){return _e+=ae.toHTML(pe)}),_e}}]),Pe}(D.Model),B=o(39),$=I.a.Model.extend({build:function(fe){var Ae=fe.toJSON();return this.beforeEach(Ae),Object(ee.each)(Ae,function(Pe,de){var pe=Ae[de];if(pe instanceof I.a.Model)Ae[de]=this.build(pe);else if(pe instanceof I.a.Collection){var _e=pe;Ae[de]=[],_e.length&&_e.each(function(ae,ne){Ae[de][ne]=this.build(ae)},this)}},this),Ae},beforeEach:function(fe){delete fe.status}}),w=I.a.Model.extend({mapModel:function(fe){var Ae="",Pe=fe.get("script-export")||fe.get("script"),de=fe.get("type"),pe=fe.get("components"),_e=fe.getId();if(Pe){var ae=fe.get("attributes");ae=Object(ee.extend)({},ae,{id:_e}),fe.set("attributes",ae,{silent:1});var ne=fe.getScriptString(Pe),G=fe.get("script-props");if(fe.get("scriptUpdated")&&!G)this.mapJs[de+"-"+_e]={ids:[_e],code:ne};else{var W,j=this.mapJs[de];if(G&&(W=fe.__getScriptProps()),j)j.ids.push(_e),W&&(j.props[_e]=W);else{var C={ids:[_e],code:ne};W&&(C.props=U()({},_e,W)),this.mapJs[de]=C}}}return pe.each(function(H){Ae+=this.mapModel(H)},this),Ae},build:function(fe){this.mapJs={},this.mapModel(fe);var Ae="";for(var Pe in this.mapJs){var de=this.mapJs[Pe];if(de.props)Ae+="\n          var props = ".concat(JSON.stringify(de.props),";\n          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');\n          var els = document.querySelectorAll(ids);\n          for (var i = 0, len = els.length; i < len; i++) {\n            var el = els[i];\n            (").concat(de.code,".bind(el))(props[el.id]);\n          }");else{var pe="#"+de.ids.join(", #");Ae+="\n          var items = document.querySelectorAll('".concat(pe,"');\n          for (var i = 0, len = items.length; i < len; i++) {\n            (function(){\n").concat(de.code,"\n}.bind(items[i]))();\n          }")}}return Ae}}),p=o(1);function u(fe,Ae){var Pe=Object.keys(fe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(fe);Ae&&(de=de.filter(function(pe){return Object.getOwnPropertyDescriptor(fe,pe).enumerable})),Pe.push.apply(Pe,de)}return Pe}Object(p.hasWin)()&&(_=o(27),o(89),o(51),o(92));var x,b=I.a.Model.extend({CodeMirror:_,defaults:{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0},init:function(fe){return Object(ee.bindAll)(this,"onChange"),this.editor=_.fromTextArea(fe,function(Ae){for(var Pe=1;Pe<arguments.length;Pe++){var de=null!=arguments[Pe]?arguments[Pe]:{};Pe%2?u(Object(de),!0).forEach(function(pe){U()(Ae,pe,de[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(de)):u(Object(de)).forEach(function(pe){Object.defineProperty(Ae,pe,Object.getOwnPropertyDescriptor(de,pe))})}return Ae}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=fe,this.editor.on("change",this.onChange),this},onChange:function(){this.trigger("update",this)},getEditor:function(){return this.editor},getElement:function(){return this.element},setElement:function(fe){return this.element=fe,this},refresh:function(){return this.getEditor().refresh(),this},focus:function(){return this.getEditor().focus(),this},getContent:function(){var fe=this.getEditor();return fe&&fe.getValue()},setContent:function(fe){var Ae=this,Pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},de=this.editor;de&&(de.setValue(fe),de.autoFormatRange&&(_.commands.selectAll(de),de.autoFormatRange(de.getCursor(!0),de.getCursor(!1)),_.commands.goDocStart(de)),!Pe.noRefresh&&setTimeout(function(){return Ae.refresh()}))}}),R=o(19),Q=o.n(R),re=o(17),ge=function(fe){y()(Pe,fe);var Ae=function(fe){var Ae=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Pe){return!1}}();return function(){var Pe,de=v()(fe);if(Ae){var pe=v()(this).constructor;Pe=Reflect.construct(de,arguments,pe)}else Pe=de.apply(this,arguments);return P()(this,Pe)}}(Pe);function Pe(){return k()(this,Pe),Ae.apply(this,arguments)}return g()(Pe,[{key:"template",value:function(de){var pe=de.pfx,_e=de.codeName,ae=de.label;return Object(re.a)(x||(x=Q()(['\n      <div class="','editor" id="',"",'">\n        <div id="','title">','</div>\n        <div id="','code"></div>\n      </div>\n    '])),pe,pe,_e,pe,ae,pe)}},{key:"initialize",value:function(de){this.config=de.config||{},this.pfx=this.config.stylePrefix}},{key:"render",value:function(){var de=this.model,pe=this.pfx,_e=this.$el,ae=de.toJSON();return ae.pfx=pe,_e.html(this.template(ae)),_e.attr("class","".concat(pe,"editor-c")),_e.find("#".concat(pe,"code")).append(de.get("input")),this}}]),Pe}(D.View);le.default=function(){var fe={},Ae={},Pe={},de={},pe={},_e="CodeMirror";return{getConfig:function(){return fe},config:fe,EditorView:ge,name:"CodeManager",init:function(ae){for(var ne in fe=ae||{},se)ne in fe||(fe[ne]=se[ne]);var G=fe.pStylePrefix;return G&&(fe.stylePrefix=G+fe.stylePrefix),Pe.html=new E,Pe.css=new B.a,Pe.json=new $,Pe.js=new w,pe.CodeMirror=new b,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(ae,ne){return Ae[ae]=ne,this},getGenerator:function(ae){return Ae[ae]||null},getGenerators:function(){return Ae},addViewer:function(ae,ne){return de[ae]=ne,this},getViewer:function(ae){return de[ae]||null},getViewers:function(){return de},createViewer:function(){var ae=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=Object(ee.isUndefined)(ae.type)?_e:ae.type,G=this.getViewer(ne)&&this.getViewer(ne).clone(),W=document.createElement("div"),j=document.createElement("textarea");return W.appendChild(j),G.set(ae),G.init(j),G.setElement(W),G},updateViewer:function(ae,ne){ae.setContent(ne)},getCode:function(ae,ne){var G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};G.em=fe.em;var W=this.getGenerator(ne);return W?W.build(ae,G):""},loadDefaultGenerators:function(){for(var ae in Pe)this.addGenerator(ae,Pe[ae]);return this},loadDefaultViewers:function(){for(var ae in pe)this.addViewer(ae,pe[ae]);return this},destroy:function(){[fe,Ae,Pe,de,pe].forEach(function(ae){return{}})}}}},function(Ye,le,o){"use strict";o.r(le),o.d(le,"evAll",function(){return R}),o.d(le,"evPfx",function(){return Q}),o.d(le,"evSelect",function(){return re}),o.d(le,"evSelectBefore",function(){return Fe}),o.d(le,"evUpdate",function(){return ge}),o.d(le,"evAdd",function(){return fe}),o.d(le,"evAddBefore",function(){return Ae}),o.d(le,"evRemove",function(){return Pe}),o.d(le,"evRemoveBefore",function(){return de});var ee=o(3),se=o.n(ee),J=o(0),U=o(21),L={default:null,devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"768px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]},k=o(5),f=o.n(k),g=o(6),h=o.n(g),y=o(8),d=o.n(y),P=o(9),O=o.n(P),v=o(4),D=o.n(v),I=o(2),S=function(_e){d()(ne,_e);var ae=function(_e){var ae=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ne){return!1}}();return function(){var ne,G=D()(_e);if(ae){var W=D()(this).constructor;ne=Reflect.construct(G,arguments,W)}else ne=G.apply(this,arguments);return O()(this,ne)}}(ne);function ne(){return f()(this,ne),ae.apply(this,arguments)}return h()(ne,[{key:"defaults",value:function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}}},{key:"initialize",value:function(){var G=this;null===this.get("widthMedia")&&this.set("widthMedia",this.get("width")),null===this.get("width")&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(W){return G.checkUnit(W)})}},{key:"checkUnit",value:function(G){var W=this.get(G)||"";(parseFloat(W)||0).toString()===W.toString()&&this.set(G,"".concat(W,"px"))}}]),ne}(I.Model),_=function(_e){d()(ne,_e);var ae=function(_e){var ae=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ne){return!1}}();return function(){var ne,G=D()(_e);if(ae){var W=D()(this).constructor;ne=Reflect.construct(G,arguments,W)}else ne=G.apply(this,arguments);return O()(this,ne)}}(ne);function ne(){return f()(this,ne),ae.apply(this,arguments)}return h()(ne,[{key:"comparator",value:function(G,W){var j=Number.MAX_VALUE;return(W.get("priority")||j)-(G.get("priority")||j)}},{key:"getSorted",value:function(){return this.sort()}}]),ne}(I.Collection);_.prototype.model=S;var E,B=o(19),$=o.n(B),w=o(17),u=function(_e){d()(ne,_e);var ae=function(_e){var ae=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ne){return!1}}();return function(){var ne,G=D()(_e);if(ae){var W=D()(this).constructor;ne=Reflect.construct(G,arguments,W)}else ne=G.apply(this,arguments);return O()(this,ne)}}(ne);function ne(){return f()(this,ne),ae.apply(this,arguments)}return h()(ne,[{key:"template",value:function(G){var W=G.ppfx,j=G.label;return Object(w.a)(E||(E=$()(['\n      <div class="','device-label">','</div>\n      <div class="',"field ",'select">\n        <span id="','input-holder">\n          <select class="','devices"></select>\n        </span>\n        <div class="','sel-arrow">\n          <div class="','d-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="','add-trasp">+</button>\n    '])),W,j,W,W,W,W,W,W,W)}},{key:"events",value:function(){return{change:"updateDevice"}}},{key:"initialize",value:function(G){this.config=G.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()}},{key:"startAdd",value:function(){}},{key:"updateDevice",value:function(){var G=this.em;if(G){var W=this.devicesEl,j=W?W.val():"";G.set("device",j)}}},{key:"updateSelect",value:function(){var G=this.em,W=this.devicesEl;if(G&&G.getDeviceModel&&W){var j=G.getDeviceModel(),C=j?j.get("id"):"";W.val(C)}}},{key:"getOptions",value:function(){var W=this.em,j="";return this.collection.each(function(C){var H=C.attributes,n=H.name,m=H.id,l=W&&W.t&&W.t("deviceManager.devices.".concat(m))||n;j+='<option value="'.concat(m||n,'">').concat(l,"</option>")}),j}},{key:"render",value:function(){var G=this.em,W=this.ppfx,j=this.$el,C=this.el,H=G&&G.t&&G.t("deviceManager.device");return j.html(this.template({ppfx:W,label:H})),this.devicesEl=j.find(".".concat(W,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(G.get("device")),C.className="".concat(W,"devices-c"),this}}]),ne}(I.View);function x(_e,ae){var ne=Object.keys(_e);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(_e);ae&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(_e,W).enumerable})),ne.push.apply(ne,G)}return ne}function b(_e){for(var ae=1;ae<arguments.length;ae++){var ne=null!=arguments[ae]?arguments[ae]:{};ae%2?x(Object(ne),!0).forEach(function(G){se()(_e,G,ne[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ne)):x(Object(ne)).forEach(function(G){Object.defineProperty(_e,G,Object.getOwnPropertyDescriptor(ne,G))})}return _e}var R="device",Q="".concat(R,":"),re="".concat(Q,"select"),Fe="".concat(re,":before"),ge="".concat(Q,"update"),fe="".concat(Q,"add"),Ae="".concat(fe,":before"),Pe="".concat(Q,"remove"),de="".concat(Pe,":before"),pe="change:device";le.default=function(){var _e,ae,ne={};return b(b({},U.a),{},{name:"DeviceManager",Device:S,Devices:_,events:{all:R,select:re,update:ge,add:fe,remove:Pe,removeBefore:de},init:function(){var G=this,W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=ne=b(b({},L),W),C=j.em;return _e=new _,ne.devices.forEach(function(H){return G.add(H)}),this.em=C,this.all=_e,this.select(ne.default||_e.at(0)),this.__initListen(),C.on(pe,this._onSelect,this),this},_onSelect:function(G,W,j){var C=this.em,H=this.events,n=G.previous("device"),m=this.get(W),l=H.select;C.trigger(l,m,this.get(n)),this.__catchAllEvent(l,m,j)},add:function(G){var W,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=j;if(Object(J.isString)(G)){var H=j;W=b(b({},C=arguments[2]||{}),{},{id:G,name:C.name||G,width:H})}else W=G;return W.id||(W.id=W.name||this._createId()),_e.add(W,C)},get:function(G){return this.getAll().filter(function(W){return W.get("name")===G})[0]||_e.get(G)||null},remove:function(G){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.__remove(G,W)},getDevices:function(){return _e.models},select:function(G){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=Object(J.isString)(G)?this.get(G):G;return j&&this.em.set("device",j.get("id"),W),this},getSelected:function(){return this.get(this.em.get("device"))},getAll:function(){return _e},render:function(){return ae&&ae.remove(),(ae=new u({collection:_e,config:ne})).render().el},destroy:function(){_e.stopListening(),_e.reset(),ae&&ae.remove(),[_e,ae].forEach(function(G){return null}),ne={}}})}},function(Ye,le,o){"use strict";o.r(le),o.d(le,"evAll",function(){return Fe}),o.d(le,"evPfx",function(){return ge}),o.d(le,"evAdd",function(){return fe}),o.d(le,"evUpdate",function(){return Ae}),o.d(le,"evRemove",function(){return Pe}),o.d(le,"evRemoveBefore",function(){return de}),o.d(le,"evCustom",function(){return pe}),o.d(le,"evState",function(){return _e});var ee=o(11),se=o.n(ee),J=o(3),U=o.n(J),L=o(0),k=o(1),f=o(2),g=o.n(f),h=o(21),y={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:0,custom:!1},d=o(16),P=o(20),O=o(5),v=o.n(O),D=o(6),I=o.n(D),T=o(8),S=o.n(T),r=o(9),_=o.n(r),E=o(4),B=o.n(E),w=function(ae){S()(G,ae);var ne=function(ae){var ne=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(G){return!1}}();return function(){var G,W=B()(ae);if(ne){var j=B()(this).constructor;G=Reflect.construct(W,arguments,j)}else G=W.apply(this,arguments);return _()(this,G)}}(G);function G(){return v()(this,G),ne.apply(this,arguments)}return I()(G,[{key:"defaults",value:function(){return{name:"",label:""}}},{key:"getName",value:function(){return this.get("name")}},{key:"getLabel",value:function(){return this.get("label")||this.getName()}}]),G}(f.Model);w.prototype.idAttribute="name";var p="contentEditable",u=g.a.View.extend({template:function(){var ae=this.pfx,G=this.config,W=this.model.get("label")||"";return'\n      <span id="'.concat(ae,'checkbox" class="').concat(ae,'tag-status" data-tag-status></span>\n      <span id="').concat(ae,'tag-label" data-tag-name>').concat(W,'</span>\n      <span id="').concat(ae,'close" class="').concat(ae,'tag-close" data-tag-remove>\n        ').concat(G.iconTagRemove,"\n      </span>\n    ")},events:{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"},initialize:function(){var ae=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=ae.config||{};this.config=ne,this.module=ae.module,this.coll=ae.coll||null,this.pfx=ne.stylePrefix||"",this.ppfx=ne.pStylePrefix||"",this.em=ne.em,this.listenTo(this.model,"change:active",this.updateStatus)},getInputEl:function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},startEditTag:function(){var ae=this.em,ne=this.getInputEl();ne[p]=!0,ne.focus(),ae&&ae.setEditing(1)},endEditTag:function(){var ae=this.model,ne=this.getInputEl(),G=ne.textContent,W=this.em,j=W&&W.get("SelectorManager");if(ne[p]=!1,W&&W.setEditing(0),j){var C=j.escapeName(G);j.get(C)?ne.innerText=ae.get("label"):ae.set({name:C,label:G})}},changeStatus:function(){var ae=this.model;ae.set("active",!ae.get("active"))},removeTag:function(){this.module.removeSelected(this.model)},updateStatus:function(){var ae=this.model,ne=this.$el,G=this.config,W=G.iconTagOn,j=G.iconTagOff,C=ne.find("[data-tag-status]");ae.get("active")?(C.html(W),ne.removeClass("opac50")):(C.html(j),ne.addClass("opac50"))},render:function(){var ae=this.pfx,ne=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(ae,"tag ").concat(ne,"three-bg")),this.updateStatus(),this}}),x=g.a.View.extend({template:function(ae){var ne=ae.labelInfo,G=ae.labelHead,W=ae.iconSync,j=ae.iconAdd,C=ae.pfx,H=ae.ppfx;return'\n    <div id="'.concat(C,'up" class="').concat(C,'header">\n      <div id="').concat(C,'label" class="').concat(C,'header-label">').concat(G,'</div>\n      <div id="').concat(C,'status-c" class="').concat(C,'header-status">\n        <span id="').concat(C,'input-c" data-states-c>\n          <div class="').concat(H,"field ").concat(H,'select">\n            <span id="').concat(H,'input-holder">\n              <select id="').concat(C,'states" data-states></select>\n            </span>\n            <div class="').concat(H,'sel-arrow">\n              <div class="').concat(H,'d-s-arrow"></div>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n    <div id="').concat(C,'tags-field" class="').concat(H,'field">\n      <div id="').concat(C,'tags-c" data-selectors></div>\n      <input id="').concat(C,'new" data-input/>\n      <span id="').concat(C,'add-tag" class="').concat(C,"tags-btn ").concat(C,'tags-btn__add" data-add>\n        ').concat(j,'\n      </span>\n      <span class="').concat(C,"tags-btn ").concat(C,'tags-btn__sync" style="display: none" data-sync-style>\n        ').concat(W,'\n      </span>\n    </div>\n    <div class="').concat(C,'sels-info">\n      <div class="').concat(C,'label-sel">').concat(ne,':</div>\n      <div class="').concat(C,'sels" data-selected></div>\n      <div style="clear:both"></div>\n    </div>')},events:{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"},initialize:function(){var ae=this,ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=ne.config||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.pfx+"tags",this.stateInputId=this.pfx+"states",this.stateInputC=this.pfx+"input-c",this.states=this.config.states||[];var G=this.config.em,W=this.collection;this.target=this.config.em;var j=ne.module;this.module=j,this.em=G;var C="component:toggled component:update:classes",H="component:update:classes change:state";this.listenTo(G,C,this.componentChanged),this.listenTo(G,"styleManager:update",this.componentChanged),this.listenTo(G,H,this.__handleStateChange),this.listenTo(G,"styleable:change change:device",this.checkSync),this.listenTo(W,"add",this.addNew),this.listenTo(W,"reset",this.renderClasses),this.listenTo(W,"remove",this.tagRemoved),this.listenTo(j.getAll(),j.events.state,Object(L.debounce)(function(){return ae.renderStates()})),this.delegateEvents()},syncStyle:function(){var ae,ne=this.em,G=this.getTarget(),W=ne.get("CssComposer"),j=this.getCommonSelectors({opts:{noDisabled:1}}),C=ne.get("state"),H=ne.getCurrentMedia(),n=[],m=W.get(j,C,H)||W.add(j,C,H);this.getTargets().forEach(function(l){var A=W.getIdRule(l.getId(),{state:C,mediaText:H});ae=A.getStyle(),A.setStyle({}),n.push(A)}),ae&&m.addStyle(ae),ne.trigger("component:toggled"),ne.trigger("component:sync-style",{component:G,selectors:j,mediaText:H,rule:m,ruleComponents:n,state:C})},tagRemoved:function(ae){this.updateStateVis()},addNew:function(ae){this.addToClasses(ae)},startNewTag:function(){this.$addBtn.css({display:"none"}),this.$input.show().focus()},endNewTag:function(){this.$addBtn.css({display:""}),this.$input.hide().val("")},onInputKeyUp:function(ae){13===ae.keyCode?this.addNewTag(this.$input.val()):27===ae.keyCode&&this.endNewTag()},checkStates:function(){var ae=this.em.getState(),ne=this.getStates();ne&&ne.val(ae)},componentChanged:Object(L.debounce)(function(){var ae=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=ae.targets;this.updateSelection(ne)}),updateSelection:function(ae){var ne=ae||this.getTargets(),G=[];return(ne=Object(L.isArray)(ne)?ne:[ne])&&ne.length&&(G=this.getCommonSelectors({targets:ne}),this.checkSync({validSelectors:G})),this.collection.reset(G),this.updateStateVis(ne),this.module.__trgCustom(),G},getCommonSelectors:function(){var ae=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=ae.targets,G=ae.opts,W=void 0===G?{}:G,j=ne||this.getTargets();return this.module.__getCommonSelectors(j,W)},_commonSelectors:function(){var ae;return(ae=this.module).__common.apply(ae,arguments)},checkSync:Object(L.debounce)(function(){var ae,ne=this.$btnSyncEl,G=this.config,W=this.collection,j=this.getTarget();if(j&&G.componentFirst&&W.length){var C=j.getStyle();ae=!Object(L.isEmpty)(C)}ne&&ne[ae?"show":"hide"]()}),getTarget:function(){return this.target.getSelected()},getTargets:function(){return this.target.getSelectedAll()},updateStateVis:function(ae){var ne=this.em,G=ne&&ne.getConfig("avoidInlineStyle"),W=this.collection.length||G?"":"none";this.getStatesC().css("display",W),this.updateSelector(ae)},__handleStateChange:function(){this.updateSelector(this.getTargets())},updateSelector:function(ae){var ne=this,G=this.el.querySelector("[data-selected]"),W=[],j=ae||this.getTargets();(j=Object(L.isArray)(j)?j:[j]).forEach(function(C){return W.push(ne.__getName(C))}),G&&(G.innerHTML=W.join(", ")),this.checkStates()},__getName:function(ae){var ne,G=this.pfx,W=this.config,j=this.em,C=W.selectedName,H=W.componentFirst;if(Object(L.isString)(ae))ne='<span class="'.concat(G,'sel-gen">').concat(ae,"</span>");else{var n=ae&&ae.get&&ae.getSelectors();if(!n)return;var m=n.getStyleable(),l=j.get("state"),A=ae.getId?'<span class="'.concat(G,'sel-cmp">').concat(ae.getName(),'</span><span class="').concat(G,'sel-id">#').concat(ae.getId(),"</span>"):"";ne=(ne=this.collection.getFullString(m))?'<span class="'.concat(G,'sel-rule">').concat(ne,"</span>"):ae.get("selectorsAdd")||A,ne=H&&A?A:ne,ne+=l?'<span class="'.concat(G,'sel-state">:').concat(l,"</span>"):"",ne=C?C({result:ne,state:l,target:ae}):ne}return ne&&'<span class="'.concat(G,'sel">').concat(ne,"</span>")},stateChanged:function(ae){this.em.set("state",ae.target.value)},addNewTag:function(ae){var ne=ae.trim();ne&&(this.module.addSelected({label:ne}),this.endNewTag())},addToClasses:function(ae){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,G=ne,W=this.getClasses(),j=new u({model:ae,config:this.config,coll:this.collection,module:this.module}).render().el;return G?G.appendChild(j):W.append(j),j},renderClasses:function(){var ae=this,ne=document.createDocumentFragment(),G=this.getClasses();G.empty(),this.collection.each(function(W){return ae.addToClasses(W,ne)}),G.append(ne)},getClasses:function(){return this.$el.find("[data-selectors]")},getStates:function(){if(!this.$states){var ae=this.$el.find("[data-states]");this.$states=ae[0]&&ae}return this.$states},getStatesC:function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},renderStates:function(){var ae=this.module,ne=this.em,G=ne.t("selectorManager.emptyState"),W=ae.getStates().map(function(C){var H=ne.t("selectorManager.states.".concat(C.id))||C.getLabel()||C.id;return'<option value="'.concat(C.id,'">').concat(H,"</option>")}).join(""),j=this.getStates();j&&j.html('<option value="">'.concat(G,"</option>").concat(W)),this.checkStates()},render:function(){var ae=this.em,ne=this.pfx,G=this.ppfx,W=this.config,j=this.$el,C=this.el,H=W.render,n={iconSync:W.iconSync,iconAdd:W.iconAdd,labelHead:ae.t("selectorManager.label"),labelInfo:ae.t("selectorManager.selected"),ppfx:G,pfx:ne,el:C};j.html(this.template(n));var m=H&&H(n);return m&&m!==C&&j.empty().append(m),this.$input=j.find("[data-input]"),this.$addBtn=j.find("[data-add]"),this.$classes=j.find("#"+ne+"tags-c"),this.$btnSyncEl=j.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),j.attr("class","".concat(this.className," ").concat(G,"one-bg ").concat(G,"two-color")),this}});function b(ae,ne){var G=Object.keys(ae);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(ae);ne&&(W=W.filter(function(j){return Object.getOwnPropertyDescriptor(ae,j).enumerable})),G.push.apply(G,W)}return G}function R(ae){for(var ne=1;ne<arguments.length;ne++){var G=null!=arguments[ne]?arguments[ne]:{};ne%2?b(Object(G),!0).forEach(function(W){U()(ae,W,G[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(G)):b(Object(G)).forEach(function(W){Object.defineProperty(ae,W,Object.getOwnPropertyDescriptor(G,W))})}return ae}var Q=function(ae){return Object(L.isString)(ae)&&"#"==ae[0]},re=function(ae){return Object(L.isString)(ae)&&"."==ae[0]},Fe="selector",ge="".concat(Fe,":"),fe="".concat(ge,"add"),Ae="".concat(ge,"update"),Pe="".concat(ge,"remove"),de="".concat(Pe,":before"),pe="".concat(ge,"custom"),_e="".concat(ge,"state");le.default=function(){return R(R({},h.a),{},{name:"SelectorManager",Selector:d.a,Selectors:P.a,events:{all:Fe,update:Ae,add:fe,remove:Pe,removeBefore:de,state:_e,custom:pe},init:function(){var ae=this,ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__initConfig(y,ne);var G=this.getConfig(),W=G.em,j=G.pStylePrefix;j&&(G.stylePrefix=j+G.stylePrefix),this.all=new P.a(G.selectors),this.selected=new P.a([],{em:W,config:G}),this.states=new f.Collection(G.states,{model:w}),this.model=new f.Model({cFirst:G.componentFirst,_undo:!0}),this.__initListen({collections:[this.states,this.selected],propagate:[{entity:this.states,event:this.events.state}]}),W.on("change:state",function(H,n){return W.trigger("selector:state",n)}),this.model.on("change:cFirst",function(H,n){return W.trigger("selector:type",n)});var C="component:toggled component:update:classes styleManager:update selector:state selector:type";return this.model.listenTo(W,C,function(){return ae.__update()}),this},__update:Object(L.debounce)(function(){this.__trgCustom()}),__trgCustom:function(ae){this.em.trigger(this.events.custom,this.__customData(ae))},__customData:function(){var ae=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ne=ae.container;return{states:this.getStates(),selected:this.getSelected(),container:ne}},postRender:function(){this.__appendTo(),this.__trgCustom()},select:function(ae){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=Array.isArray(ae)?ae:[ae],W=this.em.get("StyleManager").setTarget(G,ne),j=this.selectorTags,C=W.filter(function(H){return H}).map(function(H){return Object(k.isComponent)(H)||Object(k.isRule)(H)&&!H.get("selectorsAdd")?H:H.getSelectorsString()});return j&&j.componentChanged({targets:C}),this},addSelector:function(ae){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},W=R({},ne);Object(L.isObject)(ae)?W=ae:W.name=ae,Q(W.name)?(W.name=W.name.substr(1),W.type=d.a.TYPE_ID):re(W.name)&&(W.name=W.name.substr(1)),W.label&&!W.name&&(W.name=this.escapeName(W.label));var j=W.name,C=this.getConfig(),H=this.getAll(),n=j?this.get(j,W.type):H.where(W)[0];return n||H.add(W,R(R({},G),{},{config:C}))},getSelector:function(ae){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a.TYPE_CLASS;return Q(ae)?(ae=ae.substr(1),ne=d.a.TYPE_ID):re(ae)&&(ae=ae.substr(1)),this.getAll().where({name:ae,type:ne})[0]},add:function(ae){var ne=this,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W=Object(L.isString)(ae)?{}:G;return Object(L.isArray)(ae)?ae.map(function(j){return ne.addSelector(j,G,W)}):this.addSelector(ae,G,W)},addClass:function(ae){var ne=this,G=[];return Object(L.isString)(ae)&&(ae=ae.trim().split(" ")),ae.forEach(function(W){return G.push(ne.addSelector(W))}),G},get:function(ae,ne){var G=this;if(Object(L.isArray)(ae)){var W=[];return ae.map(function(j){return G.getSelector(j)}).filter(function(j){return j}).forEach(function(j){return W.indexOf(j)<0&&W.push(j)}),W}return this.getSelector(ae,ne)||null},remove:function(ae,ne){return this.__remove(ae,ne)},setState:function(ae){return this.em.setState(ae),this},getState:function(){return this.em.getState()},getStates:function(){return se()(this.states.models)},setStates:function(ae,ne){return this.states.reset(ae,ne)},getSelected:function(){return this.__getCommon()},addSelected:function(ae){var ne=this.add(ae);this.em.getSelectedAll().forEach(function(G){G.getSelectors().add(ne)})},removeSelected:function(ae){this.em.getSelectedAll().forEach(function(ne){!ae.get("protected")&&ne&&ne.getSelectors().remove(ae)})},getSelectedTargets:function(){return this.em.get("StyleManager").getSelected()},setComponentFirst:function(ae){this.getConfig().componentFirst=ae,this.model.set({cFirst:ae})},getComponentFirst:function(){return this.getConfig().componentFirst},escapeName:function(ae){var ne=this.getConfig().escapeName;return ne?ne(ae):d.a.escapeName(ae)},render:function(ae){var ne=this.selectorTags,G=this.getConfig(),W=ne&&ne.el;return this.selected.reset(ae),this.selectorTags=new x({el:W,collection:this.selected,module:this,config:G}),this.selectorTags.render().el},destroy:function(){var ae=this.selectorTags;this.model.stopListening(),this.__destroy(),ae&&ae.remove(),this.selectorTags={}},__getCommon:function(){return this.__getCommonSelectors(this.em.getSelectedAll())},__getCommonSelectors:function(ae){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=ae.map(function(W){return W.getSelectors&&W.getSelectors().getValid(ne)}).filter(Boolean);return this.__common.apply(this,se()(G))},__common:function(){for(var ae=this,ne=arguments.length,G=new Array(ne),W=0;W<ne;W++)G[W]=arguments[W];return G.length?1===G.length?G[0]:2===G.length?G[0].filter(function(j){return G[1].indexOf(j)>=0}):G.slice(1).reduce(function(j,C){return ae.__common(j,C)},G[0]):[]}})}},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J={id:"gjs-",autosave:1,autoload:1,type:"local",stepsBeforeSave:1,storeComponents:1,storeStyles:1,storeHtml:1,storeCss:1,checkLocal:1,params:{},headers:{},urlStore:"",urlLoad:"",beforeSend:function(r,_){},onComplete:function(r,_){},contentTypeJson:!0,credentials:"include",fetchOptions:""},U=o(2),L=o.n(U),k=o(1),f=U.Model.extend({defaults:{checkLocal:!0},store:function(r){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(this.hasLocal())for(var E in r)localStorage.setItem(E,r[E]);_&&_()},load:function(r){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},E={};if(this.hasLocal())for(var B=0,$=r.length;B<$;B++){var w=localStorage.getItem(r[B]);w&&(E[r[B]]=w)}return _&&_(E),E},remove:function(r){if(this.hasLocal())for(var _=0,E=r.length;_<E;_++)localStorage.removeItem(r[_])},hasLocal:function(){var r=Object(k.hasWin)();return!!(!this.get("checkLocal")||r&&localStorage)||(r&&console.warn("Your browser doesn't support localStorage"),!1)}}),g=o(37),h=o(0);function y(r,_){var E=Object.keys(r);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(r);_&&(B=B.filter(function($){return Object.getOwnPropertyDescriptor(r,$).enumerable})),E.push.apply(E,B)}return E}function d(r){for(var _=1;_<arguments.length;_++){var E=null!=arguments[_]?arguments[_]:{};_%2?y(Object(E),!0).forEach(function(B){se()(r,B,E[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(E)):y(Object(E)).forEach(function(B){Object.defineProperty(r,B,Object.getOwnPropertyDescriptor(E,B))})}return r}var P=L.a.Model.extend({fetch:g.a,defaults:{urlStore:"",urlLoad:"",params:{},beforeSend:function(){},onComplete:function(){},contentTypeJson:!1,credentials:"include",fetchOptions:""},onStart:function(){this.get("em");var r=this.get("beforeSend");r&&r()},onError:function(r,_){if(_)_(r);else{var E=this.get("em");console.error(r),E&&E.trigger("storage:error",r)}},onResponse:function(r,_){var E=this.get("em"),B=this.get("onComplete"),$=this.get("contentTypeJson")&&r&&"string"==typeof r?JSON.parse(r):r;B&&B($),_&&_($),E&&E.trigger("storage:response",$)},store:function(r,_,E){var B={};for(var $ in r)B[$]=r[$];this.request(this.get("urlStore"),{body:B},_,E)},load:function(r,_,E){this.request(this.get("urlLoad"),{method:"get"},_,E)},request:function(r){var _,E,B=this,$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=this.get("contentTypeJson"),x=this.get("headers")||{},b=this.get("params"),R="X-Requested-With",Q="Content-Type",re=$.body||{};for(var Fe in b)re[Fe]=b[Fe];if(Object(h.isUndefined)(x[R])&&(x[R]="XMLHttpRequest"),Object(h.isUndefined)(x[Q])&&u&&(x[Q]="application/json; charset=utf-8"),u)E=JSON.stringify(re);else for(var ge in E=new FormData,re)E.append(ge,re[ge]);"post"===(_={method:$.method||"post",credentials:this.get("credentials"),headers:x}).method&&(_.body=E);var fe=this.get("fetchOptions")||{},Ae=Object(h.isFunction)(fe)?fe(_):_;this.onStart(),this.fetch(r,d(d({},_),Ae||{})).then(function(Pe){return 1==(Pe.status/200|0)?Pe.text():Pe.text().then(function(de){return Promise.reject(de)})}).then(function(Pe){return B.onResponse(Pe,w)}).catch(function(Pe){return B.onError(Pe,p)})}});function O(r,_){var E=Object.keys(r);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(r);_&&(B=B.filter(function($){return Object.getOwnPropertyDescriptor(r,$).enumerable})),E.push.apply(E,B)}return E}function v(r){for(var _=1;_<arguments.length;_++){var E=null!=arguments[_]?arguments[_]:{};_%2?O(Object(E),!0).forEach(function(B){se()(r,B,E[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(E)):O(Object(E)).forEach(function(B){Object.defineProperty(r,B,Object.getOwnPropertyDescriptor(E,B))})}return r}var D="storage:start",I="storage:after",T="storage:end",S="storage:error";le.default=function(){var r,_={},E={},B={};return{name:"StorageManager",init:function(){var $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _=v(v({},J),$),r=_.em,_._disable&&(_.type=0),B.remote=new P(_),B.local=new f(_),_.currentStorage=_.type,this.loadDefaultProviders().setCurrent(_.type),this},getConfig:function(){return _},isAutosave:function(){return!!_.autosave},setAutosave:function($){return _.autosave=!!$,this},getStepsBeforeSave:function(){return _.stepsBeforeSave},setStepsBeforeSave:function($){return _.stepsBeforeSave=$,this},add:function($,w){return E[$]=w,this},get:function($){return E[$]||null},getStorages:function(){return E},getCurrent:function(){return _.currentStorage},setCurrent:function($){return _.currentStorage=$,this},store:function($,w){var p=this,u=this.get(this.getCurrent()),x={};for(var b in this.onStart("store",$),$)x[_.id+b]=$[b];return u?u.store(x,function(R){p.onAfter("store",R),w&&w(R),p.onEnd("store",R)},function(R){p.onError("store",R)}):null},load:function($,w){var p=this,u=this.get(this.getCurrent()),x=[],b={};"string"==typeof $&&($=[$]),this.onStart("load",$);for(var R=0,Q=$.length;R<Q;R++)x.push(_.id+$[R]);u?u.load(x,function(re){b=p.__clearKeys(re),p.onAfter("load",b),w&&w(b),p.onEnd("load",b)},function(re){w&&w(b),p.onError("load",re)}):w&&w(b)},__clearKeys:function(){var $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w={},p=new RegExp("^"+_.id);for(var u in $){var x=u.replace(p,"");w[x]=$[u]}return w},loadDefaultProviders:function(){for(var $ in B)this.add($,B[$]);return this},getCurrentStorage:function(){return this.get(this.getCurrent())},onStart:function($,w){r&&(r.trigger(D),$&&r.trigger("".concat(D,":").concat($),w))},onAfter:function($,w){r&&(r.trigger(I),$&&r.trigger("".concat(I,":").concat($),w))},onEnd:function($,w){r&&(r.trigger(T),$&&r.trigger("".concat(T,":").concat($),w))},onError:function($,w){r&&(r.trigger(S,w),$&&r.trigger("".concat(S,":").concat($),w),this.onEnd($,w))},canAutoload:function(){return this.getCurrentStorage()&&this.getConfig().autoload},destroy:function(){[_,r,E,B].forEach(function($){return{}})}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null,htmlType:null},U=o(0),L={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},k=Object(U.keys)(L),f=["5","6","11","15"],g=["font-face","page","counter-style","viewport"],h=function(){for(var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=[],_=[],E=S.split(","),B=0,$=E.length;B<$;B++){var w=E[B].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(w)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(w)){var p=w.split(".").filter(Boolean);_.push(p)}else r.push(w)}return{result:_,add:r}},y=function(S){for(var r=S.style,_={},E=0,B=r.length;E<B;E++){var $=r[E],w=r.getPropertyValue($),p=r.getPropertyPriority($);_[$]="".concat(w).concat(p?" !".concat(p):"")}return _},d=function(S){return(S.conditionText||S.media&&S.media.mediaText||S.name||S.selectorText||"").trim()},P=function(S){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},E={},B=S.length,$=S[B-1],w=$?$.split(/:(.+)/):[],p=w[1],u=_.atRule,x=_.selectorsAdd,b=_.mediaText,R=g.indexOf(u)>=0;return R&&(E.singleAtRule=1),u&&(E.atRuleType=u),x&&(E.selectorsAdd=x),b&&(E.mediaText=b),p&&(S[B-1]=w[0],E.state=p,w.splice(w.length-1,1)),E.selectors=S,E.style=r,E},O=function(S){var r=document.createElement("style");r.innerHTML=S,document.head.appendChild(r);var _=r.sheet;return document.head.removeChild(r),function E(B){for(var $=[],w=B.cssRules||[],p=0,u=w.length;p<u;p++){var x=w[p],b=x.type.toString(),R=0,Q="",re="",Fe=x.selectorText||x.keyText,ge=f.indexOf(b)>=0;if(ge)R=1,Q=L[b],re=d(x);else if(k.indexOf(b)>=0){var fe=E(x);re=d(x);for(var Ae=0,Pe=fe.length;Ae<Pe;Ae++){var de=fe[Ae];re&&(de.mediaText=re),de.atRuleType=L[b]}$=$.concat(fe)}if(Fe||ge){for(var pe=y(x),_e=h(Fe),ae=_e.add,ne=void 0,G=0,W=(Fe=_e.result).length;G<W;G++){var j=P(Fe[G],pe,{atRule:L[b]});$.push(j),ne=j}if(ae.length){var C=ae.join(", ");if(ne)ne.selectorsAdd=C;else{var H={selectors:[],selectorsAdd:C,style:pe};R&&(H.singleAtRule=R),Q&&(H.atRuleType=Q),re&&(H.mediaText=re),$.push(H)}}}}return $}(_)},v=function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{parse:function(r){var _=this,E=[],B=S.parserCss,$=S.em,w=$&&$.get&&$.get("Editor");return(B?B(r,w):O(r)).forEach(function(p){return E=E.concat(_.checkNode(p))}),$&&$.trigger("parse:css",{input:r,output:E}),E},checkNode:function(r){var E=r.selectors,B=r.style;if(Object(U.isString)(E)){var $=[],w=h(E),p=w.result,u=w.add.join(", "),x={atRule:r.atRule,mediaText:r.params};p.length?p.forEach(function(b){$.push(P(b,B,x))}):$.push(P([],B,x)),u&&($[$.length-1].selectorsAdd=u),r=$}return r}}},D=o(44);function I(S,r){var _=Object.keys(S);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(S);r&&(E=E.filter(function(B){return Object.getOwnPropertyDescriptor(S,B).enumerable})),_.push.apply(_,E)}return _}function T(S){for(var r=1;r<arguments.length;r++){var _=null!=arguments[r]?arguments[r]:{};r%2?I(Object(_),!0).forEach(function(E){se()(S,E,_[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(_)):I(Object(_)).forEach(function(E){Object.defineProperty(S,E,Object.getOwnPropertyDescriptor(_,E))})}return S}le.default=function(){var S,r,_={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",init:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(_=T(T({},J),E)).Parser=this,S=new D.a(_),r=new v(_),this.em=_.em,this.parserCss=r,this.parserHtml=S,this},getConfig:function(){return _},parseHtml:function(E){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$=this.em,w=this.compTypes;return S.compTypes=$?$.get("DomComponents").getTypes():w,S.parse(E,r,B)},parseCss:function(E){return r.parse(E)},destroy:function(){var E=this;[_,S,r].forEach(function(B){return{}}),["em","parserCss","parserHtml"].forEach(function(B){return E[B]={}})}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(0),U=o(13),L={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}},k=o(5),f=o.n(k),g=o(6),h=o.n(g),y=o(8),d=o.n(y),P=o(9),O=o.n(P),v=o(4),D=o.n(v),I=o(2),S=function(p){d()(x,p);var u=function(p){var u=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}();return function(){var x,b=D()(p);if(u){var R=D()(this).constructor;x=Reflect.construct(b,arguments,R)}else x=b.apply(this,arguments);return O()(this,x)}}(x);function x(){return f()(this,x),u.apply(this,arguments)}return h()(x,[{key:"defaults",value:function(){return{title:"",content:"",attributes:{},open:!1}}},{key:"open",value:function(){this.set("open",!0)}},{key:"close",value:function(){this.set("open",!1)}}]),x}(I.Model);function r(p,u){var x=Object.keys(p);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(p);u&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(p,R).enumerable})),x.push.apply(x,b)}return x}function _(p){for(var u=1;u<arguments.length;u++){var x=null!=arguments[u]?arguments[u]:{};u%2?r(Object(x),!0).forEach(function(b){se()(p,b,x[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(x)):r(Object(x)).forEach(function(b){Object.defineProperty(p,b,Object.getOwnPropertyDescriptor(x,b))})}return p}var B=function(p){d()(x,p);var u=function(p){var u=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(x){return!1}}();return function(){var x,b=D()(p);if(u){var R=D()(this).constructor;x=Reflect.construct(b,arguments,R)}else x=b.apply(this,arguments);return O()(this,x)}}(x);function x(){return f()(this,x),u.apply(this,arguments)}return h()(x,[{key:"template",value:function(b){var R=b.pfx,Q=b.ppfx,re=b.content,Fe=b.title;return'<div class="'.concat(R,"dialog ").concat(Q,"one-bg ").concat(Q,'two-color">\n      <div class="').concat(R,'header">\n        <div class="').concat(R,'title">').concat(Fe,'</div>\n        <div class="').concat(R,'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(R,'content">\n        <div id="').concat(R,'c">').concat(re,'</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(R,'collector" style="display: none"></div>')}},{key:"events",value:function(){return{click:"onClick","click [data-close-modal]":"hide"}}},{key:"initialize",value:function(b){var R=this.model,Q=b.config||{},re=Q.stylePrefix||"";this.config=Q,this.pfx=re,this.ppfx=Q.pStylePrefix||"",this.listenTo(R,"change:open",this.updateOpen),this.listenTo(R,"change:title",this.updateTitle),this.listenTo(R,"change:content",this.updateContent)}},{key:"onClick",value:function(b){this.config.backdrop&&b.target===this.el&&this.hide()}},{key:"getCollector",value:function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector}},{key:"getContent",value:function(){var b=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(b,"content #").concat(b,"c"))),this.$content}},{key:"getTitle",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),b.$?this.$title:this.$title.get(0)}},{key:"updateContent",value:function(){var b=this.getContent(),R=b.children(),Q=this.getCollector(),re=this.model.get("content");R.length&&Q.append(R),b.empty().append(re)}},{key:"updateTitle",value:function(){var b=this.getTitle({$:!0});b&&b.empty().append(this.model.get("title"))}},{key:"updateOpen",value:function(){this.el.style.display=this.model.get("open")?"":"none"}},{key:"hide",value:function(){this.model.close()}},{key:"show",value:function(){this.model.open()}},{key:"updateAttr",value:function(b){var R=this.pfx,Q=this.$el,Fe=[].slice.call(this.el.attributes).map(function(ge){return ge.name});Q.removeAttr(Fe.join(" ")),Q.attr(_(_({},b||{}),{},{class:"".concat(R,"container ").concat(b&&b.class||"").trim()}))}},{key:"render",value:function(){var b=this.$el,R=this.model.toJSON();return R.pfx=this.pfx,R.ppfx=this.ppfx,b.html(this.template(R)),this.updateAttr(),this.updateOpen(),this}}]),x}(I.View);function $(p,u){var x=Object.keys(p);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(p);u&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(p,R).enumerable})),x.push.apply(x,b)}return x}function w(p){for(var u=1;u<arguments.length;u++){var x=null!=arguments[u]?arguments[u]:{};u%2?$(Object(x),!0).forEach(function(b){se()(p,b,x[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(x)):$(Object(x)).forEach(function(b){Object.defineProperty(p,b,Object.getOwnPropertyDescriptor(x,b))})}return p}le.default=function(){var p,u,x={},b=function(R,Q){Q&&Q.trigger("modal:".concat(R?"open":"close"))};return{name:"Modal",getConfig:function(){return x},init:function(){var R=this,Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},re=(x=w(w({},L),Q)).em;this.em=re;var Fe=x.pStylePrefix;return Fe&&(x.stylePrefix=Fe+x.stylePrefix),(p=new S(x)).on("change:open",function(ge,fe){return b(fe,re)}),p.on("change",Object(J.debounce)(function(){var ge=R._evData(),fe=R.getConfig().custom;Object(J.isFunction)(fe)&&fe(ge),re.trigger("modal",ge)})),this},_evData:function(){var R=this,Q=this.getTitle(),re=this.getContent(),Fe=p.attributes;return{open:Fe.open,attributes:Fe.attributes,title:Object(J.isString)(Q)?Object(U.g)(Q):Q,content:Object(J.isString)(re)?Object(U.g)(re):re.get?re.get(0):re,close:function(){return R.close()}}},postRender:function(R){var Q=R.model.getConfig().el||R.el,re=this.render();re&&re.appendTo(Q)},open:function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Q=R.attributes||{};return R.title&&this.setTitle(R.title),R.content&&this.setContent(R.content),p.set("attributes",Q),p.open(),u&&u.updateAttr(Q),this},close:function(){return p.close(),this},onceClose:function(R){return this.em.once("modal:close",R),this},onceOpen:function(R){return this.em.once("modal:open",R),this},isOpen:function(){return!!p.get("open")},setTitle:function(R){return p.set("title",R),this},getTitle:function(){return p.get("title")},setContent:function(R){return p.set("content"," "),p.set("content",R),this},getContent:function(){return p.get("content")},getContentEl:function(){return u.getContent().get(0)},getModel:function(){return p},render:function(){if(!this.getConfig().custom){var R=B.extend(x.extend);return(u=new R({el:u&&u.el,model:p,config:x})).render().$el}},destroy:function(){u&&u.remove(),[x,p,u].forEach(function(R){return{}}),this.em={}}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(11),se=o.n(ee),J=o(3),U=o.n(J),L=o(0),k=o(1),f={stylePrefix:"css-",rules:[]},g=o(5),h=o.n(g),y=o(6),d=o.n(y),P=o(8),O=o.n(P),v=o(9),D=o.n(v),I=o(4),T=o.n(I),S=o(2),r=o.n(S),_=o(32),E=o(20);function B(ge,fe){var Ae=Object.keys(ge);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(ge);fe&&(Pe=Pe.filter(function(de){return Object.getOwnPropertyDescriptor(ge,de).enumerable})),Ae.push.apply(Ae,Pe)}return Ae}function $(ge){for(var fe=1;fe<arguments.length;fe++){var Ae=null!=arguments[fe]?arguments[fe]:{};fe%2?B(Object(Ae),!0).forEach(function(Pe){U()(ge,Pe,Ae[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(Ae)):B(Object(Ae)).forEach(function(Pe){Object.defineProperty(ge,Pe,Object.getOwnPropertyDescriptor(Ae,Pe))})}return ge}var p=(Object(k.hasWin)()?window:{}).CSS,u=function(ge){O()(Ae,ge);var fe=function(ge){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ae){return!1}}();return function(){var Ae,Pe=T()(ge);if(fe){var de=T()(this).constructor;Ae=Reflect.construct(Pe,arguments,de)}else Ae=Pe.apply(this,arguments);return D()(this,Ae)}}(Ae);function Ae(){return h()(this,Ae),fe.apply(this,arguments)}return d()(Ae,[{key:"defaults",value:function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",_undo:!0}}},{key:"initialize",value:function(Pe){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=Pe||{},this.opt=de,this.em=de.em,this.ensureSelectors(),this.on("change",this.__onChange)}},{key:"__onChange",value:function(Pe,de){var pe=this.em,_e=this.changedAttributes();!Object(k.isEmptyObj)(_e)&&pe&&pe.changesUp(de)}},{key:"clone",value:function(){var Pe=$({},this.opt),de=$({},this.attributes);return de.selectors=this.get("selectors").map(function(pe){return pe.clone()}),new this.constructor(de,Pe)}},{key:"ensureSelectors",value:function(Pe,de,pe){var _e=this.em,ae=_e&&_e.get("SelectorManager"),ne=[this,"change:selectors",this.ensureSelectors],G=this.getSelectors();if(this.stopListening.apply(this,ne),G.models&&(G=se()(G.models)),G=Object(L.isString)(G)?[G]:G,Array.isArray(G)){var W=G.filter(function(j){return j}).map(function(j){return ae?ae.add(j):j});G=new E.a(W)}this.set("selectors",G,pe),this.listenTo.apply(this,ne)}},{key:"getAtRule",value:function(){var Pe=this.get("atRuleType"),de=this.get("mediaText"),pe=Pe?"@".concat(Pe):de?"@media":"";return pe+(de&&pe?" ".concat(de):"")}},{key:"selectorsToString",value:function(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},de=[],pe=this.get("state"),_e=this.get("wrapper"),ae=this.get("selectorsAdd"),ne=_e&&Pe.body,G={escape:function(C){return p&&p.escape?p.escape(C):C}},W=ne?"body":this.get("selectors").getFullString(0,G),j=pe&&!Pe.skipState?":".concat(pe):"";return W&&de.push("".concat(W).concat(j)),ae&&!Pe.skipAdd&&de.push(ae),de.join(", ")}},{key:"getDeclaration",value:function(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},de="",pe=this.selectorsToString(Pe),_e=this.styleToString(Pe),ae=this.get("singleAtRule");return(pe||ae)&&_e&&(de=ae?_e:"".concat(pe,"{").concat(_e,"}")),de}},{key:"toCSS",value:function(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},de="",pe=this.getAtRule(),_e=this.getDeclaration(Pe);return _e&&(de=_e),pe&&de&&(de="".concat(pe,"{").concat(de,"}")),de}},{key:"toJSON",value:function(){for(var Pe=arguments.length,de=new Array(Pe),pe=0;pe<Pe;pe++)de[pe]=arguments[pe];var _e=S.Model.prototype.toJSON.apply(this,de);if(this.em.getConfig("avoidDefaults")){var ae=this.defaults();Object(L.forEach)(ae,function(ne,G){_e[G]===ne&&delete _e[G]}),Object(L.isEmpty)(_e.selectors)&&delete _e.selectors,Object(L.isEmpty)(_e.style)&&delete _e.style}return _e}},{key:"compare",value:function(Pe,de,pe){var _e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ae=de||"",ne=pe||"",G=_e.selectorsAdd||"",W=_e.atRuleType||"",j=Object(L.isArray)(Pe)||Pe.models?Pe.models||Pe:[Pe];ne&&!W&&(W="media");var C=j.map(function(l){return l.getFullName()}),H=this.get("selectors").map(function(l){return l.getFullName()}),n=C.slice().sort(),m=H.slice().sort();return!(C.length!==H.length||!n.every(function(l,A){return l===m[A]}))&&this.get("state")===ae&&this.get("mediaText")===ne&&this.get("selectorsAdd")===G&&this.get("atRuleType")===W}}]),Ae}(S.Model.extend(_.a)),x=r.a.Collection,b=x.extend({model:u,initialize:function(ge,fe){var Ae=this;fe&&fe.em&&(this.editor=fe.em),setTimeout(function(){Ae.on("remove",Ae.onRemove),Ae.on("add",Ae.onAdd)})},toJSON:function(ge){return x.prototype.toJSON.call(this,ge).filter(function(fe){return fe.style})},onAdd:function(ge,fe,Ae){ge.ensureSelectors(ge,fe,Ae)},onRemove:function(ge){var fe=this.editor;fe.stopListening(ge),fe.get("UndoManager").remove(ge)},add:function(ge){var fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof ge&&(ge=this.editor.get("Parser").parseCss(ge)),fe.em=this.editor,x.prototype.add.apply(this,[ge,fe])}}),R=o(43),Q=o(16);function re(ge,fe){var Ae=Object.keys(ge);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(ge);fe&&(Pe=Pe.filter(function(de){return Object.getOwnPropertyDescriptor(ge,de).enumerable})),Ae.push.apply(Ae,Pe)}return Ae}function Fe(ge){for(var fe=1;fe<arguments.length;fe++){var Ae=null!=arguments[fe]?arguments[fe]:{};fe%2?re(Object(Ae),!0).forEach(function(Pe){U()(ge,Pe,Ae[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(Ae)):re(Object(Ae)).forEach(function(Pe){Object.defineProperty(ge,Pe,Object.getOwnPropertyDescriptor(Ae,Pe))})}return ge}le.default=function(){var ge,fe,Ae,Pe={};return{Selectors:E.a,name:"CssComposer",getConfig:function(){return Pe},storageKey:function(){var de=[],pe=Pe.stm&&Pe.stm.getConfig()||{};return pe.storeCss&&de.push("css"),pe.storeStyles&&de.push("styles"),de},init:function(de){for(var pe in Pe=de||{},f)pe in Pe||(Pe[pe]=f[pe]);var _e=Pe.pStylePrefix;return _e&&(Pe.stylePrefix=_e+Pe.stylePrefix),Pe.rules=Pe.em&&Pe.em.config.style||Pe.rules,ge=Pe.em,fe=new b([],Pe),this},onLoad:function(){fe.add(Pe.rules,{silent:1})},postLoad:function(){var de=ge&&ge.get("UndoManager");de&&de.add(this.getAll())},load:function(de){var pe=de||"";!pe&&Pe.stm&&(pe=Pe.em.getCacheLoad());var _e=pe.styles||"";if(pe.styles)try{_e=JSON.parse(pe.styles)}catch(ae){}else pe.css&&(_e=Pe.em.get("Parser").parseCss(pe.css));return Object(L.isArray)(_e)?_e.length&&fe.reset(_e):_e&&fe.reset(_e),_e},store:function(de){if(Pe.stm){var pe={},_e=this.storageKey(),ae=ge&&ge.get("hasPages");return _e.indexOf("css")>=0&&!ae&&(pe.css=Pe.em.getCss()),_e.indexOf("styles")>=0&&(pe.styles=JSON.stringify(fe)),de||Pe.stm.store(pe),pe}},add:function(de,pe,_e){var ae=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ne=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},G=pe||"",W=_e||"",j=Fe({},ae),C=this.get(de,G,W,j);return C&&C.config&&!C.config.singleAtRule||(j.state=G,j.mediaText=W,j.selectors=[],W&&(j.atRuleType="media"),(C=new u(j,Pe)).get("selectors").add(de,ne),fe.add(C,ne)),C},get:function(de,pe,_e,ae){var ne=de;if(Object(L.isString)(de)){var G=ge.get("SelectorManager"),W=de.split(",")[0].trim(),j=ge.get("Parser").parserCss.checkNode({selectors:W})[0];ne=G.get(j.selectors)}return fe.find(function(C){return C.compare(ne,pe,_e,ae)})||null},getAll:function(){return fe},addCollection:function(de){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ae=[];Object(L.isString)(de)&&(de=ge.get("Parser").parseCss(de));for(var ne=de instanceof Array?de:[de],G=0,W=ne.length;G<W;G++){var j=ne[G]||{};if(j.selectors){var C=Pe.em&&Pe.em.get("SelectorManager");C||console.warn("Selector Manager not found");for(var H=j.selectors,n=H instanceof Array?H:[H],m=[],l=0,A=n.length;l<A;l++){var q=C.add(n[l]);m.push(q)}var be=this.get(m,j.state,j.mediaText,j),Le=this.add(m,j.state,j.mediaText,j,pe),ke=!be||!pe.avoidUpdateStyle,ve=j.style||{};if(Object(k.isObject)(_e)&&Le.set(_e,pe),ke){var Ee=pe.extend?Fe(Fe({},Le.get("style")),ve):ve;Le.set("style",Ee,pe)}ae.push(Le)}}return ae},addRules:function(de){return this.addCollection(de)},setRule:function(de,pe){var _e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ae=_e.atRuleType,ne=_e.atRuleParams,G=ge.get("Parser").parserCss.checkNode({selectors:de,style:pe})[0],W=G.state,j=G.selectorsAdd,C=ge.get("SelectorManager"),H=C.add(G.selectors),n=this.add(H,W,ne,{selectorsAdd:j,atRule:ae});return n.setStyle(pe,_e),n},getRule:function(de){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=ge.get("SelectorManager"),ae=ge.get("Parser").parserCss.checkNode({selectors:de})[0],ne=_e.get(ae.selectors),G=ae.state,W=ae.selectorsAdd,j=pe.atRuleType,C=pe.atRuleParams;return ne&&this.get(ne,G,C,{selectorsAdd:W,atRule:j})},getRules:function(de){var pe=this.getAll();return de?pe.filter(function(_e){return _e.getSelectors().getFullString()===de}):se()(pe.models)},setIdRule:function(de){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ae=_e.addOpts,ne=void 0===ae?{}:ae,G=_e.mediaText,W=_e.state||"",j=Object(L.isUndefined)(G)?ge.getCurrentMedia():G,C=ge.get("SelectorManager"),H=C.add({name:de,type:Q.a.TYPE_ID},ne),n=this.add(H,W,j,{},ne);return n.setStyle(pe,Fe(Fe({},_e),ne)),n},getIdRule:function(de){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=pe.mediaText,ae=pe.state||"",ne=Object(L.isUndefined)(_e)?ge.getCurrentMedia():_e,G=ge.get("SelectorManager").get(de,Q.a.TYPE_ID);return G&&this.get(G,ae,ne)},setClassRule:function(de){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ae=_e.state||"",ne=_e.mediaText||ge.getCurrentMedia(),G=ge.get("SelectorManager"),W=G.add({name:de,type:Q.a.TYPE_CLASS}),j=this.add(W,ae,ne);return j.setStyle(pe,_e),j},getClassRule:function(de){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=pe.state||"",ae=pe.mediaText||ge.getCurrentMedia(),ne=ge.get("SelectorManager").get(de,Q.a.TYPE_CLASS);return ne&&this.get(ne,_e,ae)},remove:function(de){var pe=Object(L.isString)(de)?this.getRules(de):de,_e=this.getAll().remove(pe);return Object(L.isArray)(_e)?_e:[_e]},clear:function(){var de=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().reset(null,de),this},getComponentRules:function(de){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=pe.state,ae=pe.mediaText,ne=pe.current;ne&&(_e=ge.get("state")||"",ae=ge.getCurrentMedia());var G=de.getId(),W=this.getAll().filter(function(j){if((Object(L.isUndefined)(_e)||j.get("state")===_e)&&(Object(L.isUndefined)(ae)||j.get("mediaText")===ae))return j.getSelectorsString()==="#".concat(G)});return W},render:function(){return Ae&&Ae.remove(),(Ae=new R.a({collection:fe,config:Pe})).render().el},destroy:function(){fe.reset(),fe.stopListening(),Ae&&Ae.remove(),[ge,fe,Ae].forEach(function(de){return null}),Pe={}}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(24),U=o(2),L=o.n(U),k=o(0),f=o(1);function g(w,p){var u=Object.keys(w);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(w);p&&(x=x.filter(function(b){return Object.getOwnPropertyDescriptor(w,b).enumerable})),u.push.apply(u,x)}return u}function h(w){for(var p=1;p<arguments.length;p++){var u=null!=arguments[p]?arguments[p]:{};p%2?g(Object(u),!0).forEach(function(x){se()(w,x,u[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(u)):g(Object(u)).forEach(function(x){Object.defineProperty(w,x,Object.getOwnPropertyDescriptor(u,x))})}return w}var y=L.a.$,d=L.a.View.extend({initialize:function(w){this.opt=w||{},Object(k.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var p=w||{};this.elT=0,this.elL=0,this.borderOffset=p.borderOffset||10;var u=p.container;this.el="string"==typeof u?document.querySelector(u):u,this.$el=y(this.el),this.containerSel=p.containerSel||"div",this.itemSel=p.itemSel||"div",this.draggable=p.draggable||!0,this.nested=p.nested||0,this.pfx=p.pfx||"",this.ppfx=p.ppfx||"",this.freezeClass=p.freezeClass||this.pfx+"freezed",this.onStart=p.onStart||"",this.onEndMove=p.onEndMove||"",this.customTarget=p.customTarget,this.onEnd=p.onEnd,this.direction=p.direction||"v",this.onMoveClb=p.onMove||"",this.relative=p.relative||0,this.ignoreViewChildren=p.ignoreViewChildren||0,this.ignoreModels=p.ignoreModels||0,this.plh=p.placer||"",this.wmargin=p.wmargin||0,this.offTop=p.offsetTop||0,this.offLeft=p.offsetLeft||0,this.document=p.document||document,this.$document=y(this.document),this.dropContent=null,this.em=p.em||"",this.dragHelper=null,this.canvasRelative=p.canvasRelative||0,this.selectOnEnd=!p.avoidSelectOnEnd,this.scale=p.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return Object(k.result)(this,scale)||1},getContainerEl:function(w){if(w&&(this.el=w),!this.el){var p=this.opt.container;this.el="string"==typeof p?document.querySelector(p):p,this.$el=y(this.el)}return this.el},getDocuments:function(w){var p=this.em,u=w?w.ownerDocument:p&&p.get("Canvas").getBody().ownerDocument,x=[document];return u&&x.push(u),x},updateOffset:function(){var w=this.em.get("canvasOffset")||{};this.offTop=w.top,this.offLeft=w.left},setDropContent:function(w){this.dropModel=null,this.dropContent=w},updateTextViewCursorPosition:function(w){var p=this.em.get("Canvas"),u=p.getDocument(),x=null;if(u.caretRangeFromPoint){var b=Object(f.getPointerEvent)(w);x=u.caretRangeFromPoint(b.clientX,b.clientY)}else w.rangeParent&&(x=u.createRange()).setStart(w.rangeParent,w.rangeOffset);var R=p.getWindow().getSelection();p.getFrameEl().focus(),R.removeAllRanges(),x&&R.addRange(x)},setContentEditable:function(w,p){if(w){var u=w.getEl();u.contentEditable!=p&&(u.contentEditable=p)}},toggleSortCursor:function(w){var p=this.em,u=p&&p.get("Canvas");u&&(w?u.startAutoscroll():u.stopAutoscroll())},setDragHelper:function(w,p){for(var u=p||"",x=w.cloneNode(1),b=w.getBoundingClientRect(),R=getComputedStyle(w),Q="",re=0;re<R.length;re++){var Fe=R[re];Q+="".concat(Fe,":").concat(R.getPropertyValue(Fe),";")}document.body.appendChild(x),x.className+=" ".concat(this.pfx,"bdrag"),x.setAttribute("style",Q),this.dragHelper=x,x.style.width="".concat(b.width,"px"),x.style.height="".concat(b.height,"px"),u&&this.moveDragHelper(u),this.em&&y(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),y(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(w){var p=w.target.ownerDocument;if(this.dragHelper&&p){var u=w.pageY,x=w.pageX,b=0,R=0,Q=(p.defaultView||p.parentWindow).frameElement,re=this.dragHelper.style;if(Q){var Fe=Q.getBoundingClientRect();b=Fe.top+document.documentElement.scrollTop,R=Fe.left+document.documentElement.scrollLeft,u=w.clientY,x=w.clientX}re.top=u+b+"px",re.left=x+R+"px"}},matches:function(w,p,u){return f.matches.call(w,p)},closest:function(w,p){if(w){for(var u=w.parentNode;u&&1===u.nodeType;){if(this.matches(u,p))return u;u=u.parentNode}return null}},offset:function(w){var p=w.getBoundingClientRect();return{top:p.top+document.body.scrollTop,left:p.left+document.body.scrollLeft}},createPlaceholder:function(){var w=this.pfx,p=document.createElement("div"),u=document.createElement("div");return p.className=w+"placeholder",p.style.display="none",p.style["pointer-events"]="none",u.className=w+"placeholder-int",p.appendChild(u),p},startSort:function(w){var p,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=this.em,b=this.itemSel,R=this.containerSel,Q=this.getContainerEl(u.container),re=this.getDocuments(w),Fe=this.onStart,ge=this.plh;this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,w&&!this.matches(w,"".concat(b,", ").concat(R))&&(w=this.closest(w,b)),this.eV=w,ge||(ge=this.createPlaceholder(),Q.appendChild(ge),this.plh=ge),w&&((p=this.getSourceModel(w))&&p.set&&p.set("status","freezed"),this.srcModel=p),Object(f.on)(Q,"mousemove dragover",this.onMove),Object(f.on)(re,"mouseup dragend touchend",this.endMove),Object(f.on)(re,"keydown",this.rollback),Fe&&Fe({sorter:this,target:p,parent:p&&p.parent(),index:p&&p.index()}),x&&x.clearSelection(),this.toggleSortCursor(1),x&&x.trigger("sorter:drag:start",w,p)},getTargetModel:function(w){return y(w||this.target).data("model")},getSourceModel:function(w){var p=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=u.target,b=u.avoidChildren,R=void 0===b?1:b,Q=this.em,re=this.eV,Fe=w||re,ge=this.dropModel,fe=this.dropContent,Ae=function(_e){return _e&&x&&_e.opt&&_e.opt.avoidChildren&&p.isTextableActive(_e,x)};if(fe&&Q){if(Ae(ge)&&(ge=null),!ge){var Pe=Q.get("DomComponents").getComponents(),de={avoidChildren:R,avoidStore:1,avoidUpdateStyle:1},pe=Pe.add(fe,h(h({},de),{},{temporary:1}));if(ge=(ge=Pe.remove(pe,de))instanceof Array?ge[0]:ge,this.dropModel=ge,Ae(ge))return this.getSourceModel(Fe,{target:x,avoidChildren:0})}return ge}return Fe&&y(Fe).data("model")},selectTargetModel:function(w,p){if(!(w instanceof L.a.Collection||p&&p===w)){var u=this.targetModel;u&&u!==this.srcModel&&u.set("status",""),w&&w.set&&(w.set("status","selected-parent"),this.targetModel=w)}},onMove:function(w){var p=w,u=this.em,x=this.onMoveClb,b=this.plh,R=this.customTarget;this.moved=1;var Q=b.style.display;Q&&"none"!==Q||(b.style.display="block");var re=this.offset(this.el);this.elT=this.wmargin?Math.abs(re.top):re.top,this.elL=this.wmargin?Math.abs(re.left):re.left;var Fe=w.pageY-this.elT+this.el.scrollTop,ge=w.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&u){var fe=u.get("Canvas").getMouseRelativeCanvas(w,{noScroll:1});ge=fe.x,Fe=fe.y}this.rX=ge,this.rY=Fe,this.eventMove=w;var Ae=this.getSourceModel(),Pe=R?R({sorter:this,event:w}):w.target,de=this.dimsFromTarget(Pe,ge,Fe),pe=this.target,_e=pe&&this.getTargetModel(pe);if(this.selectTargetModel(_e,Ae),_e||(b.style.display="none"),pe){this.lastDims=de;var ae=this.findPosition(de,ge,Fe);this.isTextableActive(Ae,_e)?(this.activeTextModel=_e,this.setContentEditable(_e,!0),b.style.display="none",this.lastPos=ae,this.updateTextViewCursorPosition(p)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==ae.index&&this.lastPos.method==ae.method||(this.movePlaceholder(this.plh,de,ae,this.prevTargetDim),this.$plh||(this.$plh=y(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=ae)),Object(k.isFunction)(x)&&x({event:w,target:Ae,parent:_e,index:ae.index+("after"==ae.method?1:0)}),u&&u.trigger("sorter:drag",{target:pe,targetModel:_e,sourceModel:Ae,dims:de,pos:ae,x:ge,y:Fe})}},isTextableActive:function(w,p){return w&&w.get&&w.get("textable")&&p&&p.is("text")},disableTextable:function(){var w=this.activeTextModel;w&&w.getView().disableEditing()},isInFlow:function(w,p){return!!w&&(p=p||document.body,!!this.styleInFlow(w,p))},styleInFlow:function(w,p){if(!Object(f.isTextNode)(w)){var u=w.style||{},x=y(w),b=p&&y(p);if(!u.overflow||"visible"===u.overflow){var R=x.css("float");if(!(R&&"none"!==R||b&&"flex"==b.css("display")&&"column"!==b.css("flex-direction"))){switch(u.position){case"static":case"relative":case"":break;default:return}switch(w.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(x.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}}},validTarget:function(w,p){var u=this.getTargetModel(w),x=this.getSourceModel(p,{target:u}),b={valid:!0,src:p=x&&x.view&&x.view.el,srcModel:x,trg:w=u&&u.view&&u.view.el,trgModel:u};if(!p||!w)return b.valid=!1,b;var R=x.get("draggable");R=R instanceof Array?R.join(", "):R,b.dragInfo=R,R=Object(k.isString)(R)?this.matches(w,R):R,b.draggable=R;var Q=u.get("droppable");if(Object(k.isFunction)(Q)){var re=Q(x,u);b.droppable=re,b.dropInfo=re,Q=re}else Q=(Q=Q instanceof L.a.Collection?1:Q)instanceof Array?Q.join(", "):Q,b.dropInfo=Q,Q=Object(k.isString)(Q)?this.matches(p,Q):Q,Q=R&&this.isTextableActive(x,u)?1:Q,b.droppable=Q;return Q&&R||(b.valid=!1),b},dimsFromTarget:function(w,p,u){var x=this.em,b=[];if(!w||(this.matches(w,"".concat(this.itemSel,", ").concat(this.containerSel))||(w=this.closest(w,this.itemSel)),this.draggable instanceof Array&&(w=this.closest(w,this.draggable.join(","))),!w))return b;if(this.prevTarget&&this.prevTarget!=w&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(w,this.containerSel);var R=this.validTarget(w);if(x&&x.trigger("sorter:drag:validation",R),!R.valid&&this.targetP)return this.dimsFromTarget(this.targetP,p,u);this.prevTarget=w,this.prevTargetDim=this.getDim(w),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(w)}if(this.prevTarget==w&&(b=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,p,u)||!this.nested&&!this.cacheDims.length){var Q=this.targetP;Q&&this.validTarget(Q).valid&&(b=this.cacheDimsP,this.target=Q)}return this.lastPos=null,b},getTargetFromEl:function(w){var p,u=w,x=this.targetPrev,b=this.em,R=this.containerSel,Q=this.itemSel;if(this.matches(u,"".concat(Q,", ").concat(R))||(u=this.closest(u,Q)),this.draggable instanceof Array&&(u=this.closest(u,this.draggable.join(","))),x&&x!=u&&(this.targetPrev=""),!this.targetPrev){p=this.closest(u,R);var re=this.validTarget(u);if(b&&b.trigger("sorter:drag:validation",re),!re.valid&&p)return this.getTargetFromEl(p);this.targetPrev=u}return this.nearElBorders(u)&&(p=this.closest(u,R))&&this.validTarget(p).valid&&(u=p),u},nearElBorders:function(w){var u=w.getBoundingClientRect(),x=w.ownerDocument.body,b=this.getCurrentPos(),R=b.x,Q=b.y,re=u.top+x.scrollTop,Fe=u.left+x.scrollLeft;if(Q<re+10||Q>re+u.height-10||R<Fe+10||R>Fe+u.width-10)return 1},getCurrentPos:function(){var w=this.eventMove;return{x:w.pageX||0,y:w.pageY||0}},getDim:function(w){var p,u,x,b,R=this.em,Q=this.canvasRelative,re=R&&R.get("Canvas"),Fe=re?re.getElementOffsets(w):{};if(Q&&R){var ge=re.getElementPos(w,{noScroll:1});p=ge.top,u=ge.left,x=ge.height,b=ge.width}else{var fe=this.offset(w);p=this.relative?w.offsetTop:fe.top-(this.wmargin?-1:1)*this.elT,u=this.relative?w.offsetLeft:fe.left-(this.wmargin?-1:1)*this.elL,x=w.offsetHeight,b=w.offsetWidth}return{top:p,left:u,height:x,width:b,offsets:Fe}},getChildrenDim:function(w){var p=this,u=[];if(!w)return u;var x=this.getTargetModel(w);if(x&&x.view&&!this.ignoreViewChildren){var b=x.getCurrentView?x.getCurrentView():x.view;w=b.getChildrenContainer()}return Object(k.each)(w.children,function(R,Q){var re=Object(f.getModel)(R,y),Fe=re&&re.index?re.index():Q;if(Object(f.isTextNode)(R)||p.matches(R,p.itemSel)){var ge=p.getDim(R),fe=p.direction;fe="v"==fe||"h"!=fe&&p.isInFlow(R,w),ge.dir=fe,ge.el=R,ge.indexEl=Fe,u.push(ge)}}),u},nearBorders:function(w,p,u){var x=0,b=this.borderOffset,R=p||0,Q=u||0,re=w.top,Fe=w.left;return(re+b>Q||Q>re+w.height-b||Fe+b>R||R>Fe+w.width-b)&&(x=1),!!x},findPosition:function(w,p,u){for(var x={index:0,indexEl:0,method:"before"},b=0,R=0,Q=0,re=0,Fe=0,ge=0,fe=0,Ae=0,Pe=w.length;Ae<Pe;Ae++){var de=fe=w[Ae],pe=de.top,_e=de.left,ae=de.height,ne=de.width;if(ge=pe+ae,re=_e+ne/2,Fe=pe+ae/2,!(R&&_e>R||Q&&Fe>=Q||b&&_e+ne<b))if(x.index=Ae,x.indexEl=fe.indexEl,fe.dir){if(u<Fe){x.method="before";break}x.method="after"}else u<ge&&(Q=ge),p<re?(R=re,x.method="before"):(b=re,x.method="after")}return x},movePlaceholder:function(w,p,u,x){var R=0,Q=0,re=0,Fe=0,ge="px",Ae=u.method,Pe=p[u.index];if(w.classList.remove("vertical"),w.classList.add("horizontal"),Pe){var de=Pe.top,pe=Pe.left,_e=Pe.height,ae=Pe.width;Pe.dir?(re=ae+ge,Fe="auto",R="before"==Ae?de-0:de+_e-0,Q=pe):(re="auto",Fe=_e-0+ge,R=de+0,Q="before"==Ae?pe-0:pe+ae-0,w.classList.remove("horizontal"),w.classList.add("vertical"))}else{if(!this.nested)return void(w.style.display="none");if(x){var ne=x.offsets||{},W=ne.paddingLeft||5;R=x.top+(ne.paddingTop||5),Q=x.left+W,re=parseInt(x.width)-2*W+ge,Fe="auto"}}w.style.top=R+ge,w.style.left=Q+ge,re&&(w.style.width=re),Fe&&(w.style.height=Fe)},endMove:function(w){var p,u=this,x=this.eV,b=[],R=this.getDocuments(),Q=this.getContainerEl(),re=this.onEndMove,Fe=this.onEnd,ge=this.target,fe=this.lastPos;if(Object(f.off)(Q,"mousemove dragover",this.onMove),Object(f.off)(R,"mouseup dragend touchend",this.endMove),Object(f.off)(R,"keydown",this.rollback),this.plh.style.display="none",x&&(p=this.getSourceModel(),this.selectOnEnd&&p&&p.set&&(p.set("status",""),p.set("status","selected"))),this.moved&&ge){var Ae=this.toMove;(Object(k.isArray)(Ae)?Ae:Ae?[Ae]:[x]).forEach(function(pe){b.push(u.move(ge,pe,fe))})}this.plh&&(this.plh.style.display="none");var Pe=this.dragHelper;if(Pe&&(Pe.parentNode.removeChild(Pe),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,Object(k.isFunction)(re)){var de={target:p,parent:p&&p.parent(),index:p&&p.index()};b.length?b.forEach(function(pe){return re(pe,u,de)}):re(null,this,h(h({},de),{},{cancelled:1}))}Object(k.isFunction)(Fe)&&Fe({sorter:this})},move:function(w,p,u){var x=this.em,b=this.activeTextModel,R=this.dropContent,Q=Object(f.getElement)(p);x&&x.trigger("component:dragEnd:before",w,Q,u);var re,Fe,ge,fe=u.indexEl,Ae=[],Pe=this.validTarget(w,Q),de=y(w).data("collection"),pe=Pe.srcModel,_e=Pe.droppable,ae=Pe.trgModel,ne=Pe.draggable,G=Pe.dropInfo||ae&&ae.get("droppable"),W=Pe.dragInfo||pe&&pe.get("draggable");_e=ae instanceof L.a.Collection?1:_e;var j=this.isTextableActive(pe,ae);if(de&&_e&&ne){var C={at:fe="after"===u.method?fe+1:fe,noIncrement:1};if(R?(re=Object(k.isFunction)(R)?R():R,C.silent=!1,C.avoidUpdateStyle=1):(C.temporary=1,Fe=de.add({},h({},C)),pe.collection&&(re=pe.collection.remove(pe,{temporary:1}))),j){var H=b.getView();b.trigger("active");var n=H.activeRte,m=pe.getEl();delete pe.opt.temporary,pe.getView().render(),m.setAttribute("data-gjs-textable","true"),n.insertHTML&&n.insertHTML(m.outerHTML)}else ge=de.add(re,C);R?this.dropContent=null:de.remove(Fe),this.prevTarget=null}else x&&(!de&&Ae.push("Target collection not found"),!_e&&G&&Ae.push("Target is not droppable, accepts [".concat(G,"]")),!ne&&W&&Ae.push("Component not draggable, acceptable by [".concat(W,"]")),x.logWarning("Invalid target position",{errors:Ae,model:pe,context:"sorter",target:ae}));return x&&(x.trigger("component:dragEnd",de,re,Ae),x.trigger("sorter:drag:end",{targetCollection:de,modelToDrop:re,warns:Ae,validResult:Pe,dst:w,srcEl:Q})),ge},rollback:function(w){Object(f.off)(this.getDocuments(),"keydown",this.rollback),27==(w.which||w.keyCode)&&(this.moved=0,this.endMove())}}),P=o(5),O=o.n(P),v=o(6),D=o.n(v);function I(w,p){var u=Object.keys(w);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(w);p&&(x=x.filter(function(b){return Object.getOwnPropertyDescriptor(w,b).enumerable})),u.push.apply(u,x)}return u}function T(w){for(var p=1;p<arguments.length;p++){var u=null!=arguments[p]?arguments[p]:{};p%2?I(Object(u),!0).forEach(function(x){se()(w,x,u[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(u)):I(Object(u)).forEach(function(x){Object.defineProperty(w,x,Object.getOwnPropertyDescriptor(u,x))})}return w}var S={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:10,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},r=function(w,p){var u=p||window,x=w.getBoundingClientRect();return{left:x.left+u.pageXOffset,top:x.top+u.pageYOffset,width:x.width,height:x.height}},_=function(){function w(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O()(this,w),this.setOptions(p),Object(k.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return D()(w,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=Object(k.defaults)(p,S),this.setup()}},{key:"setup",value:function(){var p=this.opts,u=p.prefix||"",x=p.appendTo||document.body,b=this.container;for(b||((b=document.createElement("div")).className="".concat(u,"resizer-c"),x.appendChild(b),this.container=b);b.firstChild;)b.removeChild(b.firstChild);var R={};for(var Q in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(Fe){return R[Fe]=p[Fe]?(ge=Fe,Ae=p.prefix||"",(Pe=document.createElement("i")).className=Ae+"resizer-h "+Ae+"resizer-h-"+ge,Pe.setAttribute("data-"+Ae+"handler",ge),Pe):"";var ge,Ae,Pe}),R){var re=R[Q];re&&b.appendChild(re)}this.handlers=R,this.mousePosFetcher=p.mousePosFetcher,this.updateTarget=p.updateTarget,this.posFetcher=p.posFetcher,this.onStart=p.onStart,this.onMove=p.onMove,this.onEnd=p.onEnd,this.onUpdateContainer=p.onUpdateContainer}},{key:"toggleFrames",value:function(p){if(this.opts.silentFrames){var u=document.querySelectorAll("iframe");Object(k.each)(u,function(x){return x.style.pointerEvents=p?"none":""})}}},{key:"isHandler",value:function(p){var u=this.handlers;for(var x in u)if(u[x]===p)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getParentEl",value:function(){return this.el.parentElement}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(p){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=this.posFetcher||"";return x?x(p,u):r(p)}},{key:"focus",value:function(p){p&&p===this.el||(this.el=p,this.updateContainer({forceShow:1}),Object(f.on)(this.getDocumentEl(),"mousedown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&(Object(f.off)(this.getDocumentEl(),"mousedown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(p){if(0===p.button){p.preventDefault(),p.stopPropagation();var u=this.el,x=this.getParentEl(),b=this.opts||{},R="data-"+b.prefix+"handler",Q=this.getElementPos(u,{target:"el"}),re=this.getElementPos(x);this.handlerAttr=p.target.getAttribute(R),this.clickedHandler=p.target,this.startDim={t:Q.top,l:Q.left,w:Q.width,h:Q.height},this.rectDim={t:Q.top,l:Q.left,w:Q.width,h:Q.height},this.startPos={x:p.clientX,y:p.clientY},this.parentDim={t:re.top,l:re.left,w:re.width,h:re.height};var Fe=this.getDocumentEl();Object(f.on)(Fe,"mousemove",this.move),Object(f.on)(Fe,"keydown",this.handleKeyDown),Object(f.on)(Fe,"mouseup",this.stop),Object(k.isFunction)(this.onStart)&&this.onStart(p,{docs:Fe,config:b,el:u,resizer:this}),this.toggleFrames(1),this.move(p)}}},{key:"move",value:function(p){var u=this.onMove,x=this.mousePosFetcher,b=x?x(p):{x:p.clientX,y:p.clientY};this.currentPos=b,this.delta={x:b.x-this.startPos.x,y:b.y-this.startPos.y},this.keys={shift:p.shiftKey,ctrl:p.ctrlKey,alt:p.altKey},this.rectDim=this.calc(this),this.updateRect(0),u&&u(p),0===p.which&&this.stop(p)}},{key:"stop",value:function(p){var u=this.opts,x=this.getDocumentEl();Object(f.off)(x,"mousemove",this.move),Object(f.off)(x,"keydown",this.handleKeyDown),Object(f.off)(x,"mouseup",this.stop),this.updateRect(1),this.toggleFrames(),Object(k.isFunction)(this.onEnd)&&this.onEnd(p,{docs:x,config:u})}},{key:"updateRect",value:function(p){var u=this.el,x=this.opts,b=this.rectDim,R=this.updateTarget,Q=this.getSelectedHandler(),re=x.unitHeight,Fe=x.unitWidth,ge=x.keyWidth,fe=x.keyHeight;if(Object(k.isFunction)(R))R(u,b,{store:p,selectedHandler:Q,resizer:this,config:x});else{var Ae=u.style;Ae[ge]=b.w+Fe,Ae[fe]=b.h+re}this.updateContainer()}},{key:"updateContainer",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=this.opts,x=this.container,b=this.el,R=x.style;!u.avoidContainerUpdate&&b&&p.forceShow&&(R.display="block"),this.onUpdateContainer({el:x,resizer:this,opts:T(T({},u),p)})}},{key:"getSelectedHandler",value:function(){var p=this.handlers;if(this.selectedHandler)for(var u in p)if(p[u]===this.selectedHandler)return u}},{key:"handleKeyDown",value:function(p){27===p.keyCode&&(this.rectDim=this.startDim,this.stop(p))}},{key:"handleMouseDown",value:function(p){var u=p.target;this.isHandler(u)?(this.selectedHandler=u,this.start(p)):u!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(p){var u,x=this.opts||{},b=x.step,R=this.startDim,Q=x.minDim,re=x.maxDim,Fe=p.delta.x,ge=p.delta.y,fe=this.parentDim.w,Ae=this.parentDim.h,Pe=this.opts.unitWidth,de=this.opts.unitHeight,pe="%"===Pe?R.w/100*fe:R.w,_e="%"===de?R.h/100*Ae:R.h,ae={t:0,l:0,w:pe,h:_e};if(p){var ne=p.handlerAttr;~ne.indexOf("r")&&(u="%"===Pe?Object(f.normalizeFloat)((pe+Fe*b)/fe*100,.01):Object(f.normalizeFloat)(pe+Fe*b,b),u=Math.max(Q,u),re&&(u=Math.min(re,u)),ae.w=u),~ne.indexOf("b")&&(u="%"===de?Object(f.normalizeFloat)((_e+ge*b)/Ae*100,.01):Object(f.normalizeFloat)(_e+ge*b,b),u=Math.max(Q,u),re&&(u=Math.min(re,u)),ae.h=u),~ne.indexOf("l")&&(u="%"===Pe?Object(f.normalizeFloat)((pe-Fe*b)/fe*100,.01):Object(f.normalizeFloat)(pe-Fe*b,b),u=Math.max(Q,u),re&&(u=Math.min(re,u)),ae.w=u),~ne.indexOf("t")&&(u="%"===de?Object(f.normalizeFloat)((_e-ge*b)/Ae*100,.01):Object(f.normalizeFloat)(_e-ge*b,b),u=Math.max(Q,u),re&&(u=Math.min(re,u)),ae.h=u);var G=x.ratioDefault?!p.keys.shift:p.keys.shift;if(ne.indexOf("c")<0&&G){var W=R.w/R.h;ae.w/ae.h>W?ae.h=Math.round(ae.w/W):ae.w=Math.round(ae.h*W)}return~ne.indexOf("l")&&(ae.l=R.w-ae.w),~ne.indexOf("t")&&(ae.t=R.h-ae.h),ae}}}]),w}(),E={init:function(w){return new _(w)}};function B(w,p){var u=Object.keys(w);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(w);p&&(x=x.filter(function(b){return Object.getOwnPropertyDescriptor(w,b).enumerable})),u.push.apply(u,x)}return u}function $(w){for(var p=1;p<arguments.length;p++){var u=null!=arguments[p]?arguments[p]:{};p%2?B(Object(u),!0).forEach(function(x){se()(w,x,u[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(u)):B(Object(u)).forEach(function(x){Object.defineProperty(w,x,Object.getOwnPropertyDescriptor(u,x))})}return w}le.default=function(){return{name:"Utils",init:function(){return this},destroy:function(){},Sorter:d,Resizer:E,Dragger:J.a,helpers:$({},f)}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(3),se=o.n(ee),J=o(14),U=o.n(J),L=o(0),k=o(1),f={placeholder:"eg. Text here"},g={locale:"en",localeFallback:"en",detectLocale:1,debug:0,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:f,alt:f,title:f,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}}}}};function h(P,O){var v=Object.keys(P);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(P);O&&(D=D.filter(function(I){return Object.getOwnPropertyDescriptor(P,I).enumerable})),v.push.apply(v,D)}return v}function y(P){for(var O=1;O<arguments.length;O++){var v=null!=arguments[O]?arguments[O]:{};O%2?h(Object(v),!0).forEach(function(D){se()(P,D,v[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(v)):h(Object(v)).forEach(function(D){Object.defineProperty(P,D,Object.getOwnPropertyDescriptor(v,D))})}return P}var d=function(P){return!Array.isArray(P)&&null!==P&&"object"===U()(P)};le.default=function(){return{name:"I18n",config:g,init:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.config=y(y(y({},g),P),{},{messages:y(y({},g.messages),P.messages||{})}),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=P.em,this},getConfig:function(){return this.config},setLocale:function(P){var O=this.em,v=this.config;return O&&O.trigger("i18n:locale",{value:P,valuePrev:v.locale}),v.locale=P,this},getLocale:function(){return this.config.locale},getMessages:function(P){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=this.config.messages;return P&&!v[P]&&this._debug("'".concat(P,"' i18n lang not found"),O),P?v[P]:v},setMessages:function(P){var O=this.em;return this.config.messages=P,O&&O.trigger("i18n:update",P),this},addMessages:function(P){var O=this.em,v=this.config.messages;return O&&O.trigger("i18n:add",P),this.setMessages(function D(){for(var I=y({},arguments.length<=0?void 0:arguments[0]),T=1;T<arguments.length;T++){var S=y({},T<0||arguments.length<=T?void 0:arguments[T]);for(var r in S){var _=I[r],E=S[r];I[r]=d(_)&&d(E)?D(_,E):E}}return I}(v,P)),this},t:function(P){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=this.config,D=O.params||{},I=O.l||this.getLocale(),T=O.lFlb||v.localeFallback,S=this._getMsg(P,I,O);return S||(S=this._getMsg(P,T,O)),!S&&this._debug("'".concat(P,"' i18n key not found in '").concat(I,"' lang"),O),S&&Object(L.isString)(S)?this._addParams(S,D):S},_localLang:function(){var P=Object(k.hasWin)()&&window.navigator||{},O=P.language||P.userLanguage;return O?O.split("-")[0]:"en"},_addParams:function(P,O){var v=new RegExp("{([\\w\\d-]*)}","g");return P.replace(v,function(D,I){return O[I]||""}).trim()},_getMsg:function(P,O){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},D=this.getMessages(O,v);if(D){var I=D[P];return!I&&P.indexOf(".")>0&&(I=P.split(".").reduce(function(T,S){if(!Object(L.isUndefined)(T))return T[S]},D)),I}},_debug:function(P){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=this.em,D=this.config;(O.debug||D.debug)&&v&&v.logWarning(P)},destroy:function(){this.config=g,this.em={}}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(34),se=o.n(ee),J=o(11),U=o.n(J),L=o(3),k=o.n(L),f=o(26),g=o.n(f),h=o(5),y=o.n(h),d=o(6),P=o.n(d),O=o(1);function v(u,x){var b=Object.keys(u);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(u);x&&(R=R.filter(function(Q){return Object.getOwnPropertyDescriptor(u,Q).enumerable})),b.push.apply(b,R)}return b}function D(u){for(var x=1;x<arguments.length;x++){var b=null!=arguments[x]?arguments[x]:{};x%2?v(Object(b),!0).forEach(function(R){k()(u,R,b[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(b)):v(Object(b)).forEach(function(R){Object.defineProperty(u,R,Object.getOwnPropertyDescriptor(b,R))})}return u}var I="_rte",_=function(u){var x=u.selection().anchorNode,b=x&&x.parentNode,R=x&&x.nextSibling;return b&&"A"==b.nodeName||R&&"A"==R.nodeName},E={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(u){return u.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(u){return u.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(u){return u.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(u){return u.exec("strikeThrough")}},link:{icon:'<span style="transform:rotate(45deg)">&supdsub;</span>',name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(u,x){return u&&u.selection()&&_(u)?1:0},result:function(u){_(u)?u.exec("unlink"):u.insertHTML('<a class="link" href="">'.concat(u.selection(),"</a>"))}}},B=function(){function u(){var x=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y()(this,u);var R=b.el;if(R[I])return R[I];R[I]=this,this.setEl(R),this.updateActiveActions=this.updateActiveActions.bind(this);var Q=(b.actions||[]).map(function(Ae){var Pe=Ae;return"string"==typeof Ae?Pe=D({},E[Ae]):E[Ae.name]&&(Pe=D(D({},E[Ae.name]),Ae)),Pe}),re=Q.length?Q:Object.keys(E).map(function(Ae){return E[Ae]});b.classes=D(D({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"}),b.classes);var Fe=b.classes,ge=b.actionbar;if(this.actionbar=ge,this.settings=b,this.classes=Fe,this.actions=re,!ge){var fe=b.actionbarContainer;(ge=document.createElement("div")).className=Fe.actionbar,fe.appendChild(ge),this.actionbar=ge,re.forEach(function(Ae){return x.addAction(Ae)})}return b.styleWithCSS&&this.exec("styleWithCSS"),this.syncActions(),this}return P()(u,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(x){this.el=x,this.doc=x.ownerDocument}},{key:"updateActiveActions",value:function(){var x=this;this.getActions().forEach(function(b){var R=b.btn,Q=b.update,re=D({},x.classes),Fe=re.active,ge=re.inactive,fe=re.disabled,Ae=b.state,Pe=b.name,de=x.doc;if(R.className=R.className.replace(Fe,"").trim(),R.className=R.className.replace(ge,"").trim(),R.className=R.className.replace(fe,"").trim(),Ae)switch(Ae(x,de)){case 1:R.className+=" ".concat(Fe);break;case 0:R.className+=" ".concat(ge);break;case-1:R.className+=" ".concat(fe)}else de.queryCommandSupported(Pe)&&de.queryCommandState(Pe)&&(R.className+=" ".concat(Fe));Q&&Q(x,b)})}},{key:"enable",value:function(){return this.enabled||(this.actionbarEl().style.display="",this.el.contentEditable=!0,Object(O.on)(this.el,"mouseup keyup",this.updateActiveActions),this.syncActions(),this.updateActiveActions(),this.el.focus(),this.enabled=1),this}},{key:"disable",value:function(){return this.actionbarEl().style.display="none",this.el.contentEditable=!1,Object(O.off)(this.el,"mouseup keyup",this.updateActiveActions),this.enabled=0,this}},{key:"syncActions",value:function(){var x=this;this.getActions().forEach(function(b){x.settings.actionbar&&(!b.state||b.state&&b.state(x,x.doc)>=0)&&(b.btn["on".concat(b.event||"click")]=function(Q){b.result(x,b),x.updateActiveActions()})})}},{key:"addAction",value:function(x){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=b.sync,Q=document.createElement("span"),re=x.icon,Fe=x.attributes||{};for(var ge in Q.className=this.classes.button,x.btn=Q,Fe)Q.setAttribute(ge,Fe[ge]);"string"==typeof re?Q.innerHTML=re:Q.appendChild(re),this.actionbarEl().appendChild(Q),R&&(this.actions.push(x),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(x){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.doc.execCommand(x,!1,b)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(x){var b=this.doc,R=b.getSelection();if(R&&R.rangeCount){var Q=b.createElement("div"),re=R.getRangeAt(0);re.deleteContents(),Q.innerHTML=x,Array.prototype.slice.call(Q.childNodes).forEach(function(Fe){re.insertNode(Fe)}),R.removeAllRanges(),R.addRange(re),this.el.focus()}}}]),u}(),$={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link"]};function w(u,x){var b=Object.keys(u);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(u);x&&(R=R.filter(function(Q){return Object.getOwnPropertyDescriptor(u,Q).enumerable})),b.push.apply(b,R)}return b}function p(u){for(var x=1;x<arguments.length;x++){var b=null!=arguments[x]?arguments[x]:{};x%2?w(Object(b),!0).forEach(function(R){k()(u,R,b[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(b)):w(Object(b)).forEach(function(R){Object.defineProperty(u,R,Object.getOwnPropertyDescriptor(b,R))})}return u}le.default=function(){var u,x,b,R,Q,re={},Fe="change:canvasOffset canvasScroll frame:scroll component:update",ge=function(){var fe=u.style,Ae="-1000px";fe.top=Ae,fe.left=Ae,fe.display="none"};return{customRte:null,name:"RichTextEditor",getConfig:function(){return re},init:function(){var fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ae=(re=p(p({},$),fe)).pStylePrefix;return Ae&&(re.stylePrefix=Ae+re.stylePrefix),this.pfx=re.stylePrefix,x=re.actions||[],Object(O.hasWin)()?((u=document.createElement("div")).className="".concat(Ae,"rte-toolbar ").concat(Ae,"one-bg"),Q=this.initRte(document.createElement("div")),Object(O.on)(u,"mousedown",function(Pe){return Pe.stopPropagation()}),this):this},destroy:function(){var fe=this.customRte;Q&&Q.destroy(),fe&&fe.destroy&&fe.destroy(),this.actionbar=0,this.actions=0,[re,u,x,b,R,Q].forEach(function(Ae){return{}})},postRender:function(fe){var Ae=fe.model.get("Canvas");u.style.pointerEvents="all",ge(),Ae.getToolsEl().appendChild(u)},initRte:function(fe){var Ae=this.pfx,Pe=u,de=this.actionbar,pe=this.actions||U()(re.actions),_e={actionbar:"".concat(Ae,"actionbar"),button:"".concat(Ae,"action"),active:"".concat(Ae,"active"),inactive:"".concat(Ae,"inactive"),disabled:"".concat(Ae,"disabled")},ae=new B({el:fe,classes:_e,actions:pe,actionbar:de,actionbarContainer:Pe});return Q&&Q.setEl(fe),ae.actionbar&&(this.actionbar=ae.actionbar),ae.actions&&(this.actions=ae.actions),ae},add:function(fe){var Ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ae.name=fe,Q.addAction(Ae,{sync:1})},get:function(fe){var Ae;return Q.getActions().forEach(function(Pe){Pe.name==fe&&(Ae=Pe)}),Ae},getAll:function(){return Q.getActions()},remove:function(fe){var Ae=this.getAll(),Pe=this.get(fe);if(Pe){var de=Pe.btn,pe=Ae.indexOf(Pe);de.parentNode.removeChild(de),Ae.splice(pe,1)}return Pe},getToolbarEl:function(){return u},updatePosition:function(){var Ae=re.em.get("Canvas"),Pe=u.style,de=Ae.getTargetToElementFixed(b,u,{event:"rteToolbarPosUpdate",left:0});Pe.top=(de.top||0)+"px",Pe.left=(de.left||0)+"px"},enable:function(fe,Ae){var Pe=this;return se()(g.a.mark(function de(){var pe,_e,ae,ne,G;return g.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return b=fe.el,pe=Pe.customRte,_e=re.em.get("Canvas"),ae=re.em,ne=fe.getChildrenContainer(),R=_e.getElementPos(b),u.style.display="",W.next=9,pe?pe.enable(ne,Ae):Pe.initRte(ne).enable();case 9:return G=W.sent,ae&&(setTimeout(Pe.updatePosition.bind(Pe),0),ae.off(Fe,Pe.updatePosition,Pe),ae.on(Fe,Pe.updatePosition,Pe),ae.trigger("rte:enable",fe,G)),W.abrupt("return",G);case 12:case"end":return W.stop()}},de)}))()},disable:function(fe,Ae){var Pe=re.em,de=this.customRte,pe=fe.getChildrenContainer();de?de.disable(pe,Ae):Ae&&Ae.disable(),ge(),Pe&&(Pe.off(Fe,this.updatePosition,this),Pe.trigger("rte:disable",fe,Ae))}}}},function(Ye,le,o){"use strict";o.r(le);var ee,se=o(3),J=o.n(se),U={stylePrefix:"",appendTo:"",sortable:1,hidable:1,hideTextnode:1,root:"",showWrapper:1,showHover:1,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:1,onInit:function(){},onRender:function(){},extend:{}},L=o(0),k=o(1),f=o(2),g=o.n(f),h=o(12),y=o(10),d="contentEditable",P={mediaText:""},O=g.a.$,v=g.a.View.extend({events:{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"},template:function(T){var S=this.pfx,r=this.ppfx,E=this.clsNoEdit,B=this.config.hidable,$=this.countChildren(T),w=$?"":this.clsNoChild,p="".concat(this.clsTitle," ").concat(w),u="".concat(this.clsTitleC," ").concat(r,"one-bg"),x="".concat(this.clsCaret," fa fa-chevron-right"),b="".concat(this.inputNameCls," ").concat(E," ").concat(r,"no-app"),Q="".concat(30+10*(this.level+1),"px"),re=T.getName(),Fe=T.getIcon(),ge="".concat(S,"layer");return"\n      ".concat(B?'<i class="'.concat(S,"layer-vis fa fa-eye ").concat(this.isVisible()?"":"fa-eye-slash",'" data-toggle-visible></i>'):"",'\n      <div class="').concat(u,'">\n        <div class="').concat(p,'" style="padding-left: ').concat(Q,'" data-toggle-select>\n          <div class="').concat(S,'layer-title-inn" title="').concat(re,'">\n            <i class="').concat(x,'" data-toggle-open></i>\n            ').concat(Fe?'<span class="'.concat(ge,'__icon">').concat(Fe,"</span>"):"",'\n            <span class="').concat(b,'" data-name>').concat(re,'</span>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(this.clsCount,'" data-count>').concat($||"",'</div>\n      <div class="').concat(this.clsMove,'" data-toggle-move>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div class="').concat(this.clsChildren,'"></div>')},initialize:function(){var T=this,S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(L.bindAll)(this,"__render"),this.opt=S,this.level=S.level;var r=S.config||{},_=r.onInit;this.config=r,this.em=S.config.em,this.ppfx=this.em.get("Config").stylePrefix,this.sorter=S.sorter||"",this.pfx=this.config.stylePrefix,this.parentView=S.parentView;var E=this.pfx,B=this.ppfx,$=this.model,w=$.get("components"),p=$.get("type")||"default";$.set("open",!1),this.listenTo(w,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render]].forEach(function(u){return T.listenTo($,u[0],u[1])}),this.className="".concat(E,"layer ").concat(E,"layer__t-").concat(p," no-select ").concat(B,"two-color"),this.inputNameCls="".concat(B,"layer-name"),this.clsTitleC="".concat(E,"layer-title-c"),this.clsTitle="".concat(E,"layer-title"),this.clsCaret="".concat(E,"layer-caret"),this.clsCount="".concat(E,"layer-count"),this.clsMove="".concat(E,"layer-move"),this.clsChildren="".concat(E,"layer-children"),this.clsNoChild="".concat(E,"layer-no-chld"),this.clsEdit="".concat(this.inputNameCls,"--edit"),this.clsNoEdit="".concat(this.inputNameCls,"--no-edit"),this.$el.data("model",$),this.$el.data("collection",w),$.viewLayer=this,_.bind(this)({component:$,render:this.__render,listenTo:this.listenTo})},getVisibilityEl:function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},updateVisibility:function(){var S=this.model,r="".concat(this.pfx,"layer-hidden"),_="none"===S.getStyle(P).display?"addClass":"removeClass";this.$el[_](r),this.getVisibilityEl()[_]("fa-eye-slash")},toggleVisibility:function(T){T&&T.stopPropagation();var S=this.model,r=this.em,_="__prev-display",E=S.get(_),B=S.getStyle(P),$=B.display;"none"==$?(delete B.display,E&&(B.display=E,S.unset(_))):($&&S.set(_,$),B.display="none"),S.setStyle(B,P),r&&r.trigger("component:toggled")},handleEdit:function(T){T&&T.stopPropagation();var S=this.em,r=this.$el,_=this.clsNoEdit,E=this.clsEdit,B=this.getInputName();B[d]=!0,B.focus(),document.execCommand("selectAll",!1,null),S&&S.setEditing(1),r.find(".".concat(this.inputNameCls)).removeClass(_).addClass(E)},handleEditKey:function(T){T.stopPropagation(),(Object(k.isEscKey)(T)||Object(k.isEnterKey)(T))&&this.handleEditEnd(T)},handleEditEnd:function(T){T&&T.stopPropagation();var S=this.em,r=this.$el,_=this.clsNoEdit,E=this.clsEdit,B=this.getInputName(),$=B.textContent;B.scrollLeft=0,B[d]=!1,this.setName($,{component:this.model,propName:"custom-name"}),S&&S.setEditing(0),r.find(".".concat(this.inputNameCls)).addClass(_).removeClass(E)},setName:function(T,S){this.model.set(S.propName,T)},getInputName:function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},updateOpening:function(){var T=this.opt.opened||{},S=this.model,r="fa-chevron-down";S.get("open")?(this.$el.addClass("open"),this.getCaret().addClass(r),T[S.cid]=S):(this.$el.removeClass("open"),this.getCaret().removeClass(r),delete T[S.cid])},toggleOpening:function(T){var S=this.model;T.stopImmediatePropagation(),S.get("components").length&&S.set("open",!S.get("open"))},handleSelect:function(T){T.stopPropagation();var S=this.em,r=this.config,_=this.model;if(S){S.setSelected(_,{fromLayers:1,event:T});var E=r.scrollCanvas;E&&_.views.forEach(function(B){return B.scrollIntoView(E)})}},handleHover:function(T){T.stopPropagation();var S=this.em;S&&this.config.showHover&&S.setHovered(this.model,{fromLayers:1})},handleHoverOut:function(T){T.stopPropagation();var S=this.em;S&&this.config.showHover&&S.setHovered(0,{fromLayers:1})},startSort:function(T){T.stopPropagation();var S=this.em,r=this.sorter;T.button&&0!==T.button||r&&(r.onStart=function(_){return S.trigger("".concat(y.b,":start"),_)},r.onMoveClb=function(_){return S.trigger(y.b,_)},r.startSort(T.target))},freeze:function(){this.$el.addClass(this.pfx+"opac50"),this.model.set("open",0)},unfreeze:function(){this.$el.removeClass(this.pfx+"opac50")},updateStatus:function(T){h.default.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:1}])},isVisible:function(){var T=this.model.getStyle().display;return!(T&&"none"===T)},checkChildren:function(){var T=this.model,S=this.clsNoChild,r=this.countChildren(T),_=this.$el.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),E=this.cnt;E||(E=this.$el.children("[data-count]").get(0),this.cnt=E),_[r?"removeClass":"addClass"](S),E&&(E.innerHTML=r||""),!r&&T.set("open",0)},countChildren:function(T){var S=0;return T.get("components").each(function(r){var _=this.opt.isCountable;_&&!_(r,this.config.hideTextnode)||S++},this),S},getCaret:function(){return(!this.caret||!this.caret.length)&&(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},setRoot:function(T){T=Object(L.isString)(T)?this.em.getWrapper().find(T)[0]:T;var S=Object(k.getModel)(T,O);S&&(this.stopListening(),this.model=S,this.initialize(this.opt),this._rendered&&this.render())},updateLayerable:function(){(this.parentView||this).render()},__clearItems:function(){var T=this.items;T&&T.remove()},remove:function(){g.a.View.prototype.remove.apply(this,arguments),this.__clearItems()},render:function(){var T=this.model,S=this.config,r=this.pfx,_=this.ppfx,E=this.opt;this.__clearItems();var B=E.isCountable,$=B&&!B(T,S.hideTextnode),w=this.isVisible(),p=this.$el.empty(),u=this.level+1;this.inputName=0,Object(L.isUndefined)(ee)&&(ee=o(97).default),this.items=new ee({ItemView:E.ItemView,collection:T.get("components"),config:this.config,sorter:this.sorter,opened:this.opt.opened,parentView:this,parent:T,level:u});var x=this.items.render().$el;return this.config.showWrapper||1!==u?(p.html(this.template(T)),p.find(".".concat(this.clsChildren)).append(x)):p.append(x),T.get("draggable")&&this.config.sortable||p.children(".".concat(this.clsMove)).remove(),!w&&(this.className+=" ".concat(r,"hide")),$&&(this.className+=" ".concat(_,"hidden")),p.attr("class",this.className),this.updateOpening(),this.updateStatus(),this.updateVisibility(),this.__render(),this._rendered=1,this},__render:function(){var r={component:this.model,el:this.el};this.config.onRender.bind(this)(r),this.em.trigger("layer:render",r)}});function D(T,S){var r=Object.keys(T);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(T);S&&(_=_.filter(function(E){return Object.getOwnPropertyDescriptor(T,E).enumerable})),r.push.apply(r,_)}return r}function I(T){for(var S=1;S<arguments.length;S++){var r=null!=arguments[S]?arguments[S]:{};S%2?D(Object(r),!0).forEach(function(_){J()(T,_,r[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(_){Object.defineProperty(T,_,Object.getOwnPropertyDescriptor(r,_))})}return T}le.default=function(){var T,S,r={};return{name:"LayerManager",init:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(r=I(I({},U),_)).stylePrefix=_.pStylePrefix,T=r.em,this},getConfig:function(){return r},onLoad:function(){T&&T.on("component:selected",this.componentChanged),this.componentChanged()},postRender:function(){var _=r.appendTo,E=r.root;E&&this.setRoot(E),_&&(Object(L.isElement)(_)?_:document.querySelector(_)).appendChild(this.render())},setRoot:function(_){return S&&S.setRoot(_),this},getRoot:function(){return S&&S.model},getAll:function(){return S},componentChanged:function(_){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!E.fromLayers){var B=T.get("opened"),$=T.getSelected(),w=r.scrollLayers,p=$&&$.collection?$.collection.parent:null;for(var u in B)B[u].set("open",0);for(;p;)p.set("open",1),B[p.cid]=p,p=p.collection?p.collection.parent:null;if($&&w){var x=$.viewLayer&&$.viewLayer.el;x&&x.scrollIntoView(w)}}},render:function(){var _=v.extend(r.extend);return S&&S.remove(),(S=new _({ItemView:_,level:0,config:r,opened:r.opened||{},model:T.get("DomComponents").getWrapper()})).render().el},destroy:function(){S&&S.remove(),[T,S,r].forEach(function(_){return{}})}}}},function(Ye,le,o){"use strict";o.r(le);var ee,se=o(14),J=o.n(se),U=o(3),L=o.n(U),k=o(0),f=o(1),g={},h={16:!1,18:!1,17:!1,91:!1},y="all",d={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},P={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},O=function(R){return P[R]||R.toUpperCase().charCodeAt(0)},v=[];for(ee=1;ee<20;ee++)P["f"+ee]=111+ee;function D(R,Q){for(var re=R.length;re--;)if(R[re]===Q)return re;return-1}function I(R,Q){if(R.length!=Q.length)return!1;for(var re=0;re<R.length;re++)if(R[re]!==Q[re])return!1;return!0}var T={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function r(R){var Q,re=R.keyCode,Fe=D(v,re);if(Fe>=0&&v.splice(Fe,1),93!=re&&224!=re||(re=91),re in h)for(Q in h[re]=!1,d)d[Q]==re&&(E[Q]=!1)}function _(){for(ee in h)h[ee]=!1;for(ee in d)E[ee]=!1}function E(R,Q,re){var Fe,ge;Fe=$(R),void 0===re&&(re=Q,Q="all");for(var fe=0;fe<Fe.length;fe++)ge=[],(R=Fe[fe].split("+")).length>1&&(ge=w(R),R=[R[R.length-1]]),(R=O(R=R[0]))in g||(g[R]=[]),g[R].push({shortcut:Fe[fe],scope:Q,method:re,key:Fe[fe],mods:ge})}for(ee in d)E[ee]=!1;function B(){return y||"all"}function $(R){var Q;return""==(Q=(R=R.replace(/\s/g,"")).split(","))[Q.length-1]&&(Q[Q.length-2]+=","),Q}function w(R){for(var Q=R.slice(0,R.length-1),re=0;re<Q.length;re++)Q[re]=d[Q[re]];return Q}function p(R,Q,re){R.addEventListener?R.addEventListener(Q,re,!1):R.attachEvent&&R.attachEvent("on"+Q,function(){re(window.event)})}E.setScope=function(R){y=R||"all"},E.getScope=B,E.deleteScope=function(R){var Q,re,Fe;for(Q in g)for(re=g[Q],Fe=0;Fe<re.length;)re[Fe].scope===R?re.splice(Fe,1):Fe++},E.filter=function(R){var Q=(R.target||R.srcElement).tagName;return!("INPUT"==Q||"SELECT"==Q||"TEXTAREA"==Q)},E.isPressed=function(R){return"string"==typeof R&&(R=O(R)),-1!=D(v,R)},E.getPressedKeyCodes=function(){return v.slice(0)},E.unbind=function(R,Q){var re,Fe,ge,fe,Ae,Pe=[];for(re=$(R),fe=0;fe<re.length;fe++){if((Fe=re[fe].split("+")).length>1&&(Pe=w(Fe)),R=O(R=Fe[Fe.length-1]),void 0===Q&&(Q=B()),!g[R])return;for(ge=0;ge<g[R].length;ge++)(Ae=g[R][ge]).scope===Q&&I(Ae.mods,Pe)&&(g[R][ge]={})}},E.init=function(R){p(R.document,"keydown",function(Q){!function(R){var Q,re,Fe,ge,fe,Ae;if(-1==D(v,Q=R.keyCode)&&v.push(Q),93!=Q&&224!=Q||(Q=91),Q in h)for(Fe in h[Q]=!0,d)d[Fe]==Q&&(E[Fe]=!0);else if(function(Pe){for(ee in h)h[ee]=Pe[T[ee]]}(R),E.filter.call(this,R)&&Q in g)for(Ae=B(),ge=0;ge<g[Q].length;ge++)if((re=g[Q][ge]).scope==Ae||"all"==re.scope){for(Fe in fe=re.mods.length>0,h)(!h[Fe]&&D(re.mods,+Fe)>-1||h[Fe]&&-1==D(re.mods,+Fe))&&(fe=!1);(0!=re.mods.length||h[16]||h[18]||h[17]||h[91])&&!fe||!1===re.method(R,re)&&(R.preventDefault?R.preventDefault():R.returnValue=!1,R.stopPropagation&&R.stopPropagation(),R.cancelBubble&&(R.cancelBubble=!0))}}(Q)}),p(R.document,"keyup",r),p(R,"focus",_)};var u=E;function x(R,Q){var re=Object.keys(R);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(R);Q&&(Fe=Fe.filter(function(ge){return Object.getOwnPropertyDescriptor(R,ge).enumerable})),re.push.apply(re,Fe)}return re}function b(R){for(var Q=1;Q<arguments.length;Q++){var re=null!=arguments[Q]?arguments[Q]:{};Q%2?x(Object(re),!0).forEach(function(Fe){L()(R,Fe,re[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(re)):x(Object(re)).forEach(function(Fe){Object.defineProperty(R,Fe,Object.getOwnPropertyDescriptor(re,Fe))})}return R}Object(f.hasWin)()&&u.init(window),le.default=function(){var R,Q,re={},Fe={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:1}}}};return{keymaster:u,name:"Keymaps",getConfig:function(){return Q},init:function(){var ge=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Q=b(b({},Fe),ge),this.em=R=Q.em,this},onLoad:function(){var ge=Q.defaults;for(var fe in ge){var Ae=ge[fe];this.add(fe,Ae.keys,Ae.handler,Ae.opts||{})}},add:function(ge,fe,Ae){var Pe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},de=this.em,pe=de.get("Commands"),_e=de.getEditor(),ae=de.get("Canvas"),ne={id:ge,keys:fe,handler:Ae},G=re[ge];return G&&this.remove(ge),re[ge]=ne,u(fe,function(W,j){var C={event:W,h:j};if(Ae=Object(k.isString)(Ae)?pe.get(Ae):Ae,!de.isEditing()&&!_e.Canvas.isInputFocused()||Pe.force){Pe.prevent&&ae.getCanvasView().preventDefault(W),"object"==J()(Ae)?pe.runCommand(Ae,C):Ae(_e,0,C);var H=[ge,j.shortcut,W];de.trigger.apply(de,["keymap:emit"].concat(H)),de.trigger.apply(de,["keymap:emit:".concat(ge)].concat(H))}}),de.trigger("keymap:add",ne),ne},get:function(ge){return re[ge]},getAll:function(){return re},remove:function(ge){var fe=this.em,Ae=this.get(ge);if(Ae)return delete re[ge],Ae.keys.split(", ").forEach(function(Pe){return u.unbind(Pe.trim())}),fe&&fe.trigger("keymap:remove",Ae),Ae},removeAll:function(){var ge=this;return Object.keys(re).forEach(function(fe){return ge.remove(fe)}),this},destroy:function(){this.removeAll(),[R,Q,re].forEach(function(ge){return{}}),this.em={}}}}},function(Ye,le,o){"use strict";o.r(le);var ee=o(11),se=o.n(ee),J=o(3),U=o.n(J),L=o(0),k=o(31),f={stylePrefix:"com-",defaults:[],strict:1},g=o(10);function h(P,O){var v=Object.keys(P);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(P);O&&(D=D.filter(function(I){return Object.getOwnPropertyDescriptor(P,I).enumerable})),v.push.apply(v,D)}return v}function y(P){for(var O=1;O<arguments.length;O++){var v=null!=arguments[O]?arguments[O]:{};O%2?h(Object(v),!0).forEach(function(D){U()(P,D,v[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(v)):h(Object(v)).forEach(function(D){Object.defineProperty(P,D,Object.getOwnPropertyDescriptor(v,D))})}return P}var d=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];le.default=function(){var P,O={},v={},D={},I={};return{CommandAbstract:k.default,name:"Commands",init:function(){var T=this,S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O=y(y({},f),S),P=O.em;var r=O.pStylePrefix;return r&&(O.stylePrefix=r+O.stylePrefix),Object.keys(O.defaults).forEach(function(_){var E=O.defaults[_];E.id&&T.add(E.id,E)}),D["tlb-delete"]={run:function(_){return _.runCommand("core:component-delete")}},D["tlb-clone"]={run:function(_){_.runCommand("core:copy"),_.runCommand("core:paste")}},D["tlb-move"]={run:function(_,E){var B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},$=_.getModel(),w=B&&B.event,p=B.target,u=p||_.getSelected(),x=p?[p]:se()(_.getSelectedAll()),b=w&&"dragstart"==w.type,R={preserveSelected:1},Q=["absolute","translate"];if(!u||!u.get("draggable"))return $.logWarning("The element is not draggable");var re=u.get("dmode")||$.get("dmode"),Fe=function(){return $.stopDefault(R)},ge=Object(L.includes)(Q,re);x.forEach(function(pe){return pe.trigger("disable")}),b?setTimeout(Fe,0):Fe();var fe=function(pe){$.trigger("".concat(g.b,":start"),pe)},Ae=function(pe){$.trigger(g.b,pe)},Pe=function(pe,_e,ae){x.forEach(function(ne){return ne.set("status","selected")}),_.select(x),u.emitUpdate(),$.trigger("".concat(g.b,":end"),ae),setTimeout(function(){return $.runDefault(R)}),(ge||ae.cancelled)&&$.set("_cmpDrag",1)};if(ge)_.runCommand("core:component-drag",{guidesInfo:1,mode:re,target:u,onStart:fe,onDrag:Ae,onEnd:Pe,event:w});else{b&&w.dataTransfer.setDragImage(u.view.el,0,0);var de=_.Commands.get("move-comp");de.onStart=fe,de.onDrag=Ae,de.onEndMoveFromModel=Pe,de.initSorterFromModels(x)}x.forEach(function(pe){return pe.set("status","freezed-selected")})}},D["core:undo"]=function(_){return _.UndoManager.undo()},D["core:redo"]=function(_){return _.UndoManager.redo()},d.forEach(function(_){var E=_[2],B=o(98)("./".concat(_[1])).default,$="core:".concat(_[0]);D[$]=B,E&&(D[E]=B,["run","stop"].forEach(function(w){P.on("".concat(w,":").concat(E),function(){for(var p,u=arguments.length,x=new Array(u),b=0;b<u;b++)x[b]=arguments[b];return(p=P).trigger.apply(p,["".concat(w,":").concat($)].concat(x))})}))}),O.em&&(O.model=O.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(T,S){return Object(L.isFunction)(S)&&(S={run:S}),S.stop||(S.noStop=1),delete S.initialize,S.id=T,v[T]=k.default.extend(S),this},get:function(T){var S=v[T];return Object(L.isFunction)(S)?(S=new S(O),v[T]=S):S||P.logWarning("'".concat(T,"' command not found")),S},extend:function(T){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.get(T);if(r){var _=y(y({},r.constructor.prototype),S);this.add(T,_);var E=d.filter(function(B){return"core:".concat(B[0])===T&&B[2]})[0];E&&this.add(E[2],_)}return this},has:function(T){return!!v[T]},getAll:function(){return v},run:function(T){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.runCommand(this.get(T),S)},stop:function(T){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.stopCommand(this.get(T),S)},isActive:function(T){return this.getActive().hasOwnProperty(T)},getActive:function(){return I},loadDefaultCommands:function(){for(var T in D)this.add(T,D[T]);return this},runCommand:function(T){var S,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(T&&T.run){var _=T.id,E=P.get("Editor");this.isActive(_)&&!r.force&&O.strict||(S=E&&T.callRun(E,r),_&&T.stop&&!T.noStop&&!r.abort&&(I[_]=S))}return S},stopCommand:function(T){var S,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(T&&T.run){var _=T.id,E=P.get("Editor");(this.isActive(_)||r.force||!O.strict)&&(_&&delete I[_],S=T.callStop(E,r))}return S},create:function(T){return T.stop||(T.noStop=1),new(k.default.extend(T))(O)},destroy:function(){[P,O,v,D,I].forEach(function(T){return{}})}}}}]).default}),function(Ye,le){"object"==typeof exports&&"object"==typeof module?module.exports=le(require("grapesjs")):"function"==typeof define&&define.amd?define(["grapesjs"],le):"object"==typeof exports?exports["grapesjs-preset-webpage"]=le(require("grapesjs")):Ye["grapesjs-preset-webpage"]=le(Ye.grapesjs)}("undefined"!=typeof self?self:this,function(Ye){return function(le){function o(se){if(ee[se])return ee[se].exports;var J=ee[se]={i:se,l:!1,exports:{}};return le[se].call(J.exports,J,J.exports,o),J.l=!0,J.exports}var ee={};return o.m=le,o.c=ee,o.d=function(se,J,U){o.o(se,J)||Object.defineProperty(se,J,{configurable:!1,enumerable:!0,get:U})},o.n=function(se){var J=se&&se.__esModule?function(){return se.default}:function(){return se};return o.d(J,"a",J),J},o.o=function(se,J){return Object.prototype.hasOwnProperty.call(se,J)},o.p="",o(o.s=4)}([function(le,o){le.exports=Ye},function(le,o,ee){(function(se){function J(L,k){this._id=L,this._clearFn=k}var U=Function.prototype.apply;o.setTimeout=function(){return new J(U.call(setTimeout,window,arguments),clearTimeout)},o.setInterval=function(){return new J(U.call(setInterval,window,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(L){L&&L.close()},J.prototype.unref=J.prototype.ref=function(){},J.prototype.close=function(){this._clearFn.call(window,this._id)},o.enroll=function(L,k){clearTimeout(L._idleTimeoutId),L._idleTimeout=k},o.unenroll=function(L){clearTimeout(L._idleTimeoutId),L._idleTimeout=-1},o._unrefActive=o.active=function(L){clearTimeout(L._idleTimeoutId);var k=L._idleTimeout;k>=0&&(L._idleTimeoutId=setTimeout(function(){L._onTimeout&&L._onTimeout()},k))},ee(10),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==se&&se.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==se&&se.clearImmediate||this&&this.clearImmediate}).call(o,ee(2))},function(le,o){var ee;ee=function(){return this}();try{ee=ee||Function("return this")()||(0,eval)("this")}catch(se){"object"==typeof window&&(ee=window)}le.exports=ee},function(le,o,ee){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.cmdImport="gjs-open-import-webpage",o.cmdDeviceDesktop="set-device-desktop",o.cmdDeviceTablet="set-device-tablet",o.cmdDeviceMobile="set-device-mobile",o.cmdClear="canvas-clear"},function(le,o,ee){"use strict";function se(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(o,"__esModule",{value:!0});var U=se(ee(0)),k=se(ee(5)),g=se(ee(6)),y=se(ee(7)),P=se(ee(8)),v=se(ee(9)),I=se(ee(12)),S=se(ee(13)),_=se(ee(14)),B=se(ee(16)),w=se(ee(17)),u=se(ee(18)),b=se(ee(19));o.default=U.default.plugins.add("gjs-preset-webpage",function(R){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},re=Q,Fe={blocks:["link-block","quote","text-basic"],modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure to clean the canvas?",showStylesOnChange:1,textGeneral:"General",textLayout:"Layout",textTypography:"Typography",textDecorations:"Decorations",textExtra:"Extra",customStyleManager:[],blocksBasicOpts:{},navbarOpts:{},countdownOpts:{},formsOpts:{},exportOpts:{},aviaryOpts:0,filestackOpts:0};for(var ge in Fe)ge in re||(re[ge]=Fe[ge]);var fe=re.blocksBasicOpts,Ae=re.navbarOpts,Pe=re.countdownOpts,de=re.formsOpts,pe=re.exportOpts,_e=re.aviaryOpts,ae=re.filestackOpts;fe&&(0,k.default)(R,fe),Ae&&(0,g.default)(R,Ae),Pe&&(0,y.default)(R,Pe),de&&(0,P.default)(R,de),pe&&(0,v.default)(R,pe),_e&&(0,I.default)(R,_e),ae&&(0,S.default)(R,ae),(0,w.default)(R,re),(0,B.default)(R,re),(0,_.default)(R,re),(0,u.default)(R,re),(0,b.default)(R,re)})},function(le,o,ee){var se;le.exports=(se=ee(0),function(J){function U(k){if(L[k])return L[k].exports;var f=L[k]={i:k,l:!1,exports:{}};return J[k].call(f.exports,f,f.exports,U),f.l=!0,f.exports}var L={};return U.m=J,U.c=L,U.d=function(k,f,g){U.o(k,f)||Object.defineProperty(k,f,{configurable:!1,enumerable:!0,get:g})},U.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return U.d(f,"a",f),f},U.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},U.p="",U(U.s=0)}([function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var h,k=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var d=arguments[y];for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&(h[P]=d[P])}return h},g=(h=L(1))&&h.__esModule?h:{default:h};U.default=g.default.plugins.add("gjs-blocks-basic",function(h){var d=k({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:0,stylePrefix:"",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map"},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});L(2).default(h,d)})},function(J,U){J.exports=se},function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var k=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var h=arguments[g];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}return f};U.default=function(f){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=f.BlockManager,d=h.blocks,P=h.stylePrefix,O=h.flexGrid,v=h.addBasicStyle,D=P+"row",I=P+"cell",T=O?"\n    ."+D+" {\n      display: flex;\n      justify-content: flex-start;\n      align-items: stretch;\n      flex-wrap: nowrap;\n      padding: 10px;\n    }\n    @media (max-width: 768px) {\n      ."+D+" {\n        flex-wrap: wrap;\n      }\n    }":"\n    ."+D+" {\n      display: table;\n      padding: 10px;\n      width: 100%;\n    }\n    @media (max-width: 768px) {\n      ."+P+"cell, ."+P+"cell30, ."+P+"cell70 {\n        width: 100%;\n        display: block;\n      }\n    }",S=O?"\n    ."+I+" {\n      min-height: 75px;\n      flex-grow: 1;\n      flex-basis: 100%;\n    }":"\n    ."+I+" {\n      width: 8%;\n      display: table-cell;\n      height: 75px;\n    }",r="\n  ."+P+"cell30 {\n    width: 30%;\n  }",_="\n  ."+P+"cell70 {\n    width: 70%;\n  }",E={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:1},B=k({},E,{cr:1,bc:0,currentUnit:1,minDim:1,step:.2});O&&(B.keyWidth="flex-basis");var $={class:D,"data-gjs-droppable":"."+I,"data-gjs-resizable":E,"data-gjs-name":"Row"},w={class:I,"data-gjs-draggable":"."+D,"data-gjs-resizable":B,"data-gjs-name":"Cell"};O&&(w["data-gjs-unstylable"]=["width"],w["data-gjs-stylable-require"]=["flex-basis"]);var p=["."+D,"."+I];f.on("selector:add",function(Q){return p.indexOf(Q.getFullName())>=0&&Q.set("private",1)});var u=function(Q){var re=[];for(var Fe in Q){var ge=Q[Fe],fe=ge instanceof Array||ge instanceof Object;ge=fe?JSON.stringify(ge):ge,re.push(Fe+"="+(fe?"'"+ge+"'":'"'+ge+'"'))}return re.length?" "+re.join(" "):""},x=function(Q){return d.indexOf(Q)>=0},b=u($),R=u(w);x("column1")&&y.add("column1",{label:h.labelColumn1,category:h.category,attributes:{class:"gjs-fonts gjs-f-b1"},content:"<div "+b+">\n        <div "+R+"></div>\n      </div>\n      "+(v?"<style>\n          "+T+"\n          "+S+"\n        </style>":"")}),x("column2")&&y.add("column2",{label:h.labelColumn2,attributes:{class:"gjs-fonts gjs-f-b2"},category:h.category,content:"<div "+b+">\n        <div "+R+"></div>\n        <div "+R+"></div>\n      </div>\n      "+(v?"<style>\n          "+T+"\n          "+S+"\n        </style>":"")}),x("column3")&&y.add("column3",{label:h.labelColumn3,category:h.category,attributes:{class:"gjs-fonts gjs-f-b3"},content:"<div "+b+">\n        <div "+R+"></div>\n        <div "+R+"></div>\n        <div "+R+"></div>\n      </div>\n      "+(v?"<style>\n          "+T+"\n          "+S+"\n        </style>":"")}),x("column3-7")&&y.add("column3-7",{label:h.labelColumn37,category:h.category,attributes:{class:"gjs-fonts gjs-f-b37"},content:"<div "+b+">\n        <div "+R+' style="'+(O?"flex-basis":"width")+': 30%;"></div>\n        <div '+R+' style="'+(O?"flex-basis":"width")+': 70%;"></div>\n      </div>\n      '+(v?"<style>\n          "+T+"\n          "+S+"\n          "+r+"\n          "+_+"\n        </style>":"")}),x("text")&&y.add("text",{label:h.labelText,category:h.category,attributes:{class:"gjs-fonts gjs-f-text"},content:{type:"text",content:"Insert your text here",style:{padding:"10px"},activeOnRender:1}}),x("link")&&y.add("link",{label:h.labelLink,category:h.category,attributes:{class:"fa fa-link"},content:{type:"link",content:"Link",style:{color:"#d983a6"}}}),x("image")&&y.add("image",{label:h.labelImage,category:h.category,attributes:{class:"gjs-fonts gjs-f-image"},content:{style:{color:"black"},type:"image",activeOnRender:1}}),x("video")&&y.add("video",{label:h.labelVideo,category:h.category,attributes:{class:"fa fa-youtube-play"},content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}}),x("map")&&y.add("map",{label:h.labelMap,category:h.category,attributes:{class:"fa fa-map-o"},content:{type:"map",style:{height:"350px"}}})}}]))},function(le,o,ee){var se;le.exports=(se=ee(0),function(J){function U(k){if(L[k])return L[k].exports;var f=L[k]={i:k,l:!1,exports:{}};return J[k].call(f.exports,f,f.exports,U),f.l=!0,f.exports}var L={};return U.m=J,U.c=L,U.d=function(k,f,g){U.o(k,f)||Object.defineProperty(k,f,{configurable:!1,enumerable:!0,get:g})},U.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return U.d(f,"a",f),f},U.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},U.p="",U(U.s=1)}([function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.hNavbarRef="h-navbar",U.navbarRef="navbar",U.navbarItemsRef="navbar-items",U.menuRef="navbar-menu"},function(J,U,L){"use strict";function k(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(U,"__esModule",{value:!0});var g=k(L(2)),y=k(L(3)),P=k(L(4)),O=L(0);U.default=g.default.plugins.add("gjs-navbar",function(v){var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T={blocks:[O.hNavbarRef],defaultStyle:1,navbarClsPfx:"navbar",labelNavbar:"Navbar",labelNavbarContainer:"Navbar Container",labelMenu:"Navbar Menu",labelMenuLink:"Menu link",labelBurger:"Burger",labelBurgerLine:"Burger Line",labelNavbarBlock:"Navbar",labelNavbarCategory:"Extra",labelHome:"Home",labelAbout:"About",labelContact:"Contact"};for(var S in T)S in I||(I[S]=T[S]);(0,y.default)(v,I),(0,P.default)(v,I)})},function(J,U){J.exports=se},function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var k=L(0);U.default=function(f){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=f.BlockManager,d=h.navbarClsPfx||"navbar",P=h.defaultStyle?"\n  <style>\n    ."+d+"-items-c {\n      display: inline-block;\n      float: right;\n    }\n\n    ."+d+" {\n      background-color: #222;\n      color: #ddd;\n      min-height: 50px;\n      width: 100%;\n    }\n\n    ."+d+"-container {\n      max-width: 950px;\n      margin: 0 auto;\n      width: 95%;\n    }\n\n    ."+d+'-container::after {\n      content: "";\n      clear: both;\n      display: block;\n    }\n\n    .'+d+"-brand {\n      vertical-align: top;\n      display: inline-block;\n      padding: 5px;\n      min-height: 50px;\n      min-width: 50px;\n      color: inherit;\n      text-decoration: none;\n    }\n\n    ."+d+"-menu {\n      padding: 10px 0;\n      display: block;\n      float: right;\n      margin: 0;\n    }\n\n    ."+d+"-menu-link {\n      margin: 0;\n      color: inherit;\n      text-decoration: none;\n      display: inline-block;\n      padding: 10px 15px;\n    }\n\n    ."+d+"-burger {\n      margin: 10px 0;\n      width: 45px;\n      padding: 5px 10px;\n      display: none;\n      float: right;\n      cursor: pointer;\n    }\n\n    ."+d+"-burger-line {\n      padding: 1px;\n      background-color: white;\n      margin: 5px 0;\n    }\n\n    @media (max-width: 768px) {\n      ."+d+"-burger {\n        display: block;\n      }\n\n      ."+d+"-items-c {\n        display: none;\n        width: 100%;\n      }\n\n      ."+d+"-menu {\n        width: 100%;\n      }\n\n      ."+d+"-menu-link {\n        display: block;\n      }\n    }\n  </style>\n  ":"";h.blocks.indexOf(k.hNavbarRef)>=0&&y.add(k.hNavbarRef,{label:'\n        <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n          <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n          <rect class="gjs-block-svg-path" x="15" y="10" width="5" height="1"></rect>\n          <rect class="gjs-block-svg-path" x="15" y="13" width="5" height="1"></rect>\n          <rect class="gjs-block-svg-path" x="15" y="11.5" width="5" height="1"></rect>\n        </svg>\n        <div class="gjs-block-label">'+h.labelNavbarBlock+"</div>",category:h.labelNavbarCategory,content:'\n        <div class="'+d+'" data-gjs-droppable="false" data-gjs-custom-name="'+h.labelNavbar+'" data-gjs="'+k.navbarRef+'">\n          <div class="'+d+'-container" data-gjs-droppable="false" data-gjs-draggable="false"\n            data-gjs-removable="false" data-gjs-copyable="false" data-gjs-highlightable="false"\n            data-gjs-custom-name="'+h.labelNavbarContainer+'">\n\n            <a href="/" class="'+d+'-brand" data-gjs-droppable="true"></a>\n\n            <div class="'+d+'-burger" data-gjs-type="burger-menu">\n              <div class="'+d+'-burger-line" data-gjs-custom-name="'+h.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n              <div class="'+d+'-burger-line" data-gjs-custom-name="'+h.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n              <div class="'+d+'-burger-line" data-gjs-custom-name="'+h.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n            </div>\n\n            <div class="'+d+'-items-c" data-gjs="'+k.navbarItemsRef+'">\n              <nav class="'+d+'-menu" data-gjs="'+k.menuRef+'" data-gjs-custom-name="'+h.labelMenu+'">\n                <a href="#" class="'+d+'-menu-link" data-gjs-custom-name="'+h.labelMenuLink+'" data-gjs-draggable="[data-gjs='+k.menuRef+']">'+h.labelHome+'</a>\n                <a href="#" class="'+d+'-menu-link" data-gjs-custom-name="'+h.labelMenuLink+'" data-gjs-draggable="[data-gjs='+k.menuRef+']">'+h.labelAbout+'</a>\n                <a href="#" class="'+d+'-menu-link" data-gjs-custom-name="'+h.labelMenuLink+'" data-gjs-draggable="[data-gjs='+k.menuRef+']">'+h.labelContact+"</a>\n              </nav>\n            </div>\n\n          </div>\n        </div>\n        "+P+"\n      "})}},function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var k=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var h=arguments[g];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}return f};U.default=function(f){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=f.DomComponents,d=y.getType("default"),P=d.model;y.addType("burger-menu",{model:P.extend({defaults:k({},P.prototype.defaults,{"custom-name":h.labelBurger,draggable:!1,droppable:!1,copyable:!1,removable:!1,script:function(){var O,v=0,D=function(){var r,_=document.createElement("void"),E={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(r in E)if(void 0!==_.style[r])return E[r]}(),T=function(r){v=1;var _=function(r){var _=window.getComputedStyle(r),E=_.display,B=parseInt(_["max-height"]);if("none"!==E&&"0"!==B)return r.offsetHeight;r.style.height="auto",r.style.display="block",r.style.position="absolute",r.style.visibility="hidden";var $=r.offsetHeight;return r.style.height="",r.style.display="",r.style.position="",r.style.visibility="",$}(r),E=r.style;E.display="block",E.transition="max-height 0.25s ease-in-out",E.overflowY="hidden",""==E["max-height"]&&(E["max-height"]=0),0==parseInt(E["max-height"])?(E["max-height"]="0",setTimeout(function(){E["max-height"]=_+"px"},10)):E["max-height"]="0"};"gjs-collapse"in this||this.addEventListener("click",function(r){if(r.preventDefault(),!v){var E=this.closest("[data-gjs=navbar]").querySelector("[data-gjs=navbar-items]");T(E),O||(E.addEventListener(D,function(){v=0;var B=E.style;0==parseInt(B["max-height"])&&(B.display="",B["max-height"]="")}),O=1)}}),this["gjs-collapse"]=1}})},{isComponent:function(O){if(O.getAttribute&&"burger-menu"==O.getAttribute("data-gjs-type"))return{type:"burger-menu"}}}),view:d.view})}}]))},function(le,o,ee){var se;le.exports=(se=ee(0),function(J){function U(k){if(L[k])return L[k].exports;var f=L[k]={i:k,l:!1,exports:{}};return J[k].call(f.exports,f,f.exports,U),f.l=!0,f.exports}var L={};return U.m=J,U.c=L,U.d=function(k,f,g){U.o(k,f)||Object.defineProperty(k,f,{configurable:!1,enumerable:!0,get:g})},U.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return U.d(f,"a",f),f},U.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},U.p="",U(U.s=1)}([function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.countdownRef="countdown"},function(J,U,L){"use strict";function k(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(U,"__esModule",{value:!0});var g=k(L(2)),y=k(L(3)),P=k(L(4)),O=L(0);U.default=g.default.plugins.add("gjs-component-countdown",function(v){var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T={blocks:[O.countdownRef],defaultStyle:!0,startTime:"",endText:"EXPIRED",dateInputType:"date",countdownClsPfx:"countdown",labelCountdown:"Countdown",labelCountdownCategory:"Extra",labelDays:"days",labelHours:"hours",labelMinutes:"minutes",labelSeconds:"seconds"};for(var S in T)S in I||(I[S]=T[S]);(0,y.default)(v,I),(0,P.default)(v,I)})},function(J,U){J.exports=se},function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var k=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var h=arguments[g];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}return f};U.default=function(f){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=f.DomComponents,d=y.getType("default"),O=(y.getType("text"),d.model),v=d.view,D=h.countdownClsPfx;y.addType("countdown",{model:O.extend({defaults:k({},O.prototype.defaults,{startfrom:h.startTime,endText:h.endText,droppable:!1,traits:[{label:"Start",name:"startfrom",changeProp:1,type:h.dateInputType},{label:"End text",name:"endText",changeProp:1}],script:function(){var I=new Date("{[ startfrom ]}").getTime(),T=this.querySelector("[data-js=countdown]"),S=this.querySelector("[data-js=countdown-endtext]"),r=this.querySelector("[data-js=countdown-day]"),_=this.querySelector("[data-js=countdown-hour]"),E=this.querySelector("[data-js=countdown-minute]"),B=this.querySelector("[data-js=countdown-second]"),$=this.gjs_countdown_interval;$&&$&&clearInterval($);var w=function(x,b,R,Q){r.innerHTML=x<10?"0"+x:x,_.innerHTML=b<10?"0"+b:b,E.innerHTML=R<10?"0"+R:R,B.innerHTML=Q<10?"0"+Q:Q},p=function(){var x=(new Date).getTime(),b=I-x,R=Math.floor(b/864e5),Q=Math.floor(b%864e5/36e5),re=Math.floor(b%36e4/6e4),Fe=Math.floor(b%6e4/1e3);w(R,Q,re,Fe),b<0&&(clearInterval(u),S.innerHTML="{[ endText ]}",T.style.display="none",S.style.display="")};if(I){var u=setInterval(p,1e3);this.gjs_countdown_interval=u,S.style.display="none",T.style.display="",p()}else w(0,0,0,0)}})},{isComponent:function(I){if(I.getAttribute&&"countdown"==I.getAttribute("data-gjs-type"))return{type:"countdown"}}}),view:v.extend({init:function(){this.listenTo(this.model,"change:startfrom change:endText",this.updateScript);var I=this.model.get("components");I.length||(I.reset(),I.add('\n            <span data-js="countdown" class="'+D+'-cont">\n              <div class="'+D+'-block">\n                <div data-js="countdown-day" class="'+D+'-digit"></div>\n                <div class="'+D+'-label">'+h.labelDays+'</div>\n              </div>\n              <div class="'+D+'-block">\n                <div data-js="countdown-hour" class="'+D+'-digit"></div>\n                <div class="'+D+'-label">'+h.labelHours+'</div>\n              </div>\n              <div class="'+D+'-block">\n                <div data-js="countdown-minute" class="'+D+'-digit"></div>\n                <div class="'+D+'-label">'+h.labelMinutes+'</div>\n              </div>\n              <div class="'+D+'-block">\n                <div data-js="countdown-second" class="'+D+'-digit"></div>\n                <div class="'+D+'-label">'+h.labelSeconds+'</div>\n              </div>\n            </span>\n            <span data-js="countdown-endtext" class="'+D+'-endtext"></span>\n          '))}})})}},function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.default=function(f){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=f.BlockManager,d=h.countdownClsPfx,P=h.defaultStyle?"<style>\n    ."+d+" {\n      text-align: center;\n      font-family: Helvetica, serif;\n    }\n\n    ."+d+"-block {\n      display: inline-block;\n      margin: 0 10px;\n      padding: 10px;\n    }\n\n    ."+d+"-digit {\n      font-size: 5rem;\n    }\n\n    ."+d+"-endtext {\n      font-size: 5rem;\n    }\n\n    ."+d+"-cont,\n    ."+d+"-block {\n      display: inline-block;\n    }\n  </style>":"";h.blocks.indexOf(k.countdownRef)>=0&&y.add(k.countdownRef,{label:h.labelCountdown,category:h.labelCountdownCategory,attributes:{class:"fa fa-clock-o"},content:'\n        <div class="'+d+'" data-gjs-type="countdown"></div>\n        '+P+"\n      "})};var k=L(0)}]))},function(le,o,ee){var se;le.exports=(se=ee(0),function(J){function U(k){if(L[k])return L[k].exports;var f=L[k]={i:k,l:!1,exports:{}};return J[k].call(f.exports,f,f.exports,U),f.l=!0,f.exports}var L={};return U.m=J,U.c=L,U.d=function(k,f,g){U.o(k,f)||Object.defineProperty(k,f,{configurable:!1,enumerable:!0,get:g})},U.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return U.d(f,"a",f),f},U.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},U.p="",U(U.s=0)}([function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var g,f=(g=L(1))&&g.__esModule?g:{default:g};U.default=f.default.plugins.add("gjs-plugin-forms",function(g,h){var y=h||{},P=(g.getConfig(),{blocks:["form","input","textarea","select","button","label","checkbox","radio"],labelTraitMethod:"Method",labelTraitAction:"Action",labelTraitState:"State",labelTraitId:"ID",labelTraitFor:"For",labelInputName:"Input",labelTextareaName:"Textarea",labelSelectName:"Select",labelCheckboxName:"Checkbox",labelRadioName:"Radio",labelButtonName:"Button",labelTraitName:"Name",labelTraitPlaceholder:"Placeholder",labelTraitValue:"Value",labelTraitRequired:"Required",labelTraitType:"Type",labelTraitOptions:"Options",labelTraitChecked:"Checked",labelTypeText:"Text",labelTypeEmail:"Email",labelTypePassword:"Password",labelTypeNumber:"Number",labelTypeSubmit:"Submit",labelTypeReset:"Reset",labelTypeButton:"Button",labelNameLabel:"Label",labelForm:"Form",labelSelectOption:"- Select option -",labelOption:"Option",labelStateNormal:"Normal",labelStateSuccess:"Success",labelStateError:"Error"});for(var O in P)O in y||(y[O]=P[O]);L(2).default(g,y),L(3).default(g,y),L(4).default(g,y)})},function(J,U){J.exports=se},function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var k=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var h=arguments[g];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}return f};U.default=function(f){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=f.DomComponents,d=y.getType("default"),P=y.getType("text"),O=d.model,v=d.view,D=P.model,I=P.view,T={name:"id",label:h.labelTraitId},S={name:"for",label:h.labelTraitFor},r={name:"name",label:h.labelTraitName},_={name:"placeholder",label:h.labelTraitPlaceholder},E={name:"value",label:h.labelTraitValue},B={type:"checkbox",name:"required",label:h.labelTraitRequired},$={label:h.labelTraitChecked,type:"checkbox",name:"checked",changeProp:1};y.addType("form",{model:O.extend({defaults:k({},O.prototype.defaults,{droppable:":not(form)",draggable:":not(form)",traits:[{type:"select",label:h.labelTraitMethod,name:"method",options:[{value:"post",name:"POST"},{value:"get",name:"GET"}]},{label:h.labelTraitAction,name:"action"}]}),init:function(){this.listenTo(this,"change:formState",this.updateFormState)},updateFormState:function(){switch(this.get("formState")){case"success":this.showState("success");break;case"error":this.showState("error");break;default:this.showState("normal")}},showState:function(x){var b,R,Q=x||"normal";"success"==Q?(b="none",R="block"):"error"==Q?(b="block",R="none"):(b="none",R="none");var re=this.getStateModel("success"),Fe=this.getStateModel("error"),ge=re.getStyle(),fe=Fe.getStyle();ge.display=R,fe.display=b,re.setStyle(ge),Fe.setStyle(fe)},getStateModel:function(x){for(var b,R=x||"success",Q=this.get("components"),re=0;re<Q.length;re++){var Fe=Q.models[re];if(Fe.get("form-state-type")==R){b=Fe;break}}if(!b){var ge=formMsgSuccess;"error"==R&&(ge=formMsgError),b=Q.add({"form-state-type":R,type:"text",removable:!1,copyable:!1,draggable:!1,attributes:{"data-form-state":R},content:ge})}return b}},{isComponent:function(x){if("FORM"==x.tagName)return{type:"form"}}}),view:v.extend({events:{submit:function(x){x.preventDefault()}}})}),y.addType("input",{model:O.extend({defaults:k({},O.prototype.defaults,{"custom-name":h.labelInputName,tagName:"input",draggable:"form, form *",droppable:!1,traits:[r,_,{label:h.labelTraitType,type:"select",name:"type",options:[{value:"text",name:h.labelTypeText},{value:"email",name:h.labelTypeEmail},{value:"password",name:h.labelTypePassword},{value:"number",name:h.labelTypeNumber}]},B]})},{isComponent:function(x){if("INPUT"==x.tagName)return{type:"input"}}}),view:v});var w=y.getType("input"),p=w.model;y.addType("textarea",{model:w.model.extend({defaults:k({},p.prototype.defaults,{"custom-name":h.labelTextareaName,tagName:"textarea",traits:[r,_,B]})},{isComponent:function(x){if("TEXTAREA"==x.tagName)return{type:"textarea"}}}),view:v}),y.addType("select",{model:O.extend({defaults:k({},p.prototype.defaults,{"custom-name":h.labelSelectName,tagName:"select",traits:[r,{label:h.labelTraitOptions,type:"select-options"},B]})},{isComponent:function(x){if("SELECT"==x.tagName)return{type:"select"}}}),view:d.view.extend({events:{mousedown:"handleClick"},handleClick:function(x){x.preventDefault()}})}),y.addType("checkbox",{model:O.extend({defaults:k({},p.prototype.defaults,{"custom-name":h.labelCheckboxName,copyable:!1,attributes:{type:"checkbox"},traits:[T,r,E,B,$]}),init:function(){this.listenTo(this,"change:checked",this.handleChecked)},handleChecked:function(){var x=this.get("checked"),b=this.get("attributes"),R=this.view;x?b.checked="checked":delete b.checked,R&&(R.el.checked=x),this.set("attributes",k({},b))}},{isComponent:function(x){if("INPUT"==x.tagName&&"checkbox"==x.type)return{type:"checkbox"}}}),view:v.extend({events:{click:"handleClick"},handleClick:function(x){x.preventDefault()}})});var u=y.getType("checkbox");y.addType("radio",{model:u.model.extend({defaults:k({},u.model.prototype.defaults,{"custom-name":h.labelRadioName,attributes:{type:"radio"}})},{isComponent:function(x){if("INPUT"==x.tagName&&"radio"==x.type)return{type:"radio"}}}),view:u.view}),y.addType("button",{model:O.extend({defaults:k({},p.prototype.defaults,{"custom-name":h.labelButtonName,tagName:"button",traits:[{type:"content",label:"Text"},{label:h.labelTraitType,type:"select",name:"type",options:[{value:"submit",name:h.labelTypeSubmit},{value:"reset",name:h.labelTypeReset},{value:"button",name:h.labelTypeButton}]}]})},{isComponent:function(x){if("BUTTON"==x.tagName)return{type:"button"}}}),view:v.extend({events:{click:"handleClick"},init:function(){this.listenTo(this.model,"change:content",this.updateContent)},updateContent:function(){this.el.innerHTML=this.model.get("content")},handleClick:function(x){x.preventDefault()}})}),y.addType("label",{model:D.extend({defaults:k({},D.prototype.defaults,{"custom-name":h.labelNameLabel,tagName:"label",traits:[S]})},{isComponent:function(x){if("LABEL"==x.tagName)return{type:"label"}}}),view:I})}},function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.default=function(k){var f=k.TraitManager,g=f.getType("text");f.addType("content",{events:{keyup:"onChange"},onValueChange:function(){var h=this.model;h.target.set("content",h.get("value"))},getInputEl:function(){return this.inputEl||(this.inputEl=g.prototype.getInputEl.bind(this)(),this.inputEl.value=this.target.get("content")),this.inputEl}}),f.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var y=this.model.get("value").trim().split("\n"),d=[],P=0;P<y.length;P++){var v=y[P].split("::"),D={tagName:"option",attributes:{}};v[1]?(D.content=v[1],D.attributes.value=v[0]):(D.content=v[0],D.attributes.value=v[0]),d.push(D)}this.target.get("components").reset(d),this.target.view.render()},getInputEl:function(){if(!this.$input){for(var y=this.target,d=(this.model.get("name"),""),P=y.get("components"),O=0;O<P.length;O++){var v=P.models[O];d+=(v.get("attributes").value||"")+"::"+v.get("content")+"\n"}this.$input=document.createElement("textarea"),this.$input.value=d}return this.$input}})}},function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.default=function(k){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=k.BlockManager;g.blocks.indexOf("form")>=0&&h.add("form",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,5.5 C22,5.2 21.5,5 20.75,5 L3.25,5 C2.5,5 2,5.2 2,5.5 L2,8.5 C2,8.8 2.5,9 3.25,9 L20.75,9 C21.5,9 22,8.8 22,8.5 L22,5.5 Z M21,8 L3,8 L3,6 L21,6 L21,8 Z" fill-rule="nonzero"></path>\n        <path class="gjs-block-svg-path" d="M22,10.5 C22,10.2 21.5,10 20.75,10 L3.25,10 C2.5,10 2,10.2 2,10.5 L2,13.5 C2,13.8 2.5,14 3.25,14 L20.75,14 C21.5,14 22,13.8 22,13.5 L22,10.5 Z M21,13 L3,13 L3,11 L21,11 L21,13 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="2" y="15" width="10" height="3" rx="0.5"></rect>\n      </svg>\n      <div class="gjs-block-label">'+g.labelForm+"</div>",category:"Forms",content:'\n        <form class="form">\n          <div class="form-group">\n            <label class="label">Name</label>\n            <input placeholder="Type here your name" class="input"/>\n          </div>\n          <div class="form-group">\n            <label class="label">Email</label>\n            <input type="email" placeholder="Type here your email" class="input"/>\n          </div>\n          <div class="form-group">\n            <label class="label">Gender</label>\n            <input type="checkbox" class="checkbox" value="M">\n            <label class="checkbox-label">M</label>\n            <input type="checkbox" class="checkbox" value="F">\n            <label class="checkbox-label">F</label>\n          </div>\n          <div class="form-group">\n            <label class="label">Message</label>\n            <textarea class="textarea"></textarea>\n          </div>\n          <div class="form-group">\n            <button type="submit" class="button">Send</button>\n          </div>\n        </form>\n      '}),g.blocks.indexOf("input")>=0&&h.add("input",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z"></path>\n        <polygon class="gjs-block-svg-path" points="4 10 5 10 5 14 4 14"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+g.labelInputName+"</div>",category:"Forms",content:'<input class="input"/>'}),g.blocks.indexOf("textarea")>=0&&h.add("textarea",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,7.5 C22,6.6 21.5,6 20.75,6 L3.25,6 C2.5,6 2,6.6 2,7.5 L2,16.5 C2,17.4 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.4 22,16.5 L22,7.5 Z M21,17 L3,17 L3,7 L21,7 L21,17 Z"></path>\n        <polygon class="gjs-block-svg-path" points="4 8 5 8 5 12 4 12"></polygon>\n        <polygon class="gjs-block-svg-path" points="19 7 20 7 20 17 19 17"></polygon>\n        <polygon class="gjs-block-svg-path" points="20 8 21 8 21 9 20 9"></polygon>\n        <polygon class="gjs-block-svg-path" points="20 15 21 15 21 16 20 16"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+g.labelTextareaName+"</div>",category:"Forms",content:'<textarea class="textarea"></textarea>'}),g.blocks.indexOf("select")>=0&&h.add("select",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n        <polygon class="gjs-block-svg-path" transform="translate(18.500000, 12.000000) scale(1, -1) translate(-18.500000, -12.000000) " points="18.5 11 20 13 17 13"></polygon>\n        <rect class="gjs-block-svg-path" x="4" y="11.5" width="11" height="1"></rect>\n      </svg>\n      <div class="gjs-block-label">'+g.labelSelectName+"</div>",category:"Forms",content:'<select class="select">\n        '+(g.labelSelectOption?'<option value="">'+g.labelSelectOption+"</option>":"")+'\n        <option value="1">'+g.labelOption+" 1</option>\n        </select>"}),g.blocks.indexOf("button")>=0&&h.add("button",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="4" y="11.5" width="16" height="1"></rect>\n      </svg>\n      <div class="gjs-block-label">'+g.labelButtonName+"</div>",category:"Forms",content:'<button class="button">Send</button>'}),g.blocks.indexOf("label")>=0&&h.add("label",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,11.875 C22,11.35 21.5,11 20.75,11 L3.25,11 C2.5,11 2,11.35 2,11.875 L2,17.125 C2,17.65 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.65 22,17.125 L22,11.875 Z M21,17 L3,17 L3,12 L21,12 L21,17 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="2" y="5" width="14" height="5" rx="0.5"></rect>\n        <polygon class="gjs-block-svg-path" fill-rule="nonzero" points="4 13 5 13 5 16 4 16"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+g.labelNameLabel+"</div>",category:"Forms",content:'<label class="label">Label</label>'}),g.blocks.indexOf("checkbox")>=0&&h.add("checkbox",{label:g.labelCheckboxName,attributes:{class:"fa fa-check-square"},category:"Forms",content:'<input type="checkbox" class="checkbox"/>'}),g.blocks.indexOf("radio")>=0&&h.add("radio",{label:g.labelRadioName,attributes:{class:"fa fa-dot-circle-o"},category:"Forms",content:'<input type="radio" class="radio"/>'})}}]))},function(le,o,ee){(function(se,J){var U;le.exports=(U=ee(0),function(L){function k(g){if(f[g])return f[g].exports;var h=f[g]={i:g,l:!1,exports:{}};return L[g].call(h.exports,h,h.exports,k),h.l=!0,h.exports}var f={};return k.m=L,k.c=f,k.d=function(g,h,y){k.o(g,h)||Object.defineProperty(g,h,{configurable:!1,enumerable:!0,get:y})},k.n=function(g){var h=g&&g.__esModule?function(){return g.default}:function(){return g};return k.d(h,"a",h),h},k.o=function(g,h){return Object.prototype.hasOwnProperty.call(g,h)},k.p="",k(k.s=50)}([function(L,k,f){"use strict";function h(_){return _}function y(_,E){for(var B=0;B<_.length;++B)E[B]=255&_.charCodeAt(B);return E}function d(_){var E=65536,B=k.getTypeOf(_),$=!0;if("uint8array"===B?$=S.applyCanBeUsed.uint8array:"nodebuffer"===B&&($=S.applyCanBeUsed.nodebuffer),$)for(;E>1;)try{return S.stringifyByChunk(_,B,E)}catch(w){E=Math.floor(E/2)}return S.stringifyByChar(_)}function P(_,E){for(var B=0;B<_.length;B++)E[B]=_[B];return E}var O=f(3),v=f(29),D=f(14),I=f(66),T=f(9);k.newBlob=function(_,E){k.checkSupport("blob");try{return new Blob([_],{type:E})}catch(w){try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return $.append(_),$.getBlob(E)}catch(p){throw new Error("Bug : can't construct the Blob.")}}};var S={stringifyByChunk:function(_,E,B){var $=[],w=0,p=_.length;if(p<=B)return String.fromCharCode.apply(null,_);for(;w<p;)$.push(String.fromCharCode.apply(null,"array"===E||"nodebuffer"===E?_.slice(w,Math.min(w+B,p)):_.subarray(w,Math.min(w+B,p)))),w+=B;return $.join("")},stringifyByChar:function(_){for(var E="",B=0;B<_.length;B++)E+=String.fromCharCode(_[B]);return E},applyCanBeUsed:{uint8array:function(){try{return O.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(_){return!1}}(),nodebuffer:function(){try{return O.nodebuffer&&1===String.fromCharCode.apply(null,D.allocBuffer(1)).length}catch(_){return!1}}()}};k.applyFromCharCode=d;var r={};r.string={string:h,array:function(_){return y(_,new Array(_.length))},arraybuffer:function(_){return r.string.uint8array(_).buffer},uint8array:function(_){return y(_,new Uint8Array(_.length))},nodebuffer:function(_){return y(_,D.allocBuffer(_.length))}},r.array={string:d,array:h,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return D.newBufferFrom(_)}},r.arraybuffer={string:function(_){return d(new Uint8Array(_))},array:function(_){return P(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:h,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return D.newBufferFrom(new Uint8Array(_))}},r.uint8array={string:d,array:function(_){return P(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:h,nodebuffer:function(_){return D.newBufferFrom(_)}},r.nodebuffer={string:d,array:function(_){return P(_,new Array(_.length))},arraybuffer:function(_){return r.nodebuffer.uint8array(_).buffer},uint8array:function(_){return P(_,new Uint8Array(_.length))},nodebuffer:h},k.transformTo=function(_,E){if(E||(E=""),!_)return E;k.checkSupport(_);var B=k.getTypeOf(E);return r[B][_](E)},k.getTypeOf=function(_){return"string"==typeof _?"string":"[object Array]"===Object.prototype.toString.call(_)?"array":O.nodebuffer&&D.isBuffer(_)?"nodebuffer":O.uint8array&&_ instanceof Uint8Array?"uint8array":O.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},k.checkSupport=function(_){if(!O[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},k.MAX_VALUE_16BITS=65535,k.MAX_VALUE_32BITS=-1,k.pretty=function(_){var E,B,$="";for(B=0;B<(_||"").length;B++)$+="\\x"+((E=_.charCodeAt(B))<16?"0":"")+E.toString(16).toUpperCase();return $},k.delay=function(_,E,B){I(function(){_.apply(B||null,E||[])})},k.inherits=function(_,E){var B=function(){};B.prototype=E.prototype,_.prototype=new B},k.extend=function(){var _,E,B={};for(_=0;_<arguments.length;_++)for(E in arguments[_])arguments[_].hasOwnProperty(E)&&void 0===B[E]&&(B[E]=arguments[_][E]);return B},k.prepareContent=function(_,E,B,$,w){return T.Promise.resolve(E).then(function(p){return O.blob&&(p instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(p)))&&"undefined"!=typeof FileReader?new T.Promise(function(u,x){var b=new FileReader;b.onload=function(R){u(R.target.result)},b.onerror=function(R){x(R.target.error)},b.readAsArrayBuffer(p)}):p}).then(function(p){var u=k.getTypeOf(p);return u?("arraybuffer"===u?p=k.transformTo("uint8array",p):"string"===u&&(w?p=v.decode(p):B&&!0!==$&&(p=function(_){return y(_,O.uint8array?new Uint8Array(_.length):new Array(_.length))}(p))),p):T.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(L,k,f){"use strict";function g(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,y){return this._listeners[h].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,y){if(this._listeners[h])for(var d=0;d<this._listeners[h].length;d++)this._listeners[h][d].call(this,y)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var y=this;return h.on("data",function(d){y.processChunk(d)}),h.on("end",function(){y.end()}),h.on("error",function(d){y.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var h=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,y){return this.extraStreamInfo[h]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},L.exports=g},function(L,k,f){"use strict";(function(g){function h(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(Z,ce){if(h()<ce)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(Z=new Uint8Array(ce)).__proto__=d.prototype:(null===Z&&(Z=new d(ce)),Z.length=ce),Z}function d(Z,ce,je){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(Z,ce,je);if("number"==typeof Z){if("string"==typeof ce)throw new Error("If encoding is specified then the first argument must be a string");return D(this,Z)}return P(this,Z,ce,je)}function P(Z,ce,je,qe){if("number"==typeof ce)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&ce instanceof ArrayBuffer?function(Z,ce,je,qe){if(je<0||ce.byteLength<je)throw new RangeError("'offset' is out of bounds");if(ce.byteLength<je+(qe||0))throw new RangeError("'length' is out of bounds");return ce=void 0===je&&void 0===qe?new Uint8Array(ce):void 0===qe?new Uint8Array(ce,je):new Uint8Array(ce,je,qe),d.TYPED_ARRAY_SUPPORT?(Z=ce).__proto__=d.prototype:Z=T(Z,ce),Z}(Z,ce,je,qe):"string"==typeof ce?function(Z,ce,je){if("string"==typeof je&&""!==je||(je="utf8"),!d.isEncoding(je))throw new TypeError('"encoding" must be a valid string encoding');var qe=0|B(ce,je),nt=(Z=y(Z,qe)).write(ce,je);return nt!==qe&&(Z=Z.slice(0,nt)),Z}(Z,ce,je):function(Z,ce){if(d.isBuffer(ce)){var je=0|_(ce.length);return 0===(Z=y(Z,je)).length||ce.copy(Z,0,0,je),Z}if(ce){if("undefined"!=typeof ArrayBuffer&&ce.buffer instanceof ArrayBuffer||"length"in ce)return"number"!=typeof ce.length||function(Z){return Z!=Z}(ce.length)?y(Z,0):T(Z,ce);if("Buffer"===ce.type&&Je(ce.data))return T(Z,ce.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Z,ce)}function O(Z){if("number"!=typeof Z)throw new TypeError('"size" argument must be a number');if(Z<0)throw new RangeError('"size" argument must not be negative')}function D(Z,ce){if(O(ce),Z=y(Z,ce<0?0:0|_(ce)),!d.TYPED_ARRAY_SUPPORT)for(var je=0;je<ce;++je)Z[je]=0;return Z}function T(Z,ce){var je=ce.length<0?0:0|_(ce.length);Z=y(Z,je);for(var qe=0;qe<je;qe+=1)Z[qe]=255&ce[qe];return Z}function _(Z){if(Z>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|Z}function B(Z,ce){if(d.isBuffer(Z))return Z.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Z)||Z instanceof ArrayBuffer))return Z.byteLength;"string"!=typeof Z&&(Z=""+Z);var je=Z.length;if(0===je)return 0;for(var qe=!1;;)switch(ce){case"ascii":case"latin1":case"binary":return je;case"utf8":case"utf-8":case void 0:return A(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*je;case"hex":return je>>>1;case"base64":return Le(Z).length;default:if(qe)return A(Z).length;ce=(""+ce).toLowerCase(),qe=!0}}function $(Z,ce,je){var qe=!1;if((void 0===ce||ce<0)&&(ce=0),ce>this.length||((void 0===je||je>this.length)&&(je=this.length),je<=0)||(je>>>=0)<=(ce>>>=0))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return pe(this,ce,je);case"utf8":case"utf-8":return fe(this,ce,je);case"ascii":return Pe(this,ce,je);case"latin1":case"binary":return de(this,ce,je);case"base64":return ge(this,ce,je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,ce,je);default:if(qe)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),qe=!0}}function w(Z,ce,je){var qe=Z[ce];Z[ce]=Z[je],Z[je]=qe}function p(Z,ce,je,qe,nt){if(0===Z.length)return-1;if("string"==typeof je?(qe=je,je=0):je>2147483647?je=2147483647:je<-2147483648&&(je=-2147483648),je=+je,isNaN(je)&&(je=nt?0:Z.length-1),je<0&&(je=Z.length+je),je>=Z.length){if(nt)return-1;je=Z.length-1}else if(je<0){if(!nt)return-1;je=0}if("string"==typeof ce&&(ce=d.from(ce,qe)),d.isBuffer(ce))return 0===ce.length?-1:u(Z,ce,je,qe,nt);if("number"==typeof ce)return ce&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?nt?Uint8Array.prototype.indexOf.call(Z,ce,je):Uint8Array.prototype.lastIndexOf.call(Z,ce,je):u(Z,[ce],je,qe,nt);throw new TypeError("val must be string, number or Buffer")}function u(Z,ce,je,qe,nt){function ut(Ze,ht){return 1===mt?Ze[ht]:Ze.readUInt16BE(ht*mt)}var Re,mt=1,X=Z.length,Te=ce.length;if(void 0!==qe&&("ucs2"===(qe=String(qe).toLowerCase())||"ucs-2"===qe||"utf16le"===qe||"utf-16le"===qe)){if(Z.length<2||ce.length<2)return-1;mt=2,X/=2,Te/=2,je/=2}if(nt){var $e=-1;for(Re=je;Re<X;Re++)if(ut(Z,Re)===ut(ce,-1===$e?0:Re-$e)){if(-1===$e&&($e=Re),Re-$e+1===Te)return $e*mt}else-1!==$e&&(Re-=Re-$e),$e=-1}else for(je+Te>X&&(je=X-Te),Re=je;Re>=0;Re--){for(var me=!0,Ke=0;Ke<Te;Ke++)if(ut(Z,Re+Ke)!==ut(ce,Ke)){me=!1;break}if(me)return Re}return-1}function x(Z,ce,je,qe){je=Number(je)||0;var nt=Z.length-je;qe?(qe=Number(qe))>nt&&(qe=nt):qe=nt;var ut=ce.length;if(ut%2!=0)throw new TypeError("Invalid hex string");qe>ut/2&&(qe=ut/2);for(var mt=0;mt<qe;++mt){var X=parseInt(ce.substr(2*mt,2),16);if(isNaN(X))return mt;Z[je+mt]=X}return mt}function b(Z,ce,je,qe){return ke(A(ce,Z.length-je),Z,je,qe)}function R(Z,ce,je,qe){return ke(function(Z){for(var ce=[],je=0;je<Z.length;++je)ce.push(255&Z.charCodeAt(je));return ce}(ce),Z,je,qe)}function Q(Z,ce,je,qe){return R(Z,ce,je,qe)}function re(Z,ce,je,qe){return ke(Le(ce),Z,je,qe)}function Fe(Z,ce,je,qe){return ke(function(Z,ce){for(var je,qe,ut=[],mt=0;mt<Z.length&&!((ce-=2)<0);++mt)qe=(je=Z.charCodeAt(mt))>>8,ut.push(je%256),ut.push(qe);return ut}(ce,Z.length-je),Z,je,qe)}function ge(Z,ce,je){return Ee.fromByteArray(0===ce&&je===Z.length?Z:Z.slice(ce,je))}function fe(Z,ce,je){je=Math.min(Z.length,je);for(var qe=[],nt=ce;nt<je;){var Te,Re,$e,me,ut=Z[nt],mt=null,X=ut>239?4:ut>223?3:ut>191?2:1;if(nt+X<=je)switch(X){case 1:ut<128&&(mt=ut);break;case 2:128==(192&(Te=Z[nt+1]))&&(me=(31&ut)<<6|63&Te)>127&&(mt=me);break;case 3:Re=Z[nt+2],128==(192&(Te=Z[nt+1]))&&128==(192&Re)&&(me=(15&ut)<<12|(63&Te)<<6|63&Re)>2047&&(me<55296||me>57343)&&(mt=me);break;case 4:Re=Z[nt+2],$e=Z[nt+3],128==(192&(Te=Z[nt+1]))&&128==(192&Re)&&128==(192&$e)&&(me=(15&ut)<<18|(63&Te)<<12|(63&Re)<<6|63&$e)>65535&&me<1114112&&(mt=me)}null===mt?(mt=65533,X=1):mt>65535&&(qe.push((mt-=65536)>>>10&1023|55296),mt=56320|1023&mt),qe.push(mt),nt+=X}return function(Z){var ce=Z.length;if(ce<=St)return String.fromCharCode.apply(String,Z);for(var je="",qe=0;qe<ce;)je+=String.fromCharCode.apply(String,Z.slice(qe,qe+=St));return je}(qe)}function Pe(Z,ce,je){var qe="";je=Math.min(Z.length,je);for(var nt=ce;nt<je;++nt)qe+=String.fromCharCode(127&Z[nt]);return qe}function de(Z,ce,je){var qe="";je=Math.min(Z.length,je);for(var nt=ce;nt<je;++nt)qe+=String.fromCharCode(Z[nt]);return qe}function pe(Z,ce,je){var qe=Z.length;(!ce||ce<0)&&(ce=0),(!je||je<0||je>qe)&&(je=qe);for(var nt="",ut=ce;ut<je;++ut)nt+=l(Z[ut]);return nt}function _e(Z,ce,je){for(var qe=Z.slice(ce,je),nt="",ut=0;ut<qe.length;ut+=2)nt+=String.fromCharCode(qe[ut]+256*qe[ut+1]);return nt}function ae(Z,ce,je){if(Z%1!=0||Z<0)throw new RangeError("offset is not uint");if(Z+ce>je)throw new RangeError("Trying to access beyond buffer length")}function ne(Z,ce,je,qe,nt,ut){if(!d.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(ce>nt||ce<ut)throw new RangeError('"value" argument is out of bounds');if(je+qe>Z.length)throw new RangeError("Index out of range")}function G(Z,ce,je,qe){ce<0&&(ce=65535+ce+1);for(var nt=0,ut=Math.min(Z.length-je,2);nt<ut;++nt)Z[je+nt]=(ce&255<<8*(qe?nt:1-nt))>>>8*(qe?nt:1-nt)}function W(Z,ce,je,qe){ce<0&&(ce=4294967295+ce+1);for(var nt=0,ut=Math.min(Z.length-je,4);nt<ut;++nt)Z[je+nt]=ce>>>8*(qe?nt:3-nt)&255}function j(Z,ce,je,qe,nt,ut){if(je+qe>Z.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("Index out of range")}function C(Z,ce,je,qe,nt){return nt||j(Z,0,je,4),Ne.write(Z,ce,je,qe,23,4),je+4}function H(Z,ce,je,qe,nt){return nt||j(Z,0,je,8),Ne.write(Z,ce,je,qe,52,8),je+8}function l(Z){return Z<16?"0"+Z.toString(16):Z.toString(16)}function A(Z,ce){ce=ce||1/0;for(var je,qe=Z.length,nt=null,ut=[],mt=0;mt<qe;++mt){if((je=Z.charCodeAt(mt))>55295&&je<57344){if(!nt){if(je>56319){(ce-=3)>-1&&ut.push(239,191,189);continue}if(mt+1===qe){(ce-=3)>-1&&ut.push(239,191,189);continue}nt=je;continue}if(je<56320){(ce-=3)>-1&&ut.push(239,191,189),nt=je;continue}je=65536+(nt-55296<<10|je-56320)}else nt&&(ce-=3)>-1&&ut.push(239,191,189);if(nt=null,je<128){if((ce-=1)<0)break;ut.push(je)}else if(je<2048){if((ce-=2)<0)break;ut.push(je>>6|192,63&je|128)}else if(je<65536){if((ce-=3)<0)break;ut.push(je>>12|224,je>>6&63|128,63&je|128)}else{if(!(je<1114112))throw new Error("Invalid code point");if((ce-=4)<0)break;ut.push(je>>18|240,je>>12&63|128,je>>6&63|128,63&je|128)}}return ut}function Le(Z){return Ee.toByteArray(function(Z){if((Z=function(Z){return Z.trim?Z.trim():Z.replace(/^\s+|\s+$/g,"")}(Z).replace(vt,"")).length<2)return"";for(;Z.length%4!=0;)Z+="=";return Z}(Z))}function ke(Z,ce,je,qe){for(var nt=0;nt<qe&&!(nt+je>=ce.length||nt>=Z.length);++nt)ce[nt+je]=Z[nt];return nt}var Ee=f(54),Ne=f(55),Je=f(24);k.Buffer=d,k.SlowBuffer=function(Z){return+Z!=Z&&(Z=0),d.alloc(+Z)},k.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==g.TYPED_ARRAY_SUPPORT?g.TYPED_ARRAY_SUPPORT:function(){try{var Z=new Uint8Array(1);return Z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===Z.foo()&&"function"==typeof Z.subarray&&0===Z.subarray(1,1).byteLength}catch(ce){return!1}}(),k.kMaxLength=h(),d.poolSize=8192,d._augment=function(Z){return Z.__proto__=d.prototype,Z},d.from=function(Z,ce,je){return P(null,Z,ce,je)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(Z,ce,je){return function(Z,ce,je,qe){return O(ce),ce<=0?y(Z,ce):void 0!==je?"string"==typeof qe?y(Z,ce).fill(je,qe):y(Z,ce).fill(je):y(Z,ce)}(null,Z,ce,je)},d.allocUnsafe=function(Z){return D(null,Z)},d.allocUnsafeSlow=function(Z){return D(null,Z)},d.isBuffer=function(Z){return!(null==Z||!Z._isBuffer)},d.compare=function(Z,ce){if(!d.isBuffer(Z)||!d.isBuffer(ce))throw new TypeError("Arguments must be Buffers");if(Z===ce)return 0;for(var je=Z.length,qe=ce.length,nt=0,ut=Math.min(je,qe);nt<ut;++nt)if(Z[nt]!==ce[nt]){je=Z[nt],qe=ce[nt];break}return je<qe?-1:qe<je?1:0},d.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(Z,ce){if(!Je(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Z.length)return d.alloc(0);var je;if(void 0===ce)for(ce=0,je=0;je<Z.length;++je)ce+=Z[je].length;var qe=d.allocUnsafe(ce),nt=0;for(je=0;je<Z.length;++je){var ut=Z[je];if(!d.isBuffer(ut))throw new TypeError('"list" argument must be an Array of Buffers');ut.copy(qe,nt),nt+=ut.length}return qe},d.byteLength=B,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var Z=this.length;if(Z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ce=0;ce<Z;ce+=2)w(this,ce,ce+1);return this},d.prototype.swap32=function(){var Z=this.length;if(Z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ce=0;ce<Z;ce+=4)w(this,ce,ce+3),w(this,ce+1,ce+2);return this},d.prototype.swap64=function(){var Z=this.length;if(Z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ce=0;ce<Z;ce+=8)w(this,ce,ce+7),w(this,ce+1,ce+6),w(this,ce+2,ce+5),w(this,ce+3,ce+4);return this},d.prototype.toString=function(){var Z=0|this.length;return 0===Z?"":0===arguments.length?fe(this,0,Z):$.apply(this,arguments)},d.prototype.equals=function(Z){if(!d.isBuffer(Z))throw new TypeError("Argument must be a Buffer");return this===Z||0===d.compare(this,Z)},d.prototype.inspect=function(){var Z="",ce=k.INSPECT_MAX_BYTES;return this.length>0&&(Z=this.toString("hex",0,ce).match(/.{2}/g).join(" "),this.length>ce&&(Z+=" ... ")),"<Buffer "+Z+">"},d.prototype.compare=function(Z,ce,je,qe,nt){if(!d.isBuffer(Z))throw new TypeError("Argument must be a Buffer");if(void 0===ce&&(ce=0),void 0===je&&(je=Z?Z.length:0),void 0===qe&&(qe=0),void 0===nt&&(nt=this.length),ce<0||je>Z.length||qe<0||nt>this.length)throw new RangeError("out of range index");if(qe>=nt&&ce>=je)return 0;if(qe>=nt)return-1;if(ce>=je)return 1;if(this===Z)return 0;for(var ut=(nt>>>=0)-(qe>>>=0),mt=(je>>>=0)-(ce>>>=0),X=Math.min(ut,mt),Te=this.slice(qe,nt),Re=Z.slice(ce,je),$e=0;$e<X;++$e)if(Te[$e]!==Re[$e]){ut=Te[$e],mt=Re[$e];break}return ut<mt?-1:mt<ut?1:0},d.prototype.includes=function(Z,ce,je){return-1!==this.indexOf(Z,ce,je)},d.prototype.indexOf=function(Z,ce,je){return p(this,Z,ce,je,!0)},d.prototype.lastIndexOf=function(Z,ce,je){return p(this,Z,ce,je,!1)},d.prototype.write=function(Z,ce,je,qe){if(void 0===ce)qe="utf8",je=this.length,ce=0;else if(void 0===je&&"string"==typeof ce)qe=ce,je=this.length,ce=0;else{if(!isFinite(ce))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ce|=0,isFinite(je)?(je|=0,void 0===qe&&(qe="utf8")):(qe=je,je=void 0)}var nt=this.length-ce;if((void 0===je||je>nt)&&(je=nt),Z.length>0&&(je<0||ce<0)||ce>this.length)throw new RangeError("Attempt to write outside buffer bounds");qe||(qe="utf8");for(var ut=!1;;)switch(qe){case"hex":return x(this,Z,ce,je);case"utf8":case"utf-8":return b(this,Z,ce,je);case"ascii":return R(this,Z,ce,je);case"latin1":case"binary":return Q(this,Z,ce,je);case"base64":return re(this,Z,ce,je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe(this,Z,ce,je);default:if(ut)throw new TypeError("Unknown encoding: "+qe);qe=(""+qe).toLowerCase(),ut=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var St=4096;d.prototype.slice=function(Z,ce){var qe,je=this.length;if((Z=~~Z)<0?(Z+=je)<0&&(Z=0):Z>je&&(Z=je),(ce=void 0===ce?je:~~ce)<0?(ce+=je)<0&&(ce=0):ce>je&&(ce=je),ce<Z&&(ce=Z),d.TYPED_ARRAY_SUPPORT)(qe=this.subarray(Z,ce)).__proto__=d.prototype;else{var nt=ce-Z;qe=new d(nt,void 0);for(var ut=0;ut<nt;++ut)qe[ut]=this[ut+Z]}return qe},d.prototype.readUIntLE=function(Z,ce,je){Z|=0,ce|=0,je||ae(Z,ce,this.length);for(var qe=this[Z],nt=1,ut=0;++ut<ce&&(nt*=256);)qe+=this[Z+ut]*nt;return qe},d.prototype.readUIntBE=function(Z,ce,je){Z|=0,ce|=0,je||ae(Z,ce,this.length);for(var qe=this[Z+--ce],nt=1;ce>0&&(nt*=256);)qe+=this[Z+--ce]*nt;return qe},d.prototype.readUInt8=function(Z,ce){return ce||ae(Z,1,this.length),this[Z]},d.prototype.readUInt16LE=function(Z,ce){return ce||ae(Z,2,this.length),this[Z]|this[Z+1]<<8},d.prototype.readUInt16BE=function(Z,ce){return ce||ae(Z,2,this.length),this[Z]<<8|this[Z+1]},d.prototype.readUInt32LE=function(Z,ce){return ce||ae(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+16777216*this[Z+3]},d.prototype.readUInt32BE=function(Z,ce){return ce||ae(Z,4,this.length),16777216*this[Z]+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},d.prototype.readIntLE=function(Z,ce,je){Z|=0,ce|=0,je||ae(Z,ce,this.length);for(var qe=this[Z],nt=1,ut=0;++ut<ce&&(nt*=256);)qe+=this[Z+ut]*nt;return qe>=(nt*=128)&&(qe-=Math.pow(2,8*ce)),qe},d.prototype.readIntBE=function(Z,ce,je){Z|=0,ce|=0,je||ae(Z,ce,this.length);for(var qe=ce,nt=1,ut=this[Z+--qe];qe>0&&(nt*=256);)ut+=this[Z+--qe]*nt;return ut>=(nt*=128)&&(ut-=Math.pow(2,8*ce)),ut},d.prototype.readInt8=function(Z,ce){return ce||ae(Z,1,this.length),128&this[Z]?-1*(255-this[Z]+1):this[Z]},d.prototype.readInt16LE=function(Z,ce){ce||ae(Z,2,this.length);var je=this[Z]|this[Z+1]<<8;return 32768&je?4294901760|je:je},d.prototype.readInt16BE=function(Z,ce){ce||ae(Z,2,this.length);var je=this[Z+1]|this[Z]<<8;return 32768&je?4294901760|je:je},d.prototype.readInt32LE=function(Z,ce){return ce||ae(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},d.prototype.readInt32BE=function(Z,ce){return ce||ae(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},d.prototype.readFloatLE=function(Z,ce){return ce||ae(Z,4,this.length),Ne.read(this,Z,!0,23,4)},d.prototype.readFloatBE=function(Z,ce){return ce||ae(Z,4,this.length),Ne.read(this,Z,!1,23,4)},d.prototype.readDoubleLE=function(Z,ce){return ce||ae(Z,8,this.length),Ne.read(this,Z,!0,52,8)},d.prototype.readDoubleBE=function(Z,ce){return ce||ae(Z,8,this.length),Ne.read(this,Z,!1,52,8)},d.prototype.writeUIntLE=function(Z,ce,je,qe){Z=+Z,ce|=0,je|=0,qe||ne(this,Z,ce,je,Math.pow(2,8*je)-1,0);var nt=1,ut=0;for(this[ce]=255&Z;++ut<je&&(nt*=256);)this[ce+ut]=Z/nt&255;return ce+je},d.prototype.writeUIntBE=function(Z,ce,je,qe){Z=+Z,ce|=0,je|=0,qe||ne(this,Z,ce,je,Math.pow(2,8*je)-1,0);var nt=je-1,ut=1;for(this[ce+nt]=255&Z;--nt>=0&&(ut*=256);)this[ce+nt]=Z/ut&255;return ce+je},d.prototype.writeUInt8=function(Z,ce,je){return Z=+Z,ce|=0,je||ne(this,Z,ce,1,255,0),d.TYPED_ARRAY_SUPPORT||(Z=Math.floor(Z)),this[ce]=255&Z,ce+1},d.prototype.writeUInt16LE=function(Z,ce,je){return Z=+Z,ce|=0,je||ne(this,Z,ce,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[ce]=255&Z,this[ce+1]=Z>>>8):G(this,Z,ce,!0),ce+2},d.prototype.writeUInt16BE=function(Z,ce,je){return Z=+Z,ce|=0,je||ne(this,Z,ce,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[ce]=Z>>>8,this[ce+1]=255&Z):G(this,Z,ce,!1),ce+2},d.prototype.writeUInt32LE=function(Z,ce,je){return Z=+Z,ce|=0,je||ne(this,Z,ce,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[ce+3]=Z>>>24,this[ce+2]=Z>>>16,this[ce+1]=Z>>>8,this[ce]=255&Z):W(this,Z,ce,!0),ce+4},d.prototype.writeUInt32BE=function(Z,ce,je){return Z=+Z,ce|=0,je||ne(this,Z,ce,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[ce]=Z>>>24,this[ce+1]=Z>>>16,this[ce+2]=Z>>>8,this[ce+3]=255&Z):W(this,Z,ce,!1),ce+4},d.prototype.writeIntLE=function(Z,ce,je,qe){if(Z=+Z,ce|=0,!qe){var nt=Math.pow(2,8*je-1);ne(this,Z,ce,je,nt-1,-nt)}var ut=0,mt=1,X=0;for(this[ce]=255&Z;++ut<je&&(mt*=256);)Z<0&&0===X&&0!==this[ce+ut-1]&&(X=1),this[ce+ut]=(Z/mt>>0)-X&255;return ce+je},d.prototype.writeIntBE=function(Z,ce,je,qe){if(Z=+Z,ce|=0,!qe){var nt=Math.pow(2,8*je-1);ne(this,Z,ce,je,nt-1,-nt)}var ut=je-1,mt=1,X=0;for(this[ce+ut]=255&Z;--ut>=0&&(mt*=256);)Z<0&&0===X&&0!==this[ce+ut+1]&&(X=1),this[ce+ut]=(Z/mt>>0)-X&255;return ce+je},d.prototype.writeInt8=function(Z,ce,je){return Z=+Z,ce|=0,je||ne(this,Z,ce,1,127,-128),d.TYPED_ARRAY_SUPPORT||(Z=Math.floor(Z)),Z<0&&(Z=255+Z+1),this[ce]=255&Z,ce+1},d.prototype.writeInt16LE=function(Z,ce,je){return Z=+Z,ce|=0,je||ne(this,Z,ce,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[ce]=255&Z,this[ce+1]=Z>>>8):G(this,Z,ce,!0),ce+2},d.prototype.writeInt16BE=function(Z,ce,je){return Z=+Z,ce|=0,je||ne(this,Z,ce,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[ce]=Z>>>8,this[ce+1]=255&Z):G(this,Z,ce,!1),ce+2},d.prototype.writeInt32LE=function(Z,ce,je){return Z=+Z,ce|=0,je||ne(this,Z,ce,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[ce]=255&Z,this[ce+1]=Z>>>8,this[ce+2]=Z>>>16,this[ce+3]=Z>>>24):W(this,Z,ce,!0),ce+4},d.prototype.writeInt32BE=function(Z,ce,je){return Z=+Z,ce|=0,je||ne(this,Z,ce,4,2147483647,-2147483648),Z<0&&(Z=4294967295+Z+1),d.TYPED_ARRAY_SUPPORT?(this[ce]=Z>>>24,this[ce+1]=Z>>>16,this[ce+2]=Z>>>8,this[ce+3]=255&Z):W(this,Z,ce,!1),ce+4},d.prototype.writeFloatLE=function(Z,ce,je){return C(this,Z,ce,!0,je)},d.prototype.writeFloatBE=function(Z,ce,je){return C(this,Z,ce,!1,je)},d.prototype.writeDoubleLE=function(Z,ce,je){return H(this,Z,ce,!0,je)},d.prototype.writeDoubleBE=function(Z,ce,je){return H(this,Z,ce,!1,je)},d.prototype.copy=function(Z,ce,je,qe){if(je||(je=0),qe||0===qe||(qe=this.length),ce>=Z.length&&(ce=Z.length),ce||(ce=0),qe>0&&qe<je&&(qe=je),qe===je||0===Z.length||0===this.length)return 0;if(ce<0)throw new RangeError("targetStart out of bounds");if(je<0||je>=this.length)throw new RangeError("sourceStart out of bounds");if(qe<0)throw new RangeError("sourceEnd out of bounds");qe>this.length&&(qe=this.length),Z.length-ce<qe-je&&(qe=Z.length-ce+je);var nt,ut=qe-je;if(this===Z&&je<ce&&ce<qe)for(nt=ut-1;nt>=0;--nt)Z[nt+ce]=this[nt+je];else if(ut<1e3||!d.TYPED_ARRAY_SUPPORT)for(nt=0;nt<ut;++nt)Z[nt+ce]=this[nt+je];else Uint8Array.prototype.set.call(Z,this.subarray(je,je+ut),ce);return ut},d.prototype.fill=function(Z,ce,je,qe){if("string"==typeof Z){if("string"==typeof ce?(qe=ce,ce=0,je=this.length):"string"==typeof je&&(qe=je,je=this.length),1===Z.length){var nt=Z.charCodeAt(0);nt<256&&(Z=nt)}if(void 0!==qe&&"string"!=typeof qe)throw new TypeError("encoding must be a string");if("string"==typeof qe&&!d.isEncoding(qe))throw new TypeError("Unknown encoding: "+qe)}else"number"==typeof Z&&(Z&=255);if(ce<0||this.length<ce||this.length<je)throw new RangeError("Out of range index");if(je<=ce)return this;var ut;if(ce>>>=0,je=void 0===je?this.length:je>>>0,Z||(Z=0),"number"==typeof Z)for(ut=ce;ut<je;++ut)this[ut]=Z;else{var mt=d.isBuffer(Z)?Z:A(new d(Z,qe).toString()),X=mt.length;for(ut=0;ut<je-ce;++ut)this[ut+ce]=mt[ut%X]}return this};var vt=/[^+\/0-9A-Za-z-_]/g}).call(k,f(10))},function(L,k,f){"use strict";(function(g){if(k.base64=!0,k.array=!0,k.string=!0,k.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,k.nodebuffer=void 0!==g,k.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)k.blob=!1;else{var h=new ArrayBuffer(0);try{k.blob=0===new Blob([h],{type:"application/zip"}).size}catch(P){try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(h),k.blob=0===d.getBlob("application/zip").size}catch(O){k.blob=!1}}}try{k.nodestream=!!f(25).Readable}catch(P){k.nodestream=!1}}).call(k,f(2).Buffer)},function(L,k,f){"use strict";function g(P,O){return Object.prototype.hasOwnProperty.call(P,O)}var h="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;k.assign=function(P){for(var O=Array.prototype.slice.call(arguments,1);O.length;){var v=O.shift();if(v){if("object"!=typeof v)throw new TypeError(v+"must be non-object");for(var D in v)g(v,D)&&(P[D]=v[D])}}return P},k.shrinkBuf=function(P,O){return P.length===O?P:P.subarray?P.subarray(0,O):(P.length=O,P)};var y={arraySet:function(P,O,v,D,I){if(O.subarray&&P.subarray)P.set(O.subarray(v,v+D),I);else for(var T=0;T<D;T++)P[I+T]=O[v+T]},flattenChunks:function(P){var O,v,D,I,T,S;for(D=0,O=0,v=P.length;O<v;O++)D+=P[O].length;for(S=new Uint8Array(D),I=0,O=0,v=P.length;O<v;O++)S.set(T=P[O],I),I+=T.length;return S}},d={arraySet:function(P,O,v,D,I){for(var T=0;T<D;T++)P[I+T]=O[v+T]},flattenChunks:function(P){return[].concat.apply([],P)}};k.setTyped=function(P){P?(k.Buf8=Uint8Array,k.Buf16=Uint16Array,k.Buf32=Int32Array,k.assign(k,y)):(k.Buf8=Array,k.Buf16=Array,k.Buf32=Array,k.assign(k,d))},k.setTyped(h)},function(L,k,f){"use strict";function g(r){if(!(this instanceof g))return new g(r);v.call(this,r),D.call(this,r),r&&!1===r.readable&&(this.readable=!1),r&&!1===r.writable&&(this.writable=!1),this.allowHalfOpen=!0,r&&!1===r.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||P(y,this)}function y(r){r.end()}var d=Object.keys||function(r){var _=[];for(var E in r)_.push(E);return _};L.exports=g;var P=f(16),O=f(8);O.inherits=f(7);var v=f(26),D=f(17);O.inherits(g,v);for(var I=d(D.prototype),T=0;T<I.length;T++){var S=I[T];g.prototype[S]||(g.prototype[S]=D.prototype[S])}},function(L,k,f){"use strict";function g(){O.call(this,"utf-8 decode"),this.leftOver=null}function h(){O.call(this,"utf-8 encode")}for(var y=f(0),d=f(3),P=f(14),O=f(1),v=new Array(256),D=0;D<256;D++)v[D]=D>=252?6:D>=248?5:D>=240?4:D>=224?3:D>=192?2:1;v[254]=v[254]=1;k.utf8encode=function(r){return d.nodebuffer?P.newBufferFrom(r,"utf-8"):function(r){var _,E,B,$,w,p=r.length,u=0;for($=0;$<p;$++)55296==(64512&(E=r.charCodeAt($)))&&$+1<p&&56320==(64512&(B=r.charCodeAt($+1)))&&(E=65536+(E-55296<<10)+(B-56320),$++),u+=E<128?1:E<2048?2:E<65536?3:4;for(_=d.uint8array?new Uint8Array(u):new Array(u),w=0,$=0;w<u;$++)55296==(64512&(E=r.charCodeAt($)))&&$+1<p&&56320==(64512&(B=r.charCodeAt($+1)))&&(E=65536+(E-55296<<10)+(B-56320),$++),E<128?_[w++]=E:E<2048?(_[w++]=192|E>>>6,_[w++]=128|63&E):E<65536?(_[w++]=224|E>>>12,_[w++]=128|E>>>6&63,_[w++]=128|63&E):(_[w++]=240|E>>>18,_[w++]=128|E>>>12&63,_[w++]=128|E>>>6&63,_[w++]=128|63&E);return _}(r)},k.utf8decode=function(r){return d.nodebuffer?y.transformTo("nodebuffer",r).toString("utf-8"):function(r){var _,E,B,$,w=r.length,p=new Array(2*w);for(E=0,_=0;_<w;)if((B=r[_++])<128)p[E++]=B;else if(($=v[B])>4)p[E++]=65533,_+=$-1;else{for(B&=2===$?31:3===$?15:7;$>1&&_<w;)B=B<<6|63&r[_++],$--;$>1?p[E++]=65533:B<65536?p[E++]=B:(p[E++]=55296|(B-=65536)>>10&1023,p[E++]=56320|1023&B)}return p.length!==E&&(p.subarray?p=p.subarray(0,E):p.length=E),y.applyFromCharCode(p)}(r=y.transformTo(d.uint8array?"uint8array":"array",r))},y.inherits(g,O),g.prototype.processChunk=function(r){var _=y.transformTo(d.uint8array?"uint8array":"array",r.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var E=_;(_=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),_.set(E,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var B=function(r,_){var E;for((_=_||r.length)>r.length&&(_=r.length),E=_-1;E>=0&&128==(192&r[E]);)E--;return E<0||0===E?_:E+v[r[E]]>_?E:_}(_),$=_;B!==_.length&&(d.uint8array?($=_.subarray(0,B),this.leftOver=_.subarray(B,_.length)):($=_.slice(0,B),this.leftOver=_.slice(B,_.length))),this.push({data:k.utf8decode($),meta:r.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:k.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},k.Utf8DecodeWorker=g,y.inherits(h,O),h.prototype.processChunk=function(r){this.push({data:k.utf8encode(r.data),meta:r.meta})},k.Utf8EncodeWorker=h},function(L,k){L.exports="function"==typeof Object.create?function(f,g){f.super_=g,f.prototype=Object.create(g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:function(f,g){f.super_=g;var h=function(){};h.prototype=g.prototype,f.prototype=new h,f.prototype.constructor=f}},function(L,k,f){(function(g){function $(w){return Object.prototype.toString.call(w)}k.isArray=function(w){return Array.isArray?Array.isArray(w):"[object Array]"===$(w)},k.isBoolean=function(w){return"boolean"==typeof w},k.isNull=function(w){return null===w},k.isNullOrUndefined=function(w){return null==w},k.isNumber=function(w){return"number"==typeof w},k.isString=function(w){return"string"==typeof w},k.isSymbol=function(w){return"symbol"==typeof w},k.isUndefined=function(w){return void 0===w},k.isRegExp=function(w){return"[object RegExp]"===$(w)},k.isObject=function(w){return"object"==typeof w&&null!==w},k.isDate=function(w){return"[object Date]"===$(w)},k.isError=function(w){return"[object Error]"===$(w)||w instanceof Error},k.isFunction=function(w){return"function"==typeof w},k.isPrimitive=function(w){return null===w||"boolean"==typeof w||"number"==typeof w||"string"==typeof w||"symbol"==typeof w||void 0===w},k.isBuffer=g.isBuffer}).call(k,f(2).Buffer)},function(L,k,f){"use strict";var g;g="undefined"!=typeof Promise?Promise:f(80),L.exports={Promise:g}},function(L,k){var f;f=function(){return this}();try{f=f||Function("return this")()||(0,eval)("this")}catch(g){"object"==typeof window&&(f=window)}L.exports=f},function(L,k,f){function g(){h.call(this)}L.exports=g;var h=f(12).EventEmitter;f(7)(g,h),g.Readable=f(56),g.Writable=f(62),g.Duplex=f(63),g.Transform=f(64),g.PassThrough=f(65),g.Stream=g,g.prototype.pipe=function(y,d){function P(_){y.writable&&!1===y.write(_)&&S.pause&&S.pause()}function O(){S.readable&&S.resume&&S.resume()}function v(){r||(r=!0,y.end())}function D(){r||(r=!0,"function"==typeof y.destroy&&y.destroy())}function I(_){if(T(),0===h.listenerCount(this,"error"))throw _}function T(){S.removeListener("data",P),y.removeListener("drain",O),S.removeListener("end",v),S.removeListener("close",D),S.removeListener("error",I),y.removeListener("error",I),S.removeListener("end",T),S.removeListener("close",T),y.removeListener("close",T)}var S=this;S.on("data",P),y.on("drain",O),y._isStdio||d&&!1===d.end||(S.on("end",v),S.on("close",D));var r=!1;return S.on("error",I),y.on("error",I),S.on("end",T),S.on("close",T),y.on("close",T),y.emit("pipe",S),y}},function(L,k){function f(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function g(P){return"function"==typeof P}function y(P){return"object"==typeof P&&null!==P}function d(P){return void 0===P}L.exports=f,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._maxListeners=void 0,f.defaultMaxListeners=10,f.prototype.setMaxListeners=function(P){if(!function(P){return"number"==typeof P}(P)||P<0||isNaN(P))throw TypeError("n must be a positive number");return this._maxListeners=P,this},f.prototype.emit=function(P){var O,v,D,I,T,S;if(this._events||(this._events={}),"error"===P&&(!this._events.error||y(this._events.error)&&!this._events.error.length)){if((O=arguments[1])instanceof Error)throw O;var r=new Error('Uncaught, unspecified "error" event. ('+O+")");throw r.context=O,r}if(d(v=this._events[P]))return!1;if(g(v))switch(arguments.length){case 1:v.call(this);break;case 2:v.call(this,arguments[1]);break;case 3:v.call(this,arguments[1],arguments[2]);break;default:I=Array.prototype.slice.call(arguments,1),v.apply(this,I)}else if(y(v))for(I=Array.prototype.slice.call(arguments,1),D=(S=v.slice()).length,T=0;T<D;T++)S[T].apply(this,I);return!0},f.prototype.on=f.prototype.addListener=function(P,O){var v;if(!g(O))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",P,g(O.listener)?O.listener:O),this._events[P]?y(this._events[P])?this._events[P].push(O):this._events[P]=[this._events[P],O]:this._events[P]=O,y(this._events[P])&&!this._events[P].warned&&(v=d(this._maxListeners)?f.defaultMaxListeners:this._maxListeners)&&v>0&&this._events[P].length>v&&(this._events[P].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[P].length),"function"==typeof console.trace&&console.trace()),this},f.prototype.once=function(P,O){function v(){this.removeListener(P,v),D||(D=!0,O.apply(this,arguments))}if(!g(O))throw TypeError("listener must be a function");var D=!1;return v.listener=O,this.on(P,v),this},f.prototype.removeListener=function(P,O){var v,D,I,T;if(!g(O))throw TypeError("listener must be a function");if(!this._events||!this._events[P])return this;if(I=(v=this._events[P]).length,D=-1,v===O||g(v.listener)&&v.listener===O)delete this._events[P],this._events.removeListener&&this.emit("removeListener",P,O);else if(y(v)){for(T=I;T-- >0;)if(v[T]===O||v[T].listener&&v[T].listener===O){D=T;break}if(D<0)return this;1===v.length?(v.length=0,delete this._events[P]):v.splice(D,1),this._events.removeListener&&this.emit("removeListener",P,O)}return this},f.prototype.removeAllListeners=function(P){var O,v;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[P]&&delete this._events[P],this;if(0===arguments.length){for(O in this._events)"removeListener"!==O&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events={},this}if(g(v=this._events[P]))this.removeListener(P,v);else if(v)for(;v.length;)this.removeListener(P,v[v.length-1]);return delete this._events[P],this},f.prototype.listeners=function(P){return this._events&&this._events[P]?g(this._events[P])?[this._events[P]]:this._events[P].slice():[]},f.prototype.listenerCount=function(P){if(this._events){var O=this._events[P];if(g(O))return 1;if(O)return O.length}return 0},f.listenerCount=function(P,O){return P.listenerCount(O)}},function(L,k){function f(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function h(B){if(D===setTimeout)return setTimeout(B,0);if((D===f||!D)&&setTimeout)return D=setTimeout,setTimeout(B,0);try{return D(B,0)}catch($){try{return D.call(null,B,0)}catch(w){return D.call(this,B,0)}}}function d(){_&&S&&(_=!1,S.length?r=S.concat(r):E=-1,r.length&&P())}function P(){if(!_){var B=h(d);_=!0;for(var $=r.length;$;){for(S=r,r=[];++E<$;)S&&S[E].run();E=-1,$=r.length}S=null,_=!1,function(B){if(I===clearTimeout)return clearTimeout(B);if((I===g||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(B);try{I(B)}catch($){try{return I.call(null,B)}catch(w){return I.call(this,B)}}}(B)}}function O(B,$){this.fun=B,this.array=$}function v(){}var D,I,T=L.exports={};!function(){try{D="function"==typeof setTimeout?setTimeout:f}catch(B){D=f}try{I="function"==typeof clearTimeout?clearTimeout:g}catch(B){I=g}}();var S,r=[],_=!1,E=-1;T.nextTick=function(B){var $=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)$[w-1]=arguments[w];r.push(new O(B,$)),1!==r.length||_||h(P)},O.prototype.run=function(){this.fun.apply(null,this.array)},T.title="browser",T.browser=!0,T.env={},T.argv=[],T.version="",T.versions={},T.on=v,T.addListener=v,T.once=v,T.off=v,T.removeListener=v,T.removeAllListeners=v,T.emit=v,T.prependListener=v,T.prependOnceListener=v,T.listeners=function(B){return[]},T.binding=function(B){throw new Error("process.binding is not supported")},T.cwd=function(){return"/"},T.chdir=function(B){throw new Error("process.chdir is not supported")},T.umask=function(){return 0}},function(L,k,f){"use strict";(function(g){L.exports={isNode:void 0!==g,newBufferFrom:function(h,y){return new g(h,y)},allocBuffer:function(h){return g.alloc?g.alloc(h):new g(h)},isBuffer:function(h){return g.isBuffer(h)},isStream:function(h){return h&&"function"==typeof h.on&&"function"==typeof h.pause&&"function"==typeof h.resume}}}).call(k,f(2).Buffer)},function(L,k){var f=L.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=f)},function(L,k,f){"use strict";(function(g){L.exports=!g.version||0===g.version.indexOf("v0.")||0===g.version.indexOf("v1.")&&0!==g.version.indexOf("v1.8.")?function(y,d,P,O){if("function"!=typeof y)throw new TypeError('"callback" argument must be a function');var v,D,I=arguments.length;switch(I){case 0:case 1:return g.nextTick(y);case 2:return g.nextTick(function(){y.call(null,d)});case 3:return g.nextTick(function(){y.call(null,d,P)});case 4:return g.nextTick(function(){y.call(null,d,P,O)});default:for(v=new Array(I-1),D=0;D<v.length;)v[D++]=arguments[D];return g.nextTick(function(){y.apply(null,v)})}}:g.nextTick}).call(k,f(13))},function(L,k,f){"use strict";(function(g,h){function y(){}function d(de,pe,_e){this.chunk=de,this.encoding=pe,this.callback=_e,this.next=null}function P(de,pe){Pe=Pe||f(5),this.objectMode=!!(de=de||{}).objectMode,pe instanceof Pe&&(this.objectMode=this.objectMode||!!de.writableObjectMode);var _e=de.highWaterMark;this.highWaterMark=_e||0===_e?_e:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.decodeStrings=!(!1===de.decodeStrings),this.defaultEncoding=de.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){!function(de,pe){var _e=de._writableState,ae=_e.sync,ne=_e.writecb;if(function(de){de.writing=!1,de.writecb=null,de.length-=de.writelen,de.writelen=0}(_e),pe)!function(de,pe,_e,ae,ne){--pe.pendingcb,_e?Q(ne,ae):ne(ae),de._writableState.errorEmitted=!0,de.emit("error",ae)}(de,_e,ae,pe,ne);else{var G=p(_e);G||_e.corked||_e.bufferProcessing||!_e.bufferedRequest||w(de,_e),ae?re(B,de,_e,G,ne):B(de,_e,G,ne)}}(pe,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new R(this),this.corkedRequestsFree.next=new R(this)}function O(de){if(Pe=Pe||f(5),!(this instanceof O||this instanceof Pe))return new O(de);this._writableState=new P(de,this),this.writable=!0,de&&("function"==typeof de.write&&(this._write=de.write),"function"==typeof de.writev&&(this._writev=de.writev)),fe.call(this)}function T(de,pe,_e,ae,ne){_e=function(de,pe,_e){return de.objectMode||!1===de.decodeStrings||"string"!=typeof pe||(pe=new Fe(pe,_e)),pe}(pe,_e,ae),Fe.isBuffer(_e)&&(ae="buffer");var G=pe.objectMode?1:_e.length;pe.length+=G;var W=pe.length<pe.highWaterMark;if(W||(pe.needDrain=!0),pe.writing||pe.corked){var j=pe.lastBufferedRequest;pe.lastBufferedRequest=new d(_e,ae,ne),j?j.next=pe.lastBufferedRequest:pe.bufferedRequest=pe.lastBufferedRequest,pe.bufferedRequestCount+=1}else S(de,pe,!1,G,_e,ae,ne);return W}function S(de,pe,_e,ae,ne,G,W){pe.writelen=ae,pe.writecb=W,pe.writing=!0,pe.sync=!0,_e?de._writev(ne,pe.onwrite):de._write(ne,G,pe.onwrite),pe.sync=!1}function B(de,pe,_e,ae){_e||function(de,pe){0===pe.length&&pe.needDrain&&(pe.needDrain=!1,de.emit("drain"))}(de,pe),pe.pendingcb--,ae(),x(de,pe)}function w(de,pe){pe.bufferProcessing=!0;var _e=pe.bufferedRequest;if(de._writev&&_e&&_e.next){var ne=new Array(pe.bufferedRequestCount),G=pe.corkedRequestsFree;G.entry=_e;for(var W=0;_e;)ne[W]=_e,_e=_e.next,W+=1;S(de,pe,!0,pe.length,ne,"",G.finish),pe.pendingcb++,pe.lastBufferedRequest=null,pe.corkedRequestsFree=G.next,G.next=null}else{for(;_e;){var j=_e.chunk;if(S(de,pe,!1,pe.objectMode?1:j.length,j,_e.encoding,_e.callback),_e=_e.next,pe.writing)break}null===_e&&(pe.lastBufferedRequest=null)}pe.bufferedRequestCount=0,pe.bufferedRequest=_e,pe.bufferProcessing=!1}function p(de){return de.ending&&0===de.length&&null===de.bufferedRequest&&!de.finished&&!de.writing}function u(de,pe){pe.prefinished||(pe.prefinished=!0,de.emit("prefinish"))}function x(de,pe){var _e=p(pe);return _e&&(0===pe.pendingcb?(u(de,pe),pe.finished=!0,de.emit("finish")):u(de,pe)),_e}function R(de){var pe=this;this.next=null,this.entry=null,this.finish=function(_e){var ae=pe.entry;for(pe.entry=null;ae;){var ne=ae.callback;de.pendingcb--,ne(_e),ae=ae.next}de.corkedRequestsFree?de.corkedRequestsFree.next=pe:de.corkedRequestsFree=pe}}L.exports=O;var Q=f(16),re=!g.browser&&["v0.10","v0.9."].indexOf(g.version.slice(0,5))>-1?h:Q,Fe=f(2).Buffer;O.WritableState=P;var ge=f(8);ge.inherits=f(7);var fe,Pe,Ae={deprecate:f(60)};!function(){try{fe=f(11)}catch(de){}finally{fe||(fe=f(12).EventEmitter)}}(),Fe=f(2).Buffer,ge.inherits(O,fe),P.prototype.getBuffer=function(){for(var de=this.bufferedRequest,pe=[];de;)pe.push(de),de=de.next;return pe},function(){try{Object.defineProperty(P.prototype,"buffer",{get:Ae.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(de){}}(),O.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},O.prototype.write=function(de,pe,_e){var ae=this._writableState,ne=!1;return"function"==typeof pe&&(_e=pe,pe=null),Fe.isBuffer(de)?pe="buffer":pe||(pe=ae.defaultEncoding),"function"!=typeof _e&&(_e=y),ae.ended?function(de,pe){var _e=new Error("write after end");de.emit("error",_e),Q(pe,_e)}(this,_e):function(de,pe,_e,ae){var ne=!0;if(!Fe.isBuffer(_e)&&"string"!=typeof _e&&null!=_e&&!pe.objectMode){var G=new TypeError("Invalid non-string/buffer chunk");de.emit("error",G),Q(ae,G),ne=!1}return ne}(this,ae,de,_e)&&(ae.pendingcb++,ne=T(this,ae,de,pe,_e)),ne},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var de=this._writableState;de.corked&&(de.corked--,de.writing||de.corked||de.finished||de.bufferProcessing||!de.bufferedRequest||w(this,de))},O.prototype.setDefaultEncoding=function(de){if("string"==typeof de&&(de=de.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((de+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+de);this._writableState.defaultEncoding=de},O.prototype._write=function(de,pe,_e){_e(new Error("not implemented"))},O.prototype._writev=null,O.prototype.end=function(de,pe,_e){var ae=this._writableState;"function"==typeof de?(_e=de,de=null,pe=null):"function"==typeof pe&&(_e=pe,pe=null),null!=de&&this.write(de,pe),ae.corked&&(ae.corked=1,this.uncork()),ae.ending||ae.finished||function(de,pe,_e){pe.ending=!0,x(de,pe),_e&&(pe.finished?Q(_e):de.once("finish",_e)),pe.ended=!0,de.writable=!1}(this,ae,_e)}}).call(k,f(13),f(58).setImmediate)},function(L,k,f){"use strict";function g(v){this.afterTransform=function(D,I){return function(v,D,I){var T=v._transformState;T.transforming=!1;var S=T.writecb;if(!S)return v.emit("error",new Error("no writecb in Transform class"));T.writechunk=null,T.writecb=null,null!=I&&v.push(I),S(D);var r=v._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&v._read(r.highWaterMark)}(v,D,I)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function y(v){if(!(this instanceof y))return new y(v);P.call(this,v),this._transformState=new g(this);var D=this;this._readableState.needReadable=!0,this._readableState.sync=!1,v&&("function"==typeof v.transform&&(this._transform=v.transform),"function"==typeof v.flush&&(this._flush=v.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(I){d(D,I)}):d(D)})}function d(v,D){if(D)return v.emit("error",D);var T=v._transformState;if(v._writableState.length)throw new Error("calling transform done when ws.length != 0");if(T.transforming)throw new Error("calling transform done when still transforming");return v.push(null)}L.exports=y;var P=f(5),O=f(8);O.inherits=f(7),O.inherits(y,P),y.prototype.push=function(v,D){return this._transformState.needTransform=!1,P.prototype.push.call(this,v,D)},y.prototype._transform=function(v,D,I){throw new Error("not implemented")},y.prototype._write=function(v,D,I){var T=this._transformState;if(T.writecb=I,T.writechunk=v,T.writeencoding=D,!T.transforming){var S=this._readableState;(T.needTransform||S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}},y.prototype._read=function(v){var D=this._transformState;null!==D.writechunk&&D.writecb&&!D.transforming?(D.transforming=!0,this._transform(D.writechunk,D.writeencoding,D.afterTransform)):D.needTransform=!0}},function(L,k){L.exports=function(f){return"object"==typeof f?null!==f:"function"==typeof f}},function(L,k,f){L.exports=!f(32)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(L,k,f){"use strict";function g(O,v,D,I,T){this.compressedSize=O,this.uncompressedSize=v,this.crc32=D,this.compression=I,this.compressedContent=T}var h=f(9),y=f(36),d=f(37),P=f(38);d=f(37),g.prototype={getContentWorker:function(){var O=new y(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),v=this;return O.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),O},getCompressedWorker:function(){return new y(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(O,v,D){return O.pipe(new P).pipe(new d("uncompressedSize")).pipe(v.compressWorker(D)).pipe(new d("compressedSize")).withStreamInfo("compression",v)},L.exports=g},function(L,k,f){"use strict";var y=f(0),d=function(){for(var P,O=[],v=0;v<256;v++){P=v;for(var D=0;D<8;D++)P=1&P?3988292384^P>>>1:P>>>1;O[v]=P}return O}();L.exports=function(P,O){return void 0!==P&&P.length?"string"!==y.getTypeOf(P)?function(P,O,v,D){var I=d,T=D+v;P^=-1;for(var S=D;S<T;S++)P=P>>>8^I[255&(P^O[S])];return-1^P}(0|O,P,P.length,0):function(P,O,v,D){var I=d,T=D+v;P^=-1;for(var S=D;S<T;S++)P=P>>>8^I[255&(P^O.charCodeAt(S))];return-1^P}(0|O,P,P.length,0):0}},function(L,k,f){"use strict";L.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(L,k){var f={}.toString;L.exports=Array.isArray||function(g){return"[object Array]"==f.call(g)}},function(L,k,f){L.exports=f(11)},function(L,k,f){"use strict";(function(g){function h(G,W){ae=ae||f(5),this.objectMode=!!(G=G||{}).objectMode,W instanceof ae&&(this.objectMode=this.objectMode||!!G.readableObjectMode);var j=G.highWaterMark;this.highWaterMark=j||0===j?j:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(_e||(_e=f(27).StringDecoder),this.decoder=new _e(G.encoding),this.encoding=G.encoding)}function y(G){if(ae=ae||f(5),!(this instanceof y))return new y(G);this._readableState=new h(G,this),this.readable=!0,G&&"function"==typeof G.read&&(this._read=G.read),fe.call(this)}function d(G,W,j,C,H){var n=function(G,W){var j=null;return ge.isBuffer(W)||"string"==typeof W||null==W||G.objectMode||(j=new TypeError("Invalid non-string/buffer chunk")),j}(W,j);if(n)G.emit("error",n);else if(null===j)W.reading=!1,function(G,W){if(!W.ended){if(W.decoder){var j=W.decoder.end();j&&j.length&&(W.buffer.push(j),W.length+=W.objectMode?1:j.length)}W.ended=!0,T(G)}}(G,W);else if(W.objectMode||j&&j.length>0)if(W.ended&&!H){var m=new Error("stream.push() after EOF");G.emit("error",m)}else if(W.endEmitted&&H)m=new Error("stream.unshift() after end event"),G.emit("error",m);else{var l;!W.decoder||H||C||(j=W.decoder.write(j),l=!W.objectMode&&0===j.length),H||(W.reading=!1),l||(W.flowing&&0===W.length&&!W.sync?(G.emit("data",j),G.read(0)):(W.length+=W.objectMode?1:j.length,H?W.buffer.unshift(j):W.buffer.push(j),W.needReadable&&T(G))),function(G,W){W.readingMore||(W.readingMore=!0,re(_,G,W))}(G,W)}else H||(W.reading=!1);return function(G){return!G.ended&&(G.needReadable||G.length<G.highWaterMark||0===G.length)}(W)}function v(G,W){return 0===W.length&&W.ended?0:W.objectMode?0===G?0:1:null===G||isNaN(G)?W.flowing&&W.buffer.length?W.buffer[0].length:W.length:G<=0?0:(G>W.highWaterMark&&(W.highWaterMark=function(G){return G>=ne?G=ne:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(G)),G>W.length?W.ended?W.length:(W.needReadable=!0,0):G)}function T(G){var W=G._readableState;W.needReadable=!1,W.emittedReadable||(pe("emitReadable",W.flowing),W.emittedReadable=!0,W.sync?re(S,G):S(G))}function S(G){pe("emit readable"),G.emit("readable"),p(G)}function _(G,W){for(var j=W.length;!W.reading&&!W.flowing&&!W.ended&&W.length<W.highWaterMark&&(pe("maybeReadMore read 0"),G.read(0),j!==W.length);)j=W.length;W.readingMore=!1}function B(G){pe("readable nexttick read 0"),G.read(0)}function w(G,W){W.reading||(pe("resume read 0"),G.read(0)),W.resumeScheduled=!1,G.emit("resume"),p(G),W.flowing&&!W.reading&&G.read(0)}function p(G){var W=G._readableState;if(pe("flow",W.flowing),W.flowing)do{var j=G.read()}while(null!==j&&W.flowing)}function u(G,W){var j,C=W.buffer,H=W.length,n=!!W.decoder;if(0===C.length)return null;if(0===H)j=null;else if(W.objectMode)j=C.shift();else if(!G||G>=H)j=n?C.join(""):1===C.length?C[0]:ge.concat(C,H),C.length=0;else if(G<C[0].length)j=(l=C[0]).slice(0,G),C[0]=l.slice(G);else if(G===C[0].length)j=C.shift();else{j=n?"":new ge(G);for(var A=0,q=0,be=C.length;q<be&&A<G;q++){var l=C[0],Le=Math.min(G-A,l.length);n?j+=l.slice(0,Le):l.copy(j,A,0,Le),Le<l.length?C[0]=l.slice(Le):C.shift(),A+=Le}}return j}function x(G){var W=G._readableState;if(W.length>0)throw new Error("endReadable called on non-empty stream");W.endEmitted||(W.ended=!0,re(b,W,G))}function b(G,W){G.endEmitted||0!==G.length||(G.endEmitted=!0,W.readable=!1,W.emit("end"))}L.exports=y;var re=f(16),Fe=f(24),ge=f(2).Buffer;y.ReadableState=h;var fe,Ae=(f(12),function(G,W){return G.listeners(W).length});!function(){try{fe=f(11)}catch(G){}finally{fe||(fe=f(12).EventEmitter)}}(),ge=f(2).Buffer;var Pe=f(8);Pe.inherits=f(7);var _e,ae,de=f(57),pe=void 0;pe=de&&de.debuglog?de.debuglog("stream"):function(){},Pe.inherits(y,fe),y.prototype.push=function(G,W){var j=this._readableState;return j.objectMode||"string"!=typeof G||(W=W||j.defaultEncoding)!==j.encoding&&(G=new ge(G,W),W=""),d(this,j,G,W,!1)},y.prototype.unshift=function(G){return d(this,this._readableState,G,"",!0)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(G){return _e||(_e=f(27).StringDecoder),this._readableState.decoder=new _e(G),this._readableState.encoding=G,this};var ne=8388608;y.prototype.read=function(G){pe("read",G);var W=this._readableState,j=G;if(("number"!=typeof G||G>0)&&(W.emittedReadable=!1),0===G&&W.needReadable&&(W.length>=W.highWaterMark||W.ended))return pe("read: emitReadable",W.length,W.ended),0===W.length&&W.ended?x(this):T(this),null;if(0===(G=v(G,W))&&W.ended)return 0===W.length&&x(this),null;var H,C=W.needReadable;return pe("need readable",C),(0===W.length||W.length-G<W.highWaterMark)&&pe("length less than watermark",C=!0),(W.ended||W.reading)&&pe("reading or ended",C=!1),C&&(pe("do read"),W.reading=!0,W.sync=!0,0===W.length&&(W.needReadable=!0),this._read(W.highWaterMark),W.sync=!1),C&&!W.reading&&(G=v(j,W)),null===(H=G>0?u(G,W):null)&&(W.needReadable=!0,G=0),W.length-=G,0!==W.length||W.ended||(W.needReadable=!0),j!==G&&W.ended&&0===W.length&&x(this),null!==H&&this.emit("data",H),H},y.prototype._read=function(G){this.emit("error",new Error("not implemented"))},y.prototype.pipe=function(G,W){function j(Je){pe("onunpipe"),Je===be&&H()}function C(){pe("onend"),G.end()}function H(){pe("cleanup"),G.removeListener("close",l),G.removeListener("finish",A),G.removeListener("drain",Ee),G.removeListener("error",m),G.removeListener("unpipe",j),be.removeListener("end",C),be.removeListener("end",H),be.removeListener("data",n),Ne=!0,!Le.awaitDrain||G._writableState&&!G._writableState.needDrain||Ee()}function n(Je){pe("ondata"),!1===G.write(Je)&&(1!==Le.pipesCount||Le.pipes[0]!==G||1!==be.listenerCount("data")||Ne||(pe("false write response, pause",be._readableState.awaitDrain),be._readableState.awaitDrain++),be.pause())}function m(Je){pe("onerror",Je),q(),G.removeListener("error",m),0===Ae(G,"error")&&G.emit("error",Je)}function l(){G.removeListener("finish",A),q()}function A(){pe("onfinish"),G.removeListener("close",l),q()}function q(){pe("unpipe"),be.unpipe(G)}var be=this,Le=this._readableState;switch(Le.pipesCount){case 0:Le.pipes=G;break;case 1:Le.pipes=[Le.pipes,G];break;default:Le.pipes.push(G)}Le.pipesCount+=1,pe("pipe count=%d opts=%j",Le.pipesCount,W);var ve=W&&!1===W.end||G===g.stdout||G===g.stderr?H:C;Le.endEmitted?re(ve):be.once("end",ve),G.on("unpipe",j);var Ee=function(G){return function(){var W=G._readableState;pe("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,0===W.awaitDrain&&Ae(G,"data")&&(W.flowing=!0,p(G))}}(be);G.on("drain",Ee);var Ne=!1;return be.on("data",n),G._events&&G._events.error?Fe(G._events.error)?G._events.error.unshift(m):G._events.error=[m,G._events.error]:G.on("error",m),G.once("close",l),G.once("finish",A),G.emit("pipe",be),Le.flowing||(pe("pipe resume"),be.resume()),G},y.prototype.unpipe=function(G){var W=this._readableState;if(0===W.pipesCount)return this;if(1===W.pipesCount)return G&&G!==W.pipes||(G||(G=W.pipes),W.pipes=null,W.pipesCount=0,W.flowing=!1,G&&G.emit("unpipe",this)),this;if(!G){var j=W.pipes,C=W.pipesCount;W.pipes=null,W.pipesCount=0,W.flowing=!1;for(var H=0;H<C;H++)j[H].emit("unpipe",this);return this}var n=function(G,W){for(var j=0,C=G.length;j<C;j++)if(G[j]===W)return j;return-1}(W.pipes,G);return-1===n||(W.pipes.splice(n,1),W.pipesCount-=1,1===W.pipesCount&&(W.pipes=W.pipes[0]),G.emit("unpipe",this)),this},y.prototype.addListener=y.prototype.on=function(G,W){var j=fe.prototype.on.call(this,G,W);if("data"===G&&!1!==this._readableState.flowing&&this.resume(),"readable"===G&&!this._readableState.endEmitted){var C=this._readableState;C.readableListening||(C.readableListening=!0,C.emittedReadable=!1,C.needReadable=!0,C.reading?C.length&&T(this):re(B,this))}return j},y.prototype.resume=function(){var G=this._readableState;return G.flowing||(pe("resume"),G.flowing=!0,function(G,W){W.resumeScheduled||(W.resumeScheduled=!0,re(w,G,W))}(this,G)),this},y.prototype.pause=function(){return pe("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(G){var W=this._readableState,j=!1,C=this;for(var H in G.on("end",function(){if(pe("wrapped end"),W.decoder&&!W.ended){var n=W.decoder.end();n&&n.length&&C.push(n)}C.push(null)}),G.on("data",function(n){pe("wrapped data"),W.decoder&&(n=W.decoder.write(n)),(!W.objectMode||null!=n)&&(W.objectMode||n&&n.length)&&(C.push(n)||(j=!0,G.pause()))}),G)void 0===this[H]&&"function"==typeof G[H]&&(this[H]=function(n){return function(){return G[n].apply(G,arguments)}}(H));return function(G,W){for(var j=0,C=G.length;j<C;j++)W(G[j],j)}(["error","close","destroy","pause","resume"],function(n){G.on(n,C.emit.bind(C,n))}),C._read=function(n){pe("wrapped _read",n),j&&(j=!1,G.resume())},C},y._fromList=u}).call(k,f(13))},function(L,k,f){"use strict";function y(p){var u;switch(this.encoding=function(p){var u=function(p){if(!p)return"utf8";for(var u;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(u)return;p=(""+p).toLowerCase(),u=!0}}(p);if("string"!=typeof u&&($.isEncoding===w||!w(p)))throw new Error("Unknown encoding: "+p);return u||p}(p),this.encoding){case"utf16le":this.text=T,this.end=S,u=4;break;case"utf8":this.fillLast=v,u=4;break;case"base64":this.text=r,this.end=_,u=3;break;default:return this.write=E,void(this.end=B)}this.lastNeed=0,this.lastTotal=0,this.lastChar=$.allocUnsafe(u)}function d(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:-1}function v(p){var u=this.lastTotal-this.lastNeed,x=function(p,u,x){if(128!=(192&u[0]))return p.lastNeed=0,"\ufffd".repeat(x);if(p.lastNeed>1&&u.length>1){if(128!=(192&u[1]))return p.lastNeed=1,"\ufffd".repeat(x+1);if(p.lastNeed>2&&u.length>2&&128!=(192&u[2]))return p.lastNeed=2,"\ufffd".repeat(x+2)}}(this,p,u);return void 0!==x?x:this.lastNeed<=p.length?(p.copy(this.lastChar,u,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,u,0,p.length),void(this.lastNeed-=p.length))}function T(p,u){if((p.length-u)%2==0){var x=p.toString("utf16le",u);if(x){var b=x.charCodeAt(x.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",u,p.length-1)}function S(p){var u=p&&p.length?this.write(p):"";return this.lastNeed?u+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):u}function r(p,u){var x=(p.length-u)%3;return 0===x?p.toString("base64",u):(this.lastNeed=3-x,this.lastTotal=3,1===x?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",u,p.length-x))}function _(p){var u=p&&p.length?this.write(p):"";return this.lastNeed?u+this.lastChar.toString("base64",0,3-this.lastNeed):u}function E(p){return p.toString(this.encoding)}function B(p){return p&&p.length?this.write(p):""}var $=f(61).Buffer,w=$.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};k.StringDecoder=y,y.prototype.write=function(p){if(0===p.length)return"";var u,x;if(this.lastNeed){if(void 0===(u=this.fillLast(p)))return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<p.length?u?u+this.text(p,x):this.text(p,x):u||""},y.prototype.end=function(p){var u=p&&p.length?this.write(p):"";return this.lastNeed?u+"\ufffd".repeat(this.lastTotal-this.lastNeed):u},y.prototype.text=function(p,u){var x=function(p,u,x){var b=u.length-1;if(b<x)return 0;var R=d(u[b]);return R>=0?(R>0&&(p.lastNeed=R-1),R):--b<x?0:(R=d(u[b]))>=0?(R>0&&(p.lastNeed=R-2),R):--b<x?0:(R=d(u[b]))>=0?(R>0&&(2===R?R=0:p.lastNeed=R-3),R):0}(this,p,u);if(!this.lastNeed)return p.toString("utf8",u);this.lastTotal=x;var b=p.length-(x-this.lastNeed);return p.copy(this.lastChar,0,b),p.toString("utf8",u,b)},y.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},function(L,k,f){"use strict";function g(d){if(!(this instanceof g))return new g(d);h.call(this,d)}L.exports=g;var h=f(18),y=f(8);y.inherits=f(7),y.inherits(g,h),g.prototype._transform=function(d,P,O){O(null,d)}},function(L,k,f){"use strict";var g=f(0),h=f(3),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";k.encode=function(d){for(var P,O,v,I,T,S,r=[],_=0,E=d.length,B=E,$="string"!==g.getTypeOf(d);_<d.length;)B=E-_,$?(P=d[_++],O=_<E?d[_++]:0,v=_<E?d[_++]:0):(P=d.charCodeAt(_++),O=_<E?d.charCodeAt(_++):0,v=_<E?d.charCodeAt(_++):0),I=(3&P)<<4|O>>4,T=B>1?(15&O)<<2|v>>6:64,S=B>2?63&v:64,r.push(y.charAt(P>>2)+y.charAt(I)+y.charAt(T)+y.charAt(S));return r.join("")},k.decode=function(d){var O,v,D,I,T,S,r=0,_=0;if("data:"===d.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var B,E=3*(d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(d.charAt(d.length-1)===y.charAt(64)&&E--,d.charAt(d.length-2)===y.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(B=h.uint8array?new Uint8Array(0|E):new Array(0|E);r<d.length;)D=y.indexOf(d.charAt(r++)),O=(15&(I=y.indexOf(d.charAt(r++))))<<4|(T=y.indexOf(d.charAt(r++)))>>2,v=(3&T)<<6|(S=y.indexOf(d.charAt(r++))),B[_++]=D<<2|I>>4,64!==T&&(B[_++]=O),64!==S&&(B[_++]=v);return B}},function(L,k){var f=L.exports={version:"2.3.0"};"number"==typeof __e&&(__e=f)},function(L,k,f){var g=f(69);L.exports=function(h,y,d){if(g(h),void 0===y)return h;switch(d){case 1:return function(P){return h.call(y,P)};case 2:return function(P,O){return h.call(y,P,O)};case 3:return function(P,O,v){return h.call(y,P,O,v)}}return function(){return h.apply(y,arguments)}}},function(L,k){L.exports=function(f){try{return!!f()}catch(g){return!0}}},function(L,k,f){var g=f(19),h=f(15).document,y=g(h)&&g(h.createElement);L.exports=function(d){return y?h.createElement(d):{}}},function(L,k,f){"use strict";(function(g){function d(_,E){return new S.Promise(function(B,$){var w=[],p=_._internalType,u=_._outputType,x=_._mimeType;_.on("data",function(b,R){w.push(b),E&&E(R)}).on("error",function(b){w=[],$(b)}).on("end",function(){try{var b=function(_,E,B){switch(_){case"blob":return O.newBlob(O.transformTo("arraybuffer",E),B);case"base64":return I.encode(E);default:return O.transformTo(_,E)}}(u,function(_,E){var B,$=0,w=null,p=0;for(B=0;B<E.length;B++)p+=E[B].length;switch(_){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(w=new Uint8Array(p),B=0;B<E.length;B++)w.set(E[B],$),$+=E[B].length;return w;case"nodebuffer":return g.concat(E);default:throw new Error("concat : unsupported type '"+_+"'")}}(p,w),x);B(b)}catch(R){$(R)}w=[]}).resume()})}function P(_,E,B){var $=E;switch(E){case"blob":case"arraybuffer":$="uint8array";break;case"base64":$="string"}try{this._internalType=$,this._outputType=E,this._mimeType=B,O.checkSupport($),this._worker=_.pipe(new v($)),_.lock()}catch(w){this._worker=new D("error"),this._worker.error(w)}}var O=f(0),v=f(82),D=f(1),I=f(29),T=f(3),S=f(9),r=null;if(T.nodestream)try{r=f(83)}catch(_){}P.prototype={accumulate:function(_){return d(this,_)},on:function(_,E){var B=this;return this._worker.on(_,"data"===_?function($){E.call(B,$.data,$.meta)}:function(){O.delay(E,arguments,B)}),this},resume:function(){return O.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(O.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new r(this,{objectMode:"nodebuffer"!==this._outputType},_)}},L.exports=P}).call(k,f(2).Buffer)},function(L,k,f){"use strict";k.base64=!1,k.binary=!1,k.dir=!1,k.createFolders=!0,k.date=null,k.compression=null,k.compressionOptions=null,k.comment=null,k.unixPermissions=null,k.dosPermissions=null},function(L,k,f){"use strict";function g(d){y.call(this,"DataWorker");var P=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(O){P.dataIsReady=!0,P.data=O,P.max=O&&O.length||0,P.type=h.getTypeOf(O),P.isPaused||P._tickAndRepeat()},function(O){P.error(O)})}var h=f(0),y=f(1);h.inherits(g,y),g.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,P=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,P);break;case"uint8array":d=this.data.subarray(this.index,P);break;case"array":case"nodebuffer":d=this.data.slice(this.index,P)}return this.index=P,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},L.exports=g},function(L,k,f){"use strict";function g(d){y.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}var h=f(0),y=f(1);h.inherits(g,y),g.prototype.processChunk=function(d){d&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+d.data.length),y.prototype.processChunk.call(this,d)},L.exports=g},function(L,k,f){"use strict";function g(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var h=f(1),y=f(22);f(0).inherits(g,h),g.prototype.processChunk=function(d){this.streamInfo.crc32=y(d.data,this.streamInfo.crc32||0),this.push(d)},L.exports=g},function(L,k,f){"use strict";var g=f(1);k.STORE={magic:"\0\0",compressWorker:function(h){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},k.DEFLATE=f(86)},function(L,k,f){"use strict";L.exports=function(h,y,d,P){for(var O=65535&h|0,v=h>>>16&65535|0,D=0;0!==d;){d-=D=d>2e3?2e3:d;do{v=v+(O=O+y[P++]|0)|0}while(--D);O%=65521,v%=65521}return O|v<<16|0}},function(L,k,f){"use strict";var h=function(){for(var y,d=[],P=0;P<256;P++){y=P;for(var O=0;O<8;O++)y=1&y?3988292384^y>>>1:y>>>1;d[P]=y}return d}();L.exports=function(y,d,P,O){var v=h,D=O+P;y^=-1;for(var I=O;I<D;I++)y=y>>>8^v[255&(y^d[I])];return-1^y}},function(L,k,f){"use strict";function g(v,D){if(D<65537&&(v.subarray&&d||!v.subarray&&y))return String.fromCharCode.apply(null,h.shrinkBuf(v,D));for(var I="",T=0;T<D;T++)I+=String.fromCharCode(v[T]);return I}var h=f(4),y=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch(v){y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(v){d=!1}for(var P=new h.Buf8(256),O=0;O<256;O++)P[O]=O>=252?6:O>=248?5:O>=240?4:O>=224?3:O>=192?2:1;P[254]=P[254]=1,k.string2buf=function(v){var D,I,T,S,r,_=v.length,E=0;for(S=0;S<_;S++)55296==(64512&(I=v.charCodeAt(S)))&&S+1<_&&56320==(64512&(T=v.charCodeAt(S+1)))&&(I=65536+(I-55296<<10)+(T-56320),S++),E+=I<128?1:I<2048?2:I<65536?3:4;for(D=new h.Buf8(E),r=0,S=0;r<E;S++)55296==(64512&(I=v.charCodeAt(S)))&&S+1<_&&56320==(64512&(T=v.charCodeAt(S+1)))&&(I=65536+(I-55296<<10)+(T-56320),S++),I<128?D[r++]=I:I<2048?(D[r++]=192|I>>>6,D[r++]=128|63&I):I<65536?(D[r++]=224|I>>>12,D[r++]=128|I>>>6&63,D[r++]=128|63&I):(D[r++]=240|I>>>18,D[r++]=128|I>>>12&63,D[r++]=128|I>>>6&63,D[r++]=128|63&I);return D},k.buf2binstring=function(v){return g(v,v.length)},k.binstring2buf=function(v){for(var D=new h.Buf8(v.length),I=0,T=D.length;I<T;I++)D[I]=v.charCodeAt(I);return D},k.buf2string=function(v,D){var I,T,S,r,_=D||v.length,E=new Array(2*_);for(T=0,I=0;I<_;)if((S=v[I++])<128)E[T++]=S;else if((r=P[S])>4)E[T++]=65533,I+=r-1;else{for(S&=2===r?31:3===r?15:7;r>1&&I<_;)S=S<<6|63&v[I++],r--;r>1?E[T++]=65533:S<65536?E[T++]=S:(E[T++]=55296|(S-=65536)>>10&1023,E[T++]=56320|1023&S)}return g(E,T)},k.utf8border=function(v,D){var I;for((D=D||v.length)>v.length&&(D=v.length),I=D-1;I>=0&&128==(192&v[I]);)I--;return I<0||0===I?D:I+P[v[I]]>D?I:D}},function(L,k,f){"use strict";L.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(L,k,f){"use strict";L.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(L,k,f){"use strict";k.LOCAL_FILE_HEADER="PK\x03\x04",k.CENTRAL_FILE_HEADER="PK\x01\x02",k.CENTRAL_DIRECTORY_END="PK\x05\x06",k.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",k.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",k.DATA_DESCRIPTOR="PK\x07\b"},function(L,k,f){"use strict";var g=f(0),h=f(3),y=f(47),d=f(100),P=f(101),O=f(49);L.exports=function(v){var D=g.getTypeOf(v);return g.checkSupport(D),"string"!==D||h.uint8array?"nodebuffer"===D?new P(v):h.uint8array?new O(g.transformTo("uint8array",v)):new y(g.transformTo("array",v)):new d(v)}},function(L,k,f){"use strict";function g(y){h.call(this,y);for(var d=0;d<this.data.length;d++)y[d]=255&y[d]}var h=f(48);f(0).inherits(g,h),g.prototype.byteAt=function(y){return this.data[this.zero+y]},g.prototype.lastIndexOfSignature=function(y){for(var d=y.charCodeAt(0),P=y.charCodeAt(1),O=y.charCodeAt(2),v=y.charCodeAt(3),D=this.length-4;D>=0;--D)if(this.data[D]===d&&this.data[D+1]===P&&this.data[D+2]===O&&this.data[D+3]===v)return D-this.zero;return-1},g.prototype.readAndCheckSignature=function(y){var d=y.charCodeAt(0),P=y.charCodeAt(1),O=y.charCodeAt(2),v=y.charCodeAt(3),D=this.readData(4);return d===D[0]&&P===D[1]&&O===D[2]&&v===D[3]},g.prototype.readData=function(y){if(this.checkOffset(y),0===y)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,d},L.exports=g},function(L,k,f){"use strict";function g(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}var h=f(0);g.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(y){},readInt:function(y){var d,P=0;for(this.checkOffset(y),d=this.index+y-1;d>=this.index;d--)P=(P<<8)+this.byteAt(d);return this.index+=y,P},readString:function(y){return h.transformTo("string",this.readData(y))},readData:function(y){},lastIndexOfSignature:function(y){},readAndCheckSignature:function(y){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},L.exports=g},function(L,k,f){"use strict";function g(y){h.call(this,y)}var h=f(47);f(0).inherits(g,h),g.prototype.readData=function(y){if(this.checkOffset(y),0===y)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,d},L.exports=g},function(L,k,f){"use strict";function g(D){return D&&D.__esModule?D:{default:D}}Object.defineProperty(k,"__esModule",{value:!0});var y=g(f(51)),P=g(f(52)),v=g(f(103));k.default=y.default.plugins.add("gjs-plugin-export",function(D,I){var T=I||{},r=D.getConfig().stylePrefix,_=document.createElement("BUTTON"),E={addExportBtn:1,btnLabel:"Export to ZIP",preHtml:'<!doctype html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="./css/style.css"></head><body>',postHtml:"</body><html>",preCss:"",postCss:""};for(var B in E)B in T||(T[B]=E[B]);_.innerHTML=T.btnLabel,_.className=r+"btn-prim",D.Commands.add("gjs-export-zip",{run:function(){var $=new P.default,w=$.folder("css"),p="grapesjs_template_"+Date.now()+".zip";$.file("index.html",T.preHtml+D.getHtml()+T.postHtml),w.file("style.css",T.preCss+D.getCss()+T.postCss),$.generateAsync({type:"blob"}).then(function(u){v.default.saveAs(u,p)})}}),T.addExportBtn&&D.on("run:export-template",function(){D.Modal.getContentEl().appendChild(_),_.onclick=function(){D.runCommand("gjs-export-zip")}})})},function(L,k){L.exports=U},function(L,k,f){"use strict";function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var h=new g;for(var y in this)"function"!=typeof this[y]&&(h[y]=this[y]);return h}}(g.prototype=f(53)).loadAsync=f(98),g.support=f(3),g.defaults=f(35),g.version="3.1.5",g.loadAsync=function(h,y){return(new g).loadAsync(h,y)},g.external=f(9),L.exports=g},function(L,k,f){"use strict";function g(w){return"[object RegExp]"===Object.prototype.toString.call(w)}var h=f(6),y=f(0),d=f(1),P=f(34),O=f(35),v=f(21),D=f(84),I=f(85),T=f(14),S=f(97),r=function(w,p,u){var x,b=y.getTypeOf(p),R=y.extend(u||{},O);R.date=R.date||new Date,null!==R.compression&&(R.compression=R.compression.toUpperCase()),"string"==typeof R.unixPermissions&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(w=E(w)),R.createFolders&&(x=_(w))&&B.call(this,x,!0),u&&void 0!==u.binary||(R.binary=!("string"===b&&!1===R.binary&&!1===R.base64)),(p instanceof v&&0===p.uncompressedSize||R.dir||!p||0===p.length)&&(R.base64=!1,R.binary=!0,p="",R.compression="STORE",b="string");var re;re=p instanceof v||p instanceof d?p:T.isNode&&T.isStream(p)?new S(w,p):y.prepareContent(w,p,R.binary,R.optimizedBinaryString,R.base64);var Fe=new D(w,re,R);this.files[w]=Fe},_=function(w){"/"===w.slice(-1)&&(w=w.substring(0,w.length-1));var p=w.lastIndexOf("/");return p>0?w.substring(0,p):""},E=function(w){return"/"!==w.slice(-1)&&(w+="/"),w},B=function(w,p){return p=void 0!==p?p:O.createFolders,w=E(w),this.files[w]||r.call(this,w,null,{dir:!0,createFolders:p}),this.files[w]},$={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var p,u,x;for(p in this.files)this.files.hasOwnProperty(p)&&(x=this.files[p],(u=p.slice(this.root.length,p.length))&&p.slice(0,this.root.length)===this.root&&w(u,x))},filter:function(w){var p=[];return this.forEach(function(u,x){w(u,x)&&p.push(x)}),p},file:function(w,p,u){if(1===arguments.length){if(g(w)){var x=w;return this.filter(function(R,Q){return!Q.dir&&x.test(R)})}var b=this.files[this.root+w];return b&&!b.dir?b:null}return r.call(this,w=this.root+w,p,u),this},folder:function(w){if(!w)return this;if(g(w))return this.filter(function(b,R){return R.dir&&w.test(b)});var u=B.call(this,this.root+w),x=this.clone();return x.root=u.name,x},remove:function(w){var p=this.files[w=this.root+w];if(p||("/"!==w.slice(-1)&&(w+="/"),p=this.files[w]),p&&!p.dir)delete this.files[w];else for(var u=this.filter(function(b,R){return R.name.slice(0,w.length)===w}),x=0;x<u.length;x++)delete this.files[u[x].name];return this},generate:function(w){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var p,u={};try{if((u=y.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=u.type.toLowerCase(),u.compression=u.compression.toUpperCase(),"binarystring"===u.type&&(u.type="string"),!u.type)throw new Error("No output type specified.");y.checkSupport(u.type),"darwin"!==u.platform&&"freebsd"!==u.platform&&"linux"!==u.platform&&"sunos"!==u.platform||(u.platform="UNIX"),"win32"===u.platform&&(u.platform="DOS"),p=I.generateWorker(this,u,u.comment||this.comment||"")}catch(b){(p=new d("error")).error(b)}return new P(p,u.type||"string",u.mimeType)},generateAsync:function(w,p){return this.generateInternalStream(w).accumulate(p)},generateNodeStream:function(w,p){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(p)}};L.exports=$},function(L,k,f){"use strict";function g(_){var E=_.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===_[E-2]?2:"="===_[E-1]?1:0}function d(_){return v[_>>18&63]+v[_>>12&63]+v[_>>6&63]+v[63&_]}function P(_,E,B){for(var w=[],p=E;p<B;p+=3)w.push(d((_[p]<<16)+(_[p+1]<<8)+_[p+2]));return w.join("")}k.byteLength=function(_){return 3*_.length/4-g(_)},k.toByteArray=function(_){var E,B,$,w,p,u=_.length;w=g(_),p=new I(3*u/4-w),B=w>0?u-4:u;var x=0;for(E=0;E<B;E+=4)$=D[_.charCodeAt(E)]<<18|D[_.charCodeAt(E+1)]<<12|D[_.charCodeAt(E+2)]<<6|D[_.charCodeAt(E+3)],p[x++]=$>>16&255,p[x++]=$>>8&255,p[x++]=255&$;return 2===w?($=D[_.charCodeAt(E)]<<2|D[_.charCodeAt(E+1)]>>4,p[x++]=255&$):1===w&&($=D[_.charCodeAt(E)]<<10|D[_.charCodeAt(E+1)]<<4|D[_.charCodeAt(E+2)]>>2,p[x++]=$>>8&255,p[x++]=255&$),p},k.fromByteArray=function(_){for(var E,B=_.length,$=B%3,w="",p=[],u=0,x=B-$;u<x;u+=16383)p.push(P(_,u,u+16383>x?x:u+16383));return 1===$?(w+=v[(E=_[B-1])>>2],w+=v[E<<4&63],w+="=="):2===$&&(w+=v[(E=(_[B-2]<<8)+_[B-1])>>10],w+=v[E>>4&63],w+=v[E<<2&63],w+="="),p.push(w),p.join("")};for(var v=[],D=[],I="undefined"!=typeof Uint8Array?Uint8Array:Array,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,r=T.length;S<r;++S)v[S]=T[S],D[T.charCodeAt(S)]=S;D["-".charCodeAt(0)]=62,D["_".charCodeAt(0)]=63},function(L,k){k.read=function(f,g,h,y,d){var P,O,v=8*d-y-1,D=(1<<v)-1,I=D>>1,T=-7,S=h?d-1:0,r=h?-1:1,_=f[g+S];for(S+=r,P=_&(1<<-T)-1,_>>=-T,T+=v;T>0;P=256*P+f[g+S],S+=r,T-=8);for(O=P&(1<<-T)-1,P>>=-T,T+=y;T>0;O=256*O+f[g+S],S+=r,T-=8);if(0===P)P=1-I;else{if(P===D)return O?NaN:1/0*(_?-1:1);O+=Math.pow(2,y),P-=I}return(_?-1:1)*O*Math.pow(2,P-y)},k.write=function(f,g,h,y,d,P){var O,v,D,I=8*P-d-1,T=(1<<I)-1,S=T>>1,r=23===d?Math.pow(2,-24)-Math.pow(2,-77):0,_=y?0:P-1,E=y?1:-1,B=g<0||0===g&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(v=isNaN(g)?1:0,O=T):(O=Math.floor(Math.log(g)/Math.LN2),g*(D=Math.pow(2,-O))<1&&(O--,D*=2),(g+=O+S>=1?r/D:r*Math.pow(2,1-S))*D>=2&&(O++,D/=2),O+S>=T?(v=0,O=T):O+S>=1?(v=(g*D-1)*Math.pow(2,d),O+=S):(v=g*Math.pow(2,S-1)*Math.pow(2,d),O=0));d>=8;f[h+_]=255&v,_+=E,v/=256,d-=8);for(O=O<<d|v,I+=d;I>0;f[h+_]=255&O,_+=E,O/=256,I-=8);f[h+_-E]|=128*B}},function(L,k,f){var g=function(){try{return f(11)}catch(h){}}();(k=L.exports=f(26)).Stream=g||k,k.Readable=k,k.Writable=f(17),k.Duplex=f(5),k.Transform=f(18),k.PassThrough=f(28)},function(L,k){},function(L,k,f){function g(y,d){this._id=y,this._clearFn=d}var h=Function.prototype.apply;k.setTimeout=function(){return new g(h.call(setTimeout,window,arguments),clearTimeout)},k.setInterval=function(){return new g(h.call(setInterval,window,arguments),clearInterval)},k.clearTimeout=k.clearInterval=function(y){y&&y.close()},g.prototype.unref=g.prototype.ref=function(){},g.prototype.close=function(){this._clearFn.call(window,this._id)},k.enroll=function(y,d){clearTimeout(y._idleTimeoutId),y._idleTimeout=d},k.unenroll=function(y){clearTimeout(y._idleTimeoutId),y._idleTimeout=-1},k._unrefActive=k.active=function(y){clearTimeout(y._idleTimeoutId);var d=y._idleTimeout;d>=0&&(y._idleTimeoutId=setTimeout(function(){y._onTimeout&&y._onTimeout()},d))},f(59),k.setImmediate=se,k.clearImmediate=J},function(L,k,f){(function(g,h){!function(y,d){"use strict";function O(B){delete S[B]}function D(B){if(r)setTimeout(D,0,B);else{var $=S[B];if($){r=!0;try{!function(B){var $=B.callback,w=B.args;switch(w.length){case 0:$();break;case 1:$(w[0]);break;case 2:$(w[0],w[1]);break;case 3:$(w[0],w[1],w[2]);break;default:$.apply(void 0,w)}}($)}finally{O(B),r=!1}}}}if(!y.setImmediate){var I,T=1,S={},r=!1,_=y.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(y);E=E&&E.setTimeout?E:y,"[object process]"==={}.toString.call(y.process)?I=function(B){h.nextTick(function(){D(B)})}:function(){if(y.postMessage&&!y.importScripts){var B=!0,$=y.onmessage;return y.onmessage=function(){B=!1},y.postMessage("","*"),y.onmessage=$,B}}()?(B="setImmediate$"+Math.random()+"$",$=function(w){w.source===y&&"string"==typeof w.data&&0===w.data.indexOf(B)&&D(+w.data.slice(B.length))},y.addEventListener?y.addEventListener("message",$,!1):y.attachEvent("onmessage",$),I=function(w){y.postMessage(B+w,"*")}):y.MessageChannel?function(){var B=new MessageChannel;B.port1.onmessage=function($){D($.data)},I=function($){B.port2.postMessage($)}}():_&&"onreadystatechange"in _.createElement("script")?function(){var B=_.documentElement;I=function($){var w=_.createElement("script");w.onreadystatechange=function(){D($),w.onreadystatechange=null,B.removeChild(w),w=null},B.appendChild(w)}}():I=function(B){setTimeout(D,0,B)},E.setImmediate=function(B){"function"!=typeof B&&(B=new Function(""+B));for(var $=new Array(arguments.length-1),w=0;w<$.length;w++)$[w]=arguments[w+1];return S[T]={callback:B,args:$},I(T),T++},E.clearImmediate=O}var B,$}("undefined"==typeof self?void 0===g?this:g:self)}).call(k,f(10),f(13))},function(L,k,f){(function(g){function y(d){try{if(!g.localStorage)return!1}catch(O){return!1}var P=g.localStorage[d];return null!=P&&"true"===String(P).toLowerCase()}L.exports=function(d,P){if(y("noDeprecation"))return d;var v=!1;return function(){if(!v){if(y("throwDeprecation"))throw new Error(P);y("traceDeprecation")?console.trace(P):console.warn(P),v=!0}return d.apply(this,arguments)}}}).call(k,f(10))},function(L,k,f){function g(P,O){for(var v in P)O[v]=P[v]}function h(P,O,v){return d(P,O,v)}var y=f(2),d=y.Buffer;d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?L.exports=y:(g(y,k),k.Buffer=h),g(d,h),h.from=function(P,O,v){if("number"==typeof P)throw new TypeError("Argument must not be a number");return d(P,O,v)},h.alloc=function(P,O,v){if("number"!=typeof P)throw new TypeError("Argument must be a number");var D=d(P);return void 0!==O?"string"==typeof v?D.fill(O,v):D.fill(O):D.fill(0),D},h.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return d(P)},h.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return y.SlowBuffer(P)}},function(L,k,f){L.exports=f(17)},function(L,k,f){L.exports=f(5)},function(L,k,f){L.exports=f(18)},function(L,k,f){L.exports=f(28)},function(L,k,f){f(67),L.exports=f(30).setImmediate},function(L,k,f){var g=f(68),h=f(76);g(g.G+g.B,{setImmediate:h.set,clearImmediate:h.clear})},function(L,k,f){var g=f(15),h=f(30),y=f(31),d=f(70),P=function(O,v,D){var I,T,S,r=O&P.F,_=O&P.G,E=O&P.S,B=O&P.P,$=O&P.B,w=O&P.W,p=_?h:h[v]||(h[v]={}),u=p.prototype,x=_?g:E?g[v]:(g[v]||{}).prototype;for(I in _&&(D=v),D)(T=!r&&x&&void 0!==x[I])&&I in p||(S=T?x[I]:D[I],p[I]=_&&"function"!=typeof x[I]?D[I]:$&&T?y(S,g):w&&x[I]==S?function(b){var R=function(Q,re,Fe){if(this instanceof b){switch(arguments.length){case 0:return new b;case 1:return new b(Q);case 2:return new b(Q,re)}return new b(Q,re,Fe)}return b.apply(this,arguments)};return R.prototype=b.prototype,R}(S):B&&"function"==typeof S?y(Function.call,S):S,B&&((p.virtual||(p.virtual={}))[I]=S,O&P.R&&u&&!u[I]&&d(u,I,S)))};P.F=1,P.G=2,P.S=4,P.P=8,P.B=16,P.W=32,P.U=64,P.R=128,L.exports=P},function(L,k){L.exports=function(f){if("function"!=typeof f)throw TypeError(f+" is not a function!");return f}},function(L,k,f){var g=f(71),h=f(75);L.exports=f(20)?function(y,d,P){return g.f(y,d,h(1,P))}:function(y,d,P){return y[d]=P,y}},function(L,k,f){var g=f(72),h=f(73),y=f(74),d=Object.defineProperty;k.f=f(20)?Object.defineProperty:function(P,O,v){if(g(P),O=y(O,!0),g(v),h)try{return d(P,O,v)}catch(D){}if("get"in v||"set"in v)throw TypeError("Accessors not supported!");return"value"in v&&(P[O]=v.value),P}},function(L,k,f){var g=f(19);L.exports=function(h){if(!g(h))throw TypeError(h+" is not an object!");return h}},function(L,k,f){L.exports=!f(20)&&!f(32)(function(){return 7!=Object.defineProperty(f(33)("div"),"a",{get:function(){return 7}}).a})},function(L,k,f){var g=f(19);L.exports=function(h,y){if(!g(h))return h;var d,P;if(y&&"function"==typeof(d=h.toString)&&!g(P=d.call(h))||"function"==typeof(d=h.valueOf)&&!g(P=d.call(h))||!y&&"function"==typeof(d=h.toString)&&!g(P=d.call(h)))return P;throw TypeError("Can't convert object to primitive value")}},function(L,k){L.exports=function(f,g){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:g}}},function(L,k,f){var g,h,y,d=f(31),P=f(77),O=f(78),v=f(33),D=f(15),I=D.process,T=D.setImmediate,S=D.clearImmediate,r=D.MessageChannel,_=0,E={},B=function(){var w=+this;if(E.hasOwnProperty(w)){var p=E[w];delete E[w],p()}},$=function(w){B.call(w.data)};T&&S||(T=function(w){for(var p=[],u=1;arguments.length>u;)p.push(arguments[u++]);return E[++_]=function(){P("function"==typeof w?w:Function(w),p)},g(_),_},S=function(w){delete E[w]},"process"==f(79)(I)?g=function(w){I.nextTick(d(B,w,1))}:r?(y=(h=new r).port2,h.port1.onmessage=$,g=d(y.postMessage,y,1)):D.addEventListener&&"function"==typeof postMessage&&!D.importScripts?(g=function(w){D.postMessage(w+"","*")},D.addEventListener("message",$,!1)):g="onreadystatechange"in v("script")?function(w){O.appendChild(v("script")).onreadystatechange=function(){O.removeChild(this),B.call(w)}}:function(w){setTimeout(d(B,w,1),0)}),L.exports={set:T,clear:S}},function(L,k){L.exports=function(f,g,h){var y=void 0===h;switch(g.length){case 0:return y?f():f.call(h);case 1:return y?f(g[0]):f.call(h,g[0]);case 2:return y?f(g[0],g[1]):f.call(h,g[0],g[1]);case 3:return y?f(g[0],g[1],g[2]):f.call(h,g[0],g[1],g[2]);case 4:return y?f(g[0],g[1],g[2],g[3]):f.call(h,g[0],g[1],g[2],g[3])}return f.apply(h,g)}},function(L,k,f){L.exports=f(15).document&&document.documentElement},function(L,k){var f={}.toString;L.exports=function(g){return f.call(g).slice(8,-1)}},function(L,k,f){"use strict";function g(){}function h(w){if("function"!=typeof w)throw new TypeError("resolver must be a function");this.state=$,this.queue=[],this.outcome=void 0,w!==g&&O(this,w)}function y(w,p,u){this.promise=w,"function"==typeof p&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),"function"==typeof u&&(this.onRejected=u,this.callRejected=this.otherCallRejected)}function d(w,p,u){r(function(){var x;try{x=p(u)}catch(b){return _.reject(w,b)}x===w?_.reject(w,new TypeError("Cannot resolve promise with itself")):_.resolve(w,x)})}function P(w){var p=w&&w.then;if(w&&("object"==typeof w||"function"==typeof w)&&"function"==typeof p)return function(){p.apply(w,arguments)}}function O(w,p){function u(re){R||(R=!0,_.reject(w,re))}function x(re){R||(R=!0,_.resolve(w,re))}var R=!1,Q=v(function(){p(x,u)});"error"===Q.status&&u(Q.value)}function v(w,p){var u={};try{u.value=w(p),u.status="success"}catch(x){u.status="error",u.value=x}return u}var r=f(81),_={},E=["REJECTED"],B=["FULFILLED"],$=["PENDING"];L.exports=h,h.prototype.catch=function(w){return this.then(null,w)},h.prototype.then=function(w,p){if("function"!=typeof w&&this.state===B||"function"!=typeof p&&this.state===E)return this;var u=new this.constructor(g);return this.state!==$?d(u,this.state===B?w:p,this.outcome):this.queue.push(new y(u,w,p)),u},y.prototype.callFulfilled=function(w){_.resolve(this.promise,w)},y.prototype.otherCallFulfilled=function(w){d(this.promise,this.onFulfilled,w)},y.prototype.callRejected=function(w){_.reject(this.promise,w)},y.prototype.otherCallRejected=function(w){d(this.promise,this.onRejected,w)},_.resolve=function(w,p){var u=v(P,p);if("error"===u.status)return _.reject(w,u.value);var x=u.value;if(x)O(w,x);else{w.state=B,w.outcome=p;for(var b=-1,R=w.queue.length;++b<R;)w.queue[b].callFulfilled(p)}return w},_.reject=function(w,p){w.state=E,w.outcome=p;for(var u=-1,x=w.queue.length;++u<x;)w.queue[u].callRejected(p);return w},h.resolve=function(w){return w instanceof this?w:_.resolve(new this(g),w)},h.reject=function(w){var p=new this(g);return _.reject(p,w)},h.all=function(w){var p=this;if("[object Array]"!==Object.prototype.toString.call(w))return this.reject(new TypeError("must be an array"));var u=w.length,x=!1;if(!u)return this.resolve([]);for(var b=new Array(u),R=0,Q=-1,re=new this(g);++Q<u;)!function(Fe,ge){p.resolve(Fe).then(function(Ae){b[ge]=Ae,++R!==u||x||(x=!0,_.resolve(re,b))},function(Ae){x||(x=!0,_.reject(re,Ae))})}(w[Q],Q);return re},h.race=function(w){if("[object Array]"!==Object.prototype.toString.call(w))return this.reject(new TypeError("must be an array"));var u=w.length,x=!1;if(!u)return this.resolve([]);for(var b=-1,R=new this(g);++b<u;)this.resolve(w[b]).then(function(re){x||(x=!0,_.resolve(R,re))},function(re){x||(x=!0,_.reject(R,re))});return R}},function(L,k,f){"use strict";(function(g){function h(){T=!0;for(var r,_,E=S.length;E;){for(_=S,S=[],r=-1;++r<E;)_[r]();E=S.length}T=!1}var d,P=g.MutationObserver||g.WebKitMutationObserver;if(P){var O=0,v=new P(h),D=g.document.createTextNode("");v.observe(D,{characterData:!0}),d=function(){D.data=O=++O%2}}else if(g.setImmediate||void 0===g.MessageChannel)d="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var r=g.document.createElement("script");r.onreadystatechange=function(){h(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},g.document.documentElement.appendChild(r)}:function(){setTimeout(h,0)};else{var I=new g.MessageChannel;I.port1.onmessage=h,d=function(){I.port2.postMessage(0)}}var T,S=[];L.exports=function(r){1!==S.push(r)||T||d()}}).call(k,f(10))},function(L,k,f){"use strict";function g(d){h.call(this,"ConvertWorker to "+d),this.destType=d}var h=f(1),y=f(0);y.inherits(g,h),g.prototype.processChunk=function(d){this.push({data:y.transformTo(this.destType,d.data),meta:d.meta})},L.exports=g},function(L,k,f){"use strict";function g(y,d,P){h.call(this,d),this._helper=y;var O=this;y.on("data",function(v,D){O.push(v)||O._helper.pause(),P&&P(D)}).on("error",function(v){O.emit("error",v)}).on("end",function(){O.push(null)})}var h=f(25).Readable;f(0).inherits(g,h),g.prototype._read=function(){this._helper.resume()},L.exports=g},function(L,k,f){"use strict";var g=f(34),h=f(36),y=f(6),d=f(21),P=f(1),O=function(T,S,r){this.name=T,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=S,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};O.prototype={internalStream:function(T){var S=null,r="string";try{if(!T)throw new Error("No output type specified.");var _="string"===(r=T.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),S=this._decompressWorker();var E=!this._dataBinary;E&&!_&&(S=S.pipe(new y.Utf8EncodeWorker)),!E&&_&&(S=S.pipe(new y.Utf8DecodeWorker))}catch(B){(S=new P("error")).error(B)}return new g(S,r,"")},async:function(T,S){return this.internalStream(T).accumulate(S)},nodeStream:function(T,S){return this.internalStream(T||"nodebuffer").toNodejsStream(S)},_compressWorker:function(T,S){if(this._data instanceof d&&this._data.compression.magic===T.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new y.Utf8EncodeWorker)),d.createWorkerFrom(r,T,S)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof P?this._data:new h(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],D=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},I=0;I<v.length;I++)O.prototype[v[I]]=D;L.exports=O},function(L,k,f){"use strict";var g=f(39),h=f(96);k.generateWorker=function(d,P,O){var v=new h(P.streamFiles,O,P.platform,P.encodeFileName),D=0;try{d.forEach(function(I,T){D++;var S=function(d,P){var O=d||P,v=g[O];if(!v)throw new Error(O+" is not a valid compression method !");return v}(T.options.compression,P.compression),_=T.dir,E=T.date;T._compressWorker(S,T.options.compressionOptions||P.compressionOptions||{}).withStreamInfo("file",{name:I,dir:_,date:E,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(v)}),v.entriesCount=D}catch(I){v.error(I)}return v}},function(L,k,f){"use strict";function g(v,D){P.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=D,this.meta={}}var h="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,y=f(87),d=f(0),P=f(1),O=h?"uint8array":"array";k.magic="\b\0",d.inherits(g,P),g.prototype.processChunk=function(v){this.meta=v.meta,null===this._pako&&this._createPako(),this._pako.push(d.transformTo(O,v.data),!1)},g.prototype.flush=function(){P.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){P.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(D){v.push({data:D,meta:v.meta})}},k.compressWorker=function(v){return new g("Deflate",v)},k.uncompressWorker=function(){return new g("Inflate",{})}},function(L,k,f){"use strict";var P={};(0,f(4).assign)(P,f(88),f(91),f(44)),L.exports=P},function(L,k,f){"use strict";function g(B){if(!(this instanceof g))return new g(B);this.options=O.assign({level:r,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},B||{});var $=this.options;$.raw&&$.windowBits>0?$.windowBits=-$.windowBits:$.gzip&&$.windowBits>0&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var w=P.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(w!==S)throw new Error(D[w]);if($.header&&P.deflateSetHeader(this.strm,$.header),$.dictionary){var p;if(p="string"==typeof $.dictionary?v.string2buf($.dictionary):"[object ArrayBuffer]"===T.call($.dictionary)?new Uint8Array($.dictionary):$.dictionary,(w=P.deflateSetDictionary(this.strm,p))!==S)throw new Error(D[w]);this._dict_set=!0}}function h(B,$){var w=new g($);if(w.push(B,!0),w.err)throw w.msg||D[w.err];return w.result}var P=f(89),O=f(4),v=f(42),D=f(23),I=f(43),T=Object.prototype.toString,S=0,r=-1,_=0,E=8;g.prototype.push=function(B,$){var w,p,u=this.strm,x=this.options.chunkSize;if(this.ended)return!1;p=$===~~$?$:!0===$?4:0,u.input="string"==typeof B?v.string2buf(B):"[object ArrayBuffer]"===T.call(B)?new Uint8Array(B):B,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new O.Buf8(x),u.next_out=0,u.avail_out=x),1!==(w=P.deflate(u,p))&&w!==S)return this.onEnd(w),this.ended=!0,!1;0!==u.avail_out&&(0!==u.avail_in||4!==p&&2!==p)||this.onData("string"===this.options.to?v.buf2binstring(O.shrinkBuf(u.output,u.next_out)):O.shrinkBuf(u.output,u.next_out))}while((u.avail_in>0||0===u.avail_out)&&1!==w);return 4===p?(w=P.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===S):2!==p||(this.onEnd(S),u.avail_out=0,!0)},g.prototype.onData=function(B){this.chunks.push(B)},g.prototype.onEnd=function(B){B===S&&(this.result="string"===this.options.to?this.chunks.join(""):O.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},k.Deflate=g,k.deflate=h,k.deflateRaw=function(B,$){return($=$||{}).raw=!0,h(B,$)},k.gzip=function(B,$){return($=$||{}).gzip=!0,h(B,$)}},function(L,k,f){"use strict";function g(oe,rt){return oe.msg=_e[rt],rt}function h(oe){return(oe<<1)-(oe>4?9:0)}function y(oe){for(var rt=oe.length;--rt>=0;)oe[rt]=0}function d(oe){var rt=oe.state,V=rt.pending;V>oe.avail_out&&(V=oe.avail_out),0!==V&&(Ae.arraySet(oe.output,rt.pending_buf,rt.pending_out,V,oe.next_out),oe.next_out+=V,rt.pending_out+=V,oe.total_out+=V,oe.avail_out-=V,rt.pending-=V,0===rt.pending&&(rt.pending_out=0))}function P(oe,rt){Pe._tr_flush_block(oe,oe.block_start>=0?oe.block_start:-1,oe.strstart-oe.block_start,rt),oe.block_start=oe.strstart,d(oe.strm)}function O(oe,rt){oe.pending_buf[oe.pending++]=rt}function v(oe,rt){oe.pending_buf[oe.pending++]=rt>>>8&255,oe.pending_buf[oe.pending++]=255&rt}function D(oe,rt,V,z){var we=oe.avail_in;return we>z&&(we=z),0===we?0:(oe.avail_in-=we,Ae.arraySet(rt,oe.input,oe.next_in,we,V),1===oe.state.wrap?oe.adler=de(oe.adler,rt,we,V):2===oe.state.wrap&&(oe.adler=pe(oe.adler,rt,we,V)),oe.next_in+=we,oe.total_in+=we,we)}function I(oe,rt){var V,z,we=oe.max_chain_length,he=oe.strstart,Ie=oe.prev_length,st=oe.nice_match,kt=oe.strstart>oe.w_size-X?oe.strstart-(oe.w_size-X):0,ft=oe.window,zt=oe.w_mask,nn=oe.prev,Wt=oe.strstart+mt,ln=ft[he+Ie-1],tn=ft[he+Ie];oe.prev_length>=oe.good_match&&(we>>=2),st>oe.lookahead&&(st=oe.lookahead);do{if(ft[(V=rt)+Ie]===tn&&ft[V+Ie-1]===ln&&ft[V]===ft[he]&&ft[++V]===ft[he+1]){he+=2,V++;do{}while(ft[++he]===ft[++V]&&ft[++he]===ft[++V]&&ft[++he]===ft[++V]&&ft[++he]===ft[++V]&&ft[++he]===ft[++V]&&ft[++he]===ft[++V]&&ft[++he]===ft[++V]&&ft[++he]===ft[++V]&&he<Wt);if(z=mt-(Wt-he),he=Wt-mt,z>Ie){if(oe.match_start=rt,Ie=z,z>=st)break;ln=ft[he+Ie-1],tn=ft[he+Ie]}}}while((rt=nn[rt&zt])>kt&&0!=--we);return Ie<=oe.lookahead?Ie:oe.lookahead}function T(oe){var rt,V,z,we,he,Ie=oe.w_size;do{if(we=oe.window_size-oe.lookahead-oe.strstart,oe.strstart>=Ie+(Ie-X)){Ae.arraySet(oe.window,oe.window,Ie,Ie,0),oe.match_start-=Ie,oe.strstart-=Ie,oe.block_start-=Ie,rt=V=oe.hash_size;do{z=oe.head[--rt],oe.head[rt]=z>=Ie?z-Ie:0}while(--V);rt=V=Ie;do{z=oe.prev[--rt],oe.prev[rt]=z>=Ie?z-Ie:0}while(--V);we+=Ie}if(0===oe.strm.avail_in)break;if(V=D(oe.strm,oe.window,oe.strstart+oe.lookahead,we),oe.lookahead+=V,oe.lookahead+oe.insert>=ut)for(oe.ins_h=oe.window[he=oe.strstart-oe.insert],oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[he+1])&oe.hash_mask;oe.insert&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[he+ut-1])&oe.hash_mask,oe.prev[he&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=he,he++,oe.insert--,!(oe.lookahead+oe.insert<ut)););}while(oe.lookahead<X&&0!==oe.strm.avail_in)}function r(oe,rt){for(var V,z;;){if(oe.lookahead<X){if(T(oe),oe.lookahead<X&&rt===ae)return Dt;if(0===oe.lookahead)break}if(V=0,oe.lookahead>=ut&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+ut-1])&oe.hash_mask,V=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),0!==V&&oe.strstart-V<=oe.w_size-X&&(oe.match_length=I(oe,V)),oe.match_length>=ut)if(z=Pe._tr_tally(oe,oe.strstart-oe.match_start,oe.match_length-ut),oe.lookahead-=oe.match_length,oe.match_length<=oe.max_lazy_match&&oe.lookahead>=ut){oe.match_length--;do{oe.strstart++,oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+ut-1])&oe.hash_mask,V=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart}while(0!=--oe.match_length);oe.strstart++}else oe.strstart+=oe.match_length,oe.match_length=0,oe.ins_h=oe.window[oe.strstart],oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+1])&oe.hash_mask;else z=Pe._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++;if(z&&(P(oe,!1),0===oe.strm.avail_out))return Dt}return oe.insert=oe.strstart<ut-1?oe.strstart:ut-1,rt===W?(P(oe,!0),0===oe.strm.avail_out?Tt:De):oe.last_lit&&(P(oe,!1),0===oe.strm.avail_out)?Dt:ct}function _(oe,rt){for(var V,z,we;;){if(oe.lookahead<X){if(T(oe),oe.lookahead<X&&rt===ae)return Dt;if(0===oe.lookahead)break}if(V=0,oe.lookahead>=ut&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+ut-1])&oe.hash_mask,V=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),oe.prev_length=oe.match_length,oe.prev_match=oe.match_start,oe.match_length=ut-1,0!==V&&oe.prev_length<oe.max_lazy_match&&oe.strstart-V<=oe.w_size-X&&(oe.match_length=I(oe,V),oe.match_length<=5&&(oe.strategy===q||oe.match_length===ut&&oe.strstart-oe.match_start>4096)&&(oe.match_length=ut-1)),oe.prev_length>=ut&&oe.match_length<=oe.prev_length){we=oe.strstart+oe.lookahead-ut,z=Pe._tr_tally(oe,oe.strstart-1-oe.prev_match,oe.prev_length-ut),oe.lookahead-=oe.prev_length-1,oe.prev_length-=2;do{++oe.strstart<=we&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+ut-1])&oe.hash_mask,V=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart)}while(0!=--oe.prev_length);if(oe.match_available=0,oe.match_length=ut-1,oe.strstart++,z&&(P(oe,!1),0===oe.strm.avail_out))return Dt}else if(oe.match_available){if((z=Pe._tr_tally(oe,0,oe.window[oe.strstart-1]))&&P(oe,!1),oe.strstart++,oe.lookahead--,0===oe.strm.avail_out)return Dt}else oe.match_available=1,oe.strstart++,oe.lookahead--}return oe.match_available&&(z=Pe._tr_tally(oe,0,oe.window[oe.strstart-1]),oe.match_available=0),oe.insert=oe.strstart<ut-1?oe.strstart:ut-1,rt===W?(P(oe,!0),0===oe.strm.avail_out?Tt:De):oe.last_lit&&(P(oe,!1),0===oe.strm.avail_out)?Dt:ct}function $(oe,rt,V,z,we){this.good_length=oe,this.max_lazy=rt,this.nice_length=V,this.max_chain=z,this.func=we}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ne,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ae.Buf16(2*qe),this.dyn_dtree=new Ae.Buf16(2*(2*ce+1)),this.bl_tree=new Ae.Buf16(2*(2*je+1)),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ae.Buf16(nt+1),this.heap=new Ae.Buf16(2*Z+1),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ae.Buf16(2*Z+1),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function u(oe){var rt;return oe&&oe.state?(oe.total_in=oe.total_out=0,oe.data_type=Ee,(rt=oe.state).pending=0,rt.pending_out=0,rt.wrap<0&&(rt.wrap=-rt.wrap),rt.status=rt.wrap?Re:ht,oe.adler=2===rt.wrap?0:1,rt.last_flush=ae,Pe._tr_init(rt),C):g(oe,n)}function x(oe){var rt=u(oe);return rt===C&&function(oe){oe.window_size=2*oe.w_size,y(oe.head),oe.max_lazy_match=fe[oe.level].max_lazy,oe.good_match=fe[oe.level].good_length,oe.nice_match=fe[oe.level].nice_length,oe.max_chain_length=fe[oe.level].max_chain,oe.strstart=0,oe.block_start=0,oe.lookahead=0,oe.insert=0,oe.match_length=oe.prev_length=ut-1,oe.match_available=0,oe.ins_h=0}(oe.state),rt}function R(oe,rt,V,z,we,he){if(!oe)return n;var Ie=1;if(rt===A&&(rt=6),z<0?(Ie=0,z=-z):z>15&&(Ie=2,z-=16),we<1||we>Je||V!==Ne||z<8||z>15||rt<0||rt>9||he<0||he>ke)return g(oe,n);8===z&&(z=9);var st=new p;return oe.state=st,st.strm=oe,st.wrap=Ie,st.gzhead=null,st.w_bits=z,st.w_size=1<<st.w_bits,st.w_mask=st.w_size-1,st.hash_bits=we+7,st.hash_size=1<<st.hash_bits,st.hash_mask=st.hash_size-1,st.hash_shift=~~((st.hash_bits+ut-1)/ut),st.window=new Ae.Buf8(2*st.w_size),st.head=new Ae.Buf16(st.hash_size),st.prev=new Ae.Buf16(st.w_size),st.lit_bufsize=1<<we+6,st.pending_buf_size=4*st.lit_bufsize,st.pending_buf=new Ae.Buf8(st.pending_buf_size),st.d_buf=1*st.lit_bufsize,st.l_buf=3*st.lit_bufsize,st.level=rt,st.strategy=he,st.method=V,x(oe)}var fe,Ae=f(4),Pe=f(90),de=f(40),pe=f(41),_e=f(23),ae=0,ne=1,G=3,W=4,j=5,C=0,H=1,n=-2,m=-3,l=-5,A=-1,q=1,be=2,Le=3,ke=4,ve=0,Ee=2,Ne=8,Je=9,St=15,vt=8,Z=286,ce=30,je=19,qe=2*Z+1,nt=15,ut=3,mt=258,X=mt+ut+1,Te=32,Re=42,$e=69,me=73,Ke=91,Ze=103,ht=113,Pt=666,Dt=1,ct=2,Tt=3,De=4,Ot=3;fe=[new $(0,0,0,0,function(oe,rt){var V=65535;for(V>oe.pending_buf_size-5&&(V=oe.pending_buf_size-5);;){if(oe.lookahead<=1){if(T(oe),0===oe.lookahead&&rt===ae)return Dt;if(0===oe.lookahead)break}oe.strstart+=oe.lookahead,oe.lookahead=0;var z=oe.block_start+V;if((0===oe.strstart||oe.strstart>=z)&&(oe.lookahead=oe.strstart-z,oe.strstart=z,P(oe,!1),0===oe.strm.avail_out)||oe.strstart-oe.block_start>=oe.w_size-X&&(P(oe,!1),0===oe.strm.avail_out))return Dt}return oe.insert=0,rt===W?(P(oe,!0),0===oe.strm.avail_out?Tt:De):(oe.strstart>oe.block_start&&P(oe,!1),Dt)}),new $(4,4,8,4,r),new $(4,5,16,8,r),new $(4,6,32,32,r),new $(4,4,16,16,_),new $(8,16,32,32,_),new $(8,16,128,128,_),new $(8,32,128,256,_),new $(32,128,258,1024,_),new $(32,258,258,4096,_)],k.deflateInit=function(oe,rt){return R(oe,rt,Ne,St,vt,ve)},k.deflateInit2=R,k.deflateReset=x,k.deflateResetKeep=u,k.deflateSetHeader=function(oe,rt){return oe&&oe.state?2!==oe.state.wrap?n:(oe.state.gzhead=rt,C):n},k.deflate=function(oe,rt){var V,z,we,he;if(!oe||!oe.state||rt>j||rt<0)return oe?g(oe,n):n;if(z=oe.state,!oe.output||!oe.input&&0!==oe.avail_in||z.status===Pt&&rt!==W)return g(oe,0===oe.avail_out?l:n);if(z.strm=oe,V=z.last_flush,z.last_flush=rt,z.status===Re)if(2===z.wrap)oe.adler=0,O(z,31),O(z,139),O(z,8),z.gzhead?(O(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),O(z,255&z.gzhead.time),O(z,z.gzhead.time>>8&255),O(z,z.gzhead.time>>16&255),O(z,z.gzhead.time>>24&255),O(z,9===z.level?2:z.strategy>=be||z.level<2?4:0),O(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(O(z,255&z.gzhead.extra.length),O(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(oe.adler=pe(oe.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=$e):(O(z,0),O(z,0),O(z,0),O(z,0),O(z,0),O(z,9===z.level?2:z.strategy>=be||z.level<2?4:0),O(z,Ot),z.status=ht);else{var Ie=Ne+(z.w_bits-8<<4)<<8;Ie|=(z.strategy>=be||z.level<2?0:z.level<6?1:6===z.level?2:3)<<6,0!==z.strstart&&(Ie|=Te),Ie+=31-Ie%31,z.status=ht,v(z,Ie),0!==z.strstart&&(v(z,oe.adler>>>16),v(z,65535&oe.adler)),oe.adler=1}if(z.status===$e)if(z.gzhead.extra){for(we=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>we&&(oe.adler=pe(oe.adler,z.pending_buf,z.pending-we,we)),d(oe),we=z.pending,z.pending!==z.pending_buf_size));)O(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>we&&(oe.adler=pe(oe.adler,z.pending_buf,z.pending-we,we)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=me)}else z.status=me;if(z.status===me)if(z.gzhead.name){we=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>we&&(oe.adler=pe(oe.adler,z.pending_buf,z.pending-we,we)),d(oe),we=z.pending,z.pending===z.pending_buf_size)){he=1;break}he=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,O(z,he)}while(0!==he);z.gzhead.hcrc&&z.pending>we&&(oe.adler=pe(oe.adler,z.pending_buf,z.pending-we,we)),0===he&&(z.gzindex=0,z.status=Ke)}else z.status=Ke;if(z.status===Ke)if(z.gzhead.comment){we=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>we&&(oe.adler=pe(oe.adler,z.pending_buf,z.pending-we,we)),d(oe),we=z.pending,z.pending===z.pending_buf_size)){he=1;break}he=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,O(z,he)}while(0!==he);z.gzhead.hcrc&&z.pending>we&&(oe.adler=pe(oe.adler,z.pending_buf,z.pending-we,we)),0===he&&(z.status=Ze)}else z.status=Ze;if(z.status===Ze&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&d(oe),z.pending+2<=z.pending_buf_size&&(O(z,255&oe.adler),O(z,oe.adler>>8&255),oe.adler=0,z.status=ht)):z.status=ht),0!==z.pending){if(d(oe),0===oe.avail_out)return z.last_flush=-1,C}else if(0===oe.avail_in&&h(rt)<=h(V)&&rt!==W)return g(oe,l);if(z.status===Pt&&0!==oe.avail_in)return g(oe,l);if(0!==oe.avail_in||0!==z.lookahead||rt!==ae&&z.status!==Pt){var kt=z.strategy===be?function(oe,rt){for(var V;;){if(0===oe.lookahead&&(T(oe),0===oe.lookahead)){if(rt===ae)return Dt;break}if(oe.match_length=0,V=Pe._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,V&&(P(oe,!1),0===oe.strm.avail_out))return Dt}return oe.insert=0,rt===W?(P(oe,!0),0===oe.strm.avail_out?Tt:De):oe.last_lit&&(P(oe,!1),0===oe.strm.avail_out)?Dt:ct}(z,rt):z.strategy===Le?function(oe,rt){for(var V,z,we,he,Ie=oe.window;;){if(oe.lookahead<=mt){if(T(oe),oe.lookahead<=mt&&rt===ae)return Dt;if(0===oe.lookahead)break}if(oe.match_length=0,oe.lookahead>=ut&&oe.strstart>0&&(z=Ie[we=oe.strstart-1])===Ie[++we]&&z===Ie[++we]&&z===Ie[++we]){he=oe.strstart+mt;do{}while(z===Ie[++we]&&z===Ie[++we]&&z===Ie[++we]&&z===Ie[++we]&&z===Ie[++we]&&z===Ie[++we]&&z===Ie[++we]&&z===Ie[++we]&&we<he);oe.match_length=mt-(he-we),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=ut?(V=Pe._tr_tally(oe,1,oe.match_length-ut),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(V=Pe._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),V&&(P(oe,!1),0===oe.strm.avail_out))return Dt}return oe.insert=0,rt===W?(P(oe,!0),0===oe.strm.avail_out?Tt:De):oe.last_lit&&(P(oe,!1),0===oe.strm.avail_out)?Dt:ct}(z,rt):fe[z.level].func(z,rt);if(kt!==Tt&&kt!==De||(z.status=Pt),kt===Dt||kt===Tt)return 0===oe.avail_out&&(z.last_flush=-1),C;if(kt===ct&&(rt===ne?Pe._tr_align(z):rt!==j&&(Pe._tr_stored_block(z,0,0,!1),rt===G&&(y(z.head),0===z.lookahead&&(z.strstart=0,z.block_start=0,z.insert=0))),d(oe),0===oe.avail_out))return z.last_flush=-1,C}return rt!==W?C:z.wrap<=0?H:(2===z.wrap?(O(z,255&oe.adler),O(z,oe.adler>>8&255),O(z,oe.adler>>16&255),O(z,oe.adler>>24&255),O(z,255&oe.total_in),O(z,oe.total_in>>8&255),O(z,oe.total_in>>16&255),O(z,oe.total_in>>24&255)):(v(z,oe.adler>>>16),v(z,65535&oe.adler)),d(oe),z.wrap>0&&(z.wrap=-z.wrap),0!==z.pending?C:H)},k.deflateEnd=function(oe){var rt;return oe&&oe.state?(rt=oe.state.status)!==Re&&rt!==$e&&rt!==me&&rt!==Ke&&rt!==Ze&&rt!==ht&&rt!==Pt?g(oe,n):(oe.state=null,rt===ht?g(oe,m):C):n},k.deflateSetDictionary=function(oe,rt){var V,z,we,he,Ie,st,kt,ft,zt=rt.length;if(!oe||!oe.state||2===(he=(V=oe.state).wrap)||1===he&&V.status!==Re||V.lookahead)return n;for(1===he&&(oe.adler=de(oe.adler,rt,zt,0)),V.wrap=0,zt>=V.w_size&&(0===he&&(y(V.head),V.strstart=0,V.block_start=0,V.insert=0),ft=new Ae.Buf8(V.w_size),Ae.arraySet(ft,rt,zt-V.w_size,V.w_size,0),rt=ft,zt=V.w_size),Ie=oe.avail_in,st=oe.next_in,kt=oe.input,oe.avail_in=zt,oe.next_in=0,oe.input=rt,T(V);V.lookahead>=ut;){z=V.strstart,we=V.lookahead-(ut-1);do{V.ins_h=(V.ins_h<<V.hash_shift^V.window[z+ut-1])&V.hash_mask,V.prev[z&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=z,z++}while(--we);V.strstart=z,V.lookahead=ut-1,T(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=ut-1,V.match_available=0,oe.next_in=st,oe.input=kt,oe.avail_in=Ie,V.wrap=he,C},k.deflateInfo="pako deflate (from Nodeca project)"},function(L,k,f){"use strict";function g(me){for(var Ke=me.length;--Ke>=0;)me[Ke]=0}function h(me,Ke,Ze,ht,Pt){this.static_tree=me,this.extra_bits=Ke,this.extra_base=Ze,this.elems=ht,this.max_length=Pt,this.has_stree=me&&me.length}function y(me,Ke){this.dyn_tree=me,this.max_code=0,this.stat_desc=Ke}function d(me){return me<256?qe[me]:qe[256+(me>>>7)]}function P(me,Ke){me.pending_buf[me.pending++]=255&Ke,me.pending_buf[me.pending++]=Ke>>>8&255}function O(me,Ke,Ze){me.bi_valid>be-Ze?(me.bi_buf|=Ke<<me.bi_valid&65535,P(me,me.bi_buf),me.bi_buf=Ke>>be-me.bi_valid,me.bi_valid+=Ze-be):(me.bi_buf|=Ke<<me.bi_valid&65535,me.bi_valid+=Ze)}function v(me,Ke,Ze){O(me,Ze[2*Ke],Ze[2*Ke+1])}function D(me,Ke){var Ze=0;do{Ze|=1&me,me>>>=1,Ze<<=1}while(--Ke>0);return Ze>>>1}function S(me,Ke,Ze){var ht,Pt,Dt=new Array(q+1),ct=0;for(ht=1;ht<=q;ht++)Dt[ht]=ct=ct+Ze[ht-1]<<1;for(Pt=0;Pt<=Ke;Pt++){var Tt=me[2*Pt+1];0!==Tt&&(me[2*Pt]=D(Dt[Tt]++,Tt))}}function _(me){var Ke;for(Ke=0;Ke<n;Ke++)me.dyn_ltree[2*Ke]=0;for(Ke=0;Ke<m;Ke++)me.dyn_dtree[2*Ke]=0;for(Ke=0;Ke<l;Ke++)me.bl_tree[2*Ke]=0;me.dyn_ltree[2*ke]=1,me.opt_len=me.static_len=0,me.last_lit=me.matches=0}function E(me){me.bi_valid>8?P(me,me.bi_buf):me.bi_valid>0&&(me.pending_buf[me.pending++]=me.bi_buf),me.bi_buf=0,me.bi_valid=0}function $(me,Ke,Ze,ht){var Pt=2*Ke,Dt=2*Ze;return me[Pt]<me[Dt]||me[Pt]===me[Dt]&&ht[Ke]<=ht[Ze]}function w(me,Ke,Ze){for(var ht=me.heap[Ze],Pt=Ze<<1;Pt<=me.heap_len&&(Pt<me.heap_len&&$(Ke,me.heap[Pt+1],me.heap[Pt],me.depth)&&Pt++,!$(Ke,ht,me.heap[Pt],me.depth));)me.heap[Ze]=me.heap[Pt],Ze=Pt,Pt<<=1;me.heap[Ze]=ht}function p(me,Ke,Ze){var ht,Pt,Dt,ct,Tt=0;if(0!==me.last_lit)do{ht=me.pending_buf[me.d_buf+2*Tt]<<8|me.pending_buf[me.d_buf+2*Tt+1],Pt=me.pending_buf[me.l_buf+Tt],Tt++,0===ht?v(me,Pt,Ke):(v(me,(Dt=nt[Pt])+H+1,Ke),0!==(ct=Je[Dt])&&O(me,Pt-=ut[Dt],ct),v(me,Dt=d(--ht),Ze),0!==(ct=St[Dt])&&O(me,ht-=mt[Dt],ct))}while(Tt<me.last_lit);v(me,ke,Ke)}function u(me,Ke){var Ze,ht,Pt,Dt=Ke.dyn_tree,ct=Ke.stat_desc.static_tree,Tt=Ke.stat_desc.has_stree,De=Ke.stat_desc.elems,Ot=-1;for(me.heap_len=0,me.heap_max=A,Ze=0;Ze<De;Ze++)0!==Dt[2*Ze]?(me.heap[++me.heap_len]=Ot=Ze,me.depth[Ze]=0):Dt[2*Ze+1]=0;for(;me.heap_len<2;)Dt[2*(Pt=me.heap[++me.heap_len]=Ot<2?++Ot:0)]=1,me.depth[Pt]=0,me.opt_len--,Tt&&(me.static_len-=ct[2*Pt+1]);for(Ke.max_code=Ot,Ze=me.heap_len>>1;Ze>=1;Ze--)w(me,Dt,Ze);Pt=De;do{Ze=me.heap[1],me.heap[1]=me.heap[me.heap_len--],w(me,Dt,1),ht=me.heap[1],me.heap[--me.heap_max]=Ze,me.heap[--me.heap_max]=ht,Dt[2*Pt]=Dt[2*Ze]+Dt[2*ht],me.depth[Pt]=(me.depth[Ze]>=me.depth[ht]?me.depth[Ze]:me.depth[ht])+1,Dt[2*Ze+1]=Dt[2*ht+1]=Pt,me.heap[1]=Pt++,w(me,Dt,1)}while(me.heap_len>=2);me.heap[--me.heap_max]=me.heap[1],function(me,Ke){var Ze,ht,Pt,Dt,ct,Tt,De=Ke.dyn_tree,Ot=Ke.max_code,oe=Ke.stat_desc.static_tree,rt=Ke.stat_desc.has_stree,V=Ke.stat_desc.extra_bits,z=Ke.stat_desc.extra_base,we=Ke.stat_desc.max_length,he=0;for(Dt=0;Dt<=q;Dt++)me.bl_count[Dt]=0;for(De[2*me.heap[me.heap_max]+1]=0,Ze=me.heap_max+1;Ze<A;Ze++)(Dt=De[2*De[2*(ht=me.heap[Ze])+1]+1]+1)>we&&(Dt=we,he++),De[2*ht+1]=Dt,ht>Ot||(me.bl_count[Dt]++,ct=0,ht>=z&&(ct=V[ht-z]),me.opt_len+=(Tt=De[2*ht])*(Dt+ct),rt&&(me.static_len+=Tt*(oe[2*ht+1]+ct)));if(0!==he){do{for(Dt=we-1;0===me.bl_count[Dt];)Dt--;me.bl_count[Dt]--,me.bl_count[Dt+1]+=2,me.bl_count[we]--,he-=2}while(he>0);for(Dt=we;0!==Dt;Dt--)for(ht=me.bl_count[Dt];0!==ht;)(Pt=me.heap[--Ze])>Ot||(De[2*Pt+1]!==Dt&&(me.opt_len+=(Dt-De[2*Pt+1])*De[2*Pt],De[2*Pt+1]=Dt),ht--)}}(me,Ke),S(Dt,Ot,me.bl_count)}function x(me,Ke,Ze){var ht,Pt,Dt=-1,ct=Ke[1],Tt=0,De=7,Ot=4;for(0===ct&&(De=138,Ot=3),Ke[2*(Ze+1)+1]=65535,ht=0;ht<=Ze;ht++)Pt=ct,ct=Ke[2*(ht+1)+1],++Tt<De&&Pt===ct||(Tt<Ot?me.bl_tree[2*Pt]+=Tt:0!==Pt?(Pt!==Dt&&me.bl_tree[2*Pt]++,me.bl_tree[2*ve]++):Tt<=10?me.bl_tree[2*Ee]++:me.bl_tree[2*Ne]++,Tt=0,Dt=Pt,0===ct?(De=138,Ot=3):Pt===ct?(De=6,Ot=3):(De=7,Ot=4))}function b(me,Ke,Ze){var ht,Pt,Dt=-1,ct=Ke[1],Tt=0,De=7,Ot=4;for(0===ct&&(De=138,Ot=3),ht=0;ht<=Ze;ht++)if(Pt=ct,ct=Ke[2*(ht+1)+1],!(++Tt<De&&Pt===ct)){if(Tt<Ot)do{v(me,Pt,me.bl_tree)}while(0!=--Tt);else 0!==Pt?(Pt!==Dt&&(v(me,Pt,me.bl_tree),Tt--),v(me,ve,me.bl_tree),O(me,Tt-3,2)):Tt<=10?(v(me,Ee,me.bl_tree),O(me,Tt-3,3)):(v(me,Ne,me.bl_tree),O(me,Tt-11,7));Tt=0,Dt=Pt,0===ct?(De=138,Ot=3):Pt===ct?(De=6,Ot=3):(De=7,Ot=4)}}function ge(me,Ke,Ze,ht){O(me,(G<<1)+(ht?1:0),3),function(me,Ke,Ze,ht){E(me),ht&&(P(me,Ze),P(me,~Ze)),de.arraySet(me.pending_buf,me.window,Ke,Ze,me.pending),me.pending+=Ze}(me,Ke,Ze,!0)}var de=f(4),pe=4,_e=0,ae=1,ne=2,G=0,W=1,j=2,C=29,H=256,n=H+1+C,m=30,l=19,A=2*n+1,q=15,be=16,Le=7,ke=256,ve=16,Ee=17,Ne=18,Je=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],St=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=new Array(2*(n+2));g(ce);var je=new Array(2*m);g(je);var qe=new Array(512);g(qe);var nt=new Array(256);g(nt);var ut=new Array(C);g(ut);var mt=new Array(m);g(mt);var X,Te,Re,$e=!1;k._tr_init=function(me){$e||(function(){var me,Ke,Ze,ht,Pt,Dt=new Array(q+1);for(Ze=0,ht=0;ht<C-1;ht++)for(ut[ht]=Ze,me=0;me<1<<Je[ht];me++)nt[Ze++]=ht;for(nt[Ze-1]=ht,Pt=0,ht=0;ht<16;ht++)for(mt[ht]=Pt,me=0;me<1<<St[ht];me++)qe[Pt++]=ht;for(Pt>>=7;ht<m;ht++)for(mt[ht]=Pt<<7,me=0;me<1<<St[ht]-7;me++)qe[256+Pt++]=ht;for(Ke=0;Ke<=q;Ke++)Dt[Ke]=0;for(me=0;me<=143;)ce[2*me+1]=8,me++,Dt[8]++;for(;me<=255;)ce[2*me+1]=9,me++,Dt[9]++;for(;me<=279;)ce[2*me+1]=7,me++,Dt[7]++;for(;me<=287;)ce[2*me+1]=8,me++,Dt[8]++;for(S(ce,n+1,Dt),me=0;me<m;me++)je[2*me+1]=5,je[2*me]=D(me,5);X=new h(ce,Je,H+1,n,q),Te=new h(je,St,0,m,q),Re=new h(new Array(0),vt,0,l,Le)}(),$e=!0),me.l_desc=new y(me.dyn_ltree,X),me.d_desc=new y(me.dyn_dtree,Te),me.bl_desc=new y(me.bl_tree,Re),me.bi_buf=0,me.bi_valid=0,_(me)},k._tr_stored_block=ge,k._tr_flush_block=function(me,Ke,Ze,ht){var Pt,Dt,ct=0;me.level>0?(me.strm.data_type===ne&&(me.strm.data_type=function(me){var Ke,Ze=4093624447;for(Ke=0;Ke<=31;Ke++,Ze>>>=1)if(1&Ze&&0!==me.dyn_ltree[2*Ke])return _e;if(0!==me.dyn_ltree[18]||0!==me.dyn_ltree[20]||0!==me.dyn_ltree[26])return ae;for(Ke=32;Ke<H;Ke++)if(0!==me.dyn_ltree[2*Ke])return ae;return _e}(me)),u(me,me.l_desc),u(me,me.d_desc),ct=function(me){var Ke;for(x(me,me.dyn_ltree,me.l_desc.max_code),x(me,me.dyn_dtree,me.d_desc.max_code),u(me,me.bl_desc),Ke=l-1;Ke>=3&&0===me.bl_tree[2*Z[Ke]+1];Ke--);return me.opt_len+=3*(Ke+1)+5+5+4,Ke}(me),(Dt=me.static_len+3+7>>>3)<=(Pt=me.opt_len+3+7>>>3)&&(Pt=Dt)):Pt=Dt=Ze+5,Ze+4<=Pt&&-1!==Ke?ge(me,Ke,Ze,ht):me.strategy===pe||Dt===Pt?(O(me,(W<<1)+(ht?1:0),3),p(me,ce,je)):(O(me,(j<<1)+(ht?1:0),3),function(me,Ke,Ze,ht){var Pt;for(O(me,Ke-257,5),O(me,Ze-1,5),O(me,ht-4,4),Pt=0;Pt<ht;Pt++)O(me,me.bl_tree[2*Z[Pt]+1],3);b(me,me.dyn_ltree,Ke-1),b(me,me.dyn_dtree,Ze-1)}(me,me.l_desc.max_code+1,me.d_desc.max_code+1,ct+1),p(me,me.dyn_ltree,me.dyn_dtree)),_(me),ht&&E(me)},k._tr_tally=function(me,Ke,Ze){return me.pending_buf[me.d_buf+2*me.last_lit]=Ke>>>8&255,me.pending_buf[me.d_buf+2*me.last_lit+1]=255&Ke,me.pending_buf[me.l_buf+me.last_lit]=255&Ze,me.last_lit++,0===Ke?me.dyn_ltree[2*Ze]++:(me.matches++,Ke--,me.dyn_ltree[2*(nt[Ze]+H+1)]++,me.dyn_dtree[2*d(Ke)]++),me.last_lit===me.lit_bufsize-1},k._tr_align=function(me){O(me,W<<1,3),v(me,ke,ce),function(me){16===me.bi_valid?(P(me,me.bi_buf),me.bi_buf=0,me.bi_valid=0):me.bi_valid>=8&&(me.pending_buf[me.pending++]=255&me.bi_buf,me.bi_buf>>=8,me.bi_valid-=8)}(me)}},function(L,k,f){"use strict";function g(r){if(!(this instanceof g))return new g(r);this.options=P.assign({chunkSize:16384,windowBits:0,to:""},r||{});var _=this.options;_.raw&&_.windowBits>=0&&_.windowBits<16&&(_.windowBits=-_.windowBits,0===_.windowBits&&(_.windowBits=-15)),!(_.windowBits>=0&&_.windowBits<16)||r&&r.windowBits||(_.windowBits+=32),_.windowBits>15&&_.windowBits<48&&0==(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var E=d.inflateInit2(this.strm,_.windowBits);if(E!==v.Z_OK)throw new Error(D[E]);this.header=new T,d.inflateGetHeader(this.strm,this.header)}function h(r,_){var E=new g(_);if(E.push(r,!0),E.err)throw E.msg||D[E.err];return E.result}var d=f(92),P=f(4),O=f(42),v=f(44),D=f(23),I=f(43),T=f(95),S=Object.prototype.toString;g.prototype.push=function(r,_){var E,B,$,w,p,u,x=this.strm,b=this.options.chunkSize,R=this.options.dictionary,Q=!1;if(this.ended)return!1;B=_===~~_?_:!0===_?v.Z_FINISH:v.Z_NO_FLUSH,x.input="string"==typeof r?O.binstring2buf(r):"[object ArrayBuffer]"===S.call(r)?new Uint8Array(r):r,x.next_in=0,x.avail_in=x.input.length;do{if(0===x.avail_out&&(x.output=new P.Buf8(b),x.next_out=0,x.avail_out=b),(E=d.inflate(x,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&R&&(u="string"==typeof R?O.string2buf(R):"[object ArrayBuffer]"===S.call(R)?new Uint8Array(R):R,E=d.inflateSetDictionary(this.strm,u)),E===v.Z_BUF_ERROR&&!0===Q&&(E=v.Z_OK,Q=!1),E!==v.Z_STREAM_END&&E!==v.Z_OK)return this.onEnd(E),this.ended=!0,!1;x.next_out&&(0!==x.avail_out&&E!==v.Z_STREAM_END&&(0!==x.avail_in||B!==v.Z_FINISH&&B!==v.Z_SYNC_FLUSH)||("string"===this.options.to?($=O.utf8border(x.output,x.next_out),w=x.next_out-$,p=O.buf2string(x.output,$),x.next_out=w,x.avail_out=b-w,w&&P.arraySet(x.output,x.output,$,w,0),this.onData(p)):this.onData(P.shrinkBuf(x.output,x.next_out)))),0===x.avail_in&&0===x.avail_out&&(Q=!0)}while((x.avail_in>0||0===x.avail_out)&&E!==v.Z_STREAM_END);return E===v.Z_STREAM_END&&(B=v.Z_FINISH),B===v.Z_FINISH?(E=d.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===v.Z_OK):B!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),x.avail_out=0,!0)},g.prototype.onData=function(r){this.chunks.push(r)},g.prototype.onEnd=function(r){r===v.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):P.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},k.Inflate=g,k.inflate=h,k.inflateRaw=function(r,_){return(_=_||{}).raw=!0,h(r,_)},k.ungzip=h},function(L,k,f){"use strict";function g(ct){return(ct>>>24&255)+(ct>>>8&65280)+((65280&ct)<<8)+((255&ct)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new $.Buf16(320),this.work=new $.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(ct){var Tt;return ct&&ct.state?(ct.total_in=ct.total_out=(Tt=ct.state).total=0,ct.msg="",Tt.wrap&&(ct.adler=1&Tt.wrap),Tt.mode=G,Tt.last=0,Tt.havedict=0,Tt.dmax=32768,Tt.head=null,Tt.hold=0,Tt.bits=0,Tt.lencode=Tt.lendyn=new $.Buf32(Ze),Tt.distcode=Tt.distdyn=new $.Buf32(ht),Tt.sane=1,Tt.back=-1,fe):de}function d(ct){var Tt;return ct&&ct.state?((Tt=ct.state).wsize=0,Tt.whave=0,Tt.wnext=0,y(ct)):de}function P(ct,Tt){var De,Ot;return ct&&ct.state?(Ot=ct.state,Tt<0?(De=0,Tt=-Tt):(De=1+(Tt>>4),Tt<48&&(Tt&=15)),Tt&&(Tt<8||Tt>15)?de:(null!==Ot.window&&Ot.wbits!==Tt&&(Ot.window=null),Ot.wrap=De,Ot.wbits=Tt,d(ct))):de}function O(ct,Tt){var De,Ot;return ct?(Ot=new h,ct.state=Ot,Ot.window=null,(De=P(ct,Tt))!==fe&&(ct.state=null),De):de}function D(ct){if(Dt){var Tt;for(E=new $.Buf32(512),B=new $.Buf32(32),Tt=0;Tt<144;)ct.lens[Tt++]=8;for(;Tt<256;)ct.lens[Tt++]=9;for(;Tt<280;)ct.lens[Tt++]=7;for(;Tt<288;)ct.lens[Tt++]=8;for(x(R,ct.lens,0,288,E,0,ct.work,{bits:9}),Tt=0;Tt<32;)ct.lens[Tt++]=5;x(Q,ct.lens,0,32,B,0,ct.work,{bits:5}),Dt=!1}ct.lencode=E,ct.lenbits=9,ct.distcode=B,ct.distbits=5}function I(ct,Tt,De,Ot){var oe,rt=ct.state;return null===rt.window&&(rt.wsize=1<<rt.wbits,rt.wnext=0,rt.whave=0,rt.window=new $.Buf8(rt.wsize)),Ot>=rt.wsize?($.arraySet(rt.window,Tt,De-rt.wsize,rt.wsize,0),rt.wnext=0,rt.whave=rt.wsize):((oe=rt.wsize-rt.wnext)>Ot&&(oe=Ot),$.arraySet(rt.window,Tt,De-Ot,oe,rt.wnext),(Ot-=oe)?($.arraySet(rt.window,Tt,De-Ot,Ot,0),rt.wnext=Ot,rt.whave=rt.wsize):(rt.wnext+=oe,rt.wnext===rt.wsize&&(rt.wnext=0),rt.whave<rt.wsize&&(rt.whave+=oe))),0}var E,B,$=f(4),w=f(40),p=f(41),u=f(93),x=f(94),b=0,R=1,Q=2,re=4,Fe=5,ge=6,fe=0,Ae=1,Pe=2,de=-2,pe=-3,_e=-4,ae=-5,ne=8,G=1,W=2,j=3,C=4,H=5,n=6,m=7,l=8,A=9,q=10,be=11,Le=12,ke=13,ve=14,Ee=15,Ne=16,Je=17,St=18,vt=19,Z=20,ce=21,je=22,qe=23,nt=24,ut=25,mt=26,X=27,Te=28,Re=29,$e=30,me=31,Ze=852,ht=592,Pt=15,Dt=!0;k.inflateReset=d,k.inflateReset2=P,k.inflateResetKeep=y,k.inflateInit=function(ct){return O(ct,Pt)},k.inflateInit2=O,k.inflate=function(ct,Tt){var De,Ot,oe,rt,V,z,we,he,Ie,st,kt,ft,zt,nn,Wt,ln,tn,kn,Cn,Fn,jn,cn,qt,dn,fn=0,Jt=new $.Buf8(4),pn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ct||!ct.state||!ct.output||!ct.input&&0!==ct.avail_in)return de;(De=ct.state).mode===Le&&(De.mode=ke),V=ct.next_out,oe=ct.output,rt=ct.next_in,Ot=ct.input,he=De.hold,Ie=De.bits,st=z=ct.avail_in,kt=we=ct.avail_out,cn=fe;e:for(;;)switch(De.mode){case G:if(0===De.wrap){De.mode=ke;break}for(;Ie<16;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}if(2&De.wrap&&35615===he){De.check=0,Jt[0]=255&he,Jt[1]=he>>>8&255,De.check=p(De.check,Jt,2,0),he=0,Ie=0,De.mode=W;break}if(De.flags=0,De.head&&(De.head.done=!1),!(1&De.wrap)||(((255&he)<<8)+(he>>8))%31){ct.msg="incorrect header check",De.mode=$e;break}if((15&he)!==ne){ct.msg="unknown compression method",De.mode=$e;break}if(Ie-=4,jn=8+(15&(he>>>=4)),0===De.wbits)De.wbits=jn;else if(jn>De.wbits){ct.msg="invalid window size",De.mode=$e;break}De.dmax=1<<jn,ct.adler=De.check=1,De.mode=512&he?q:Le,he=0,Ie=0;break;case W:for(;Ie<16;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}if(De.flags=he,(255&De.flags)!==ne){ct.msg="unknown compression method",De.mode=$e;break}if(57344&De.flags){ct.msg="unknown header flags set",De.mode=$e;break}De.head&&(De.head.text=he>>8&1),512&De.flags&&(Jt[0]=255&he,Jt[1]=he>>>8&255,De.check=p(De.check,Jt,2,0)),he=0,Ie=0,De.mode=j;case j:for(;Ie<32;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}De.head&&(De.head.time=he),512&De.flags&&(Jt[0]=255&he,Jt[1]=he>>>8&255,Jt[2]=he>>>16&255,Jt[3]=he>>>24&255,De.check=p(De.check,Jt,4,0)),he=0,Ie=0,De.mode=C;case C:for(;Ie<16;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}De.head&&(De.head.xflags=255&he,De.head.os=he>>8),512&De.flags&&(Jt[0]=255&he,Jt[1]=he>>>8&255,De.check=p(De.check,Jt,2,0)),he=0,Ie=0,De.mode=H;case H:if(1024&De.flags){for(;Ie<16;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}De.length=he,De.head&&(De.head.extra_len=he),512&De.flags&&(Jt[0]=255&he,Jt[1]=he>>>8&255,De.check=p(De.check,Jt,2,0)),he=0,Ie=0}else De.head&&(De.head.extra=null);De.mode=n;case n:if(1024&De.flags&&((ft=De.length)>z&&(ft=z),ft&&(De.head&&(jn=De.head.extra_len-De.length,De.head.extra||(De.head.extra=new Array(De.head.extra_len)),$.arraySet(De.head.extra,Ot,rt,ft,jn)),512&De.flags&&(De.check=p(De.check,Ot,ft,rt)),z-=ft,rt+=ft,De.length-=ft),De.length))break e;De.length=0,De.mode=m;case m:if(2048&De.flags){if(0===z)break e;ft=0;do{jn=Ot[rt+ft++],De.head&&jn&&De.length<65536&&(De.head.name+=String.fromCharCode(jn))}while(jn&&ft<z);if(512&De.flags&&(De.check=p(De.check,Ot,ft,rt)),z-=ft,rt+=ft,jn)break e}else De.head&&(De.head.name=null);De.length=0,De.mode=l;case l:if(4096&De.flags){if(0===z)break e;ft=0;do{jn=Ot[rt+ft++],De.head&&jn&&De.length<65536&&(De.head.comment+=String.fromCharCode(jn))}while(jn&&ft<z);if(512&De.flags&&(De.check=p(De.check,Ot,ft,rt)),z-=ft,rt+=ft,jn)break e}else De.head&&(De.head.comment=null);De.mode=A;case A:if(512&De.flags){for(;Ie<16;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}if(he!==(65535&De.check)){ct.msg="header crc mismatch",De.mode=$e;break}he=0,Ie=0}De.head&&(De.head.hcrc=De.flags>>9&1,De.head.done=!0),ct.adler=De.check=0,De.mode=Le;break;case q:for(;Ie<32;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}ct.adler=De.check=g(he),he=0,Ie=0,De.mode=be;case be:if(0===De.havedict)return ct.next_out=V,ct.avail_out=we,ct.next_in=rt,ct.avail_in=z,De.hold=he,De.bits=Ie,Pe;ct.adler=De.check=1,De.mode=Le;case Le:if(Tt===Fe||Tt===ge)break e;case ke:if(De.last){he>>>=7&Ie,Ie-=7&Ie,De.mode=X;break}for(;Ie<3;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}switch(De.last=1&he,Ie-=1,3&(he>>>=1)){case 0:De.mode=ve;break;case 1:if(D(De),De.mode=Z,Tt===ge){he>>>=2,Ie-=2;break e}break;case 2:De.mode=Je;break;case 3:ct.msg="invalid block type",De.mode=$e}he>>>=2,Ie-=2;break;case ve:for(he>>>=7&Ie,Ie-=7&Ie;Ie<32;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}if((65535&he)!=(he>>>16^65535)){ct.msg="invalid stored block lengths",De.mode=$e;break}if(De.length=65535&he,he=0,Ie=0,De.mode=Ee,Tt===ge)break e;case Ee:De.mode=Ne;case Ne:if(ft=De.length){if(ft>z&&(ft=z),ft>we&&(ft=we),0===ft)break e;$.arraySet(oe,Ot,rt,ft,V),z-=ft,rt+=ft,we-=ft,V+=ft,De.length-=ft;break}De.mode=Le;break;case Je:for(;Ie<14;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}if(De.nlen=257+(31&he),Ie-=5,De.ndist=1+(31&(he>>>=5)),Ie-=5,De.ncode=4+(15&(he>>>=5)),he>>>=4,Ie-=4,De.nlen>286||De.ndist>30){ct.msg="too many length or distance symbols",De.mode=$e;break}De.have=0,De.mode=St;case St:for(;De.have<De.ncode;){for(;Ie<3;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}De.lens[pn[De.have++]]=7&he,he>>>=3,Ie-=3}for(;De.have<19;)De.lens[pn[De.have++]]=0;if(De.lencode=De.lendyn,De.lenbits=7,cn=x(b,De.lens,0,19,De.lencode,0,De.work,qt={bits:De.lenbits}),De.lenbits=qt.bits,cn){ct.msg="invalid code lengths set",De.mode=$e;break}De.have=0,De.mode=vt;case vt:for(;De.have<De.nlen+De.ndist;){for(;ln=(fn=De.lencode[he&(1<<De.lenbits)-1])>>>16&255,tn=65535&fn,!((Wt=fn>>>24)<=Ie);){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}if(tn<16)he>>>=Wt,Ie-=Wt,De.lens[De.have++]=tn;else{if(16===tn){for(dn=Wt+2;Ie<dn;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}if(he>>>=Wt,Ie-=Wt,0===De.have){ct.msg="invalid bit length repeat",De.mode=$e;break}jn=De.lens[De.have-1],ft=3+(3&he),he>>>=2,Ie-=2}else if(17===tn){for(dn=Wt+3;Ie<dn;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}Ie-=Wt,jn=0,ft=3+(7&(he>>>=Wt)),he>>>=3,Ie-=3}else{for(dn=Wt+7;Ie<dn;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}Ie-=Wt,jn=0,ft=11+(127&(he>>>=Wt)),he>>>=7,Ie-=7}if(De.have+ft>De.nlen+De.ndist){ct.msg="invalid bit length repeat",De.mode=$e;break}for(;ft--;)De.lens[De.have++]=jn}}if(De.mode===$e)break;if(0===De.lens[256]){ct.msg="invalid code -- missing end-of-block",De.mode=$e;break}if(De.lenbits=9,cn=x(R,De.lens,0,De.nlen,De.lencode,0,De.work,qt={bits:De.lenbits}),De.lenbits=qt.bits,cn){ct.msg="invalid literal/lengths set",De.mode=$e;break}if(De.distbits=6,De.distcode=De.distdyn,cn=x(Q,De.lens,De.nlen,De.ndist,De.distcode,0,De.work,qt={bits:De.distbits}),De.distbits=qt.bits,cn){ct.msg="invalid distances set",De.mode=$e;break}if(De.mode=Z,Tt===ge)break e;case Z:De.mode=ce;case ce:if(z>=6&&we>=258){ct.next_out=V,ct.avail_out=we,ct.next_in=rt,ct.avail_in=z,De.hold=he,De.bits=Ie,u(ct,kt),V=ct.next_out,oe=ct.output,we=ct.avail_out,rt=ct.next_in,Ot=ct.input,z=ct.avail_in,he=De.hold,Ie=De.bits,De.mode===Le&&(De.back=-1);break}for(De.back=0;ln=(fn=De.lencode[he&(1<<De.lenbits)-1])>>>16&255,tn=65535&fn,!((Wt=fn>>>24)<=Ie);){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}if(ln&&0==(240&ln)){for(kn=Wt,Cn=ln,Fn=tn;ln=(fn=De.lencode[Fn+((he&(1<<kn+Cn)-1)>>kn)])>>>16&255,tn=65535&fn,!(kn+(Wt=fn>>>24)<=Ie);){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}he>>>=kn,Ie-=kn,De.back+=kn}if(he>>>=Wt,Ie-=Wt,De.back+=Wt,De.length=tn,0===ln){De.mode=mt;break}if(32&ln){De.back=-1,De.mode=Le;break}if(64&ln){ct.msg="invalid literal/length code",De.mode=$e;break}De.extra=15&ln,De.mode=je;case je:if(De.extra){for(dn=De.extra;Ie<dn;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}De.length+=he&(1<<De.extra)-1,he>>>=De.extra,Ie-=De.extra,De.back+=De.extra}De.was=De.length,De.mode=qe;case qe:for(;ln=(fn=De.distcode[he&(1<<De.distbits)-1])>>>16&255,tn=65535&fn,!((Wt=fn>>>24)<=Ie);){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}if(0==(240&ln)){for(kn=Wt,Cn=ln,Fn=tn;ln=(fn=De.distcode[Fn+((he&(1<<kn+Cn)-1)>>kn)])>>>16&255,tn=65535&fn,!(kn+(Wt=fn>>>24)<=Ie);){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}he>>>=kn,Ie-=kn,De.back+=kn}if(he>>>=Wt,Ie-=Wt,De.back+=Wt,64&ln){ct.msg="invalid distance code",De.mode=$e;break}De.offset=tn,De.extra=15&ln,De.mode=nt;case nt:if(De.extra){for(dn=De.extra;Ie<dn;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}De.offset+=he&(1<<De.extra)-1,he>>>=De.extra,Ie-=De.extra,De.back+=De.extra}if(De.offset>De.dmax){ct.msg="invalid distance too far back",De.mode=$e;break}De.mode=ut;case ut:if(0===we)break e;if(De.offset>(ft=kt-we)){if((ft=De.offset-ft)>De.whave&&De.sane){ct.msg="invalid distance too far back",De.mode=$e;break}zt=ft>De.wnext?De.wsize-(ft-=De.wnext):De.wnext-ft,ft>De.length&&(ft=De.length),nn=De.window}else nn=oe,zt=V-De.offset,ft=De.length;ft>we&&(ft=we),we-=ft,De.length-=ft;do{oe[V++]=nn[zt++]}while(--ft);0===De.length&&(De.mode=ce);break;case mt:if(0===we)break e;oe[V++]=De.length,we--,De.mode=ce;break;case X:if(De.wrap){for(;Ie<32;){if(0===z)break e;z--,he|=Ot[rt++]<<Ie,Ie+=8}if(ct.total_out+=kt-=we,De.total+=kt,kt&&(ct.adler=De.check=De.flags?p(De.check,oe,kt,V-kt):w(De.check,oe,kt,V-kt)),kt=we,(De.flags?he:g(he))!==De.check){ct.msg="incorrect data check",De.mode=$e;break}he=0,Ie=0}De.mode=Te;case Te:if(De.wrap&&De.flags){for(;Ie<32;){if(0===z)break e;z--,he+=Ot[rt++]<<Ie,Ie+=8}if(he!==(4294967295&De.total)){ct.msg="incorrect length check",De.mode=$e;break}he=0,Ie=0}De.mode=Re;case Re:cn=Ae;break e;case $e:cn=pe;break e;case me:return _e;default:return de}return ct.next_out=V,ct.avail_out=we,ct.next_in=rt,ct.avail_in=z,De.hold=he,De.bits=Ie,(De.wsize||kt!==ct.avail_out&&De.mode<$e&&(De.mode<X||Tt!==re))&&I(ct,ct.output,ct.next_out,kt-ct.avail_out)?(De.mode=me,_e):(kt-=ct.avail_out,ct.total_in+=st-=ct.avail_in,ct.total_out+=kt,De.total+=kt,De.wrap&&kt&&(ct.adler=De.check=De.flags?p(De.check,oe,kt,ct.next_out-kt):w(De.check,oe,kt,ct.next_out-kt)),ct.data_type=De.bits+(De.last?64:0)+(De.mode===Le?128:0)+(De.mode===Z||De.mode===Ee?256:0),(0===st&&0===kt||Tt===re)&&cn===fe&&(cn=ae),cn)},k.inflateEnd=function(ct){if(!ct||!ct.state)return de;var Tt=ct.state;return Tt.window&&(Tt.window=null),ct.state=null,fe},k.inflateGetHeader=function(ct,Tt){var De;return ct&&ct.state?0==(2&(De=ct.state).wrap)?de:(De.head=Tt,Tt.done=!1,fe):de},k.inflateSetDictionary=function(ct,Tt){var De,oe=Tt.length;return ct&&ct.state?0!==(De=ct.state).wrap&&De.mode!==be?de:De.mode===be&&w(1,Tt,oe,0)!==De.check?pe:I(ct,Tt,oe,oe)?(De.mode=me,_e):(De.havedict=1,fe):de},k.inflateInfo="pako inflate (from Nodeca project)"},function(L,k,f){"use strict";L.exports=function(g,h){var y,d,P,O,v,D,I,T,S,r,_,E,B,$,w,p,u,x,b,R,Q,re,Fe,ge,fe;ge=g.input,P=(d=g.next_in)+(g.avail_in-5),fe=g.output,v=(O=g.next_out)-(h-g.avail_out),D=O+(g.avail_out-257),I=(y=g.state).dmax,T=y.wsize,S=y.whave,r=y.wnext,_=y.window,E=y.hold,B=y.bits,$=y.lencode,w=y.distcode,p=(1<<y.lenbits)-1,u=(1<<y.distbits)-1;e:do{B<15&&(E+=ge[d++]<<B,E+=ge[d++]<<(B+=8),B+=8),x=$[E&p];t:for(;;){if(E>>>=b=x>>>24,B-=b,0==(b=x>>>16&255))fe[O++]=65535&x;else{if(!(16&b)){if(0==(64&b)){x=$[(65535&x)+(E&(1<<b)-1)];continue t}if(32&b){y.mode=12;break e}g.msg="invalid literal/length code",y.mode=30;break e}R=65535&x,(b&=15)&&(B<b&&(E+=ge[d++]<<B,B+=8),R+=E&(1<<b)-1,E>>>=b,B-=b),B<15&&(E+=ge[d++]<<B,E+=ge[d++]<<(B+=8),B+=8),x=w[E&u];n:for(;;){if(E>>>=b=x>>>24,B-=b,!(16&(b=x>>>16&255))){if(0==(64&b)){x=w[(65535&x)+(E&(1<<b)-1)];continue n}g.msg="invalid distance code",y.mode=30;break e}if(Q=65535&x,B<(b&=15)&&(E+=ge[d++]<<B,(B+=8)<b&&(E+=ge[d++]<<B,B+=8)),(Q+=E&(1<<b)-1)>I){g.msg="invalid distance too far back",y.mode=30;break e}if(E>>>=b,B-=b,Q>(b=O-v)){if((b=Q-b)>S&&y.sane){g.msg="invalid distance too far back",y.mode=30;break e}if(re=0,Fe=_,0===r){if(re+=T-b,b<R){R-=b;do{fe[O++]=_[re++]}while(--b);re=O-Q,Fe=fe}}else if(r<b){if(re+=T+r-b,(b-=r)<R){R-=b;do{fe[O++]=_[re++]}while(--b);if(re=0,r<R){R-=b=r;do{fe[O++]=_[re++]}while(--b);re=O-Q,Fe=fe}}}else if(re+=r-b,b<R){R-=b;do{fe[O++]=_[re++]}while(--b);re=O-Q,Fe=fe}for(;R>2;)fe[O++]=Fe[re++],fe[O++]=Fe[re++],fe[O++]=Fe[re++],R-=3;R&&(fe[O++]=Fe[re++],R>1&&(fe[O++]=Fe[re++]))}else{re=O-Q;do{fe[O++]=fe[re++],fe[O++]=fe[re++],fe[O++]=fe[re++],R-=3}while(R>2);R&&(fe[O++]=fe[re++],R>1&&(fe[O++]=fe[re++]))}break}}break}}while(d<P&&O<D);E&=(1<<(B-=(R=B>>3)<<3))-1,g.next_in=d-=R,g.next_out=O,g.avail_in=d<P?P-d+5:5-(d-P),g.avail_out=O<D?D-O+257:257-(O-D),y.hold=E,y.bits=B}},function(L,k,f){"use strict";var g=f(4),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];L.exports=function(O,v,D,I,T,S,r,_){var E,B,$,w,p,u,x,b,R,Q=_.bits,re=0,Fe=0,ge=0,fe=0,Ae=0,Pe=0,de=0,pe=0,_e=0,ae=0,ne=null,G=0,W=new g.Buf16(16),j=new g.Buf16(16),C=null,H=0;for(re=0;re<=15;re++)W[re]=0;for(Fe=0;Fe<I;Fe++)W[v[D+Fe]]++;for(Ae=Q,fe=15;fe>=1&&0===W[fe];fe--);if(Ae>fe&&(Ae=fe),0===fe)return T[S++]=20971520,T[S++]=20971520,_.bits=1,0;for(ge=1;ge<fe&&0===W[ge];ge++);for(Ae<ge&&(Ae=ge),pe=1,re=1;re<=15;re++)if(pe<<=1,(pe-=W[re])<0)return-1;if(pe>0&&(0===O||1!==fe))return-1;for(j[1]=0,re=1;re<15;re++)j[re+1]=j[re]+W[re];for(Fe=0;Fe<I;Fe++)0!==v[D+Fe]&&(r[j[v[D+Fe]]++]=Fe);if(0===O?(ne=C=r,u=19):1===O?(ne=h,G-=257,C=y,H-=257,u=256):(ne=d,C=P,u=-1),ae=0,Fe=0,re=ge,p=S,Pe=Ae,de=0,$=-1,w=(_e=1<<Ae)-1,1===O&&_e>852||2===O&&_e>592)return 1;for(;;){x=re-de,r[Fe]<u?(b=0,R=r[Fe]):r[Fe]>u?(b=C[H+r[Fe]],R=ne[G+r[Fe]]):(b=96,R=0),E=1<<re-de,ge=B=1<<Pe;do{T[p+(ae>>de)+(B-=E)]=x<<24|b<<16|R|0}while(0!==B);for(E=1<<re-1;ae&E;)E>>=1;if(0!==E?(ae&=E-1,ae+=E):ae=0,Fe++,0==--W[re]){if(re===fe)break;re=v[D+r[Fe]]}if(re>Ae&&(ae&w)!==$){for(0===de&&(de=Ae),p+=ge,pe=1<<(Pe=re-de);Pe+de<fe&&!((pe-=W[Pe+de])<=0);)Pe++,pe<<=1;if(_e+=1<<Pe,1===O&&_e>852||2===O&&_e>592)return 1;T[$=ae&w]=Ae<<24|Pe<<16|p-S|0}}return 0!==ae&&(T[p+ae]=re-de<<24|64<<16|0),_.bits=Ae,0}},function(L,k,f){"use strict";L.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(L,k,f){"use strict";function g(_,E,B,$){y.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=B,this.encodeFileName=$,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var h=f(0),y=f(1),d=f(6),P=f(22),O=f(45),v=function(_,E){var B,$="";for(B=0;B<E;B++)$+=String.fromCharCode(255&_),_>>>=8;return $},T=function(_,E,B,$,w,p){var u,x,b=_.file,R=_.compression,Q=p!==d.utf8encode,re=h.transformTo("string",p(b.name)),Fe=h.transformTo("string",d.utf8encode(b.name)),ge=b.comment,fe=h.transformTo("string",p(ge)),Ae=h.transformTo("string",d.utf8encode(ge)),Pe=Fe.length!==b.name.length,de=Ae.length!==ge.length,pe="",_e="",ae="",ne=b.dir,G=b.date,W={crc32:0,compressedSize:0,uncompressedSize:0};E&&!B||(W.crc32=_.crc32,W.compressedSize=_.compressedSize,W.uncompressedSize=_.uncompressedSize);var j=0;E&&(j|=8),Q||!Pe&&!de||(j|=2048);var C=0,H=0;ne&&(C|=16),"UNIX"===w?(H=798,C|=function(_,E){var B=_;return _||(B=E?16893:33204),(65535&B)<<16}(b.unixPermissions,ne)):(H=20,C|=function(_,E){return 63&(_||0)}(b.dosPermissions)),u=G.getUTCHours(),u<<=6,u|=G.getUTCMinutes(),u<<=5,u|=G.getUTCSeconds()/2,x=G.getUTCFullYear()-1980,x<<=4,x|=G.getUTCMonth()+1,x<<=5,x|=G.getUTCDate(),Pe&&(_e=v(1,1)+v(P(re),4)+Fe,pe+="up"+v(_e.length,2)+_e),de&&(ae=v(1,1)+v(P(fe),4)+Ae,pe+="uc"+v(ae.length,2)+ae);var n="";return n+="\n\0",n+=v(j,2),n+=R.magic,n+=v(u,2),n+=v(x,2),n+=v(W.crc32,4),n+=v(W.compressedSize,4),n+=v(W.uncompressedSize,4),n+=v(re.length,2),n+=v(pe.length,2),{fileRecord:O.LOCAL_FILE_HEADER+n+re+pe,dirRecord:O.CENTRAL_FILE_HEADER+v(H,2)+n+v(fe.length,2)+"\0\0\0\0"+v(C,4)+v($,4)+re+pe+fe}},r=function(_){return O.DATA_DESCRIPTOR+v(_.crc32,4)+v(_.compressedSize,4)+v(_.uncompressedSize,4)};h.inherits(g,y),g.prototype.push=function(_){var E=_.meta.percent||0,B=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,y.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:B?(E+100*(B-$-1))/B:100}}))},g.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var E=this.streamFiles&&!_.file.dir;if(E){var B=T(_,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:B.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(_){this.accumulate=!1;var E=this.streamFiles&&!_.file.dir,B=T(_,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(B.dirRecord),E)this.push({data:r(_),meta:{percent:100}});else for(this.push({data:B.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var _=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var $=function(_,E,B,$,w){var p=h.transformTo("string",w($));return O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+v(_,2)+v(_,2)+v(E,4)+v(B,4)+v(p.length,2)+p}(this.dirRecords.length,this.bytesWritten-_,_,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(_){this._sources.push(_);var E=this;return _.on("data",function(B){E.processChunk(B)}),_.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),_.on("error",function(B){E.error(B)}),this},g.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(_){var E=this._sources;if(!y.prototype.error.call(this,_))return!1;for(var B=0;B<E.length;B++)try{E[B].error(_)}catch($){}return!0},g.prototype.lock=function(){y.prototype.lock.call(this);for(var _=this._sources,E=0;E<_.length;E++)_[E].lock()},L.exports=g},function(L,k,f){"use strict";function g(d,P){y.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(P)}var h=f(0),y=f(1);h.inherits(g,y),g.prototype._bindStream=function(d){var P=this;this._stream=d,d.pause(),d.on("data",function(O){P.push({data:O,meta:{percent:0}})}).on("error",function(O){P.isPaused?this.generatedError=O:P.error(O)}).on("end",function(){P.isPaused?P._upstreamEnded=!0:P.end()})},g.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},L.exports=g},function(L,k,f){"use strict";function g(D){return new y.Promise(function(I,T){var S=D.decompressed.getContentWorker().pipe(new O);S.on("error",function(r){T(r)}).on("end",function(){S.streamInfo.crc32!==D.decompressed.crc32?T(new Error("Corrupted zip : CRC32 mismatch")):I()}).resume()})}var h=f(0),y=f(9),d=f(6),P=(h=f(0),f(99)),O=f(38),v=f(14);L.exports=function(D,I){var T=this;return I=h.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),v.isNode&&v.isStream(D)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",D,!0,I.optimizedBinaryString,I.base64).then(function(S){var r=new P(I);return r.load(S),r}).then(function(S){var r=[y.Promise.resolve(S)],_=S.files;if(I.checkCRC32)for(var E=0;E<_.length;E++)r.push(g(_[E]));return y.Promise.all(r)}).then(function(S){for(var r=S.shift(),_=r.files,E=0;E<_.length;E++){var B=_[E];T.file(B.fileNameStr,B.decompressed,{binary:!0,optimizedBinaryString:!0,date:B.date,dir:B.dir,comment:B.fileCommentStr.length?B.fileCommentStr:null,unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions,createFolders:I.createFolders})}return r.zipComment.length&&(T.comment=r.zipComment),T})}},function(L,k,f){"use strict";function g(v){this.files=[],this.loadOptions=v}var h=f(46),y=f(0),d=f(45),P=f(102),O=(f(6),f(3));g.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var D=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(D)+", expected "+y.pretty(v)+")")}},isSignature:function(v,D){var I=this.reader.index;this.reader.setIndex(v);var S=this.reader.readString(4)===D;return this.reader.setIndex(I),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),I=y.transformTo(O.uint8array?"uint8array":"array",v);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,D,I,T=this.zip64EndOfCentralSize-44;0<T;)v=this.reader.readInt(2),D=this.reader.readInt(4),I=this.reader.readData(D),this.zip64ExtensibleData[v]={id:v,length:D,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,D;for(v=0;v<this.files.length;v++)this.reader.setIndex((D=this.files[v]).localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),D.readLocalPart(this.reader),D.handleUTF8(),D.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(v=new P({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var D=v;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var T=D-I;if(T>0)this.isSignature(D,d.CENTRAL_FILE_HEADER)||(this.reader.zero=T);else if(T<0)throw new Error("Corrupted zip: missing "+Math.abs(T)+" bytes.")},prepareReader:function(v){this.reader=h(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},L.exports=g},function(L,k,f){"use strict";function g(y){h.call(this,y)}var h=f(48);f(0).inherits(g,h),g.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},g.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},g.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},g.prototype.readData=function(y){this.checkOffset(y);var d=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,d},L.exports=g},function(L,k,f){"use strict";function g(y){h.call(this,y)}var h=f(49);f(0).inherits(g,h),g.prototype.readData=function(y){this.checkOffset(y);var d=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,d},L.exports=g},function(L,k,f){"use strict";function g(T,S){this.options=T,this.loadOptions=S}var h=f(46),y=f(0),d=f(21),P=f(22),O=f(6),v=f(39),D=f(3);g.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(T){var S,r;if(T.skip(22),this.fileNameLength=T.readInt(2),r=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(S=function(T){for(var S in v)if(v.hasOwnProperty(S)&&v[S].magic===T)return v[S];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,S,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var S=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(S),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===T&&(this.dosPermissions=63&this.externalFileAttributes),3===T&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(T){if(this.extraFields[1]){var S=h(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=S.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=S.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=S.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=S.readInt(4))}},readExtraFields:function(T){var S,r,_,E=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index<E;)S=T.readInt(2),r=T.readInt(2),_=T.readData(r),this.extraFields[S]={id:S,length:r,value:_}},handleUTF8:function(){var T=D.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=O.utf8decode(this.fileName),this.fileCommentStr=O.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(null!==S)this.fileNameStr=S;else{var r=y.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var _=this.findExtraFieldUnicodeComment();if(null!==_)this.fileCommentStr=_;else{var E=y.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var S=h(T.value);return 1!==S.readInt(1)||P(this.fileName)!==S.readInt(4)?null:O.utf8decode(S.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var S=h(T.value);return 1!==S.readInt(1)||P(this.fileComment)!==S.readInt(4)?null:O.utf8decode(S.readData(T.length-5))}return null}},L.exports=g},function(L,k,f){var g,h=h||function(y){"use strict";if(!(void 0===y||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var P=function(){return y.URL||y.webkitURL||y},O=y.document.createElementNS("http://www.w3.org/1999/xhtml","a"),v="download"in O,I=/constructor/i.test(y.HTMLElement)||y.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent),S=function(p){(y.setImmediate||y.setTimeout)(function(){throw p},0)},r=function(p){setTimeout(function(){"string"==typeof p?P().revokeObjectURL(p):p.remove()},4e4)},E=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob([String.fromCharCode(65279),p],{type:p.type}):p},B=function(p,u,x){x||(p=E(p));var b,R=this,re="application/octet-stream"===p.type,Fe=function(){!function(p,u,x){for(var b=(u=[].concat(u)).length;b--;){var R=p["on"+u[b]];if("function"==typeof R)try{R.call(p,x||p)}catch(Q){S(Q)}}}(R,"writestart progress write writeend".split(" "))};if(R.readyState=R.INIT,v)return b=P().createObjectURL(p),void setTimeout(function(){O.href=b,O.download=u,function(p){var u=new MouseEvent("click");p.dispatchEvent(u)}(O),Fe(),r(b),R.readyState=R.DONE});!function(){if((T||re&&I)&&y.FileReader){var ge=new FileReader;return ge.onloadend=function(){var fe=T?ge.result:ge.result.replace(/^data:[^;]*;/,"data:attachment/file;");y.open(fe,"_blank")||(y.location.href=fe),fe=void 0,R.readyState=R.DONE,Fe()},ge.readAsDataURL(p),void(R.readyState=R.INIT)}b||(b=P().createObjectURL(p)),re?y.location.href=b:y.open(b,"_blank")||(y.location.href=b),R.readyState=R.DONE,Fe(),r(b)}()},$=B.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(p,u,x){return u=u||p.name||"download",x||(p=E(p)),navigator.msSaveOrOpenBlob(p,u)}:($.abort=function(){},$.readyState=$.INIT=0,$.WRITING=1,$.DONE=2,$.error=$.onwritestart=$.onprogress=$.onwrite=$.onabort=$.onerror=$.onwriteend=null,function(p,u,x){return new B(p,u||p.name||"download",x)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==L&&L.exports?L.exports.saveAs=h:null!==f(104)&&null!==f(105)&&void 0!==(g=function(){return h}.call(k,f,k,L))&&(L.exports=g)},function(L,k){L.exports=function(){throw new Error("define cannot be used indirect")}},function(L,k){(function(f){L.exports=f}).call(k,{})}]))}).call(o,ee(1).setImmediate,ee(1).clearImmediate)},function(le,o,ee){(function(se,J){!function(U,L){"use strict";function f(I){delete P[I]}function h(I){if(O)setTimeout(h,0,I);else{var T=P[I];if(T){O=!0;try{!function(I){var T=I.callback,S=I.args;switch(S.length){case 0:T();break;case 1:T(S[0]);break;case 2:T(S[0],S[1]);break;case 3:T(S[0],S[1],S[2]);break;default:T.apply(void 0,S)}}(T)}finally{f(I),O=!1}}}}if(!U.setImmediate){var y,d=1,P={},O=!1,v=U.document,D=Object.getPrototypeOf&&Object.getPrototypeOf(U);D=D&&D.setTimeout?D:U,"[object process]"==={}.toString.call(U.process)?y=function(I){J.nextTick(function(){h(I)})}:function(){if(U.postMessage&&!U.importScripts){var I=!0,T=U.onmessage;return U.onmessage=function(){I=!1},U.postMessage("","*"),U.onmessage=T,I}}()?(I="setImmediate$"+Math.random()+"$",T=function(S){S.source===U&&"string"==typeof S.data&&0===S.data.indexOf(I)&&h(+S.data.slice(I.length))},U.addEventListener?U.addEventListener("message",T,!1):U.attachEvent("onmessage",T),y=function(S){U.postMessage(I+S,"*")}):U.MessageChannel?function(){var I=new MessageChannel;I.port1.onmessage=function(T){h(T.data)},y=function(T){I.port2.postMessage(T)}}():v&&"onreadystatechange"in v.createElement("script")?function(){var I=v.documentElement;y=function(T){var S=v.createElement("script");S.onreadystatechange=function(){h(T),S.onreadystatechange=null,I.removeChild(S),S=null},I.appendChild(S)}}():y=function(I){setTimeout(h,0,I)},D.setImmediate=function(I){"function"!=typeof I&&(I=new Function(""+I));for(var T=new Array(arguments.length-1),S=0;S<T.length;S++)T[S]=arguments[S+1];return P[d]={callback:I,args:T},y(d),d++},D.clearImmediate=f}var I,T}("undefined"==typeof self?void 0===se?this:se:self)}).call(o,ee(2),ee(11))},function(le,o){function ee(){throw new Error("setTimeout has not been defined")}function se(){throw new Error("clearTimeout has not been defined")}function J(I){if(h===setTimeout)return setTimeout(I,0);if((h===ee||!h)&&setTimeout)return h=setTimeout,setTimeout(I,0);try{return h(I,0)}catch(T){try{return h.call(null,I,0)}catch(S){return h.call(this,I,0)}}}function L(){v&&P&&(v=!1,P.length?O=P.concat(O):D=-1,O.length&&k())}function k(){if(!v){var I=J(L);v=!0;for(var T=O.length;T;){for(P=O,O=[];++D<T;)P&&P[D].run();D=-1,T=O.length}P=null,v=!1,function(I){if(y===clearTimeout)return clearTimeout(I);if((y===se||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(I);try{y(I)}catch(T){try{return y.call(null,I)}catch(S){return y.call(this,I)}}}(I)}}function f(I,T){this.fun=I,this.array=T}function g(){}var h,y,d=le.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:ee}catch(I){h=ee}try{y="function"==typeof clearTimeout?clearTimeout:se}catch(I){y=se}}();var P,O=[],v=!1,D=-1;d.nextTick=function(I){var T=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)T[S-1]=arguments[S];O.push(new f(I,T)),1!==O.length||v||J(k)},f.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=g,d.addListener=g,d.once=g,d.off=g,d.removeListener=g,d.removeAllListeners=g,d.emit=g,d.prependListener=g,d.prependOnceListener=g,d.listeners=function(I){return[]},d.binding=function(I){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(I){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(le,o,ee){var se;le.exports=(se=ee(0),function(J){function U(k){if(L[k])return L[k].exports;var f=L[k]={i:k,l:!1,exports:{}};return J[k].call(f.exports,f,f.exports,U),f.l=!0,f.exports}var L={};return U.m=J,U.c=L,U.d=function(k,f,g){U.o(k,f)||Object.defineProperty(k,f,{configurable:!1,enumerable:!0,get:g})},U.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return U.d(f,"a",f),f},U.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},U.p="",U(U.s=0)}([function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var g,f=(g=L(1))&&g.__esModule?g:{default:g};U.default=f.default.plugins.add("gjs-aviary",function(g){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=g.getModel(),P=void 0,O={key:"1",onApply:null,getFilename:null,closeOnApply:!0,config:{}};for(var v in O)v in y||(y[v]=O[v]);var D=y.config;D.apiKey=y.key,D.onSave=function(E,B){P.set("src",B);var w=("function"==typeof y.getFilename?y.getFilename:S)(P);("function"==typeof y.onApply?y.onApply:r)(B,w,P),y.closeOnApply&&I.close()};var I=new Aviary.Feather(D),T=g.Commands,S=function(E){var B=E.get("src").split("/").pop();return Date.now()+"_"+B.slice(-15)},r=function(E,B){g.AssetManager.add({src:E,name:B})},_=document.createElement("img");T.add("image-editor",{run:function(E,B,$){var p=($||{}).model||E.getSelected();P=p,_.src=p.get("src"),I.launch({image:_}),d.trigger("gjs-aviary:launch",p,I)}})})},function(J,U){J.exports=se}]))},function(le,o,ee){var se;le.exports=(se=ee(0),function(J){function U(k){if(L[k])return L[k].exports;var f=L[k]={i:k,l:!1,exports:{}};return J[k].call(f.exports,f,f.exports,U),f.l=!0,f.exports}var L={};return U.m=J,U.c=L,U.d=function(k,f,g){U.o(k,f)||Object.defineProperty(k,f,{configurable:!1,enumerable:!0,get:g})},U.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return U.d(f,"a",f),f},U.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},U.p="",U(U.s=0)}([function(J,U,L){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var g,f=(g=L(1))&&g.__esModule?g:{default:g};U.default=f.default.plugins.add("gjs-plugin-filestack",function(g){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=g.getConfig().stylePrefix||"",O=void 0,v={key:"",btnEl:"",btnText:"Add images",filestackOpts:{accept:"image/*",maxFiles:10},onComplete:function(S,r){}};for(var D in v)D in y||(y[D]=v[D]);if(!filestack)throw new Error("Filestack instance not found");if(!y.key)throw new Error("Filestack's API key not found");var I=filestack.init(y.key);g.on("run:open-assets",function(){var r=g.Modal.getContentEl(),_=r.querySelector("."+P+"am-file-uploader"),E=r.querySelector("."+P+"am-assets-header"),B=r.querySelector("."+P+"am-assets-cont");_&&(_.style.display="none"),E&&(E.style.display="none"),B.style.width="100%",O||((O=y.btnEl)||((O=document.createElement("button")).className=P+"btn-prim "+P+"btn-filestack",O.innerHTML=y.btnText),O.onclick=function(){I.pick(y.filestackOpts).then(function($){var w=$.filesUploaded,p=w instanceof Array?w:[w],u=T(p);y.onComplete(p,u)})}),B.insertBefore(O,E)});var T=function(S){var r=S.map(function(_){return _.src=_.url,_});return g.AssetManager.add(r)}})},function(J,U){J.exports=se}]))},function(le,o,ee){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var L,J=(L=ee(15))&&L.__esModule?L:{default:L},U=ee(3);o.default=function(L,k){var f=L.Commands,g=k.textCleanCanvas;f.add(U.cmdImport,(0,J.default)(L,k)),f.add(U.cmdDeviceDesktop,function(h){return h.setDevice("Desktop")}),f.add(U.cmdDeviceTablet,function(h){return h.setDevice("Tablet")}),f.add(U.cmdDeviceMobile,function(h){return h.setDevice("Mobile portrait")}),f.add(U.cmdClear,function(h){return confirm(g)&&h.runCommand("core:canvas-clear")})}},function(le,o,ee){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var se=Object.assign||function(J){for(var U=1;U<arguments.length;U++){var L=arguments[U];for(var k in L)Object.prototype.hasOwnProperty.call(L,k)&&(J[k]=L[k])}return J};o.default=function(J,U){var L=J.getConfig("stylePrefix"),k=J.Modal,f=J.CodeManager.getViewer("CodeMirror").clone(),g=document.createElement("div"),h=U.modalImportLabel,y=U.modalImportContent,d=f.editor,P=document.createElement("button");return P.type="button",P.innerHTML=U.modalImportButton,P.className=L+"btn-prim "+L+"btn-import",P.onclick=function(O){J.setComponents(d.getValue().trim()),k.close()},f.set(se({codeName:"htmlmixed",theme:"hopscotch",readOnly:0},U.importViewerOptions)),{run:function(O){var v=this;if(!d){var D=document.createElement("textarea");if(h){var I=document.createElement("div");I.className=L+"import-label",I.innerHTML=h,g.appendChild(I)}g.appendChild(D),g.appendChild(P),f.init(D),d=f.editor}k.setTitle(U.modalImportTitle),k.setContent(g);var T="function"==typeof y?y(O):y;f.setContent(T||""),k.open().getModel().once("change:open",function(){return O.stopCommand(v.id)}),d.refresh()},stop:function(){k.close()}}}},function(le,o,ee){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(se,J){var U=se.BlockManager,L=function(k){return J.blocks.indexOf(k)>=0};L("link-block")&&U.add("link-block",{category:"Basic",label:"Link Block",attributes:{class:"fa fa-link"},content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),L("quote")&&U.add("quote",{label:"Quote",category:"Basic",attributes:{class:"fa fa-quote-right"},content:'<blockquote class="quote">\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit\n      </blockquote>'}),L("text-basic")&&U.add("text-basic",{category:"Basic",label:"Text section",attributes:{class:"gjs-fonts gjs-f-h1p"},content:'<section class="bdg-sect">\n      <h1 class="heading">Insert title here</h1>\n      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>\n      </section>'})}},function(le,o,ee){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(se){se.DomComponents.getType("default")}},function(le,o,ee){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var se=ee(3);o.default=function(J,U){var L=J.Panels,k=J.getConfig(),f="sw-visibility",g="export-template",h="open-sm",y="open-layers",d="open-blocks",P="fullscreen",O="preview";k.showDevices=0,L.getPanels().reset([{id:"commands",buttons:[{}]},{id:"options",buttons:[{id:f,command:f,context:f,className:"fa fa-square-o"},{id:O,context:O,command:function(D){return D.runCommand(O)},className:"fa fa-eye"},{id:P,command:P,context:P,className:"fa fa-arrows-alt"},{id:g,className:"fa fa-code",command:function(D){return D.runCommand(g)}},{id:"undo",className:"fa fa-undo",command:function(D){return D.runCommand("core:undo")}},{id:"redo",className:"fa fa-repeat",command:function(D){return D.runCommand("core:redo")}},{id:se.cmdImport,className:"fa fa-download",command:function(D){return D.runCommand(se.cmdImport)}},{id:se.cmdClear,className:"fa fa-trash",command:function(D){return D.runCommand(se.cmdClear)}}]},{id:"views",buttons:[{id:h,command:h,active:!0,className:"fa fa-paint-brush"},{id:"open-tm",command:"open-tm",className:"fa fa-cog"},{id:y,command:y,className:"fa fa-bars"},{id:d,command:d,className:"fa fa-th-large"}]}]),L.addPanel({id:"devices-c"}).get("buttons").add([{id:se.cmdDeviceDesktop,command:se.cmdDeviceDesktop,className:"fa fa-desktop",active:1},{id:se.cmdDeviceTablet,command:se.cmdDeviceTablet,className:"fa fa-tablet"},{id:se.cmdDeviceMobile,command:se.cmdDeviceMobile,className:"fa fa-mobile"}]);var v=L.getButton("views",d);J.on("load",function(){return v&&v.set("active",1)}),U.showStylesOnChange&&J.on("component:selected",function(){var D=L.getButton("views",h),I=L.getButton("views",y);I&&I.get("active")||!J.getSelected()||D&&D.set("active",1)})}},function(le,o,ee){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(se,J){var L=J.customStyleManager;se.StyleManager.getSectors().reset(L&&L.length?L:[{name:J.textGeneral,open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:J.textLayout,open:!1,buildProps:["width","height","max-width","min-height","margin","padding"]},{name:J.textTypography,open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"],properties:[{property:"text-align",list:[{value:"left",className:"fa fa-align-left"},{value:"center",className:"fa fa-align-center"},{value:"right",className:"fa fa-align-right"},{value:"justify",className:"fa fa-align-justify"}]}]},{name:J.textDecorations,open:!1,buildProps:["border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:J.textExtra,open:!1,buildProps:["transition","perspective","transform"]}])}}])});